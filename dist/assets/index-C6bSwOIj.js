function VR(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in r)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(r,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function Lw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ap={exports:{}},Cc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function jR(){if(gE)return Cc;gE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:r,type:i,key:u,ref:o!==void 0?o:null,props:c}}return Cc.Fragment=e,Cc.jsx=t,Cc.jsxs=t,Cc}var yE;function LR(){return yE||(yE=1,Ap.exports=jR()),Ap.exports}var v=LR(),xp={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function UR(){if(vE)return Ve;vE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,x={};function I(V,ne,ue){this.props=V,this.context=ne,this.refs=x,this.updater=ue||C}I.prototype.isReactComponent={},I.prototype.setState=function(V,ne){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ne,"setState")},I.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function z(){}z.prototype=I.prototype;function H(V,ne,ue){this.props=V,this.context=ne,this.refs=x,this.updater=ue||C}var F=H.prototype=new z;F.constructor=H,O(F,I.prototype),F.isPureReactComponent=!0;var Z=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function D(V,ne,ue,oe,pe,Re){return ue=Re.ref,{$$typeof:r,type:V,key:ne,ref:ue!==void 0?ue:null,props:Re}}function A(V,ne){return D(V.type,ne,void 0,void 0,void 0,V.props)}function P(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function j(V){var ne={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return ne[ue]})}var L=/\/+/g;function U(V,ne){return typeof V=="object"&&V!==null&&V.key!=null?j(""+V.key):ne.toString(36)}function M(){}function fe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(M,M):(V.status="pending",V.then(function(ne){V.status==="pending"&&(V.status="fulfilled",V.value=ne)},function(ne){V.status==="pending"&&(V.status="rejected",V.reason=ne)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function de(V,ne,ue,oe,pe){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var we=!1;if(V===null)we=!0;else switch(Re){case"bigint":case"string":case"number":we=!0;break;case"object":switch(V.$$typeof){case r:case e:we=!0;break;case _:return we=V._init,de(we(V._payload),ne,ue,oe,pe)}}if(we)return pe=pe(V),we=oe===""?"."+U(V,0):oe,Z(pe)?(ue="",we!=null&&(ue=we.replace(L,"$&/")+"/"),de(pe,ne,ue,"",function(Xe){return Xe})):pe!=null&&(P(pe)&&(pe=A(pe,ue+(pe.key==null||V&&V.key===pe.key?"":(""+pe.key).replace(L,"$&/")+"/")+we)),ne.push(pe)),1;we=0;var me=oe===""?".":oe+":";if(Z(V))for(var Se=0;Se<V.length;Se++)oe=V[Se],Re=me+U(oe,Se),we+=de(oe,ne,ue,Re,pe);else if(Se=T(V),typeof Se=="function")for(V=Se.call(V),Se=0;!(oe=V.next()).done;)oe=oe.value,Re=me+U(oe,Se++),we+=de(oe,ne,ue,Re,pe);else if(Re==="object"){if(typeof V.then=="function")return de(fe(V),ne,ue,oe,pe);throw ne=String(V),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function q(V,ne,ue){if(V==null)return V;var oe=[],pe=0;return de(V,oe,"","",function(Re){return ne.call(ue,Re,pe++)}),oe}function re(V){if(V._status===-1){var ne=V._result;ne=ne(),ne.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=ne)}if(V._status===1)return V._result.default;throw V._result}var W=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function be(){}return Ve.Children={map:q,forEach:function(V,ne,ue){q(V,function(){ne.apply(this,arguments)},ue)},count:function(V){var ne=0;return q(V,function(){ne++}),ne},toArray:function(V){return q(V,function(ne){return ne})||[]},only:function(V){if(!P(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ve.Component=I,Ve.Fragment=t,Ve.Profiler=o,Ve.PureComponent=H,Ve.StrictMode=i,Ve.Suspense=p,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ee.H.useMemoCache(V)}},Ve.cache=function(V){return function(){return V.apply(null,arguments)}},Ve.cloneElement=function(V,ne,ue){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=O({},V.props),pe=V.key,Re=void 0;if(ne!=null)for(we in ne.ref!==void 0&&(Re=void 0),ne.key!==void 0&&(pe=""+ne.key),ne)!ce.call(ne,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ne.ref===void 0||(oe[we]=ne[we]);var we=arguments.length-2;if(we===1)oe.children=ue;else if(1<we){for(var me=Array(we),Se=0;Se<we;Se++)me[Se]=arguments[Se+2];oe.children=me}return D(V.type,pe,void 0,void 0,Re,oe)},Ve.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Ve.createElement=function(V,ne,ue){var oe,pe={},Re=null;if(ne!=null)for(oe in ne.key!==void 0&&(Re=""+ne.key),ne)ce.call(ne,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(pe[oe]=ne[oe]);var we=arguments.length-2;if(we===1)pe.children=ue;else if(1<we){for(var me=Array(we),Se=0;Se<we;Se++)me[Se]=arguments[Se+2];pe.children=me}if(V&&V.defaultProps)for(oe in we=V.defaultProps,we)pe[oe]===void 0&&(pe[oe]=we[oe]);return D(V,Re,void 0,void 0,null,pe)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(V){return{$$typeof:h,render:V}},Ve.isValidElement=P,Ve.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:re}},Ve.memo=function(V,ne){return{$$typeof:g,type:V,compare:ne===void 0?null:ne}},Ve.startTransition=function(V){var ne=ee.T,ue={};ee.T=ue;try{var oe=V(),pe=ee.S;pe!==null&&pe(ue,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(be,W)}catch(Re){W(Re)}finally{ee.T=ne}},Ve.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Ve.use=function(V){return ee.H.use(V)},Ve.useActionState=function(V,ne,ue){return ee.H.useActionState(V,ne,ue)},Ve.useCallback=function(V,ne){return ee.H.useCallback(V,ne)},Ve.useContext=function(V){return ee.H.useContext(V)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(V,ne){return ee.H.useDeferredValue(V,ne)},Ve.useEffect=function(V,ne,ue){var oe=ee.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(V,ne)},Ve.useId=function(){return ee.H.useId()},Ve.useImperativeHandle=function(V,ne,ue){return ee.H.useImperativeHandle(V,ne,ue)},Ve.useInsertionEffect=function(V,ne){return ee.H.useInsertionEffect(V,ne)},Ve.useLayoutEffect=function(V,ne){return ee.H.useLayoutEffect(V,ne)},Ve.useMemo=function(V,ne){return ee.H.useMemo(V,ne)},Ve.useOptimistic=function(V,ne){return ee.H.useOptimistic(V,ne)},Ve.useReducer=function(V,ne,ue){return ee.H.useReducer(V,ne,ue)},Ve.useRef=function(V){return ee.H.useRef(V)},Ve.useState=function(V){return ee.H.useState(V)},Ve.useSyncExternalStore=function(V,ne,ue){return ee.H.useSyncExternalStore(V,ne,ue)},Ve.useTransition=function(){return ee.H.useTransition()},Ve.version="19.1.0",Ve}var _E;function Gg(){return _E||(_E=1,xp.exports=UR()),xp.exports}var N=Gg();const gs=Lw(N),Uw=VR({__proto__:null,default:gs},[N]);var Rp={exports:{}},Ic={},Cp={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function zR(){return EE||(EE=1,function(r){function e(q,re){var W=q.length;q.push(re);e:for(;0<W;){var be=W-1>>>1,V=q[be];if(0<o(V,re))q[be]=re,q[W]=V,W=be;else break e}}function t(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var re=q[0],W=q.pop();if(W!==re){q[0]=W;e:for(var be=0,V=q.length,ne=V>>>1;be<ne;){var ue=2*(be+1)-1,oe=q[ue],pe=ue+1,Re=q[pe];if(0>o(oe,W))pe<V&&0>o(Re,oe)?(q[be]=Re,q[pe]=W,be=pe):(q[be]=oe,q[ue]=W,be=ue);else if(pe<V&&0>o(Re,W))q[be]=Re,q[pe]=W,be=pe;else break e}}return re}function o(q,re){var W=q.sortIndex-re.sortIndex;return W!==0?W:q.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();r.unstable_now=function(){return u.now()-h}}var p=[],g=[],_=1,w=null,T=3,C=!1,O=!1,x=!1,I=!1,z=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Z(q){for(var re=t(g);re!==null;){if(re.callback===null)i(g);else if(re.startTime<=q)i(g),re.sortIndex=re.expirationTime,e(p,re);else break;re=t(g)}}function ee(q){if(x=!1,Z(q),!O)if(t(p)!==null)O=!0,ce||(ce=!0,U());else{var re=t(g);re!==null&&de(ee,re.startTime-q)}}var ce=!1,D=-1,A=5,P=-1;function j(){return I?!0:!(r.unstable_now()-P<A)}function L(){if(I=!1,ce){var q=r.unstable_now();P=q;var re=!0;try{e:{O=!1,x&&(x=!1,H(D),D=-1),C=!0;var W=T;try{t:{for(Z(q),w=t(p);w!==null&&!(w.expirationTime>q&&j());){var be=w.callback;if(typeof be=="function"){w.callback=null,T=w.priorityLevel;var V=be(w.expirationTime<=q);if(q=r.unstable_now(),typeof V=="function"){w.callback=V,Z(q),re=!0;break t}w===t(p)&&i(p),Z(q)}else i(p);w=t(p)}if(w!==null)re=!0;else{var ne=t(g);ne!==null&&de(ee,ne.startTime-q),re=!1}}break e}finally{w=null,T=W,C=!1}re=void 0}}finally{re?U():ce=!1}}}var U;if(typeof F=="function")U=function(){F(L)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,fe=M.port2;M.port1.onmessage=L,U=function(){fe.postMessage(null)}}else U=function(){z(L,0)};function de(q,re){D=z(function(){q(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(q){switch(T){case 1:case 2:case 3:var re=3;break;default:re=T}var W=T;T=re;try{return q()}finally{T=W}},r.unstable_requestPaint=function(){I=!0},r.unstable_runWithPriority=function(q,re){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var W=T;T=q;try{return re()}finally{T=W}},r.unstable_scheduleCallback=function(q,re,W){var be=r.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?be+W:be):W=be,q){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=W+V,q={id:_++,callback:re,priorityLevel:q,startTime:W,expirationTime:V,sortIndex:-1},W>be?(q.sortIndex=W,e(g,q),t(p)===null&&q===t(g)&&(x?(H(D),D=-1):x=!0,de(ee,W-be))):(q.sortIndex=V,e(p,q),O||C||(O=!0,ce||(ce=!0,U()))),q},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(q){var re=T;return function(){var W=T;T=re;try{return q.apply(this,arguments)}finally{T=W}}}}(Ip)),Ip}var bE;function BR(){return bE||(bE=1,Cp.exports=zR()),Cp.exports}var Np={exports:{}},yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function qR(){if(wE)return yn;wE=1;var r=Gg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,g,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:_}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,yn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(p,g,null,_)},yn.flushSync=function(p){var g=u.T,_=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=g,i.p=_,i.d.f()}},yn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},yn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},yn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,w=h(_,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:C}):_==="script"&&i.d.X(p,{crossOrigin:w,integrity:T,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=h(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},yn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,w=h(_,g.crossOrigin);i.d.L(p,_,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=h(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},yn.requestFormReset=function(p){i.d.r(p)},yn.unstable_batchedUpdates=function(p,g){return p(g)},yn.useFormState=function(p,g,_){return u.H.useFormState(p,g,_)},yn.useFormStatus=function(){return u.H.useHostTransitionStatus()},yn.version="19.1.0",yn}var TE;function zw(){if(TE)return Np.exports;TE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Np.exports=qR(),Np.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function FR(){if(SE)return Ic;SE=1;var r=BR(),e=Gg(),t=zw();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(c(n)!==n)throw Error(i(188))}function p(n){var s=n.alternate;if(!s){if(s=c(n),s===null)throw Error(i(188));return s!==n?null:n}for(var a=n,l=s;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return h(d),n;if(m===l)return h(d),s;m=m.sibling}throw Error(i(188))}if(a.return!==l.return)a=d,l=m;else{for(var b=!1,S=d.child;S;){if(S===a){b=!0,a=d,l=m;break}if(S===l){b=!0,l=d,a=m;break}S=S.sibling}if(!b){for(S=m.child;S;){if(S===a){b=!0,a=m,l=d;break}if(S===l){b=!0,l=m,a=d;break}S=S.sibling}if(!b)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?n:s}function g(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=g(n),s!==null)return s;n=n.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function fe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case O:return"Fragment";case I:return"Profiler";case x:return"StrictMode";case ee:return"Suspense";case ce:return"SuspenseList";case P:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case F:return(n.displayName||"Context")+".Provider";case H:return(n._context.displayName||"Context")+".Consumer";case Z:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return s=n.displayName||null,s!==null?s:fe(n.type)||"Memo";case A:s=n._payload,n=n._init;try{return fe(n(s))}catch{}}return null}var de=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},be=[],V=-1;function ne(n){return{current:n}}function ue(n){0>V||(n.current=be[V],be[V]=null,V--)}function oe(n,s){V++,be[V]=n.current,n.current=s}var pe=ne(null),Re=ne(null),we=ne(null),me=ne(null);function Se(n,s){switch(oe(we,s),oe(Re,n),oe(pe,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?H0(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=H0(s),n=G0(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(pe),oe(pe,n)}function Xe(){ue(pe),ue(Re),ue(we)}function je(n){n.memoizedState!==null&&oe(me,n);var s=pe.current,a=G0(s,n.type);s!==a&&(oe(Re,n),oe(pe,a))}function Me(n){Re.current===n&&(ue(pe),ue(Re)),me.current===n&&(ue(me),Tc._currentValue=W)}var ke=Object.prototype.hasOwnProperty,St=r.unstable_scheduleCallback,Yt=r.unstable_cancelCallback,lr=r.unstable_shouldYield,Sr=r.unstable_requestPaint,$t=r.unstable_now,bl=r.unstable_getCurrentPriorityLevel,Ar=r.unstable_ImmediatePriority,Fa=r.unstable_UserBlockingPriority,Gs=r.unstable_NormalPriority,xh=r.unstable_LowPriority,Ha=r.unstable_IdlePriority,wl=r.log,Tu=r.unstable_setDisableYieldValue,Et=null,rt=null;function On(n){if(typeof wl=="function"&&Tu(n),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(Et,n)}catch{}}var pn=Math.clz32?Math.clz32:Ks,Su=Math.log,Rh=Math.LN2;function Ks(n){return n>>>=0,n===0?32:31-(Su(n)/Rh|0)|0}var Qs=256,Ys=4194304;function cr(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ga(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var d=0,m=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?d=cr(l):(b&=S,b!==0?d=cr(b):a||(a=S&~n,a!==0&&(d=cr(a))))):(S=l&~m,S!==0?d=cr(S):b!==0?d=cr(b):a||(a=l&~n,a!==0&&(d=cr(a)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:d}function $s(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Tl(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sl(){var n=Qs;return Qs<<=1,(Qs&4194048)===0&&(Qs=256),n}function Al(){var n=Ys;return Ys<<=1,(Ys&62914560)===0&&(Ys=4194304),n}function Jr(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function ei(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function xl(n,s,a,l,d,m){var b=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,k=n.expirationTimes,Y=n.hiddenUpdates;for(a=b&~a;0<a;){var te=31-pn(a),ae=1<<te;S[te]=0,k[te]=-1;var $=Y[te];if($!==null)for(Y[te]=null,te=0;te<$.length;te++){var X=$[te];X!==null&&(X.lane&=-536870913)}a&=~ae}l!==0&&xr(n,l,0),m!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=m&~(b&~s))}function xr(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-pn(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Rl(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-pn(a),d=1<<l;d&s|n[l]&s&&(n[l]|=s),a&=~d}}function zi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ka(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Bi(){var n=re.p;return n!==0?n:(n=window.event,n===void 0?32:uE(n.type))}function Au(n,s){var a=re.p;try{return re.p=n,s()}finally{re.p=a}}var gt=Math.random().toString(36).slice(2),zt="__reactFiber$"+gt,Dt="__reactProps$"+gt,Gn="__reactContainer$"+gt,Cl="__reactEvents$"+gt,Ch="__reactListeners$"+gt,qi="__reactHandles$"+gt,xu="__reactResources$"+gt,Xs="__reactMarker$"+gt;function Fi(n){delete n[zt],delete n[Dt],delete n[Cl],delete n[Ch],delete n[qi]}function ti(n){var s=n[zt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Gn]||a[zt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=$0(n);n!==null;){if(a=n[zt])return a;n=$0(n)}return s}n=a,a=n.parentNode}return null}function Rr(n){if(n=n[zt]||n[Gn]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function Cr(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Tn(n){var s=n[xu];return s||(s=n[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function At(n){n[Xs]=!0}var Il=new Set,Qa={};function ur(n,s){ni(n,s),ni(n+"Capture",s)}function ni(n,s){for(Qa[n]=s,n=0;n<s.length;n++)Il.add(s[n])}var Ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cu={},Ws={};function Iu(n){return ke.call(Ws,n)?!0:ke.call(Cu,n)?!1:Ru.test(n)?Ws[n]=!0:(Cu[n]=!0,!1)}function Hi(n,s,a){if(Iu(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Ir(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function an(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}var Zs,Nu;function ri(n){if(Zs===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Zs=s&&s[1]||"",Nu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zs+n+Nu}var Ya=!1;function $a(n,s){if(!n||Ya)return"";Ya=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var $=X}Reflect.construct(n,[],ae)}else{try{ae.call()}catch(X){$=X}n.call(ae.prototype)}}else{try{throw Error()}catch(X){$=X}(ae=n())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],S=m[1];if(b&&S){var k=b.split(`
`),Y=S.split(`
`);for(d=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;if(l===k.length||d===Y.length)for(l=k.length-1,d=Y.length-1;1<=l&&0<=d&&k[l]!==Y[d];)d--;for(;1<=l&&0<=d;l--,d--)if(k[l]!==Y[d]){if(l!==1||d!==1)do if(l--,d--,0>d||k[l]!==Y[d]){var te=`
`+k[l].replace(" at new "," at ");return n.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",n.displayName)),te}while(1<=l&&0<=d);break}}}finally{Ya=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?ri(a):""}function Nl(n){switch(n.tag){case 26:case 27:case 5:return ri(n.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return $a(n.type,!1);case 11:return $a(n.type.render,!1);case 1:return $a(n.type,!0);case 31:return ri("Activity");default:return""}}function Xa(n){try{var s="";do s+=Nl(n),n=n.return;while(n);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Dl(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ih(n){var s=Dl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),l=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Wa(n){n._valueTracker||(n._valueTracker=Ih(n))}function Ol(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Dl(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Js(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Nh=/[\n"\\]/g;function Ot(n){return n.replace(Nh,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Pn(n,s,a,l,d,m,b,S){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),s!=null?b==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Sn(s)):n.value!==""+Sn(s)&&(n.value=""+Sn(s)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),s!=null?Gi(n,b,Sn(s)):a!=null?Gi(n,b,Sn(a)):l!=null&&n.removeAttribute("value"),d==null&&m!=null&&(n.defaultChecked=!!m),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Sn(S):n.removeAttribute("name")}function ea(n,s,a,l,d,m,b,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+Sn(a):"",s=s!=null?""+Sn(s):a,S||s===n.value||(n.value=s),n.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b)}function Gi(n,s,a){s==="number"&&Js(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ii(n,s,a,l){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Sn(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,l&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function at(n,s,a){if(s!=null&&(s=""+Sn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+Sn(a):""}function ta(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(de(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Sn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Kn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Du(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||na.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function Pl(n,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&a[d]!==l&&Du(n,d,l)}else for(var m in s)s.hasOwnProperty(m)&&Du(n,m,s[m])}function Ml(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Za(n){return Oh.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var si=null;function Qn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ai=null,oi=null;function kl(n){var s=Rr(n);if(s&&(n=s.stateNode)){var a=n[Dt]||null;e:switch(n=s.stateNode,s.type){case"input":if(Pn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ot(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var d=l[Dt]||null;if(!d)throw Error(i(90));Pn(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&Ol(l)}break e;case"textarea":at(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&ii(n,!!a.multiple,s,!1)}}}var Nr=!1;function Ou(n,s,a){if(Nr)return n(s,a);Nr=!0;try{var l=n(s);return l}finally{if(Nr=!1,(ai!==null||oi!==null)&&(xf(),ai&&(s=ai,n=oi,oi=ai=null,kl(s),n)))for(s=0;s<n.length;s++)kl(n[s])}}function ra(n,s){var a=n.stateNode;if(a===null)return null;var l=a[Dt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yn=!1;if(fr)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){Yn=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{Yn=!1}var Dr=null,Ki=null,li=null;function Vl(){if(li)return li;var n,s=Ki,a=s.length,l,d="value"in Dr?Dr.value:Dr.textContent,m=d.length;for(n=0;n<a&&s[n]===d[n];n++);var b=a-n;for(l=1;l<=b&&s[a-l]===d[m-l];l++);return li=d.slice(n,1<l?1-l:void 0)}function Or(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Pr(){return!0}function jl(){return!1}function Xt(n){function s(a,l,d,m,b){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Pr:jl,this.isPropagationStopped=jl,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),s}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ja=Xt(Je),sa=_({},Je,{view:0,detail:0}),Pu=Xt(sa),eo,to,Mr,aa=_({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Mr&&(Mr&&n.type==="mousemove"?(eo=n.screenX-Mr.screenX,to=n.screenY-Mr.screenY):to=eo=0,Mr=n),eo)},movementY:function(n){return"movementY"in n?n.movementY:to}}),$n=Xt(aa),Mu=_({},aa,{dataTransfer:0}),Ph=Xt(Mu),oa=_({},sa,{relatedTarget:0}),no=Xt(oa),Ll=_({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),ro=Xt(Ll),ku=_({},Je,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),io=Xt(ku),Mh=_({},Je,{data:0}),Ul=Xt(Mh),la={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zl(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=ju[n])?!!s[n]:!1}function ca(){return zl}var Lu=_({},sa,{key:function(n){if(n.key){var s=la[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Or(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Vu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(n){return n.type==="keypress"?Or(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Or(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),so=Xt(Lu),Uu=_({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bl=Xt(Uu),ci=_({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),zu=Xt(ci),Bu=_({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),qu=Xt(Bu),Fu=_({},aa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ao=Xt(Fu),An=_({},Je,{newState:0,oldState:0}),Hu=Xt(An),Gu=[9,13,27,32],kr=fr&&"CompositionEvent"in window,f=null;fr&&"documentMode"in document&&(f=document.documentMode);var y=fr&&"TextEvent"in window&&!f,E=fr&&(!kr||f&&8<f&&11>=f),R=" ",K=!1;function J(n,s){switch(n){case"keyup":return Gu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ke=!1;function Bt(n,s){switch(n){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(K=!0,R);case"textInput":return n=s.data,n===R&&K?null:n;default:return null}}function Qe(n,s){if(Ke)return n==="compositionend"||!kr&&J(n,s)?(n=Vl(),li=Ki=Dr=null,Ke=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var Wt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qt(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Wt[n.type]:s==="textarea"}function ui(n,s,a,l){ai?oi?oi.push(l):oi=[l]:ai=l,s=Of(s,"onChange"),0<s.length&&(a=new Ja("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var on=null,Vr=null;function ql(n){U0(n,0)}function Ku(n){var s=Cr(n);if(Ol(s))return n}function av(n,s){if(n==="change")return s}var ov=!1;if(fr){var kh;if(fr){var Vh="oninput"in document;if(!Vh){var lv=document.createElement("div");lv.setAttribute("oninput","return;"),Vh=typeof lv.oninput=="function"}kh=Vh}else kh=!1;ov=kh&&(!document.documentMode||9<document.documentMode)}function cv(){on&&(on.detachEvent("onpropertychange",uv),Vr=on=null)}function uv(n){if(n.propertyName==="value"&&Ku(Vr)){var s=[];ui(s,Vr,n,Qn(n)),Ou(ql,s)}}function d1(n,s,a){n==="focusin"?(cv(),on=s,Vr=a,on.attachEvent("onpropertychange",uv)):n==="focusout"&&cv()}function h1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ku(Vr)}function m1(n,s){if(n==="click")return Ku(s)}function p1(n,s){if(n==="input"||n==="change")return Ku(s)}function g1(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Mn=typeof Object.is=="function"?Object.is:g1;function Fl(n,s){if(Mn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!ke.call(s,d)||!Mn(n[d],s[d]))return!1}return!0}function fv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function dv(n,s){var a=fv(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=fv(a)}}function hv(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?hv(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function mv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Js(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Js(n.document)}return s}function jh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var y1=fr&&"documentMode"in document&&11>=document.documentMode,oo=null,Lh=null,Hl=null,Uh=!1;function pv(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uh||oo==null||oo!==Js(l)||(l=oo,"selectionStart"in l&&jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Hl&&Fl(Hl,l)||(Hl=l,l=Of(Lh,"onSelect"),0<l.length&&(s=new Ja("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=oo)))}function ua(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var lo={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},zh={},gv={};fr&&(gv=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function fa(n){if(zh[n])return zh[n];if(!lo[n])return n;var s=lo[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in gv)return zh[n]=s[a];return n}var yv=fa("animationend"),vv=fa("animationiteration"),_v=fa("animationstart"),v1=fa("transitionrun"),_1=fa("transitionstart"),E1=fa("transitioncancel"),Ev=fa("transitionend"),bv=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function dr(n,s){bv.set(n,s),ur(s,[n])}var wv=new WeakMap;function Xn(n,s){if(typeof n=="object"&&n!==null){var a=wv.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Xa(s)},wv.set(n,s),s)}return{value:n,source:s,stack:Xa(s)}}var Wn=[],co=0,qh=0;function Qu(){for(var n=co,s=qh=co=0;s<n;){var a=Wn[s];Wn[s++]=null;var l=Wn[s];Wn[s++]=null;var d=Wn[s];Wn[s++]=null;var m=Wn[s];if(Wn[s++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}m!==0&&Tv(a,d,m)}}function Yu(n,s,a,l){Wn[co++]=n,Wn[co++]=s,Wn[co++]=a,Wn[co++]=l,qh|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Fh(n,s,a,l){return Yu(n,s,a,l),$u(n)}function uo(n,s){return Yu(n,null,null,s),$u(n)}function Tv(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(d=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,d&&s!==null&&(d=31-pn(a),n=m.hiddenUpdates,l=n[d],l===null?n[d]=[s]:l.push(s),s.lane=a|536870912),m):null}function $u(n){if(50<pc)throw pc=0,$m=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var fo={};function b1(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(n,s,a,l){return new b1(n,s,a,l)}function Hh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function fi(n,s){var a=n.alternate;return a===null?(a=kn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Sv(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Xu(n,s,a,l,d,m){var b=0;if(l=n,typeof n=="function")Hh(n)&&(b=1);else if(typeof n=="string")b=TR(n,a,pe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case P:return n=kn(31,a,s,d),n.elementType=P,n.lanes=m,n;case O:return da(a.children,d,m,s);case x:b=8,d|=24;break;case I:return n=kn(12,a,s,d|2),n.elementType=I,n.lanes=m,n;case ee:return n=kn(13,a,s,d),n.elementType=ee,n.lanes=m,n;case ce:return n=kn(19,a,s,d),n.elementType=ce,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case z:case F:b=10;break e;case H:b=9;break e;case Z:b=11;break e;case D:b=14;break e;case A:b=16,l=null;break e}b=29,a=Error(i(130,n===null?"null":typeof n,"")),l=null}return s=kn(b,a,s,d),s.elementType=n,s.type=l,s.lanes=m,s}function da(n,s,a,l){return n=kn(7,n,l,s),n.lanes=a,n}function Gh(n,s,a){return n=kn(6,n,null,s),n.lanes=a,n}function Kh(n,s,a){return s=kn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var ho=[],mo=0,Wu=null,Zu=0,Zn=[],Jn=0,ha=null,di=1,hi="";function ma(n,s){ho[mo++]=Zu,ho[mo++]=Wu,Wu=n,Zu=s}function Av(n,s,a){Zn[Jn++]=di,Zn[Jn++]=hi,Zn[Jn++]=ha,ha=n;var l=di;n=hi;var d=32-pn(l)-1;l&=~(1<<d),a+=1;var m=32-pn(s)+d;if(30<m){var b=d-d%5;m=(l&(1<<b)-1).toString(32),l>>=b,d-=b,di=1<<32-pn(s)+d|a<<d|l,hi=m+n}else di=1<<m|a<<d|l,hi=n}function Qh(n){n.return!==null&&(ma(n,1),Av(n,1,0))}function Yh(n){for(;n===Wu;)Wu=ho[--mo],ho[mo]=null,Zu=ho[--mo],ho[mo]=null;for(;n===ha;)ha=Zn[--Jn],Zn[Jn]=null,hi=Zn[--Jn],Zn[Jn]=null,di=Zn[--Jn],Zn[Jn]=null}var xn=null,bt=null,Ze=!1,pa=null,jr=!1,$h=Error(i(519));function ga(n){var s=Error(i(418,""));throw Ql(Xn(s,n)),$h}function xv(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[zt]=n,s[Dt]=l,a){case"dialog":qe("cancel",s),qe("close",s);break;case"iframe":case"object":case"embed":qe("load",s);break;case"video":case"audio":for(a=0;a<yc.length;a++)qe(yc[a],s);break;case"source":qe("error",s);break;case"img":case"image":case"link":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"input":qe("invalid",s),ea(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Wa(s);break;case"select":qe("invalid",s);break;case"textarea":qe("invalid",s),ta(s,l.value,l.defaultValue,l.children),Wa(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||F0(s.textContent,a)?(l.popover!=null&&(qe("beforetoggle",s),qe("toggle",s)),l.onScroll!=null&&qe("scroll",s),l.onScrollEnd!=null&&qe("scrollend",s),l.onClick!=null&&(s.onclick=Pf),s=!0):s=!1,s||ga(n)}function Rv(n){for(xn=n.return;xn;)switch(xn.tag){case 5:case 13:jr=!1;return;case 27:case 3:jr=!0;return;default:xn=xn.return}}function Gl(n){if(n!==xn)return!1;if(!Ze)return Rv(n),Ze=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||fp(n.type,n.memoizedProps)),a=!a),a&&bt&&ga(n),Rv(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){bt=mr(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;n=n.nextSibling}bt=null}}else s===27?(s=bt,ls(n.type)?(n=pp,pp=null,bt=n):bt=s):bt=xn?mr(n.stateNode.nextSibling):null;return!0}function Kl(){bt=xn=null,Ze=!1}function Cv(){var n=pa;return n!==null&&(In===null?In=n:In.push.apply(In,n),pa=null),n}function Ql(n){pa===null?pa=[n]:pa.push(n)}var Xh=ne(null),ya=null,mi=null;function Qi(n,s,a){oe(Xh,s._currentValue),s._currentValue=a}function pi(n){n._currentValue=Xh.current,ue(Xh)}function Wh(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function Zh(n,s,a,l){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var m=d.dependencies;if(m!==null){var b=d.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=d;for(var k=0;k<s.length;k++)if(S.context===s[k]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),Wh(m.return,a,n),l||(b=null);break e}m=S.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Wh(b,a,n),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===n){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Yl(n,s,a,l){n=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var S=d.type;Mn(d.pendingProps.value,b.value)||(n!==null?n.push(S):n=[S])}}else if(d===me.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Tc):n=[Tc])}d=d.return}n!==null&&Zh(s,n,a,l),s.flags|=262144}function Ju(n){for(n=n.firstContext;n!==null;){if(!Mn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function va(n){ya=n,mi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function gn(n){return Iv(ya,n)}function ef(n,s){return ya===null&&va(n),Iv(n,s)}function Iv(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},mi===null){if(n===null)throw Error(i(308));mi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else mi=mi.next=s;return a}var w1=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},T1=r.unstable_scheduleCallback,S1=r.unstable_NormalPriority,Ft={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new w1,data:new Map,refCount:0}}function $l(n){n.refCount--,n.refCount===0&&T1(S1,function(){n.controller.abort()})}var Xl=null,em=0,po=0,go=null;function A1(n,s){if(Xl===null){var a=Xl=[];em=0,po=np(),go={status:"pending",value:void 0,then:function(l){a.push(l)}}}return em++,s.then(Nv,Nv),s}function Nv(){if(--em===0&&Xl!==null){go!==null&&(go.status="fulfilled");var n=Xl;Xl=null,po=0,go=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function x1(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Dv=q.S;q.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&A1(n,s),Dv!==null&&Dv(n,s)};var _a=ne(null);function tm(){var n=_a.current;return n!==null?n:ft.pooledCache}function tf(n,s){s===null?oe(_a,_a.current):oe(_a,s.pool)}function Ov(){var n=tm();return n===null?null:{parent:Ft._currentValue,pool:n}}var Wl=Error(i(460)),Pv=Error(i(474)),nf=Error(i(542)),nm={then:function(){}};function Mv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function rf(){}function kv(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(rf,rf),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,jv(n),n;default:if(typeof s.status=="string")s.then(rf,rf);else{if(n=ft,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,jv(n),n}throw Zl=s,Wl}}var Zl=null;function Vv(){if(Zl===null)throw Error(i(459));var n=Zl;return Zl=null,n}function jv(n){if(n===Wl||n===nf)throw Error(i(483))}var Yi=!1;function rm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function im(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function $i(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Xi(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=$u(n),Tv(n,null,a),s}return Yu(n,l,s,a),$u(n)}function Jl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Rl(n,a)}}function sm(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?d=m=s:m=m.next=s}else d=m=s;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var am=!1;function ec(){if(am){var n=go;if(n!==null)throw n}}function tc(n,s,a,l){am=!1;var d=n.updateQueue;Yi=!1;var m=d.firstBaseUpdate,b=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var k=S,Y=k.next;k.next=null,b===null?m=Y:b.next=Y,b=k;var te=n.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==b&&(S===null?te.firstBaseUpdate=Y:S.next=Y,te.lastBaseUpdate=k))}if(m!==null){var ae=d.baseState;b=0,te=Y=k=null,S=m;do{var $=S.lane&-536870913,X=$!==S.lane;if(X?(Ye&$)===$:(l&$)===$){$!==0&&$===po&&(am=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var De=n,xe=S;$=s;var ct=a;switch(xe.tag){case 1:if(De=xe.payload,typeof De=="function"){ae=De.call(ct,ae,$);break e}ae=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=xe.payload,$=typeof De=="function"?De.call(ct,ae,$):De,$==null)break e;ae=_({},ae,$);break e;case 2:Yi=!0}}$=S.callback,$!==null&&(n.flags|=64,X&&(n.flags|=8192),X=d.callbacks,X===null?d.callbacks=[$]:X.push($))}else X={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(Y=te=X,k=ae):te=te.next=X,b|=$;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;X=S,S=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);te===null&&(k=ae),d.baseState=k,d.firstBaseUpdate=Y,d.lastBaseUpdate=te,m===null&&(d.shared.lanes=0),is|=b,n.lanes=b,n.memoizedState=ae}}function Lv(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function Uv(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Lv(a[n],s)}var yo=ne(null),sf=ne(0);function zv(n,s){n=wi,oe(sf,n),oe(yo,s),wi=n|s.baseLanes}function om(){oe(sf,wi),oe(yo,yo.current)}function lm(){wi=sf.current,ue(yo),ue(sf)}var Wi=0,Le=null,ot=null,Pt=null,af=!1,vo=!1,Ea=!1,of=0,nc=0,_o=null,R1=0;function xt(){throw Error(i(321))}function cm(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Mn(n[a],s[a]))return!1;return!0}function um(n,s,a,l,d,m){return Wi=m,Le=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=n===null||n.memoizedState===null?T_:S_,Ea=!1,m=a(l,d),Ea=!1,vo&&(m=qv(s,a,l,d)),Bv(n),m}function Bv(n){q.H=hf;var s=ot!==null&&ot.next!==null;if(Wi=0,Pt=ot=Le=null,af=!1,nc=0,_o=null,s)throw Error(i(300));n===null||Zt||(n=n.dependencies,n!==null&&Ju(n)&&(Zt=!0))}function qv(n,s,a,l){Le=n;var d=0;do{if(vo&&(_o=null),nc=0,vo=!1,25<=d)throw Error(i(301));if(d+=1,Pt=ot=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}q.H=M1,m=s(a,l)}while(vo);return m}function C1(){var n=q.H,s=n.useState()[0];return s=typeof s.then=="function"?rc(s):s,n=n.useState()[0],(ot!==null?ot.memoizedState:null)!==n&&(Le.flags|=1024),s}function fm(){var n=of!==0;return of=0,n}function dm(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function hm(n){if(af){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}af=!1}Wi=0,Pt=ot=Le=null,vo=!1,nc=of=0,_o=null}function Rn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Le.memoizedState=Pt=n:Pt=Pt.next=n,Pt}function Mt(){if(ot===null){var n=Le.alternate;n=n!==null?n.memoizedState:null}else n=ot.next;var s=Pt===null?Le.memoizedState:Pt.next;if(s!==null)Pt=s,ot=n;else{if(n===null)throw Le.alternate===null?Error(i(467)):Error(i(310));ot=n,n={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Pt===null?Le.memoizedState=Pt=n:Pt=Pt.next=n}return Pt}function mm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rc(n){var s=nc;return nc+=1,_o===null&&(_o=[]),n=kv(_o,n,s),s=Le,(Pt===null?s.memoizedState:Pt.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?T_:S_),n}function lf(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return rc(n);if(n.$$typeof===F)return gn(n)}throw Error(i(438,String(n)))}function pm(n){var s=null,a=Le.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=mm(),Le.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=j;return s.index++,a}function gi(n,s){return typeof s=="function"?s(n):s}function cf(n){var s=Mt();return gm(s,ot,n)}function gm(n,s,a){var l=n.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var d=n.baseQueue,m=l.pending;if(m!==null){if(d!==null){var b=d.next;d.next=m.next,m.next=b}s.baseQueue=d=m,l.pending=null}if(m=n.baseState,d===null)n.memoizedState=m;else{s=d.next;var S=b=null,k=null,Y=s,te=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(Ye&ae)===ae:(Wi&ae)===ae){var $=Y.revertLane;if($===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===po&&(te=!0);else if((Wi&$)===$){Y=Y.next,$===po&&(te=!0);continue}else ae={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(S=k=ae,b=m):k=k.next=ae,Le.lanes|=$,is|=$;ae=Y.action,Ea&&a(m,ae),m=Y.hasEagerState?Y.eagerState:a(m,ae)}else $={lane:ae,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(S=k=$,b=m):k=k.next=$,Le.lanes|=ae,is|=ae;Y=Y.next}while(Y!==null&&Y!==s);if(k===null?b=m:k.next=S,!Mn(m,n.memoizedState)&&(Zt=!0,te&&(a=go,a!==null)))throw a;n.memoizedState=m,n.baseState=b,n.baseQueue=k,l.lastRenderedState=m}return d===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function ym(n){var s=Mt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=n;var l=a.dispatch,d=a.pending,m=s.memoizedState;if(d!==null){a.pending=null;var b=d=d.next;do m=n(m,b.action),b=b.next;while(b!==d);Mn(m,s.memoizedState)||(Zt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Fv(n,s,a){var l=Le,d=Mt(),m=Ze;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=s();var b=!Mn((ot||d).memoizedState,a);b&&(d.memoizedState=a,Zt=!0),d=d.queue;var S=Kv.bind(null,l,d,n);if(ic(2048,8,S,[n]),d.getSnapshot!==s||b||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,Eo(9,uf(),Gv.bind(null,l,d,a,s),null),ft===null)throw Error(i(349));m||(Wi&124)!==0||Hv(l,s,a)}return a}function Hv(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Le.updateQueue,s===null?(s=mm(),Le.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Gv(n,s,a,l){s.value=a,s.getSnapshot=l,Qv(s)&&Yv(n)}function Kv(n,s,a){return a(function(){Qv(s)&&Yv(n)})}function Qv(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Mn(n,a)}catch{return!0}}function Yv(n){var s=uo(n,2);s!==null&&zn(s,n,2)}function vm(n){var s=Rn();if(typeof n=="function"){var a=n;if(n=a(),Ea){On(!0);try{a()}finally{On(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:n},s}function $v(n,s,a,l){return n.baseState=a,gm(n,ot,typeof l=="function"?l:gi)}function I1(n,s,a,l,d){if(df(n))throw Error(i(485));if(n=s.action,n!==null){var m={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};q.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,Xv(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Xv(n,s){var a=s.action,l=s.payload,d=n.state;if(s.isTransition){var m=q.T,b={};q.T=b;try{var S=a(d,l),k=q.S;k!==null&&k(b,S),Wv(n,s,S)}catch(Y){_m(n,s,Y)}finally{q.T=m}}else try{m=a(d,l),Wv(n,s,m)}catch(Y){_m(n,s,Y)}}function Wv(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Zv(n,s,l)},function(l){return _m(n,s,l)}):Zv(n,s,a)}function Zv(n,s,a){s.status="fulfilled",s.value=a,Jv(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Xv(n,a)))}function _m(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Jv(s),s=s.next;while(s!==l)}n.action=null}function Jv(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function e_(n,s){return s}function t_(n,s){if(Ze){var a=ft.formState;if(a!==null){e:{var l=Le;if(Ze){if(bt){t:{for(var d=bt,m=jr;d.nodeType!==8;){if(!m){d=null;break t}if(d=mr(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){bt=mr(d.nextSibling),l=d.data==="F!";break e}}ga(l)}l=!1}l&&(s=a[0])}}return a=Rn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e_,lastRenderedState:s},a.queue=l,a=E_.bind(null,Le,l),l.dispatch=a,l=vm(!1),m=Sm.bind(null,Le,!1,l.queue),l=Rn(),d={state:s,dispatch:null,action:n,pending:null},l.queue=d,a=I1.bind(null,Le,d,m,a),d.dispatch=a,l.memoizedState=n,[s,a,!1]}function n_(n){var s=Mt();return r_(s,ot,n)}function r_(n,s,a){if(s=gm(n,s,e_)[0],n=cf(gi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=rc(s)}catch(b){throw b===Wl?nf:b}else l=s;s=Mt();var d=s.queue,m=d.dispatch;return a!==s.memoizedState&&(Le.flags|=2048,Eo(9,uf(),N1.bind(null,d,a),null)),[l,m,n]}function N1(n,s){n.action=s}function i_(n){var s=Mt(),a=ot;if(a!==null)return r_(s,a,n);Mt(),s=s.memoizedState,a=Mt();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function Eo(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Le.updateQueue,s===null&&(s=mm(),Le.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function uf(){return{destroy:void 0,resource:void 0}}function s_(){return Mt().memoizedState}function ff(n,s,a,l){var d=Rn();l=l===void 0?null:l,Le.flags|=n,d.memoizedState=Eo(1|s,uf(),a,l)}function ic(n,s,a,l){var d=Mt();l=l===void 0?null:l;var m=d.memoizedState.inst;ot!==null&&l!==null&&cm(l,ot.memoizedState.deps)?d.memoizedState=Eo(s,m,a,l):(Le.flags|=n,d.memoizedState=Eo(1|s,m,a,l))}function a_(n,s){ff(8390656,8,n,s)}function o_(n,s){ic(2048,8,n,s)}function l_(n,s){return ic(4,2,n,s)}function c_(n,s){return ic(4,4,n,s)}function u_(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function f_(n,s,a){a=a!=null?a.concat([n]):null,ic(4,4,u_.bind(null,s,n),a)}function Em(){}function d_(n,s){var a=Mt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&cm(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function h_(n,s){var a=Mt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&cm(s,l[1]))return l[0];if(l=n(),Ea){On(!0);try{n()}finally{On(!1)}}return a.memoizedState=[l,s],l}function bm(n,s,a){return a===void 0||(Wi&1073741824)!==0?n.memoizedState=s:(n.memoizedState=a,n=g0(),Le.lanes|=n,is|=n,a)}function m_(n,s,a,l){return Mn(a,s)?a:yo.current!==null?(n=bm(n,a,l),Mn(n,s)||(Zt=!0),n):(Wi&42)===0?(Zt=!0,n.memoizedState=a):(n=g0(),Le.lanes|=n,is|=n,s)}function p_(n,s,a,l,d){var m=re.p;re.p=m!==0&&8>m?m:8;var b=q.T,S={};q.T=S,Sm(n,!1,s,a);try{var k=d(),Y=q.S;if(Y!==null&&Y(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var te=x1(k,l);sc(n,s,te,Un(n))}else sc(n,s,l,Un(n))}catch(ae){sc(n,s,{then:function(){},status:"rejected",reason:ae},Un())}finally{re.p=m,q.T=b}}function D1(){}function wm(n,s,a,l){if(n.tag!==5)throw Error(i(476));var d=g_(n).queue;p_(n,d,s,W,a===null?D1:function(){return y_(n),a(l)})}function g_(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:W},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function y_(n){var s=g_(n).next.queue;sc(n,s,{},Un())}function Tm(){return gn(Tc)}function v_(){return Mt().memoizedState}function __(){return Mt().memoizedState}function O1(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Un();n=$i(a);var l=Xi(s,n,a);l!==null&&(zn(l,s,a),Jl(l,s,a)),s={cache:Jh()},n.payload=s;return}s=s.return}}function P1(n,s,a){var l=Un();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},df(n)?b_(s,a):(a=Fh(n,s,a,l),a!==null&&(zn(a,n,l),w_(a,s,l)))}function E_(n,s,a){var l=Un();sc(n,s,a,l)}function sc(n,s,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(df(n))b_(s,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,S=m(b,a);if(d.hasEagerState=!0,d.eagerState=S,Mn(S,b))return Yu(n,s,d,0),ft===null&&Qu(),!1}catch{}finally{}if(a=Fh(n,s,d,l),a!==null)return zn(a,n,l),w_(a,s,l),!0}return!1}function Sm(n,s,a,l){if(l={lane:2,revertLane:np(),action:l,hasEagerState:!1,eagerState:null,next:null},df(n)){if(s)throw Error(i(479))}else s=Fh(n,a,l,2),s!==null&&zn(s,n,2)}function df(n){var s=n.alternate;return n===Le||s!==null&&s===Le}function b_(n,s){vo=af=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function w_(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Rl(n,a)}}var hf={readContext:gn,use:lf,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},T_={readContext:gn,use:lf,useCallback:function(n,s){return Rn().memoizedState=[n,s===void 0?null:s],n},useContext:gn,useEffect:a_,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,ff(4194308,4,u_.bind(null,s,n),a)},useLayoutEffect:function(n,s){return ff(4194308,4,n,s)},useInsertionEffect:function(n,s){ff(4,2,n,s)},useMemo:function(n,s){var a=Rn();s=s===void 0?null:s;var l=n();if(Ea){On(!0);try{n()}finally{On(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=Rn();if(a!==void 0){var d=a(s);if(Ea){On(!0);try{a(s)}finally{On(!1)}}}else d=s;return l.memoizedState=l.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},l.queue=n,n=n.dispatch=P1.bind(null,Le,n),[l.memoizedState,n]},useRef:function(n){var s=Rn();return n={current:n},s.memoizedState=n},useState:function(n){n=vm(n);var s=n.queue,a=E_.bind(null,Le,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Em,useDeferredValue:function(n,s){var a=Rn();return bm(a,n,s)},useTransition:function(){var n=vm(!1);return n=p_.bind(null,Le,n.queue,!0,!1),Rn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Le,d=Rn();if(Ze){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),ft===null)throw Error(i(349));(Ye&124)!==0||Hv(l,s,a)}d.memoizedState=a;var m={value:a,getSnapshot:s};return d.queue=m,a_(Kv.bind(null,l,m,n),[n]),l.flags|=2048,Eo(9,uf(),Gv.bind(null,l,m,a,s),null),a},useId:function(){var n=Rn(),s=ft.identifierPrefix;if(Ze){var a=hi,l=di;a=(l&~(1<<32-pn(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=of++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=R1++,s="«"+s+"r"+a.toString(32)+"»";return n.memoizedState=s},useHostTransitionStatus:Tm,useFormState:t_,useActionState:t_,useOptimistic:function(n){var s=Rn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Sm.bind(null,Le,!0,a),a.dispatch=s,[n,s]},useMemoCache:pm,useCacheRefresh:function(){return Rn().memoizedState=O1.bind(null,Le)}},S_={readContext:gn,use:lf,useCallback:d_,useContext:gn,useEffect:o_,useImperativeHandle:f_,useInsertionEffect:l_,useLayoutEffect:c_,useMemo:h_,useReducer:cf,useRef:s_,useState:function(){return cf(gi)},useDebugValue:Em,useDeferredValue:function(n,s){var a=Mt();return m_(a,ot.memoizedState,n,s)},useTransition:function(){var n=cf(gi)[0],s=Mt().memoizedState;return[typeof n=="boolean"?n:rc(n),s]},useSyncExternalStore:Fv,useId:v_,useHostTransitionStatus:Tm,useFormState:n_,useActionState:n_,useOptimistic:function(n,s){var a=Mt();return $v(a,ot,n,s)},useMemoCache:pm,useCacheRefresh:__},M1={readContext:gn,use:lf,useCallback:d_,useContext:gn,useEffect:o_,useImperativeHandle:f_,useInsertionEffect:l_,useLayoutEffect:c_,useMemo:h_,useReducer:ym,useRef:s_,useState:function(){return ym(gi)},useDebugValue:Em,useDeferredValue:function(n,s){var a=Mt();return ot===null?bm(a,n,s):m_(a,ot.memoizedState,n,s)},useTransition:function(){var n=ym(gi)[0],s=Mt().memoizedState;return[typeof n=="boolean"?n:rc(n),s]},useSyncExternalStore:Fv,useId:v_,useHostTransitionStatus:Tm,useFormState:i_,useActionState:i_,useOptimistic:function(n,s){var a=Mt();return ot!==null?$v(a,ot,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:pm,useCacheRefresh:__},bo=null,ac=0;function mf(n){var s=ac;return ac+=1,bo===null&&(bo=[]),kv(bo,n,s)}function oc(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function pf(n,s){throw s.$$typeof===w?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function A_(n){var s=n._init;return s(n._payload)}function x_(n){function s(G,B){if(n){var Q=G.deletions;Q===null?(G.deletions=[B],G.flags|=16):Q.push(B)}}function a(G,B){if(!n)return null;for(;B!==null;)s(G,B),B=B.sibling;return null}function l(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function d(G,B){return G=fi(G,B),G.index=0,G.sibling=null,G}function m(G,B,Q){return G.index=Q,n?(Q=G.alternate,Q!==null?(Q=Q.index,Q<B?(G.flags|=67108866,B):Q):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function b(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function S(G,B,Q,ie){return B===null||B.tag!==6?(B=Gh(Q,G.mode,ie),B.return=G,B):(B=d(B,Q),B.return=G,B)}function k(G,B,Q,ie){var ve=Q.type;return ve===O?te(G,B,Q.props.children,ie,Q.key):B!==null&&(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&A_(ve)===B.type)?(B=d(B,Q.props),oc(B,Q),B.return=G,B):(B=Xu(Q.type,Q.key,Q.props,null,G.mode,ie),oc(B,Q),B.return=G,B)}function Y(G,B,Q,ie){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=Kh(Q,G.mode,ie),B.return=G,B):(B=d(B,Q.children||[]),B.return=G,B)}function te(G,B,Q,ie,ve){return B===null||B.tag!==7?(B=da(Q,G.mode,ie,ve),B.return=G,B):(B=d(B,Q),B.return=G,B)}function ae(G,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Gh(""+B,G.mode,Q),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case T:return Q=Xu(B.type,B.key,B.props,null,G.mode,Q),oc(Q,B),Q.return=G,Q;case C:return B=Kh(B,G.mode,Q),B.return=G,B;case A:var ie=B._init;return B=ie(B._payload),ae(G,B,Q)}if(de(B)||U(B))return B=da(B,G.mode,Q,null),B.return=G,B;if(typeof B.then=="function")return ae(G,mf(B),Q);if(B.$$typeof===F)return ae(G,ef(G,B),Q);pf(G,B)}return null}function $(G,B,Q,ie){var ve=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return ve!==null?null:S(G,B,""+Q,ie);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:return Q.key===ve?k(G,B,Q,ie):null;case C:return Q.key===ve?Y(G,B,Q,ie):null;case A:return ve=Q._init,Q=ve(Q._payload),$(G,B,Q,ie)}if(de(Q)||U(Q))return ve!==null?null:te(G,B,Q,ie,null);if(typeof Q.then=="function")return $(G,B,mf(Q),ie);if(Q.$$typeof===F)return $(G,B,ef(G,Q),ie);pf(G,Q)}return null}function X(G,B,Q,ie,ve){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(Q)||null,S(B,G,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case T:return G=G.get(ie.key===null?Q:ie.key)||null,k(B,G,ie,ve);case C:return G=G.get(ie.key===null?Q:ie.key)||null,Y(B,G,ie,ve);case A:var ze=ie._init;return ie=ze(ie._payload),X(G,B,Q,ie,ve)}if(de(ie)||U(ie))return G=G.get(Q)||null,te(B,G,ie,ve,null);if(typeof ie.then=="function")return X(G,B,Q,mf(ie),ve);if(ie.$$typeof===F)return X(G,B,Q,ef(B,ie),ve);pf(B,ie)}return null}function De(G,B,Q,ie){for(var ve=null,ze=null,Te=B,Ce=B=0,en=null;Te!==null&&Ce<Q.length;Ce++){Te.index>Ce?(en=Te,Te=null):en=Te.sibling;var We=$(G,Te,Q[Ce],ie);if(We===null){Te===null&&(Te=en);break}n&&Te&&We.alternate===null&&s(G,Te),B=m(We,B,Ce),ze===null?ve=We:ze.sibling=We,ze=We,Te=en}if(Ce===Q.length)return a(G,Te),Ze&&ma(G,Ce),ve;if(Te===null){for(;Ce<Q.length;Ce++)Te=ae(G,Q[Ce],ie),Te!==null&&(B=m(Te,B,Ce),ze===null?ve=Te:ze.sibling=Te,ze=Te);return Ze&&ma(G,Ce),ve}for(Te=l(Te);Ce<Q.length;Ce++)en=X(Te,G,Ce,Q[Ce],ie),en!==null&&(n&&en.alternate!==null&&Te.delete(en.key===null?Ce:en.key),B=m(en,B,Ce),ze===null?ve=en:ze.sibling=en,ze=en);return n&&Te.forEach(function(hs){return s(G,hs)}),Ze&&ma(G,Ce),ve}function xe(G,B,Q,ie){if(Q==null)throw Error(i(151));for(var ve=null,ze=null,Te=B,Ce=B=0,en=null,We=Q.next();Te!==null&&!We.done;Ce++,We=Q.next()){Te.index>Ce?(en=Te,Te=null):en=Te.sibling;var hs=$(G,Te,We.value,ie);if(hs===null){Te===null&&(Te=en);break}n&&Te&&hs.alternate===null&&s(G,Te),B=m(hs,B,Ce),ze===null?ve=hs:ze.sibling=hs,ze=hs,Te=en}if(We.done)return a(G,Te),Ze&&ma(G,Ce),ve;if(Te===null){for(;!We.done;Ce++,We=Q.next())We=ae(G,We.value,ie),We!==null&&(B=m(We,B,Ce),ze===null?ve=We:ze.sibling=We,ze=We);return Ze&&ma(G,Ce),ve}for(Te=l(Te);!We.done;Ce++,We=Q.next())We=X(Te,G,Ce,We.value,ie),We!==null&&(n&&We.alternate!==null&&Te.delete(We.key===null?Ce:We.key),B=m(We,B,Ce),ze===null?ve=We:ze.sibling=We,ze=We);return n&&Te.forEach(function(kR){return s(G,kR)}),Ze&&ma(G,Ce),ve}function ct(G,B,Q,ie){if(typeof Q=="object"&&Q!==null&&Q.type===O&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:e:{for(var ve=Q.key;B!==null;){if(B.key===ve){if(ve=Q.type,ve===O){if(B.tag===7){a(G,B.sibling),ie=d(B,Q.props.children),ie.return=G,G=ie;break e}}else if(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&A_(ve)===B.type){a(G,B.sibling),ie=d(B,Q.props),oc(ie,Q),ie.return=G,G=ie;break e}a(G,B);break}else s(G,B);B=B.sibling}Q.type===O?(ie=da(Q.props.children,G.mode,ie,Q.key),ie.return=G,G=ie):(ie=Xu(Q.type,Q.key,Q.props,null,G.mode,ie),oc(ie,Q),ie.return=G,G=ie)}return b(G);case C:e:{for(ve=Q.key;B!==null;){if(B.key===ve)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){a(G,B.sibling),ie=d(B,Q.children||[]),ie.return=G,G=ie;break e}else{a(G,B);break}else s(G,B);B=B.sibling}ie=Kh(Q,G.mode,ie),ie.return=G,G=ie}return b(G);case A:return ve=Q._init,Q=ve(Q._payload),ct(G,B,Q,ie)}if(de(Q))return De(G,B,Q,ie);if(U(Q)){if(ve=U(Q),typeof ve!="function")throw Error(i(150));return Q=ve.call(Q),xe(G,B,Q,ie)}if(typeof Q.then=="function")return ct(G,B,mf(Q),ie);if(Q.$$typeof===F)return ct(G,B,ef(G,Q),ie);pf(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(a(G,B.sibling),ie=d(B,Q),ie.return=G,G=ie):(a(G,B),ie=Gh(Q,G.mode,ie),ie.return=G,G=ie),b(G)):a(G,B)}return function(G,B,Q,ie){try{ac=0;var ve=ct(G,B,Q,ie);return bo=null,ve}catch(Te){if(Te===Wl||Te===nf)throw Te;var ze=kn(29,Te,null,G.mode);return ze.lanes=ie,ze.return=G,ze}finally{}}}var wo=x_(!0),R_=x_(!1),er=ne(null),Lr=null;function Zi(n){var s=n.alternate;oe(Ht,Ht.current&1),oe(er,n),Lr===null&&(s===null||yo.current!==null||s.memoizedState!==null)&&(Lr=n)}function C_(n){if(n.tag===22){if(oe(Ht,Ht.current),oe(er,n),Lr===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Lr=n)}}else Ji()}function Ji(){oe(Ht,Ht.current),oe(er,er.current)}function yi(n){ue(er),Lr===n&&(Lr=null),ue(Ht)}var Ht=ne(0);function gf(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||mp(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Am(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:_({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var xm={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=Un(),d=$i(l);d.payload=s,a!=null&&(d.callback=a),s=Xi(n,d,l),s!==null&&(zn(s,n,l),Jl(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=Un(),d=$i(l);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=Xi(n,d,l),s!==null&&(zn(s,n,l),Jl(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Un(),l=$i(a);l.tag=2,s!=null&&(l.callback=s),s=Xi(n,l,a),s!==null&&(zn(s,n,a),Jl(s,n,a))}};function I_(n,s,a,l,d,m,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,b):s.prototype&&s.prototype.isPureReactComponent?!Fl(a,l)||!Fl(d,m):!0}function N_(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&xm.enqueueReplaceState(s,s.state,null)}function ba(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=_({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}var yf=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function D_(n){yf(n)}function O_(n){console.error(n)}function P_(n){yf(n)}function vf(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function M_(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Rm(n,s,a){return a=$i(a),a.tag=3,a.payload={element:null},a.callback=function(){vf(n,s)},a}function k_(n){return n=$i(n),n.tag=3,n}function V_(n,s,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;n.payload=function(){return d(m)},n.callback=function(){M_(s,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){M_(s,a,l),typeof d!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function k1(n,s,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Yl(s,a,d,!0),a=er.current,a!==null){switch(a.tag){case 13:return Lr===null?Wm():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===nm?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Jm(n,l,d)),!1;case 22:return a.flags|=65536,l===nm?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Jm(n,l,d)),!1}throw Error(i(435,a.tag))}return Jm(n,l,d),Wm(),!1}if(Ze)return s=er.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==$h&&(n=Error(i(422),{cause:l}),Ql(Xn(n,a)))):(l!==$h&&(s=Error(i(423),{cause:l}),Ql(Xn(s,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,l=Xn(l,a),d=Rm(n.stateNode,l,d),sm(n,d),wt!==4&&(wt=2)),!1;var m=Error(i(520),{cause:l});if(m=Xn(m,a),mc===null?mc=[m]:mc.push(m),wt!==4&&(wt=2),s===null)return!0;l=Xn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=Rm(a.stateNode,l,n),sm(a,n),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ss===null||!ss.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=k_(d),V_(d,n,a,l),sm(a,d),!1}a=a.return}while(a!==null);return!1}var j_=Error(i(461)),Zt=!1;function ln(n,s,a,l){s.child=n===null?R_(s,null,a,l):wo(s,n.child,a,l)}function L_(n,s,a,l,d){a=a.render;var m=s.ref;if("ref"in l){var b={};for(var S in l)S!=="ref"&&(b[S]=l[S])}else b=l;return va(s),l=um(n,s,a,b,m,d),S=fm(),n!==null&&!Zt?(dm(n,s,d),vi(n,s,d)):(Ze&&S&&Qh(s),s.flags|=1,ln(n,s,l,d),s.child)}function U_(n,s,a,l,d){if(n===null){var m=a.type;return typeof m=="function"&&!Hh(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,z_(n,s,m,l,d)):(n=Xu(a.type,null,l,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!km(n,d)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:Fl,a(b,l)&&n.ref===s.ref)return vi(n,s,d)}return s.flags|=1,n=fi(m,l),n.ref=s.ref,n.return=s,s.child=n}function z_(n,s,a,l,d){if(n!==null){var m=n.memoizedProps;if(Fl(m,l)&&n.ref===s.ref)if(Zt=!1,s.pendingProps=l=m,km(n,d))(n.flags&131072)!==0&&(Zt=!0);else return s.lanes=n.lanes,vi(n,s,d)}return Cm(n,s,a,l,d)}function B_(n,s,a){var l=s.pendingProps,d=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(d=s.child=n.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return q_(n,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&tf(s,m!==null?m.cachePool:null),m!==null?zv(s,m):om(),C_(s);else return s.lanes=s.childLanes=536870912,q_(n,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(tf(s,m.cachePool),zv(s,m),Ji(),s.memoizedState=null):(n!==null&&tf(s,null),om(),Ji());return ln(n,s,d,a),s.child}function q_(n,s,a,l){var d=tm();return d=d===null?null:{parent:Ft._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},n!==null&&tf(s,null),om(),C_(s),n!==null&&Yl(n,s,l,!0),null}function _f(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Cm(n,s,a,l,d){return va(s),a=um(n,s,a,l,void 0,d),l=fm(),n!==null&&!Zt?(dm(n,s,d),vi(n,s,d)):(Ze&&l&&Qh(s),s.flags|=1,ln(n,s,a,d),s.child)}function F_(n,s,a,l,d,m){return va(s),s.updateQueue=null,a=qv(s,l,a,d),Bv(n),l=fm(),n!==null&&!Zt?(dm(n,s,m),vi(n,s,m)):(Ze&&l&&Qh(s),s.flags|=1,ln(n,s,a,m),s.child)}function H_(n,s,a,l,d){if(va(s),s.stateNode===null){var m=fo,b=a.contextType;typeof b=="object"&&b!==null&&(m=gn(b)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=xm,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},rm(s),b=a.contextType,m.context=typeof b=="object"&&b!==null?gn(b):fo,m.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Am(s,a,b,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&xm.enqueueReplaceState(m,m.state,null),tc(s,l,m,d),ec(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){m=s.stateNode;var S=s.memoizedProps,k=ba(a,S);m.props=k;var Y=m.context,te=a.contextType;b=fo,typeof te=="object"&&te!==null&&(b=gn(te));var ae=a.getDerivedStateFromProps;te=typeof ae=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,te||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||Y!==b)&&N_(s,m,l,b),Yi=!1;var $=s.memoizedState;m.state=$,tc(s,l,m,d),ec(),Y=s.memoizedState,S||$!==Y||Yi?(typeof ae=="function"&&(Am(s,a,ae,l),Y=s.memoizedState),(k=Yi||I_(s,a,k,l,$,Y,b))?(te||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Y),m.props=l,m.state=Y,m.context=b,l=k):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,im(n,s),b=s.memoizedProps,te=ba(a,b),m.props=te,ae=s.pendingProps,$=m.context,Y=a.contextType,k=fo,typeof Y=="object"&&Y!==null&&(k=gn(Y)),S=a.getDerivedStateFromProps,(Y=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ae||$!==k)&&N_(s,m,l,k),Yi=!1,$=s.memoizedState,m.state=$,tc(s,l,m,d),ec();var X=s.memoizedState;b!==ae||$!==X||Yi||n!==null&&n.dependencies!==null&&Ju(n.dependencies)?(typeof S=="function"&&(Am(s,a,S,l),X=s.memoizedState),(te=Yi||I_(s,a,te,l,$,X,k)||n!==null&&n.dependencies!==null&&Ju(n.dependencies))?(Y||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,X,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,X,k)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=X),m.props=l,m.state=X,m.context=k,l=te):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),l=!1)}return m=l,_f(n,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&l?(s.child=wo(s,n.child,null,d),s.child=wo(s,null,a,d)):ln(n,s,a,d),s.memoizedState=m.state,n=s.child):n=vi(n,s,d),n}function G_(n,s,a,l){return Kl(),s.flags|=256,ln(n,s,a,l),s.child}var Im={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nm(n){return{baseLanes:n,cachePool:Ov()}}function Dm(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=tr),n}function K_(n,s,a){var l=s.pendingProps,d=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=n!==null&&n.memoizedState===null?!1:(Ht.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ze){if(d?Zi(s):Ji(),Ze){var S=bt,k;if(k=S){e:{for(k=S,S=jr;k.nodeType!==8;){if(!S){S=null;break e}if(k=mr(k.nextSibling),k===null){S=null;break e}}S=k}S!==null?(s.memoizedState={dehydrated:S,treeContext:ha!==null?{id:di,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},k=kn(18,null,null,0),k.stateNode=S,k.return=s,s.child=k,xn=s,bt=null,k=!0):k=!1}k||ga(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return mp(S)?s.lanes=32:s.lanes=536870912,null;yi(s)}return S=l.children,l=l.fallback,d?(Ji(),d=s.mode,S=Ef({mode:"hidden",children:S},d),l=da(l,d,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,d=s.child,d.memoizedState=Nm(a),d.childLanes=Dm(n,b,a),s.memoizedState=Im,l):(Zi(s),Om(s,S))}if(k=n.memoizedState,k!==null&&(S=k.dehydrated,S!==null)){if(m)s.flags&256?(Zi(s),s.flags&=-257,s=Pm(n,s,a)):s.memoizedState!==null?(Ji(),s.child=n.child,s.flags|=128,s=null):(Ji(),d=l.fallback,S=s.mode,l=Ef({mode:"visible",children:l.children},S),d=da(d,S,a,null),d.flags|=2,l.return=s,d.return=s,l.sibling=d,s.child=l,wo(s,n.child,null,a),l=s.child,l.memoizedState=Nm(a),l.childLanes=Dm(n,b,a),s.memoizedState=Im,s=d);else if(Zi(s),mp(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var Y=b.dgst;b=Y,l=Error(i(419)),l.stack="",l.digest=b,Ql({value:l,source:null,stack:null}),s=Pm(n,s,a)}else if(Zt||Yl(n,s,a,!1),b=(a&n.childLanes)!==0,Zt||b){if(b=ft,b!==null&&(l=a&-a,l=(l&42)!==0?1:zi(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==k.retryLane))throw k.retryLane=l,uo(n,l),zn(b,n,l),j_;S.data==="$?"||Wm(),s=Pm(n,s,a)}else S.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=k.treeContext,bt=mr(S.nextSibling),xn=s,Ze=!0,pa=null,jr=!1,n!==null&&(Zn[Jn++]=di,Zn[Jn++]=hi,Zn[Jn++]=ha,di=n.id,hi=n.overflow,ha=s),s=Om(s,l.children),s.flags|=4096);return s}return d?(Ji(),d=l.fallback,S=s.mode,k=n.child,Y=k.sibling,l=fi(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,Y!==null?d=fi(Y,d):(d=da(d,S,a,null),d.flags|=2),d.return=s,l.return=s,l.sibling=d,s.child=l,l=d,d=s.child,S=n.child.memoizedState,S===null?S=Nm(a):(k=S.cachePool,k!==null?(Y=Ft._currentValue,k=k.parent!==Y?{parent:Y,pool:Y}:k):k=Ov(),S={baseLanes:S.baseLanes|a,cachePool:k}),d.memoizedState=S,d.childLanes=Dm(n,b,a),s.memoizedState=Im,l):(Zi(s),a=n.child,n=a.sibling,a=fi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(b=s.deletions,b===null?(s.deletions=[n],s.flags|=16):b.push(n)),s.child=a,s.memoizedState=null,a)}function Om(n,s){return s=Ef({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Ef(n,s){return n=kn(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Pm(n,s,a){return wo(s,n.child,null,a),n=Om(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Q_(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),Wh(n.return,s,a)}function Mm(n,s,a,l,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function Y_(n,s,a){var l=s.pendingProps,d=l.revealOrder,m=l.tail;if(ln(n,s,l.children,a),l=Ht.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Q_(n,a,s);else if(n.tag===19)Q_(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(oe(Ht,l),d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&gf(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Mm(s,!1,d,a,m);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&gf(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Mm(s,!0,a,null,m);break;case"together":Mm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function vi(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),is|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Yl(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,a=fi(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=fi(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function km(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Ju(n)))}function V1(n,s,a){switch(s.tag){case 3:Se(s,s.stateNode.containerInfo),Qi(s,Ft,n.memoizedState.cache),Kl();break;case 27:case 5:je(s);break;case 4:Se(s,s.stateNode.containerInfo);break;case 10:Qi(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Zi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?K_(n,s,a):(Zi(s),n=vi(n,s,a),n!==null?n.sibling:null);Zi(s);break;case 19:var d=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Yl(n,s,a,!1),l=(a&s.childLanes)!==0),d){if(l)return Y_(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),oe(Ht,Ht.current),l)break;return null;case 22:case 23:return s.lanes=0,B_(n,s,a);case 24:Qi(s,Ft,n.memoizedState.cache)}return vi(n,s,a)}function $_(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Zt=!0;else{if(!km(n,a)&&(s.flags&128)===0)return Zt=!1,V1(n,s,a);Zt=(n.flags&131072)!==0}else Zt=!1,Ze&&(s.flags&1048576)!==0&&Av(s,Zu,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var l=s.elementType,d=l._init;if(l=d(l._payload),s.type=l,typeof l=="function")Hh(l)?(n=ba(l,n),s.tag=1,s=H_(null,s,l,n,a)):(s.tag=0,s=Cm(null,s,l,n,a));else{if(l!=null){if(d=l.$$typeof,d===Z){s.tag=11,s=L_(null,s,l,n,a);break e}else if(d===D){s.tag=14,s=U_(null,s,l,n,a);break e}}throw s=fe(l)||l,Error(i(306,s,""))}}return s;case 0:return Cm(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,d=ba(l,s.pendingProps),H_(n,s,l,d,a);case 3:e:{if(Se(s,s.stateNode.containerInfo),n===null)throw Error(i(387));l=s.pendingProps;var m=s.memoizedState;d=m.element,im(n,s),tc(s,l,null,a);var b=s.memoizedState;if(l=b.cache,Qi(s,Ft,l),l!==m.cache&&Zh(s,[Ft],a,!0),ec(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=G_(n,s,l,a);break e}else if(l!==d){d=Xn(Error(i(424)),s),Ql(d),s=G_(n,s,l,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(bt=mr(n.firstChild),xn=s,Ze=!0,pa=null,jr=!0,a=R_(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Kl(),l===d){s=vi(n,s,a);break e}ln(n,s,l,a)}s=s.child}return s;case 26:return _f(n,s),n===null?(a=J0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ze||(a=s.type,n=s.pendingProps,l=Mf(we.current).createElement(a),l[zt]=s,l[Dt]=n,un(l,a,n),At(l),s.stateNode=l):s.memoizedState=J0(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return je(s),n===null&&Ze&&(l=s.stateNode=X0(s.type,s.pendingProps,we.current),xn=s,jr=!0,d=bt,ls(s.type)?(pp=d,bt=mr(l.firstChild)):bt=d),ln(n,s,s.pendingProps.children,a),_f(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ze&&((d=l=bt)&&(l=uR(l,s.type,s.pendingProps,jr),l!==null?(s.stateNode=l,xn=s,bt=mr(l.firstChild),jr=!1,d=!0):d=!1),d||ga(s)),je(s),d=s.type,m=s.pendingProps,b=n!==null?n.memoizedProps:null,l=m.children,fp(d,m)?l=null:b!==null&&fp(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=um(n,s,C1,null,null,a),Tc._currentValue=d),_f(n,s),ln(n,s,l,a),s.child;case 6:return n===null&&Ze&&((n=a=bt)&&(a=fR(a,s.pendingProps,jr),a!==null?(s.stateNode=a,xn=s,bt=null,n=!0):n=!1),n||ga(s)),null;case 13:return K_(n,s,a);case 4:return Se(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=wo(s,null,l,a):ln(n,s,l,a),s.child;case 11:return L_(n,s,s.type,s.pendingProps,a);case 7:return ln(n,s,s.pendingProps,a),s.child;case 8:return ln(n,s,s.pendingProps.children,a),s.child;case 12:return ln(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Qi(s,s.type,l.value),ln(n,s,l.children,a),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,va(s),d=gn(d),l=l(d),s.flags|=1,ln(n,s,l,a),s.child;case 14:return U_(n,s,s.type,s.pendingProps,a);case 15:return z_(n,s,s.type,s.pendingProps,a);case 19:return Y_(n,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},n===null?(a=Ef(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=fi(n.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return B_(n,s,a);case 24:return va(s),l=gn(Ft),n===null?(d=tm(),d===null&&(d=ft,m=Jh(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),s.memoizedState={parent:l,cache:d},rm(s),Qi(s,Ft,d)):((n.lanes&a)!==0&&(im(n,s),tc(s,null,null,a),ec()),d=n.memoizedState,m=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Qi(s,Ft,l)):(l=m.cache,Qi(s,Ft,l),l!==d.cache&&Zh(s,[Ft],a,!0))),ln(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function _i(n){n.flags|=4}function X_(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!iE(s)){if(s=er.current,s!==null&&((Ye&4194048)===Ye?Lr!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||s!==Lr))throw Zl=nm,Pv;n.flags|=8192}}function bf(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Al():536870912,n.lanes|=s,xo|=s)}function lc(n,s){if(!Ze)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function vt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function j1(n,s,a){var l=s.pendingProps;switch(Yh(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(s),null;case 1:return vt(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),pi(Ft),Xe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Gl(s)?_i(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Cv())),vt(s),null;case 26:return a=s.memoizedState,n===null?(_i(s),a!==null?(vt(s),X_(s,a)):(vt(s),s.flags&=-16777217)):a?a!==n.memoizedState?(_i(s),vt(s),X_(s,a)):(vt(s),s.flags&=-16777217):(n.memoizedProps!==l&&_i(s),vt(s),s.flags&=-16777217),null;case 27:Me(s),a=we.current;var d=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==l&&_i(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return vt(s),null}n=pe.current,Gl(s)?xv(s):(n=X0(d,l,a),s.stateNode=n,_i(s))}return vt(s),null;case 5:if(Me(s),a=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&_i(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return vt(s),null}if(n=pe.current,Gl(s))xv(s);else{switch(d=Mf(we.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}n[zt]=s,n[Dt]=l;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=n;e:switch(un(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&_i(s)}}return vt(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&_i(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(n=we.current,Gl(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,d=xn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}n[zt]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||F0(n.nodeValue,a)),n||ga(s)}else n=Mf(n).createTextNode(l),n[zt]=s,s.stateNode=n}return vt(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Gl(s),l!==null&&l.dehydrated!==null){if(n===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[zt]=s}else Kl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vt(s),d=!1}else d=Cv(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(yi(s),s):(yi(s),null)}if(yi(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==n&&a&&(s.child.flags|=8192),bf(s,s.updateQueue),vt(s),null;case 4:return Xe(),n===null&&ap(s.stateNode.containerInfo),vt(s),null;case 10:return pi(s.type),vt(s),null;case 19:if(ue(Ht),d=s.memoizedState,d===null)return vt(s),null;if(l=(s.flags&128)!==0,m=d.rendering,m===null)if(l)lc(d,!1);else{if(wt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=gf(n),m!==null){for(s.flags|=128,lc(d,!1),n=m.updateQueue,s.updateQueue=n,bf(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Sv(a,n),a=a.sibling;return oe(Ht,Ht.current&1|2),s.child}n=n.sibling}d.tail!==null&&$t()>Sf&&(s.flags|=128,l=!0,lc(d,!1),s.lanes=4194304)}else{if(!l)if(n=gf(m),n!==null){if(s.flags|=128,l=!0,n=n.updateQueue,s.updateQueue=n,bf(s,n),lc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Ze)return vt(s),null}else 2*$t()-d.renderingStartTime>Sf&&a!==536870912&&(s.flags|=128,l=!0,lc(d,!1),s.lanes=4194304);d.isBackwards?(m.sibling=s.child,s.child=m):(n=d.last,n!==null?n.sibling=m:s.child=m,d.last=m)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=$t(),s.sibling=null,n=Ht.current,oe(Ht,l?n&1|2:n&1),s):(vt(s),null);case 22:case 23:return yi(s),lm(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(vt(s),s.subtreeFlags&6&&(s.flags|=8192)):vt(s),a=s.updateQueue,a!==null&&bf(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&ue(_a),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),pi(Ft),vt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function L1(n,s){switch(Yh(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return pi(Ft),Xe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Me(s),null;case 13:if(yi(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Kl()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ue(Ht),null;case 4:return Xe(),null;case 10:return pi(s.type),null;case 22:case 23:return yi(s),lm(),n!==null&&ue(_a),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return pi(Ft),null;case 25:return null;default:return null}}function W_(n,s){switch(Yh(s),s.tag){case 3:pi(Ft),Xe();break;case 26:case 27:case 5:Me(s);break;case 4:Xe();break;case 13:yi(s);break;case 19:ue(Ht);break;case 10:pi(s.type);break;case 22:case 23:yi(s),lm(),n!==null&&ue(_a);break;case 24:pi(Ft)}}function cc(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&n)===n){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==d)}}catch(S){ut(s,s.return,S)}}function es(n,s,a){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&n)===n){var b=l.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,d=s;var k=a,Y=S;try{Y()}catch(te){ut(d,k,te)}}}l=l.next}while(l!==m)}}catch(te){ut(s,s.return,te)}}function Z_(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Uv(s,a)}catch(l){ut(n,n.return,l)}}}function J_(n,s,a){a.props=ba(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ut(n,s,l)}}function uc(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(d){ut(n,s,d)}}function Ur(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){ut(n,s,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){ut(n,s,d)}else a.current=null}function e0(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){ut(n,n.return,d)}}function Vm(n,s,a){try{var l=n.stateNode;sR(l,n.type,a,s),l[Dt]=s}catch(d){ut(n,n.return,d)}}function t0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ls(n.type)||n.tag===4}function jm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||t0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ls(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Lm(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Pf));else if(l!==4&&(l===27&&ls(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(Lm(n,s,a),n=n.sibling;n!==null;)Lm(n,s,a),n=n.sibling}function wf(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&ls(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(wf(n,s,a),n=n.sibling;n!==null;)wf(n,s,a),n=n.sibling}function n0(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);un(s,l,a),s[zt]=n,s[Dt]=a}catch(m){ut(n,n.return,m)}}var Ei=!1,Rt=!1,Um=!1,r0=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function U1(n,s){if(n=n.containerInfo,cp=zf,n=mv(n),jh(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,S=-1,k=-1,Y=0,te=0,ae=n,$=null;t:for(;;){for(var X;ae!==a||d!==0&&ae.nodeType!==3||(S=b+d),ae!==m||l!==0&&ae.nodeType!==3||(k=b+l),ae.nodeType===3&&(b+=ae.nodeValue.length),(X=ae.firstChild)!==null;)$=ae,ae=X;for(;;){if(ae===n)break t;if($===a&&++Y===d&&(S=b),$===m&&++te===l&&(k=b),(X=ae.nextSibling)!==null)break;ae=$,$=ae.parentNode}ae=X}a=S===-1||k===-1?null:{start:S,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(up={focusedElem:n,selectionRange:a},zf=!1,Jt=s;Jt!==null;)if(s=Jt,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,Jt=n;else for(;Jt!==null;){switch(s=Jt,m=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=s,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var De=ba(a.type,d,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(De,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(xe){ut(a,a.return,xe)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)hp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":hp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,Jt=n;break}Jt=s.return}}function i0(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ts(n,a),l&4&&cc(5,a);break;case 1:if(ts(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(b){ut(a,a.return,b)}else{var d=ba(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(d,s,n.__reactInternalSnapshotBeforeUpdate)}catch(b){ut(a,a.return,b)}}l&64&&Z_(a),l&512&&uc(a,a.return);break;case 3:if(ts(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Uv(n,s)}catch(b){ut(a,a.return,b)}}break;case 27:s===null&&l&4&&n0(a);case 26:case 5:ts(n,a),s===null&&l&4&&e0(a),l&512&&uc(a,a.return);break;case 12:ts(n,a);break;case 13:ts(n,a),l&4&&o0(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Y1.bind(null,a),dR(n,a))));break;case 22:if(l=a.memoizedState!==null||Ei,!l){s=s!==null&&s.memoizedState!==null||Rt,d=Ei;var m=Rt;Ei=l,(Rt=s)&&!m?ns(n,a,(a.subtreeFlags&8772)!==0):ts(n,a),Ei=d,Rt=m}break;case 30:break;default:ts(n,a)}}function s0(n){var s=n.alternate;s!==null&&(n.alternate=null,s0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Fi(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var yt=null,Cn=!1;function bi(n,s,a){for(a=a.child;a!==null;)a0(n,s,a),a=a.sibling}function a0(n,s,a){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(Et,a)}catch{}switch(a.tag){case 26:Rt||Ur(a,s),bi(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Ur(a,s);var l=yt,d=Cn;ls(a.type)&&(yt=a.stateNode,Cn=!1),bi(n,s,a),_c(a.stateNode),yt=l,Cn=d;break;case 5:Rt||Ur(a,s);case 6:if(l=yt,d=Cn,yt=null,bi(n,s,a),yt=l,Cn=d,yt!==null)if(Cn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(m){ut(a,s,m)}else try{yt.removeChild(a.stateNode)}catch(m){ut(a,s,m)}break;case 18:yt!==null&&(Cn?(n=yt,Y0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Rc(n)):Y0(yt,a.stateNode));break;case 4:l=yt,d=Cn,yt=a.stateNode.containerInfo,Cn=!0,bi(n,s,a),yt=l,Cn=d;break;case 0:case 11:case 14:case 15:Rt||es(2,a,s),Rt||es(4,a,s),bi(n,s,a);break;case 1:Rt||(Ur(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&J_(a,s,l)),bi(n,s,a);break;case 21:bi(n,s,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,bi(n,s,a),Rt=l;break;default:bi(n,s,a)}}function o0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Rc(n)}catch(a){ut(s,s.return,a)}}function z1(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new r0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new r0),s;default:throw Error(i(435,n.tag))}}function zm(n,s){var a=z1(n);s.forEach(function(l){var d=$1.bind(null,n,l);a.has(l)||(a.add(l),l.then(d,d))})}function Vn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=n,b=s,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(ls(S.type)){yt=S.stateNode,Cn=!1;break e}break;case 5:yt=S.stateNode,Cn=!1;break e;case 3:case 4:yt=S.stateNode.containerInfo,Cn=!0;break e}S=S.return}if(yt===null)throw Error(i(160));a0(m,b,d),yt=null,Cn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)l0(s,n),s=s.sibling}var hr=null;function l0(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Vn(s,n),jn(n),l&4&&(es(3,n,n.return),cc(3,n),es(5,n,n.return));break;case 1:Vn(s,n),jn(n),l&512&&(Rt||a===null||Ur(a,a.return)),l&64&&Ei&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=hr;if(Vn(s,n),jn(n),l&512&&(Rt||a===null||Ur(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Xs]||m[zt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),un(m,l,a),m[zt]=n,At(m),l=m;break e;case"link":var b=nE("link","href",d).get(l+(a.href||""));if(b){for(var S=0;S<b.length;S++)if(m=b[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(S,1);break t}}m=d.createElement(l),un(m,l,a),d.head.appendChild(m);break;case"meta":if(b=nE("meta","content",d).get(l+(a.content||""))){for(S=0;S<b.length;S++)if(m=b[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(S,1);break t}}m=d.createElement(l),un(m,l,a),d.head.appendChild(m);break;default:throw Error(i(468,l))}m[zt]=n,At(m),l=m}n.stateNode=l}else rE(d,n.type,n.stateNode);else n.stateNode=tE(d,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?rE(d,n.type,n.stateNode):tE(d,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Vm(n,n.memoizedProps,a.memoizedProps)}break;case 27:Vn(s,n),jn(n),l&512&&(Rt||a===null||Ur(a,a.return)),a!==null&&l&4&&Vm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Vn(s,n),jn(n),l&512&&(Rt||a===null||Ur(a,a.return)),n.flags&32){d=n.stateNode;try{Kn(d,"")}catch(X){ut(n,n.return,X)}}l&4&&n.stateNode!=null&&(d=n.memoizedProps,Vm(n,d,a!==null?a.memoizedProps:d)),l&1024&&(Um=!0);break;case 6:if(Vn(s,n),jn(n),l&4){if(n.stateNode===null)throw Error(i(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(X){ut(n,n.return,X)}}break;case 3:if(jf=null,d=hr,hr=kf(s.containerInfo),Vn(s,n),hr=d,jn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Rc(s.containerInfo)}catch(X){ut(n,n.return,X)}Um&&(Um=!1,c0(n));break;case 4:l=hr,hr=kf(n.stateNode.containerInfo),Vn(s,n),jn(n),hr=l;break;case 12:Vn(s,n),jn(n);break;case 13:Vn(s,n),jn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Km=$t()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,zm(n,l)));break;case 22:d=n.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,Y=Ei,te=Rt;if(Ei=Y||d,Rt=te||k,Vn(s,n),Rt=te,Ei=Y,jn(n),l&8192)e:for(s=n.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||k||Ei||Rt||wa(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){k=a=s;try{if(m=k.stateNode,d)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=k.stateNode;var ae=k.memoizedProps.style,$=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(X){ut(k,k.return,X)}}}else if(s.tag===6){if(a===null){k=s;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(X){ut(k,k.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,zm(n,a))));break;case 19:Vn(s,n),jn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,zm(n,l)));break;case 30:break;case 21:break;default:Vn(s,n),jn(n)}}function jn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(t0(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var d=a.stateNode,m=jm(n);wf(n,m,d);break;case 5:var b=a.stateNode;a.flags&32&&(Kn(b,""),a.flags&=-33);var S=jm(n);wf(n,S,b);break;case 3:case 4:var k=a.stateNode.containerInfo,Y=jm(n);Lm(n,Y,k);break;default:throw Error(i(161))}}catch(te){ut(n,n.return,te)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function c0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;c0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function ts(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)i0(n,s.alternate,s),s=s.sibling}function wa(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:es(4,s,s.return),wa(s);break;case 1:Ur(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&J_(s,s.return,a),wa(s);break;case 27:_c(s.stateNode);case 26:case 5:Ur(s,s.return),wa(s);break;case 22:s.memoizedState===null&&wa(s);break;case 30:wa(s);break;default:wa(s)}n=n.sibling}}function ns(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=n,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:ns(d,m,a),cc(4,m);break;case 1:if(ns(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Y){ut(l,l.return,Y)}if(l=m,d=l.updateQueue,d!==null){var S=l.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)Lv(k[d],S)}catch(Y){ut(l,l.return,Y)}}a&&b&64&&Z_(m),uc(m,m.return);break;case 27:n0(m);case 26:case 5:ns(d,m,a),a&&l===null&&b&4&&e0(m),uc(m,m.return);break;case 12:ns(d,m,a);break;case 13:ns(d,m,a),a&&b&4&&o0(d,m);break;case 22:m.memoizedState===null&&ns(d,m,a),uc(m,m.return);break;case 30:break;default:ns(d,m,a)}s=s.sibling}}function Bm(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&$l(a))}function qm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&$l(n))}function zr(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)u0(n,s,a,l),s=s.sibling}function u0(n,s,a,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:zr(n,s,a,l),d&2048&&cc(9,s);break;case 1:zr(n,s,a,l);break;case 3:zr(n,s,a,l),d&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&$l(n)));break;case 12:if(d&2048){zr(n,s,a,l),n=s.stateNode;try{var m=s.memoizedProps,b=m.id,S=m.onPostCommit;typeof S=="function"&&S(b,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){ut(s,s.return,k)}}else zr(n,s,a,l);break;case 13:zr(n,s,a,l);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?zr(n,s,a,l):fc(n,s):m._visibility&2?zr(n,s,a,l):(m._visibility|=2,To(n,s,a,l,(s.subtreeFlags&10256)!==0)),d&2048&&Bm(b,s);break;case 24:zr(n,s,a,l),d&2048&&qm(s.alternate,s);break;default:zr(n,s,a,l)}}function To(n,s,a,l,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=n,b=s,S=a,k=l,Y=b.flags;switch(b.tag){case 0:case 11:case 15:To(m,b,S,k,d),cc(8,b);break;case 23:break;case 22:var te=b.stateNode;b.memoizedState!==null?te._visibility&2?To(m,b,S,k,d):fc(m,b):(te._visibility|=2,To(m,b,S,k,d)),d&&Y&2048&&Bm(b.alternate,b);break;case 24:To(m,b,S,k,d),d&&Y&2048&&qm(b.alternate,b);break;default:To(m,b,S,k,d)}s=s.sibling}}function fc(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,d=l.flags;switch(l.tag){case 22:fc(a,l),d&2048&&Bm(l.alternate,l);break;case 24:fc(a,l),d&2048&&qm(l.alternate,l);break;default:fc(a,l)}s=s.sibling}}var dc=8192;function So(n){if(n.subtreeFlags&dc)for(n=n.child;n!==null;)f0(n),n=n.sibling}function f0(n){switch(n.tag){case 26:So(n),n.flags&dc&&n.memoizedState!==null&&AR(hr,n.memoizedState,n.memoizedProps);break;case 5:So(n);break;case 3:case 4:var s=hr;hr=kf(n.stateNode.containerInfo),So(n),hr=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=dc,dc=16777216,So(n),dc=s):So(n));break;default:So(n)}}function d0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function hc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Jt=l,m0(l,n)}d0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)h0(n),n=n.sibling}function h0(n){switch(n.tag){case 0:case 11:case 15:hc(n),n.flags&2048&&es(9,n,n.return);break;case 3:hc(n);break;case 12:hc(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Tf(n)):hc(n);break;default:hc(n)}}function Tf(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Jt=l,m0(l,n)}d0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:es(8,s,s.return),Tf(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Tf(s));break;default:Tf(s)}n=n.sibling}}function m0(n,s){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:es(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$l(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Jt=l;else e:for(a=n;Jt!==null;){l=Jt;var d=l.sibling,m=l.return;if(s0(l),l===a){Jt=null;break e}if(d!==null){d.return=m,Jt=d;break e}Jt=m}}}var B1={getCacheForType:function(n){var s=gn(Ft),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a}},q1=typeof WeakMap=="function"?WeakMap:Map,it=0,ft=null,Be=null,Ye=0,st=0,Ln=null,rs=!1,Ao=!1,Fm=!1,wi=0,wt=0,is=0,Ta=0,Hm=0,tr=0,xo=0,mc=null,In=null,Gm=!1,Km=0,Sf=1/0,Af=null,ss=null,cn=0,as=null,Ro=null,Co=0,Qm=0,Ym=null,p0=null,pc=0,$m=null;function Un(){if((it&2)!==0&&Ye!==0)return Ye&-Ye;if(q.T!==null){var n=po;return n!==0?n:np()}return Bi()}function g0(){tr===0&&(tr=(Ye&536870912)===0||Ze?Sl():536870912);var n=er.current;return n!==null&&(n.flags|=32),tr}function zn(n,s,a){(n===ft&&(st===2||st===9)||n.cancelPendingCommit!==null)&&(Io(n,0),os(n,Ye,tr,!1)),ei(n,a),((it&2)===0||n!==ft)&&(n===ft&&((it&2)===0&&(Ta|=a),wt===4&&os(n,Ye,tr,!1)),Br(n))}function y0(n,s,a){if((it&6)!==0)throw Error(i(327));var l=!a&&(s&124)===0&&(s&n.expiredLanes)===0||$s(n,s),d=l?G1(n,s):Zm(n,s,!0),m=l;do{if(d===0){Ao&&!l&&os(n,s,0,!1);break}else{if(a=n.current.alternate,m&&!F1(a)){d=Zm(n,s,!1),m=!1;continue}if(d===2){if(m=s,n.errorRecoveryDisabledLanes&m)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var S=n;d=mc;var k=S.current.memoizedState.isDehydrated;if(k&&(Io(S,b).flags|=256),b=Zm(S,b,!1),b!==2){if(Fm&&!k){S.errorRecoveryDisabledLanes|=m,Ta|=m,d=4;break e}m=In,In=d,m!==null&&(In===null?In=m:In.push.apply(In,m))}d=b}if(m=!1,d!==2)continue}}if(d===1){Io(n,0),os(n,s,0,!0);break}e:{switch(l=n,m=d,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:os(l,s,tr,!rs);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Km+300-$t(),10<d)){if(os(l,s,tr,!rs),Ga(l,0,!0)!==0)break e;l.timeoutHandle=K0(v0.bind(null,l,a,In,Af,Gm,s,tr,Ta,xo,rs,m,2,-0,0),d);break e}v0(l,a,In,Af,Gm,s,tr,Ta,xo,rs,m,0,-0,0)}}break}while(!0);Br(n)}function v0(n,s,a,l,d,m,b,S,k,Y,te,ae,$,X){if(n.timeoutHandle=-1,ae=s.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(wc={stylesheets:null,count:0,unsuspend:SR},f0(s),ae=xR(),ae!==null)){n.cancelPendingCommit=ae(A0.bind(null,n,s,m,a,l,d,b,S,k,te,1,$,X)),os(n,m,b,!Y);return}A0(n,s,m,a,l,d,b,S,k)}function F1(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!Mn(m(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function os(n,s,a,l){s&=~Hm,s&=~Ta,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var d=s;0<d;){var m=31-pn(d),b=1<<m;l[m]=-1,d&=~b}a!==0&&xr(n,a,s)}function xf(){return(it&6)===0?(gc(0),!1):!0}function Xm(){if(Be!==null){if(st===0)var n=Be.return;else n=Be,mi=ya=null,hm(n),bo=null,ac=0,n=Be;for(;n!==null;)W_(n.alternate,n),n=n.return;Be=null}}function Io(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,oR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Xm(),ft=n,Be=a=fi(n.current,null),Ye=s,st=0,Ln=null,rs=!1,Ao=$s(n,s),Fm=!1,xo=tr=Hm=Ta=is=wt=0,In=mc=null,Gm=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var d=31-pn(l),m=1<<d;s|=n[d],l&=~m}return wi=s,Qu(),a}function _0(n,s){Le=null,q.H=hf,s===Wl||s===nf?(s=Vv(),st=3):s===Pv?(s=Vv(),st=4):st=s===j_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ln=s,Be===null&&(wt=1,vf(n,Xn(s,n.current)))}function E0(){var n=q.H;return q.H=hf,n===null?hf:n}function b0(){var n=q.A;return q.A=B1,n}function Wm(){wt=4,rs||(Ye&4194048)!==Ye&&er.current!==null||(Ao=!0),(is&134217727)===0&&(Ta&134217727)===0||ft===null||os(ft,Ye,tr,!1)}function Zm(n,s,a){var l=it;it|=2;var d=E0(),m=b0();(ft!==n||Ye!==s)&&(Af=null,Io(n,s)),s=!1;var b=wt;e:do try{if(st!==0&&Be!==null){var S=Be,k=Ln;switch(st){case 8:Xm(),b=6;break e;case 3:case 2:case 9:case 6:er.current===null&&(s=!0);var Y=st;if(st=0,Ln=null,No(n,S,k,Y),a&&Ao){b=0;break e}break;default:Y=st,st=0,Ln=null,No(n,S,k,Y)}}H1(),b=wt;break}catch(te){_0(n,te)}while(!0);return s&&n.shellSuspendCounter++,mi=ya=null,it=l,q.H=d,q.A=m,Be===null&&(ft=null,Ye=0,Qu()),b}function H1(){for(;Be!==null;)w0(Be)}function G1(n,s){var a=it;it|=2;var l=E0(),d=b0();ft!==n||Ye!==s?(Af=null,Sf=$t()+500,Io(n,s)):Ao=$s(n,s);e:do try{if(st!==0&&Be!==null){s=Be;var m=Ln;t:switch(st){case 1:st=0,Ln=null,No(n,s,m,1);break;case 2:case 9:if(Mv(m)){st=0,Ln=null,T0(s);break}s=function(){st!==2&&st!==9||ft!==n||(st=7),Br(n)},m.then(s,s);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Mv(m)?(st=0,Ln=null,T0(s)):(st=0,Ln=null,No(n,s,m,7));break;case 5:var b=null;switch(Be.tag){case 26:b=Be.memoizedState;case 5:case 27:var S=Be;if(!b||iE(b)){st=0,Ln=null;var k=S.sibling;if(k!==null)Be=k;else{var Y=S.return;Y!==null?(Be=Y,Rf(Y)):Be=null}break t}}st=0,Ln=null,No(n,s,m,5);break;case 6:st=0,Ln=null,No(n,s,m,6);break;case 8:Xm(),wt=6;break e;default:throw Error(i(462))}}K1();break}catch(te){_0(n,te)}while(!0);return mi=ya=null,q.H=l,q.A=d,it=a,Be!==null?0:(ft=null,Ye=0,Qu(),wt)}function K1(){for(;Be!==null&&!lr();)w0(Be)}function w0(n){var s=$_(n.alternate,n,wi);n.memoizedProps=n.pendingProps,s===null?Rf(n):Be=s}function T0(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=F_(a,s,s.pendingProps,s.type,void 0,Ye);break;case 11:s=F_(a,s,s.pendingProps,s.type.render,s.ref,Ye);break;case 5:hm(s);default:W_(a,s),s=Be=Sv(s,wi),s=$_(a,s,wi)}n.memoizedProps=n.pendingProps,s===null?Rf(n):Be=s}function No(n,s,a,l){mi=ya=null,hm(s),bo=null,ac=0;var d=s.return;try{if(k1(n,d,s,a,Ye)){wt=1,vf(n,Xn(a,n.current)),Be=null;return}}catch(m){if(d!==null)throw Be=d,m;wt=1,vf(n,Xn(a,n.current)),Be=null;return}s.flags&32768?(Ze||l===1?n=!0:Ao||(Ye&536870912)!==0?n=!1:(rs=n=!0,(l===2||l===9||l===3||l===6)&&(l=er.current,l!==null&&l.tag===13&&(l.flags|=16384))),S0(s,n)):Rf(s)}function Rf(n){var s=n;do{if((s.flags&32768)!==0){S0(s,rs);return}n=s.return;var a=j1(s.alternate,s,wi);if(a!==null){Be=a;return}if(s=s.sibling,s!==null){Be=s;return}Be=s=n}while(s!==null);wt===0&&(wt=5)}function S0(n,s){do{var a=L1(n.alternate,n);if(a!==null){a.flags&=32767,Be=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Be=n;return}Be=n=a}while(n!==null);wt=6,Be=null}function A0(n,s,a,l,d,m,b,S,k){n.cancelPendingCommit=null;do Cf();while(cn!==0);if((it&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=qh,xl(n,a,m,b,S,k),n===ft&&(Be=ft=null,Ye=0),Ro=s,as=n,Co=a,Qm=m,Ym=d,p0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,X1(Gs,function(){return N0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,d=re.p,re.p=2,b=it,it|=4;try{U1(n,s,a)}finally{it=b,re.p=d,q.T=l}}cn=1,x0(),R0(),C0()}}function x0(){if(cn===1){cn=0;var n=as,s=Ro,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=re.p;re.p=2;var d=it;it|=4;try{l0(s,n);var m=up,b=mv(n.containerInfo),S=m.focusedElem,k=m.selectionRange;if(b!==S&&S&&S.ownerDocument&&hv(S.ownerDocument.documentElement,S)){if(k!==null&&jh(S)){var Y=k.start,te=k.end;if(te===void 0&&(te=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(te,S.value.length);else{var ae=S.ownerDocument||document,$=ae&&ae.defaultView||window;if($.getSelection){var X=$.getSelection(),De=S.textContent.length,xe=Math.min(k.start,De),ct=k.end===void 0?xe:Math.min(k.end,De);!X.extend&&xe>ct&&(b=ct,ct=xe,xe=b);var G=dv(S,xe),B=dv(S,ct);if(G&&B&&(X.rangeCount!==1||X.anchorNode!==G.node||X.anchorOffset!==G.offset||X.focusNode!==B.node||X.focusOffset!==B.offset)){var Q=ae.createRange();Q.setStart(G.node,G.offset),X.removeAllRanges(),xe>ct?(X.addRange(Q),X.extend(B.node,B.offset)):(Q.setEnd(B.node,B.offset),X.addRange(Q))}}}}for(ae=[],X=S;X=X.parentNode;)X.nodeType===1&&ae.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ae.length;S++){var ie=ae[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}zf=!!cp,up=cp=null}finally{it=d,re.p=l,q.T=a}}n.current=s,cn=2}}function R0(){if(cn===2){cn=0;var n=as,s=Ro,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=re.p;re.p=2;var d=it;it|=4;try{i0(n,s.alternate,s)}finally{it=d,re.p=l,q.T=a}}cn=3}}function C0(){if(cn===4||cn===3){cn=0,Sr();var n=as,s=Ro,a=Co,l=p0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?cn=5:(cn=0,Ro=as=null,I0(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(ss=null),Ka(a),s=s.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(Et,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=q.T,d=re.p,re.p=2,q.T=null;try{for(var m=n.onRecoverableError,b=0;b<l.length;b++){var S=l[b];m(S.value,{componentStack:S.stack})}}finally{q.T=s,re.p=d}}(Co&3)!==0&&Cf(),Br(n),d=n.pendingLanes,(a&4194090)!==0&&(d&42)!==0?n===$m?pc++:(pc=0,$m=n):pc=0,gc(0)}}function I0(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,$l(s)))}function Cf(n){return x0(),R0(),C0(),N0()}function N0(){if(cn!==5)return!1;var n=as,s=Qm;Qm=0;var a=Ka(Co),l=q.T,d=re.p;try{re.p=32>a?32:a,q.T=null,a=Ym,Ym=null;var m=as,b=Co;if(cn=0,Ro=as=null,Co=0,(it&6)!==0)throw Error(i(331));var S=it;if(it|=4,h0(m.current),u0(m,m.current,b,a),it=S,gc(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(Et,m)}catch{}return!0}finally{re.p=d,q.T=l,I0(n,s)}}function D0(n,s,a){s=Xn(a,s),s=Rm(n.stateNode,s,2),n=Xi(n,s,2),n!==null&&(ei(n,2),Br(n))}function ut(n,s,a){if(n.tag===3)D0(n,n,a);else for(;s!==null;){if(s.tag===3){D0(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ss===null||!ss.has(l))){n=Xn(a,n),a=k_(2),l=Xi(s,a,2),l!==null&&(V_(a,l,s,n),ei(l,2),Br(l));break}}s=s.return}}function Jm(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new q1;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(a)||(Fm=!0,d.add(a),n=Q1.bind(null,n,s,a),s.then(n,n))}function Q1(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ft===n&&(Ye&a)===a&&(wt===4||wt===3&&(Ye&62914560)===Ye&&300>$t()-Km?(it&2)===0&&Io(n,0):Hm|=a,xo===Ye&&(xo=0)),Br(n)}function O0(n,s){s===0&&(s=Al()),n=uo(n,s),n!==null&&(ei(n,s),Br(n))}function Y1(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),O0(n,a)}function $1(n,s){var a=0;switch(n.tag){case 13:var l=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),O0(n,a)}function X1(n,s){return St(n,s)}var If=null,Do=null,ep=!1,Nf=!1,tp=!1,Sa=0;function Br(n){n!==Do&&n.next===null&&(Do===null?If=Do=n:Do=Do.next=n),Nf=!0,ep||(ep=!0,Z1())}function gc(n,s){if(!tp&&Nf){tp=!0;do for(var a=!1,l=If;l!==null;){if(n!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var b=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-pn(42|n)+1)-1,m&=d&~(b&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,V0(l,m))}else m=Ye,m=Ga(l,l===ft?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||$s(l,m)||(a=!0,V0(l,m));l=l.next}while(a);tp=!1}}function W1(){P0()}function P0(){Nf=ep=!1;var n=0;Sa!==0&&(aR()&&(n=Sa),Sa=0);for(var s=$t(),a=null,l=If;l!==null;){var d=l.next,m=M0(l,s);m===0?(l.next=null,a===null?If=d:a.next=d,d===null&&(Do=a)):(a=l,(n!==0||(m&3)!==0)&&(Nf=!0)),l=d}gc(n)}function M0(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var b=31-pn(m),S=1<<b,k=d[b];k===-1?((S&a)===0||(S&l)!==0)&&(d[b]=Tl(S,s)):k<=s&&(n.expiredLanes|=S),m&=~S}if(s=ft,a=Ye,a=Ga(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(st===2||st===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Yt(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||$s(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Yt(l),Ka(a)){case 2:case 8:a=Fa;break;case 32:a=Gs;break;case 268435456:a=Ha;break;default:a=Gs}return l=k0.bind(null,n),a=St(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Yt(l),n.callbackPriority=2,n.callbackNode=null,2}function k0(n,s){if(cn!==0&&cn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Cf()&&n.callbackNode!==a)return null;var l=Ye;return l=Ga(n,n===ft?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(y0(n,l,s),M0(n,$t()),n.callbackNode!=null&&n.callbackNode===a?k0.bind(null,n):null)}function V0(n,s){if(Cf())return null;y0(n,s,!0)}function Z1(){lR(function(){(it&6)!==0?St(Ar,W1):P0()})}function np(){return Sa===0&&(Sa=Sl()),Sa}function j0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Za(""+n)}function L0(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function J1(n,s,a,l,d){if(s==="submit"&&a&&a.stateNode===d){var m=j0((d[Dt]||null).action),b=l.submitter;b&&(s=(s=b[Dt]||null)?j0(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var S=new Ja("action","action",null,l,d);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Sa!==0){var k=b?L0(d,b):new FormData(d);wm(a,{pending:!0,data:k,method:d.method,action:m},null,k)}}else typeof m=="function"&&(S.preventDefault(),k=b?L0(d,b):new FormData(d),wm(a,{pending:!0,data:k,method:d.method,action:m},m,k))},currentTarget:d}]})}}for(var rp=0;rp<Bh.length;rp++){var ip=Bh[rp],eR=ip.toLowerCase(),tR=ip[0].toUpperCase()+ip.slice(1);dr(eR,"on"+tR)}dr(yv,"onAnimationEnd"),dr(vv,"onAnimationIteration"),dr(_v,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(v1,"onTransitionRun"),dr(_1,"onTransitionStart"),dr(E1,"onTransitionCancel"),dr(Ev,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ur("onBeforeInput",["compositionend","keypress","textInput","paste"]),ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yc));function U0(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],d=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var b=l.length-1;0<=b;b--){var S=l[b],k=S.instance,Y=S.currentTarget;if(S=S.listener,k!==m&&d.isPropagationStopped())break e;m=S,d.currentTarget=Y;try{m(d)}catch(te){yf(te)}d.currentTarget=null,m=k}else for(b=0;b<l.length;b++){if(S=l[b],k=S.instance,Y=S.currentTarget,S=S.listener,k!==m&&d.isPropagationStopped())break e;m=S,d.currentTarget=Y;try{m(d)}catch(te){yf(te)}d.currentTarget=null,m=k}}}}function qe(n,s){var a=s[Cl];a===void 0&&(a=s[Cl]=new Set);var l=n+"__bubble";a.has(l)||(z0(s,n,2,!1),a.add(l))}function sp(n,s,a){var l=0;s&&(l|=4),z0(a,n,l,s)}var Df="_reactListening"+Math.random().toString(36).slice(2);function ap(n){if(!n[Df]){n[Df]=!0,Il.forEach(function(a){a!=="selectionchange"&&(nR.has(a)||sp(a,!1,n),sp(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Df]||(s[Df]=!0,sp("selectionchange",!1,s))}}function z0(n,s,a,l){switch(uE(s)){case 2:var d=IR;break;case 8:d=NR;break;default:d=Ep}a=d.bind(null,s,a,n),d=void 0,!Yn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function op(n,s,a,l,d){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var S=l.stateNode.containerInfo;if(S===d)break;if(b===4)for(b=l.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;S!==null;){if(b=ti(S),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){l=m=b;continue e}S=S.parentNode}}l=l.return}Ou(function(){var Y=m,te=Qn(a),ae=[];e:{var $=bv.get(n);if($!==void 0){var X=Ja,De=n;switch(n){case"keypress":if(Or(a)===0)break e;case"keydown":case"keyup":X=so;break;case"focusin":De="focus",X=no;break;case"focusout":De="blur",X=no;break;case"beforeblur":case"afterblur":X=no;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=$n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Ph;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=zu;break;case yv:case vv:case _v:X=ro;break;case Ev:X=qu;break;case"scroll":case"scrollend":X=Pu;break;case"wheel":X=ao;break;case"copy":case"cut":case"paste":X=io;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Bl;break;case"toggle":case"beforetoggle":X=Hu}var xe=(s&4)!==0,ct=!xe&&(n==="scroll"||n==="scrollend"),G=xe?$!==null?$+"Capture":null:$;xe=[];for(var B=Y,Q;B!==null;){var ie=B;if(Q=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Q===null||G===null||(ie=ra(B,G),ie!=null&&xe.push(vc(B,ie,Q))),ct)break;B=B.return}0<xe.length&&($=new X($,De,null,a,te),ae.push({event:$,listeners:xe}))}}if((s&7)===0){e:{if($=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",$&&a!==si&&(De=a.relatedTarget||a.fromElement)&&(ti(De)||De[Gn]))break e;if((X||$)&&($=te.window===te?te:($=te.ownerDocument)?$.defaultView||$.parentWindow:window,X?(De=a.relatedTarget||a.toElement,X=Y,De=De?ti(De):null,De!==null&&(ct=c(De),xe=De.tag,De!==ct||xe!==5&&xe!==27&&xe!==6)&&(De=null)):(X=null,De=Y),X!==De)){if(xe=$n,ie="onMouseLeave",G="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(xe=Bl,ie="onPointerLeave",G="onPointerEnter",B="pointer"),ct=X==null?$:Cr(X),Q=De==null?$:Cr(De),$=new xe(ie,B+"leave",X,a,te),$.target=ct,$.relatedTarget=Q,ie=null,ti(te)===Y&&(xe=new xe(G,B+"enter",De,a,te),xe.target=Q,xe.relatedTarget=ct,ie=xe),ct=ie,X&&De)t:{for(xe=X,G=De,B=0,Q=xe;Q;Q=Oo(Q))B++;for(Q=0,ie=G;ie;ie=Oo(ie))Q++;for(;0<B-Q;)xe=Oo(xe),B--;for(;0<Q-B;)G=Oo(G),Q--;for(;B--;){if(xe===G||G!==null&&xe===G.alternate)break t;xe=Oo(xe),G=Oo(G)}xe=null}else xe=null;X!==null&&B0(ae,$,X,xe,!1),De!==null&&ct!==null&&B0(ae,ct,De,xe,!0)}}e:{if($=Y?Cr(Y):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var ve=av;else if(qt($))if(ov)ve=p1;else{ve=h1;var ze=d1}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&Ml(Y.elementType)&&(ve=av):ve=m1;if(ve&&(ve=ve(n,Y))){ui(ae,ve,a,te);break e}ze&&ze(n,$,Y),n==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&Gi($,"number",$.value)}switch(ze=Y?Cr(Y):window,n){case"focusin":(qt(ze)||ze.contentEditable==="true")&&(oo=ze,Lh=Y,Hl=null);break;case"focusout":Hl=Lh=oo=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,pv(ae,a,te);break;case"selectionchange":if(y1)break;case"keydown":case"keyup":pv(ae,a,te)}var Te;if(kr)e:{switch(n){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ke?J(n,a)&&(Ce="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(E&&a.locale!=="ko"&&(Ke||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ke&&(Te=Vl()):(Dr=te,Ki="value"in Dr?Dr.value:Dr.textContent,Ke=!0)),ze=Of(Y,Ce),0<ze.length&&(Ce=new Ul(Ce,n,null,a,te),ae.push({event:Ce,listeners:ze}),Te?Ce.data=Te:(Te=he(a),Te!==null&&(Ce.data=Te)))),(Te=y?Bt(n,a):Qe(n,a))&&(Ce=Of(Y,"onBeforeInput"),0<Ce.length&&(ze=new Ul("onBeforeInput","beforeinput",null,a,te),ae.push({event:ze,listeners:Ce}),ze.data=Te)),J1(ae,n,Y,a,te)}U0(ae,s)})}function vc(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Of(n,s){for(var a=s+"Capture",l=[];n!==null;){var d=n,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=ra(n,a),d!=null&&l.unshift(vc(n,d,m)),d=ra(n,s),d!=null&&l.push(vc(n,d,m))),n.tag===3)return l;n=n.return}return[]}function Oo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function B0(n,s,a,l,d){for(var m=s._reactName,b=[];a!==null&&a!==l;){var S=a,k=S.alternate,Y=S.stateNode;if(S=S.tag,k!==null&&k===l)break;S!==5&&S!==26&&S!==27||Y===null||(k=Y,d?(Y=ra(a,m),Y!=null&&b.unshift(vc(a,Y,k))):d||(Y=ra(a,m),Y!=null&&b.push(vc(a,Y,k)))),a=a.return}b.length!==0&&n.push({event:s,listeners:b})}var rR=/\r\n?/g,iR=/\u0000|\uFFFD/g;function q0(n){return(typeof n=="string"?n:""+n).replace(rR,`
`).replace(iR,"")}function F0(n,s){return s=q0(s),q0(n)===s}function Pf(){}function lt(n,s,a,l,d,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Kn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Kn(n,""+l);break;case"className":Ir(n,"class",l);break;case"tabIndex":Ir(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ir(n,a,l);break;case"style":Pl(n,l,m);break;case"data":if(s!=="object"){Ir(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Za(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&lt(n,s,"name",d.name,d,null),lt(n,s,"formEncType",d.formEncType,d,null),lt(n,s,"formMethod",d.formMethod,d,null),lt(n,s,"formTarget",d.formTarget,d,null)):(lt(n,s,"encType",d.encType,d,null),lt(n,s,"method",d.method,d,null),lt(n,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Za(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Pf);break;case"onScroll":l!=null&&qe("scroll",n);break;case"onScrollEnd":l!=null&&qe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Za(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":qe("beforetoggle",n),qe("toggle",n),Hi(n,"popover",l);break;case"xlinkActuate":an(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":an(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":an(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":an(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":an(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":an(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":an(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":an(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":an(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hi(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Dh.get(a)||a,Hi(n,a,l))}}function lp(n,s,a,l,d,m){switch(a){case"style":Pl(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Kn(n,l):(typeof l=="number"||typeof l=="bigint")&&Kn(n,""+l);break;case"onScroll":l!=null&&qe("scroll",n);break;case"onScrollEnd":l!=null&&qe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Pf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),m=n[Dt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(s,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,d);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Hi(n,a,l)}}}function un(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",n),qe("load",n);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:lt(n,s,m,b,a,null)}}d&&lt(n,s,"srcSet",a.srcSet,a,null),l&&lt(n,s,"src",a.src,a,null);return;case"input":qe("invalid",n);var S=m=b=d=null,k=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":d=te;break;case"type":b=te;break;case"checked":k=te;break;case"defaultChecked":Y=te;break;case"value":m=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:lt(n,s,l,te,a,null)}}ea(n,m,S,k,Y,b,d,!1),Wa(n);return;case"select":qe("invalid",n),l=b=m=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":m=S;break;case"defaultValue":b=S;break;case"multiple":l=S;default:lt(n,s,d,S,a,null)}s=m,a=b,n.multiple=!!l,s!=null?ii(n,!!l,s,!1):a!=null&&ii(n,!!l,a,!0);return;case"textarea":qe("invalid",n),m=d=l=null;for(b in a)if(a.hasOwnProperty(b)&&(S=a[b],S!=null))switch(b){case"value":l=S;break;case"defaultValue":d=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:lt(n,s,b,S,a,null)}ta(n,l,d,m),Wa(n);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:lt(n,s,k,l,a,null)}return;case"dialog":qe("beforetoggle",n),qe("toggle",n),qe("cancel",n),qe("close",n);break;case"iframe":case"object":qe("load",n);break;case"video":case"audio":for(l=0;l<yc.length;l++)qe(yc[l],n);break;case"image":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"embed":case"source":case"link":qe("error",n),qe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:lt(n,s,Y,l,a,null)}return;default:if(Ml(s)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&lp(n,s,te,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&lt(n,s,S,l,a,null))}function sR(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,b=null,S=null,k=null,Y=null,te=null;for(X in a){var ae=a[X];if(a.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":k=ae;default:l.hasOwnProperty(X)||lt(n,s,X,null,l,ae)}}for(var $ in l){var X=l[$];if(ae=a[$],l.hasOwnProperty($)&&(X!=null||ae!=null))switch($){case"type":m=X;break;case"name":d=X;break;case"checked":Y=X;break;case"defaultChecked":te=X;break;case"value":b=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:X!==ae&&lt(n,s,$,X,l,ae)}}Pn(n,b,S,k,Y,te,m,d);return;case"select":X=b=S=$=null;for(m in a)if(k=a[m],a.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":X=k;default:l.hasOwnProperty(m)||lt(n,s,m,null,l,k)}for(d in l)if(m=l[d],k=a[d],l.hasOwnProperty(d)&&(m!=null||k!=null))switch(d){case"value":$=m;break;case"defaultValue":S=m;break;case"multiple":b=m;default:m!==k&&lt(n,s,d,m,l,k)}s=S,a=b,l=X,$!=null?ii(n,!!a,$,!1):!!l!=!!a&&(s!=null?ii(n,!!a,s,!0):ii(n,!!a,a?[]:"",!1));return;case"textarea":X=$=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:lt(n,s,S,null,l,d)}for(b in l)if(d=l[b],m=a[b],l.hasOwnProperty(b)&&(d!=null||m!=null))switch(b){case"value":$=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==m&&lt(n,s,b,d,l,m)}at(n,$,X);return;case"option":for(var De in a)if($=a[De],a.hasOwnProperty(De)&&$!=null&&!l.hasOwnProperty(De))switch(De){case"selected":n.selected=!1;break;default:lt(n,s,De,null,l,$)}for(k in l)if($=l[k],X=a[k],l.hasOwnProperty(k)&&$!==X&&($!=null||X!=null))switch(k){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:lt(n,s,k,$,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)$=a[xe],a.hasOwnProperty(xe)&&$!=null&&!l.hasOwnProperty(xe)&&lt(n,s,xe,null,l,$);for(Y in l)if($=l[Y],X=a[Y],l.hasOwnProperty(Y)&&$!==X&&($!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,s));break;default:lt(n,s,Y,$,l,X)}return;default:if(Ml(s)){for(var ct in a)$=a[ct],a.hasOwnProperty(ct)&&$!==void 0&&!l.hasOwnProperty(ct)&&lp(n,s,ct,void 0,l,$);for(te in l)$=l[te],X=a[te],!l.hasOwnProperty(te)||$===X||$===void 0&&X===void 0||lp(n,s,te,$,l,X);return}}for(var G in a)$=a[G],a.hasOwnProperty(G)&&$!=null&&!l.hasOwnProperty(G)&&lt(n,s,G,null,l,$);for(ae in l)$=l[ae],X=a[ae],!l.hasOwnProperty(ae)||$===X||$==null&&X==null||lt(n,s,ae,$,l,X)}var cp=null,up=null;function Mf(n){return n.nodeType===9?n:n.ownerDocument}function H0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G0(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function fp(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dp=null;function aR(){var n=window.event;return n&&n.type==="popstate"?n===dp?!1:(dp=n,!0):(dp=null,!1)}var K0=typeof setTimeout=="function"?setTimeout:void 0,oR=typeof clearTimeout=="function"?clearTimeout:void 0,Q0=typeof Promise=="function"?Promise:void 0,lR=typeof queueMicrotask=="function"?queueMicrotask:typeof Q0<"u"?function(n){return Q0.resolve(null).then(n).catch(cR)}:K0;function cR(n){setTimeout(function(){throw n})}function ls(n){return n==="head"}function Y0(n,s){var a=s,l=0,d=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var b=n.ownerDocument;if(a&1&&_c(b.documentElement),a&2&&_c(b.body),a&4)for(a=b.head,_c(a),b=a.firstChild;b;){var S=b.nextSibling,k=b.nodeName;b[Xs]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=S}}if(d===0){n.removeChild(m),Rc(s);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Rc(s)}function hp(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hp(a),Fi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function uR(n,s,a,l){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Xs])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=mr(n.nextSibling),n===null)break}return null}function fR(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=mr(n.nextSibling),n===null))return null;return n}function mp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function dR(n,s){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function mr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var pp=null;function $0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}function X0(n,s,a){switch(s=Mf(a),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function _c(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Fi(n)}var nr=new Map,W0=new Set;function kf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ti=re.d;re.d={f:hR,r:mR,D:pR,C:gR,L:yR,m:vR,X:ER,S:_R,M:bR};function hR(){var n=Ti.f(),s=xf();return n||s}function mR(n){var s=Rr(n);s!==null&&s.tag===5&&s.type==="form"?y_(s):Ti.r(n)}var Po=typeof document>"u"?null:document;function Z0(n,s,a){var l=Po;if(l&&typeof s=="string"&&s){var d=Ot(s);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),W0.has(d)||(W0.add(d),n={rel:n,crossOrigin:a,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),un(s,"link",n),At(s),l.head.appendChild(s)))}}function pR(n){Ti.D(n),Z0("dns-prefetch",n,null)}function gR(n,s){Ti.C(n,s),Z0("preconnect",n,s)}function yR(n,s,a){Ti.L(n,s,a);var l=Po;if(l&&n&&s){var d='link[rel="preload"][as="'+Ot(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Ot(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Ot(a.imageSizes)+'"]')):d+='[href="'+Ot(n)+'"]';var m=d;switch(s){case"style":m=Mo(n);break;case"script":m=ko(n)}nr.has(m)||(n=_({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),nr.set(m,n),l.querySelector(d)!==null||s==="style"&&l.querySelector(Ec(m))||s==="script"&&l.querySelector(bc(m))||(s=l.createElement("link"),un(s,"link",n),At(s),l.head.appendChild(s)))}}function vR(n,s){Ti.m(n,s);var a=Po;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ot(l)+'"][href="'+Ot(n)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ko(n)}if(!nr.has(m)&&(n=_({rel:"modulepreload",href:n},s),nr.set(m,n),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bc(m)))return}l=a.createElement("link"),un(l,"link",n),At(l),a.head.appendChild(l)}}}function _R(n,s,a){Ti.S(n,s,a);var l=Po;if(l&&n){var d=Tn(l).hoistableStyles,m=Mo(n);s=s||"default";var b=d.get(m);if(!b){var S={loading:0,preload:null};if(b=l.querySelector(Ec(m)))S.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":s},a),(a=nr.get(m))&&gp(n,a);var k=b=l.createElement("link");At(k),un(k,"link",n),k._p=new Promise(function(Y,te){k.onload=Y,k.onerror=te}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Vf(b,s,l)}b={type:"stylesheet",instance:b,count:1,state:S},d.set(m,b)}}}function ER(n,s){Ti.X(n,s);var a=Po;if(a&&n){var l=Tn(a).hoistableScripts,d=ko(n),m=l.get(d);m||(m=a.querySelector(bc(d)),m||(n=_({src:n,async:!0},s),(s=nr.get(d))&&yp(n,s),m=a.createElement("script"),At(m),un(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function bR(n,s){Ti.M(n,s);var a=Po;if(a&&n){var l=Tn(a).hoistableScripts,d=ko(n),m=l.get(d);m||(m=a.querySelector(bc(d)),m||(n=_({src:n,async:!0,type:"module"},s),(s=nr.get(d))&&yp(n,s),m=a.createElement("script"),At(m),un(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function J0(n,s,a,l){var d=(d=we.current)?kf(d):null;if(!d)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Mo(a.href),a=Tn(d).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Mo(a.href);var m=Tn(d).hoistableStyles,b=m.get(n);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,b),(m=d.querySelector(Ec(n)))&&!m._p&&(b.instance=m,b.state.loading=5),nr.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},nr.set(n,a),m||wR(d,n,a,b.state))),s&&l===null)throw Error(i(528,""));return b}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ko(a),a=Tn(d).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Mo(n){return'href="'+Ot(n)+'"'}function Ec(n){return'link[rel="stylesheet"]['+n+"]"}function eE(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function wR(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),un(s,"link",a),At(s),n.head.appendChild(s))}function ko(n){return'[src="'+Ot(n)+'"]'}function bc(n){return"script[async]"+n}function tE(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+Ot(a.href)+'"]');if(l)return s.instance=l,At(l),l;var d=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),At(l),un(l,"style",d),Vf(l,a.precedence,n),s.instance=l;case"stylesheet":d=Mo(a.href);var m=n.querySelector(Ec(d));if(m)return s.state.loading|=4,s.instance=m,At(m),m;l=eE(a),(d=nr.get(d))&&gp(l,d),m=(n.ownerDocument||n).createElement("link"),At(m);var b=m;return b._p=new Promise(function(S,k){b.onload=S,b.onerror=k}),un(m,"link",l),s.state.loading|=4,Vf(m,a.precedence,n),s.instance=m;case"script":return m=ko(a.src),(d=n.querySelector(bc(m)))?(s.instance=d,At(d),d):(l=a,(d=nr.get(m))&&(l=_({},a),yp(l,d)),n=n.ownerDocument||n,d=n.createElement("script"),At(d),un(d,"link",l),n.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Vf(l,a.precedence,n));return s.instance}function Vf(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,b=0;b<l.length;b++){var S=l[b];if(S.dataset.precedence===s)m=S;else if(m!==d)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function gp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function yp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var jf=null;function nE(n,s,a){if(jf===null){var l=new Map,d=jf=new Map;d.set(a,l)}else d=jf,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var m=a[d];if(!(m[Xs]||m[zt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=n+b;var S=l.get(b);S?S.push(m):l.set(b,[m])}}return l}function rE(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function TR(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function iE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var wc=null;function SR(){}function AR(n,s,a){if(wc===null)throw Error(i(475));var l=wc;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Mo(a.href),m=n.querySelector(Ec(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Lf.bind(l),n.then(l,l)),s.state.loading|=4,s.instance=m,At(m);return}m=n.ownerDocument||n,a=eE(a),(d=nr.get(d))&&gp(a,d),m=m.createElement("link"),At(m);var b=m;b._p=new Promise(function(S,k){b.onload=S,b.onerror=k}),un(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Lf.bind(l),n.addEventListener("load",s),n.addEventListener("error",s))}}function xR(){if(wc===null)throw Error(i(475));var n=wc;return n.stylesheets&&n.count===0&&vp(n,n.stylesheets),0<n.count?function(s){var a=setTimeout(function(){if(n.stylesheets&&vp(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Lf(){if(this.count--,this.count===0){if(this.stylesheets)vp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Uf=null;function vp(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Uf=new Map,s.forEach(RR,n),Uf=null,Lf.call(n))}function RR(n,s){if(!(s.state.loading&4)){var a=Uf.get(n);if(a)var l=a.get(null);else{a=new Map,Uf.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var b=d[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}d=s.instance,b=d.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,d),a.set(b,d),this.count++,l=Lf.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),s.state.loading|=4}}var Tc={$$typeof:F,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function CR(n,s,a,l,d,m,b,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.hiddenUpdates=Jr(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function sE(n,s,a,l,d,m,b,S,k,Y,te,ae){return n=new CR(n,s,a,b,S,k,Y,ae),s=1,m===!0&&(s|=24),m=kn(3,null,null,s),n.current=m,m.stateNode=n,s=Jh(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},rm(m),n}function aE(n){return n?(n=fo,n):fo}function oE(n,s,a,l,d,m){d=aE(d),l.context===null?l.context=d:l.pendingContext=d,l=$i(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Xi(n,l,s),a!==null&&(zn(a,n,s),Jl(a,n,s))}function lE(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function _p(n,s){lE(n,s),(n=n.alternate)&&lE(n,s)}function cE(n){if(n.tag===13){var s=uo(n,67108864);s!==null&&zn(s,n,67108864),_p(n,67108864)}}var zf=!0;function IR(n,s,a,l){var d=q.T;q.T=null;var m=re.p;try{re.p=2,Ep(n,s,a,l)}finally{re.p=m,q.T=d}}function NR(n,s,a,l){var d=q.T;q.T=null;var m=re.p;try{re.p=8,Ep(n,s,a,l)}finally{re.p=m,q.T=d}}function Ep(n,s,a,l){if(zf){var d=bp(l);if(d===null)op(n,s,l,Bf,a),fE(n,l);else if(OR(d,n,s,a,l))l.stopPropagation();else if(fE(n,l),s&4&&-1<DR.indexOf(n)){for(;d!==null;){var m=Rr(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=cr(m.pendingLanes);if(b!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var k=1<<31-pn(b);S.entanglements[1]|=k,b&=~k}Br(m),(it&6)===0&&(Sf=$t()+500,gc(0))}}break;case 13:S=uo(m,2),S!==null&&zn(S,m,2),xf(),_p(m,2)}if(m=bp(l),m===null&&op(n,s,l,Bf,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else op(n,s,l,null,a)}}function bp(n){return n=Qn(n),wp(n)}var Bf=null;function wp(n){if(Bf=null,n=ti(n),n!==null){var s=c(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=u(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Bf=n,null}function uE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bl()){case Ar:return 2;case Fa:return 8;case Gs:case xh:return 32;case Ha:return 268435456;default:return 32}default:return 32}}var Tp=!1,cs=null,us=null,fs=null,Sc=new Map,Ac=new Map,ds=[],DR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fE(n,s){switch(n){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Sc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ac.delete(s.pointerId)}}function xc(n,s,a,l,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},s!==null&&(s=Rr(s),s!==null&&cE(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function OR(n,s,a,l,d){switch(s){case"focusin":return cs=xc(cs,n,s,a,l,d),!0;case"dragenter":return us=xc(us,n,s,a,l,d),!0;case"mouseover":return fs=xc(fs,n,s,a,l,d),!0;case"pointerover":var m=d.pointerId;return Sc.set(m,xc(Sc.get(m)||null,n,s,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,Ac.set(m,xc(Ac.get(m)||null,n,s,a,l,d)),!0}return!1}function dE(n){var s=ti(n.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){n.blockedOn=s,Au(n.priority,function(){if(a.tag===13){var l=Un();l=zi(l);var d=uo(a,l);d!==null&&zn(d,a,l),_p(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function qf(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=bp(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);si=l,a.target.dispatchEvent(l),si=null}else return s=Rr(a),s!==null&&cE(s),n.blockedOn=a,!1;s.shift()}return!0}function hE(n,s,a){qf(n)&&a.delete(s)}function PR(){Tp=!1,cs!==null&&qf(cs)&&(cs=null),us!==null&&qf(us)&&(us=null),fs!==null&&qf(fs)&&(fs=null),Sc.forEach(hE),Ac.forEach(hE)}function Ff(n,s){n.blockedOn===s&&(n.blockedOn=null,Tp||(Tp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,PR)))}var Hf=null;function mE(n){Hf!==n&&(Hf=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hf===n&&(Hf=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],d=n[s+2];if(typeof l!="function"){if(wp(l||a)===null)continue;break}var m=Rr(a);m!==null&&(n.splice(s,3),s-=3,wm(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Rc(n){function s(k){return Ff(k,n)}cs!==null&&Ff(cs,n),us!==null&&Ff(us,n),fs!==null&&Ff(fs,n),Sc.forEach(s),Ac.forEach(s);for(var a=0;a<ds.length;a++){var l=ds[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ds.length&&(a=ds[0],a.blockedOn===null);)dE(a),a.blockedOn===null&&ds.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],b=d[Dt]||null;if(typeof m=="function")b||mE(a);else if(b){var S=null;if(m&&m.hasAttribute("formAction")){if(d=m,b=m[Dt]||null)S=b.formAction;else if(wp(d)!==null)continue}else S=b.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),mE(a)}}}function Sp(n){this._internalRoot=n}Gf.prototype.render=Sp.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=Un();oE(a,l,n,s,null,null)},Gf.prototype.unmount=Sp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;oE(n.current,2,null,n,null,null),xf(),s[Gn]=null}};function Gf(n){this._internalRoot=n}Gf.prototype.unstable_scheduleHydration=function(n){if(n){var s=Bi();n={blockedOn:null,target:n,priority:s};for(var a=0;a<ds.length&&s!==0&&s<ds[a].priority;a++);ds.splice(a,0,n),a===0&&dE(n)}};var pE=e.version;if(pE!=="19.1.0")throw Error(i(527,pE,"19.1.0"));re.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=p(s),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var MR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kf.isDisabled&&Kf.supportsFiber)try{Et=Kf.inject(MR),rt=Kf}catch{}}return Ic.createRoot=function(n,s){if(!o(n))throw Error(i(299));var a=!1,l="",d=D_,m=O_,b=P_,S=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=sE(n,1,!1,null,null,a,l,d,m,b,S,null),n[Gn]=s.current,ap(n),new Sp(s)},Ic.hydrateRoot=function(n,s,a){if(!o(n))throw Error(i(299));var l=!1,d="",m=D_,b=O_,S=P_,k=null,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks),a.formState!==void 0&&(Y=a.formState)),s=sE(n,1,!0,s,a??null,l,d,m,b,S,k,Y),s.context=aE(null),a=s.current,l=Un(),l=zi(l),d=$i(l),d.callback=null,Xi(a,d,l),a=l,s.current.lanes=a,ei(s,a),Br(s),n[Gn]=s.current,ap(n),new Gf(s)},Ic.version="19.1.0",Ic}var AE;function HR(){if(AE)return Rp.exports;AE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rp.exports=FR(),Rp.exports}var GR=HR();function xE(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function KR(...r){return e=>{let t=!1;const i=r.map(o=>{const c=xE(o,e);return!t&&typeof c=="function"&&(t=!0),c});if(t)return()=>{for(let o=0;o<i.length;o++){const c=i[o];typeof c=="function"?c():xE(r[o],null)}}}}function pt(...r){return N.useCallback(KR(...r),r)}function Kc(r){const e=QR(r),t=N.forwardRef((i,o)=>{const{children:c,...u}=i,h=N.Children.toArray(c),p=h.find($R);if(p){const g=p.props.children,_=h.map(w=>w===p?N.Children.count(g)>1?N.Children.only(null):N.isValidElement(g)?g.props.children:null:w);return v.jsx(e,{...u,ref:o,children:N.isValidElement(g)?N.cloneElement(g,void 0,_):null})}return v.jsx(e,{...u,ref:o,children:c})});return t.displayName=`${r}.Slot`,t}var Bw=Kc("Slot");function QR(r){const e=N.forwardRef((t,i)=>{const{children:o,...c}=t,u=N.isValidElement(o)?WR(o):void 0,h=pt(u,i);if(N.isValidElement(o)){const p=XR(c,o.props);return o.type!==N.Fragment&&(p.ref=h),N.cloneElement(o,p)}return N.Children.count(o)>1?N.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var YR=Symbol("radix.slottable");function $R(r){return N.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===YR}function XR(r,e){const t={...e};for(const i in e){const o=r[i],c=e[i];/^on[A-Z]/.test(i)?o&&c?t[i]=(...h)=>{const p=c(...h);return o(...h),p}:o&&(t[i]=o):i==="style"?t[i]={...o,...c}:i==="className"&&(t[i]=[o,c].filter(Boolean).join(" "))}return{...r,...t}}function WR(r){var i,o;let e=(i=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function qw(r){var e,t,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=qw(r[e]))&&(i&&(i+=" "),i+=t)}else for(t in r)r[t]&&(i&&(i+=" "),i+=t);return i}function Fw(){for(var r,e,t=0,i="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=qw(r))&&(i&&(i+=" "),i+=e);return i}const RE=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,CE=Fw,Hw=(r,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return CE(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:c}=e,u=Object.keys(o).map(g=>{const _=t==null?void 0:t[g],w=c==null?void 0:c[g];if(_===null)return null;const T=RE(_)||RE(w);return o[g][T]}),h=t&&Object.entries(t).reduce((g,_)=>{let[w,T]=_;return T===void 0||(g[w]=T),g},{}),p=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((g,_)=>{let{class:w,className:T,...C}=_;return Object.entries(C).every(O=>{let[x,I]=O;return Array.isArray(I)?I.includes({...c,...h}[x]):{...c,...h}[x]===I})?[...g,w,T]:g},[]);return CE(r,u,p,t==null?void 0:t.class,t==null?void 0:t.className)},Kg="-",ZR=r=>{const e=eC(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=r;return{getClassGroupId:u=>{const h=u.split(Kg);return h[0]===""&&h.length!==1&&h.shift(),Gw(h,e)||JR(u)},getConflictingClassGroupIds:(u,h)=>{const p=t[u]||[];return h&&i[u]?[...p,...i[u]]:p}}},Gw=(r,e)=>{var u;if(r.length===0)return e.classGroupId;const t=r[0],i=e.nextPart.get(t),o=i?Gw(r.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const c=r.join(Kg);return(u=e.validators.find(({validator:h})=>h(c)))==null?void 0:u.classGroupId},IE=/^\[(.+)\]$/,JR=r=>{if(IE.test(r)){const e=IE.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},eC=r=>{const{theme:e,classGroups:t}=r,i={nextPart:new Map,validators:[]};for(const o in t)ng(t[o],i,o,e);return i},ng=(r,e,t,i)=>{r.forEach(o=>{if(typeof o=="string"){const c=o===""?e:NE(e,o);c.classGroupId=t;return}if(typeof o=="function"){if(tC(o)){ng(o(i),e,t,i);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([c,u])=>{ng(u,NE(e,c),t,i)})})},NE=(r,e)=>{let t=r;return e.split(Kg).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},tC=r=>r.isThemeGetter,nC=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const o=(c,u)=>{t.set(c,u),e++,e>r&&(e=0,i=t,t=new Map)};return{get(c){let u=t.get(c);if(u!==void 0)return u;if((u=i.get(c))!==void 0)return o(c,u),u},set(c,u){t.has(c)?t.set(c,u):o(c,u)}}},rg="!",ig=":",rC=ig.length,iC=r=>{const{prefix:e,experimentalParseClassName:t}=r;let i=o=>{const c=[];let u=0,h=0,p=0,g;for(let O=0;O<o.length;O++){let x=o[O];if(u===0&&h===0){if(x===ig){c.push(o.slice(p,O)),p=O+rC;continue}if(x==="/"){g=O;continue}}x==="["?u++:x==="]"?u--:x==="("?h++:x===")"&&h--}const _=c.length===0?o:o.substring(p),w=sC(_),T=w!==_,C=g&&g>p?g-p:void 0;return{modifiers:c,hasImportantModifier:T,baseClassName:w,maybePostfixModifierPosition:C}};if(e){const o=e+ig,c=i;i=u=>u.startsWith(o)?c(u.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const o=i;i=c=>t({className:c,parseClassName:o})}return i},sC=r=>r.endsWith(rg)?r.substring(0,r.length-1):r.startsWith(rg)?r.substring(1):r,aC=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const o=[];let c=[];return i.forEach(u=>{u[0]==="["||e[u]?(o.push(...c.sort(),u),c=[]):c.push(u)}),o.push(...c.sort()),o}},oC=r=>({cache:nC(r.cacheSize),parseClassName:iC(r),sortModifiers:aC(r),...ZR(r)}),lC=/\s+/,cC=(r,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:c}=e,u=[],h=r.trim().split(lC);let p="";for(let g=h.length-1;g>=0;g-=1){const _=h[g],{isExternal:w,modifiers:T,hasImportantModifier:C,baseClassName:O,maybePostfixModifierPosition:x}=t(_);if(w){p=_+(p.length>0?" "+p:p);continue}let I=!!x,z=i(I?O.substring(0,x):O);if(!z){if(!I){p=_+(p.length>0?" "+p:p);continue}if(z=i(O),!z){p=_+(p.length>0?" "+p:p);continue}I=!1}const H=c(T).join(":"),F=C?H+rg:H,Z=F+z;if(u.includes(Z))continue;u.push(Z);const ee=o(z,I);for(let ce=0;ce<ee.length;++ce){const D=ee[ce];u.push(F+D)}p=_+(p.length>0?" "+p:p)}return p};function uC(){let r=0,e,t,i="";for(;r<arguments.length;)(e=arguments[r++])&&(t=Kw(e))&&(i&&(i+=" "),i+=t);return i}const Kw=r=>{if(typeof r=="string")return r;let e,t="";for(let i=0;i<r.length;i++)r[i]&&(e=Kw(r[i]))&&(t&&(t+=" "),t+=e);return t};function fC(r,...e){let t,i,o,c=u;function u(p){const g=e.reduce((_,w)=>w(_),r());return t=oC(g),i=t.cache.get,o=t.cache.set,c=h,h(p)}function h(p){const g=i(p);if(g)return g;const _=cC(p,t);return o(p,_),_}return function(){return c(uC.apply(null,arguments))}}const Gt=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},Qw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Yw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,dC=/^\d+\/\d+$/,hC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vo=r=>dC.test(r),Ue=r=>!!r&&!Number.isNaN(Number(r)),ms=r=>!!r&&Number.isInteger(Number(r)),Dp=r=>r.endsWith("%")&&Ue(r.slice(0,-1)),Si=r=>hC.test(r),vC=()=>!0,_C=r=>mC.test(r)&&!pC.test(r),$w=()=>!1,EC=r=>gC.test(r),bC=r=>yC.test(r),wC=r=>!_e(r)&&!Ee(r),TC=r=>ll(r,Zw,$w),_e=r=>Qw.test(r),Aa=r=>ll(r,Jw,_C),Op=r=>ll(r,CC,Ue),DE=r=>ll(r,Xw,$w),SC=r=>ll(r,Ww,bC),Qf=r=>ll(r,eT,EC),Ee=r=>Yw.test(r),Nc=r=>cl(r,Jw),AC=r=>cl(r,IC),OE=r=>cl(r,Xw),xC=r=>cl(r,Zw),RC=r=>cl(r,Ww),Yf=r=>cl(r,eT,!0),ll=(r,e,t)=>{const i=Qw.exec(r);return i?i[1]?e(i[1]):t(i[2]):!1},cl=(r,e,t=!1)=>{const i=Yw.exec(r);return i?i[1]?e(i[1]):t:!1},Xw=r=>r==="position"||r==="percentage",Ww=r=>r==="image"||r==="url",Zw=r=>r==="length"||r==="size"||r==="bg-size",Jw=r=>r==="length",CC=r=>r==="number",IC=r=>r==="family-name",eT=r=>r==="shadow",NC=()=>{const r=Gt("color"),e=Gt("font"),t=Gt("text"),i=Gt("font-weight"),o=Gt("tracking"),c=Gt("leading"),u=Gt("breakpoint"),h=Gt("container"),p=Gt("spacing"),g=Gt("radius"),_=Gt("shadow"),w=Gt("inset-shadow"),T=Gt("text-shadow"),C=Gt("drop-shadow"),O=Gt("blur"),x=Gt("perspective"),I=Gt("aspect"),z=Gt("ease"),H=Gt("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ee=()=>[...Z(),Ee,_e],ce=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],A=()=>[Ee,_e,p],P=()=>[Vo,"full","auto",...A()],j=()=>[ms,"none","subgrid",Ee,_e],L=()=>["auto",{span:["full",ms,Ee,_e]},ms,Ee,_e],U=()=>[ms,"auto",Ee,_e],M=()=>["auto","min","max","fr",Ee,_e],fe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],de=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...A()],re=()=>[Vo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],W=()=>[r,Ee,_e],be=()=>[...Z(),OE,DE,{position:[Ee,_e]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ne=()=>["auto","cover","contain",xC,TC,{size:[Ee,_e]}],ue=()=>[Dp,Nc,Aa],oe=()=>["","none","full",g,Ee,_e],pe=()=>["",Ue,Nc,Aa],Re=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[Ue,Dp,OE,DE],Se=()=>["","none",O,Ee,_e],Xe=()=>["none",Ue,Ee,_e],je=()=>["none",Ue,Ee,_e],Me=()=>[Ue,Ee,_e],ke=()=>[Vo,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Si],breakpoint:[Si],color:[vC],container:[Si],"drop-shadow":[Si],ease:["in","out","in-out"],font:[wC],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Si],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Si],shadow:[Si],spacing:["px",Ue],text:[Si],"text-shadow":[Si],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vo,_e,Ee,I]}],container:["container"],columns:[{columns:[Ue,_e,Ee,h]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ee()}],overflow:[{overflow:ce()}],"overflow-x":[{"overflow-x":ce()}],"overflow-y":[{"overflow-y":ce()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[ms,"auto",Ee,_e]}],basis:[{basis:[Vo,"full","auto",h,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,Vo,"auto","initial","none",_e]}],grow:[{grow:["",Ue,Ee,_e]}],shrink:[{shrink:["",Ue,Ee,_e]}],order:[{order:[ms,"first","last","none",Ee,_e]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...fe(),"normal"]}],"justify-items":[{"justify-items":[...de(),"normal"]}],"justify-self":[{"justify-self":["auto",...de()]}],"align-content":[{content:["normal",...fe()]}],"align-items":[{items:[...de(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...de(),{baseline:["","last"]}]}],"place-content":[{"place-content":fe()}],"place-items":[{"place-items":[...de(),"baseline"]}],"place-self":[{"place-self":["auto",...de()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[h,"screen",...re()]}],"min-w":[{"min-w":[h,"screen","none",...re()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",t,Nc,Aa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Ee,Op]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Dp,_e]}],"font-family":[{font:[AC,_e,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Ee,_e]}],"line-clamp":[{"line-clamp":[Ue,"none",Ee,Op]}],leading:[{leading:[c,...A()]}],"list-image":[{"list-image":["none",Ee,_e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ee,_e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",Ee,Aa]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Ue,"auto",Ee,_e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee,_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee,_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:be()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:ne()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ms,Ee,_e],radial:["",Ee,_e],conic:[ms,Ee,_e]},RC,SC]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:ue()}],"gradient-via-pos":[{via:ue()}],"gradient-to-pos":[{to:ue()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,Ee,_e]}],"outline-w":[{outline:["",Ue,Nc,Aa]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",_,Yf,Qf]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",w,Yf,Qf]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Ue,Aa]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",T,Yf,Qf]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Ue,Ee,_e]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Ee,_e]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Z()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:be()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:ne()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ee,_e]}],filter:[{filter:["","none",Ee,_e]}],blur:[{blur:Se()}],brightness:[{brightness:[Ue,Ee,_e]}],contrast:[{contrast:[Ue,Ee,_e]}],"drop-shadow":[{"drop-shadow":["","none",C,Yf,Qf]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Ue,Ee,_e]}],"hue-rotate":[{"hue-rotate":[Ue,Ee,_e]}],invert:[{invert:["",Ue,Ee,_e]}],saturate:[{saturate:[Ue,Ee,_e]}],sepia:[{sepia:["",Ue,Ee,_e]}],"backdrop-filter":[{"backdrop-filter":["","none",Ee,_e]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,Ee,_e]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,Ee,_e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,Ee,_e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,Ee,_e]}],"backdrop-invert":[{"backdrop-invert":["",Ue,Ee,_e]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,Ee,_e]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,Ee,_e]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,Ee,_e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ee,_e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",Ee,_e]}],ease:[{ease:["linear","initial",z,Ee,_e]}],delay:[{delay:[Ue,Ee,_e]}],animate:[{animate:["none",H,Ee,_e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Ee,_e]}],"perspective-origin":[{"perspective-origin":ee()}],rotate:[{rotate:Xe()}],"rotate-x":[{"rotate-x":Xe()}],"rotate-y":[{"rotate-y":Xe()}],"rotate-z":[{"rotate-z":Xe()}],scale:[{scale:je()}],"scale-x":[{"scale-x":je()}],"scale-y":[{"scale-y":je()}],"scale-z":[{"scale-z":je()}],"scale-3d":["scale-3d"],skew:[{skew:Me()}],"skew-x":[{"skew-x":Me()}],"skew-y":[{"skew-y":Me()}],transform:[{transform:[Ee,_e,"","none","gpu","cpu"]}],"transform-origin":[{origin:ee()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ke()}],"translate-x":[{"translate-x":ke()}],"translate-y":[{"translate-y":ke()}],"translate-z":[{"translate-z":ke()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee,_e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee,_e]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Ue,Nc,Aa,Op]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},DC=fC(NC);function Qt(...r){return DC(Fw(r))}const OC=Hw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function jt({className:r,variant:e,size:t,asChild:i=!1,...o}){const c=i?Bw:"button";return v.jsx(c,{"data-slot":"button",className:Qt(OC({variant:e,size:t,className:r})),...o})}function Tt({className:r,...e}){return v.jsx("div",{"data-slot":"card",className:Qt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...e})}function nn({className:r,...e}){return v.jsx("div",{"data-slot":"card-header",className:Qt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...e})}function rn({className:r,...e}){return v.jsx("div",{"data-slot":"card-title",className:Qt("leading-none font-semibold",r),...e})}function Di({className:r,...e}){return v.jsx("div",{"data-slot":"card-description",className:Qt("text-muted-foreground text-sm",r),...e})}function Vt({className:r,...e}){return v.jsx("div",{"data-slot":"card-content",className:Qt("px-6",r),...e})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),PE=r=>{const e=MC(r);return e.charAt(0).toUpperCase()+e.slice(1)},tT=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),kC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=N.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:u,...h},p)=>N.createElement("svg",{ref:p,...VC,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:tT("lucide",o),...!c&&!kC(h)&&{"aria-hidden":"true"},...h},[...u.map(([g,_])=>N.createElement(g,_)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=(r,e)=>{const t=N.forwardRef(({className:i,...o},c)=>N.createElement(jC,{ref:c,iconNode:e,className:tT(`lucide-${PC(PE(r))}`,`lucide-${r}`,i),...o}));return t.displayName=PE(r),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Gd=mn("arrow-left",LC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],yr=mn("car",UC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],BC=mn("check",zC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nT=mn("chevron-down",qC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],HC=mn("chevron-up",FC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rT=mn("circle-check-big",GC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],QC=mn("circle-x",KC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$C=mn("circle",YC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],iT=mn("clock",XC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],sT=mn("dollar-sign",WC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],aT=mn("log-out",ZC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],sg=mn("map-pin",JC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],tI=mn("navigation",eI);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],rI=mn("phone",nI);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],sI=mn("send",iI);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],od=mn("star",aI);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ou=mn("user",oI);function ME({onProfileSelect:r}){return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-md space-y-6",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Uber Rio Pardo"}),v.jsx("p",{className:"text-gray-600",children:"Escolha seu perfil para continuar"})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx(Tt,{className:"cursor-pointer transition-all hover:shadow-lg hover:scale-105 border-2 hover:border-blue-500",onClick:()=>r("user"),children:v.jsxs(nn,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(ou,{className:"w-8 h-8 text-blue-600"})}),v.jsx(rn,{className:"text-xl",children:"Passageiro"}),v.jsx(Di,{children:"Solicite uma corrida e chegue ao seu destino com segurança"})]})}),v.jsx(Tt,{className:"cursor-pointer transition-all hover:shadow-lg hover:scale-105 border-2 hover:border-green-500",onClick:()=>r("driver"),children:v.jsxs(nn,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(yr,{className:"w-8 h-8 text-green-600"})}),v.jsx(rn,{className:"text-xl",children:"Motorista"}),v.jsx(Di,{children:"Aceite corridas e ganhe dinheiro dirigindo pela cidade"})]})})]}),v.jsx("div",{className:"text-center text-sm text-gray-500",children:v.jsx("p",{children:"Serviço disponível apenas em Rio Pardo-RS"})})]})})}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=()=>{};var kE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},cI=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[t++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[t++],u=r[t++],h=r[t++],p=((o&7)<<18|(c&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const c=r[t++],u=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const c=r[o],u=o+1<r.length,h=u?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,_=c>>2,w=(c&3)<<4|h>>4;let T=(h&15)<<2|g>>6,C=g&63;p||(C=64,u||(T=64)),i.push(t[_],t[w],t[T],t[C])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(oT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):cI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const c=t[r.charAt(o++)],h=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const w=o<r.length?t[r.charAt(o)]:64;if(++o,c==null||h==null||g==null||w==null)throw new uI;const T=c<<2|h>>4;if(i.push(T),g!==64){const C=h<<4&240|g>>2;if(i.push(C),w!==64){const O=g<<6&192|w;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class uI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fI=function(r){const e=oT(r);return lT.encodeByteArray(e,!0)},bd=function(r){return fI(r).replace(/\./g,"")},cT=function(r){try{return lT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=()=>dI().__FIREBASE_DEFAULTS__,mI=()=>{if(typeof process>"u"||typeof kE>"u")return;const r=kE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},pI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&cT(r[1]);return e&&JSON.parse(e)},Kd=()=>{try{return lI()||hI()||mI()||pI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},uT=r=>{var e,t;return(t=(e=Kd())==null?void 0:e.emulatorHosts)==null?void 0:t[r]},gI=r=>{const e=uT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},fT=()=>{var r;return(r=Kd())==null?void 0:r.config},dT=r=>{var e;return(e=Kd())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[bd(JSON.stringify(t)),bd(JSON.stringify(u)),""].join(".")}const Uc={};function _I(){const r={prod:[],emulator:[]};for(const e of Object.keys(Uc))Uc[e]?r.emulator.push(e):r.prod.push(e);return r}function EI(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let VE=!1;function mT(r,e){if(typeof window>"u"||typeof document>"u"||!ul(window.location.host)||Uc[r]===e||Uc[r]||VE)return;Uc[r]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",c=_I().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{VE=!0,u()},T}function _(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=EI(i),C=t("text"),O=document.getElementById(C)||document.createElement("span"),x=t("learnmore"),I=document.getElementById(x)||document.createElement("a"),z=t("preprendIcon"),H=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const F=T.element;h(F),_(I,x);const Z=g();p(H,z),F.append(H,O,I,Z),document.body.appendChild(F)}c?(O.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function wI(){var e;const r=(e=Kd())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function AI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xI(){const r=bn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function RI(){return!wI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CI(){try{return typeof indexedDB=="object"}catch{return!1}}function II(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="FirebaseError";class Li extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=NI,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?DI(c,i):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Li(o,h,i)}}function DI(r,e){return r.replace(OI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const OI=/\{\$([^}]+)}/g;function PI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Da(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const c=r[o],u=e[o];if(jE(c)&&jE(u)){if(!Da(c,u))return!1}else if(c!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function jE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Oc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,c]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Pc(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function MI(r,e){const t=new kI(r,e);return t.subscribe.bind(t)}class kI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");VI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Pp),o.error===void 0&&(o.error=Pp),o.complete===void 0&&(o.complete=Pp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VI(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Pp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(r){return r&&r._delegate?r._delegate:r}class Oa{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new yI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UI(e))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xa){return this.instances.has(e)}getOptions(e=xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[c,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);i===h&&u.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:LI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=xa){return this.component?this.component.multipleInstances?e:xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LI(r){return r===xa?void 0:r}function UI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Fe||(Fe={}));const BI={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},qI=Fe.INFO,FI={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},HI=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=FI[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qg{constructor(e){this.name=e,this._logLevel=qI,this._logHandler=HI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const GI=(r,e)=>e.some(t=>r instanceof t);let LE,UE;function KI(){return LE||(LE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QI(){return UE||(UE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pT=new WeakMap,ag=new WeakMap,gT=new WeakMap,Mp=new WeakMap,Yg=new WeakMap;function YI(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",u)},c=()=>{t(Ts(r.result)),o()},u=()=>{i(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&pT.set(t,r)}).catch(()=>{}),Yg.set(e,r),e}function $I(r){if(ag.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",u),r.removeEventListener("abort",u)},c=()=>{t(),o()},u=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",u),r.addEventListener("abort",u)});ag.set(r,e)}let og={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return ag.get(r);if(e==="objectStoreNames")return r.objectStoreNames||gT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ts(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function XI(r){og=r(og)}function WI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(kp(this),e,...t);return gT.set(i,e.sort?e.sort():[e]),Ts(i)}:QI().includes(r)?function(...e){return r.apply(kp(this),e),Ts(pT.get(this))}:function(...e){return Ts(r.apply(kp(this),e))}}function ZI(r){return typeof r=="function"?WI(r):(r instanceof IDBTransaction&&$I(r),GI(r,KI())?new Proxy(r,og):r)}function Ts(r){if(r instanceof IDBRequest)return YI(r);if(Mp.has(r))return Mp.get(r);const e=ZI(r);return e!==r&&(Mp.set(r,e),Yg.set(e,r)),e}const kp=r=>Yg.get(r);function JI(r,e,{blocked:t,upgrade:i,blocking:o,terminated:c}={}){const u=indexedDB.open(r,e),h=Ts(u);return i&&u.addEventListener("upgradeneeded",p=>{i(Ts(u.result),p.oldVersion,p.newVersion,Ts(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const eN=["get","getKey","getAll","getAllKeys","count"],tN=["put","add","delete","clear"],Vp=new Map;function zE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Vp.get(e))return Vp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=tN.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||eN.includes(t)))return;const c=async function(u,...h){const p=this.transaction(u,o?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),o&&p.done]))[0]};return Vp.set(e,c),c}XI(r=>({...r,get:(e,t,i)=>zE(e,t)||r.get(e,t,i),has:(e,t)=>!!zE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rN(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function rN(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lg="@firebase/app",BE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new Qg("@firebase/app"),iN="@firebase/app-compat",sN="@firebase/analytics-compat",aN="@firebase/analytics",oN="@firebase/app-check-compat",lN="@firebase/app-check",cN="@firebase/auth",uN="@firebase/auth-compat",fN="@firebase/database",dN="@firebase/data-connect",hN="@firebase/database-compat",mN="@firebase/functions",pN="@firebase/functions-compat",gN="@firebase/installations",yN="@firebase/installations-compat",vN="@firebase/messaging",_N="@firebase/messaging-compat",EN="@firebase/performance",bN="@firebase/performance-compat",wN="@firebase/remote-config",TN="@firebase/remote-config-compat",SN="@firebase/storage",AN="@firebase/storage-compat",xN="@firebase/firestore",RN="@firebase/ai",CN="@firebase/firestore-compat",IN="firebase",NN="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="[DEFAULT]",DN={[lg]:"fire-core",[iN]:"fire-core-compat",[aN]:"fire-analytics",[sN]:"fire-analytics-compat",[lN]:"fire-app-check",[oN]:"fire-app-check-compat",[cN]:"fire-auth",[uN]:"fire-auth-compat",[fN]:"fire-rtdb",[dN]:"fire-data-connect",[hN]:"fire-rtdb-compat",[mN]:"fire-fn",[pN]:"fire-fn-compat",[gN]:"fire-iid",[yN]:"fire-iid-compat",[vN]:"fire-fcm",[_N]:"fire-fcm-compat",[EN]:"fire-perf",[bN]:"fire-perf-compat",[wN]:"fire-rc",[TN]:"fire-rc-compat",[SN]:"fire-gcs",[AN]:"fire-gcs-compat",[xN]:"fire-fst",[CN]:"fire-fst-compat",[RN]:"fire-vertex","fire-js":"fire-js",[IN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new Map,ON=new Map,ug=new Map;function qE(r,e){try{r.container.addComponent(e)}catch(t){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Jo(r){const e=r.name;if(ug.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;ug.set(e,r);for(const t of wd.values())qE(t,r);for(const t of ON.values())qE(t,r);return!0}function $g(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function qn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new lu("app","Firebase",PN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=NN;function yT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:cg,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Ss.create("bad-app-name",{appName:String(o)});if(t||(t=fT()),!t)throw Ss.create("no-options");const c=wd.get(o);if(c){if(Da(t,c.options)&&Da(i,c.config))return c;throw Ss.create("duplicate-app",{appName:o})}const u=new zI(o);for(const p of ug.values())u.addComponent(p);const h=new MN(t,i,u);return wd.set(o,h),h}function vT(r=cg){const e=wd.get(r);if(!e&&r===cg&&fT())return yT();if(!e)throw Ss.create("no-app",{appName:r});return e}function As(r,e,t){let i=DN[r]??r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(u.join(" "));return}Jo(new Oa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="firebase-heartbeat-database",VN=1,Qc="firebase-heartbeat-store";let jp=null;function _T(){return jp||(jp=JI(kN,VN,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Qc)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ss.create("idb-open",{originalErrorMessage:r.message})})),jp}async function jN(r){try{const t=(await _T()).transaction(Qc),i=await t.objectStore(Qc).get(ET(r));return await t.done,i}catch(e){if(e instanceof Li)Oi.warn(e.message);else{const t=Ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(t.message)}}}async function FE(r,e){try{const i=(await _T()).transaction(Qc,"readwrite");await i.objectStore(Qc).put(e,ET(r)),await i.done}catch(t){if(t instanceof Li)Oi.warn(t.message);else{const i=Ss.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Oi.warn(i.message)}}}function ET(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=1024,UN=30;class zN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=HE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(u=>u.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>UN){const u=FN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Oi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=HE(),{heartbeatsToSend:i,unsentEntries:o}=BN(this._heartbeatsCache.heartbeats),c=bd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return Oi.warn(t),""}}}function HE(){return new Date().toISOString().substring(0,10)}function BN(r,e=LN){const t=[];let i=r.slice();for(const o of r){const c=t.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),GE(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),GE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class qN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CI()?II().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await jN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return FE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return FE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function GE(r){return bd(JSON.stringify({version:2,heartbeats:r})).length}function FN(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(r){Jo(new Oa("platform-logger",e=>new nN(e),"PRIVATE")),Jo(new Oa("heartbeat",e=>new zN(e),"PRIVATE")),As(lg,BE,r),As(lg,BE,"esm2020"),As("fire-js","")}HN("");function bT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GN=bT,wT=new lu("auth","Firebase",bT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td=new Qg("@firebase/auth");function KN(r,...e){Td.logLevel<=Fe.WARN&&Td.warn(`Auth (${fl}): ${r}`,...e)}function ld(r,...e){Td.logLevel<=Fe.ERROR&&Td.error(`Auth (${fl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(r,...e){throw Wg(r,...e)}function _r(r,...e){return Wg(r,...e)}function Xg(r,e,t){const i={...GN(),[e]:t};return new lu("auth","Firebase",i).create(e,{appName:r.name})}function Ci(r){return Xg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QN(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&or(r,"argument-error"),Xg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wg(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return wT.create(r,...e)}function Ie(r,e,...t){if(!r)throw Wg(e,...t)}function xi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ld(e),new Error(e)}function Pi(r,e){r||xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function YN(){return KE()==="http:"||KE()==="https:"}function KE(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YN()||SI()||"connection"in navigator)?navigator.onLine:!0}function XN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pi(t>e,"Short delay should be less than long delay!"),this.isMobile=bI()||AI()}get(){return $N()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(r,e){Pi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JN=new uu(3e4,6e4);function Ls(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ui(r,e,t,i,o={}){return ST(r,o,async()=>{let c={},u={};i&&(e==="GET"?u=i:c={body:JSON.stringify(i)});const h=cu({key:r.config.apiKey,...u}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...c};return TI()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ul(r.emulatorConfig.host)&&(g.credentials="include"),TT.fetch()(await AT(r,r.config.apiHost,t,h),g)})}async function ST(r,e,t){r._canInitEmulator=!1;const i={...WN,...e};try{const o=new t2(r),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw $f(r,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const h=c.ok?u.errorMessage:u.error.message,[p,g]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw $f(r,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw $f(r,"email-already-in-use",u);if(p==="USER_DISABLED")throw $f(r,"user-disabled",u);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Xg(r,_,g);or(r,_)}}catch(o){if(o instanceof Li)throw o;or(r,"network-request-failed",{message:String(o)})}}async function fu(r,e,t,i,o={}){const c=await Ui(r,e,t,i,o);return"mfaPendingCredential"in c&&or(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function AT(r,e,t,i){const o=`${e}${t}?${i}`,c=r,u=c.config.emulator?Zg(r.config,o):`${r.config.apiScheme}://${o}`;return ZN.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function e2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class t2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(_r(this.auth,"network-request-failed")),JN.get())})}}function $f(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=_r(r,e,i);return o.customData._tokenResponse=t,o}function QE(r){return r!==void 0&&r.enterprise!==void 0}class n2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return e2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function r2(r,e){return Ui(r,"GET","/v2/recaptchaConfig",Ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(r,e){return Ui(r,"POST","/v1/accounts:delete",e)}async function Sd(r,e){return Ui(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s2(r,e=!1){const t=sn(r),i=await t.getIdToken(e),o=Jg(i);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c==null?void 0:c.sign_in_provider;return{claims:o,token:i,authTime:zc(Lp(o.auth_time)),issuedAtTime:zc(Lp(o.iat)),expirationTime:zc(Lp(o.exp)),signInProvider:u||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Lp(r){return Number(r)*1e3}function Jg(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return ld("JWT malformed, contained fewer than 3 sections"),null;try{const o=cT(t);return o?JSON.parse(o):(ld("Failed to decode base64 JWT payload"),null)}catch(o){return ld("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function YE(r){const e=Jg(r);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Li&&a2(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function a2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zc(this.lastLoginAt),this.creationTime=zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(r){var w;const e=r.auth,t=await r.getIdToken(),i=await el(r,Sd(e,{idToken:t}));Ie(i==null?void 0:i.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const c=(w=o.providerUserInfo)!=null&&w.length?xT(o.providerUserInfo):[],u=c2(r.providerData,c),h=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(u!=null&&u.length),g=h?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new dg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function l2(r){const e=sn(r);await Ad(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function c2(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function xT(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(r,e){const t=await ST(r,{},async()=>{const i=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,u=await AT(r,o,"/v1/token",`key=${c}`),h=await r._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:i};return r.emulatorConfig&&ul(r.emulatorConfig.host)&&(p.credentials="include"),TT.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function f2(r,e){return Ui(r,"POST","/v2/accounts:revokeToken",Ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=YE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:c}=await u2(e,t);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:c}=t,u=new Ko;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(Ie(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(Ie(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(r,e){Ie(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class vr{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new o2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await el(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return s2(this,e)}reload(){return l2(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Ad(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await el(this,i2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:C,providerData:O,stsTokenManager:x}=t;Ie(w&&x,e,"internal-error");const I=Ko.fromJSON(this.name,x);Ie(typeof w=="string",e,"internal-error"),ps(i,e.name),ps(o,e.name),Ie(typeof T=="boolean",e,"internal-error"),Ie(typeof C=="boolean",e,"internal-error"),ps(c,e.name),ps(u,e.name),ps(h,e.name),ps(p,e.name),ps(g,e.name),ps(_,e.name);const z=new vr({uid:w,auth:e,email:o,emailVerified:T,displayName:i,isAnonymous:C,photoURL:u,phoneNumber:c,tenantId:h,stsTokenManager:I,createdAt:g,lastLoginAt:_});return O&&Array.isArray(O)&&(z.providerData=O.map(H=>({...H}))),p&&(z._redirectEventId=p),z}static async _fromIdTokenResponse(e,t,i=!1){const o=new Ko;o.updateFromServerResponse(t);const c=new vr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Ad(c),c}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?xT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),h=new Ko;h.updateFromIdToken(i);const p=new vr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new dg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=new Map;function Ri(r){Pi(r instanceof Function,"Expected a class definition");let e=$E.get(r);return e?(Pi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,$E.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}RT.type="NONE";const XE=RT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(r,e,t){return`firebase:${r}:${e}:${t}`}class Qo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=cd(this.userKey,o.apiKey,c),this.fullPersistenceKey=cd("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Sd(this.auth,{idToken:e}).catch(()=>{});return t?vr._fromGetAccountInfoResponse(this.auth,t,e):null}return vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Qo(Ri(XE),e,i);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||Ri(XE);const u=cd(i,e.config.apiKey,e.name);let h=null;for(const g of t)try{const _=await g._get(u);if(_){let w;if(typeof _=="string"){const T=await Sd(e,{idToken:_}).catch(()=>{});if(!T)break;w=await vr._fromGetAccountInfoResponse(e,T,_)}else w=vr._fromJSON(e,_);g!==c&&(h=w),c=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Qo(c,e,i):(c=p[0],h&&await c._set(u,h.toJSON()),await Promise.all(t.map(async g=>{if(g!==c)try{await g._remove(u)}catch{}})),new Qo(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PT(e))return"Blackberry";if(MT(e))return"Webos";if(IT(e))return"Safari";if((e.includes("chrome/")||NT(e))&&!e.includes("edge/"))return"Chrome";if(OT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function CT(r=bn()){return/firefox\//i.test(r)}function IT(r=bn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NT(r=bn()){return/crios\//i.test(r)}function DT(r=bn()){return/iemobile/i.test(r)}function OT(r=bn()){return/android/i.test(r)}function PT(r=bn()){return/blackberry/i.test(r)}function MT(r=bn()){return/webos/i.test(r)}function ey(r=bn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function d2(r=bn()){var e;return ey(r)&&!!((e=window.navigator)!=null&&e.standalone)}function h2(){return xI()&&document.documentMode===10}function kT(r=bn()){return ey(r)||OT(r)||MT(r)||PT(r)||/windows phone/i.test(r)||DT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(r,e=[]){let t;switch(r){case"Browser":t=WE(bn());break;case"Worker":t=`${WE(bn())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=c=>new Promise((u,h)=>{try{const p=e(c);u(p)}catch(p){h(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(r,e={}){return Ui(r,"GET","/v2/passwordPolicy",Ls(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=6;class y2{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??g2,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZE(this),this.idTokenSubscription=new ZE(this),this.beforeStateQueue=new m2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ri(t)),this._initializationPromise=this.queue(async()=>{var i,o,c;if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Sd(this,{idToken:e}),i=await vr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(c=this.redirectUser)==null?void 0:c._redirectEventId,h=i==null?void 0:i._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===h)&&(p!=null&&p.user)&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ad(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(Ci(this));const t=e?sn(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p2(this),t=new y2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await f2(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ri(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(h,this,"internal-error"),h.then(()=>{u||c(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&KN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Us(r){return sn(r)}class ZE{constructor(e){this.auth=e,this.observer=null,this.addObserver=MI(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _2(r){Qd=r}function jT(r){return Qd.loadJS(r)}function E2(){return Qd.recaptchaEnterpriseScript}function b2(){return Qd.gapiScript}function w2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class T2{constructor(){this.enterprise=new S2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class S2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const A2="recaptcha-enterprise",LT="NO_RECAPTCHA";class x2{constructor(e){this.type=A2,this.auth=Us(e)}async verify(e="verify",t=!1){async function i(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,h)=>{r2(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new n2(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,u(g.siteKey)}}).catch(p=>{h(p)})})}function o(c,u,h){const p=window.grecaptcha;QE(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(g=>{u(g)}).catch(()=>{u(LT)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new T2().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{i(this.auth).then(h=>{if(!t&&QE(window.grecaptcha))o(h,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=E2();p.length!==0&&(p+=h),jT(p).then(()=>{o(h,c,u)}).catch(g=>{u(g)})}}).catch(h=>{u(h)})})}}async function JE(r,e,t,i=!1,o=!1){const c=new x2(r);let u;if(o)u=LT;else try{u=await c.verify(t)}catch{u=await c.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function hg(r,e,t,i,o){var c;if((c=r._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await JE(r,e,t,t==="getOobCode");return i(r,u)}else return i(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await JE(r,e,t,t==="getOobCode");return i(r,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(r,e){const t=$g(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Da(c,e??{}))return o;or(o,"already-initialized")}return t.initialize({options:e})}function C2(r,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ri);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function I2(r,e,t){const i=Us(r);Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=UT(e),{host:u,port:h}=N2(e),p=h===null?"":`:${h}`,g={url:`${c}//${u}${p}/`},_=Object.freeze({host:u,port:h,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ie(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ie(Da(g,i.config.emulator)&&Da(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,ul(u)?(hT(`${c}//${u}${p}`),mT("Auth",!0)):D2()}function UT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function N2(r){const e=UT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:eb(i.substr(c.length+1))}}else{const[c,u]=i.split(":");return{host:c,port:eb(u)}}}function eb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function D2(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,t){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}async function O2(r,e){return Ui(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(r,e){return fu(r,"POST","/v1/accounts:signInWithPassword",Ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(r,e){return fu(r,"POST","/v1/accounts:signInWithEmailLink",Ls(r,e))}async function k2(r,e){return fu(r,"POST","/v1/accounts:signInWithEmailLink",Ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends ty{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Yc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Yc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hg(e,t,"signInWithPassword",P2);case"emailLink":return M2(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hg(e,i,"signUpPassword",O2);case"emailLink":return k2(e,{idToken:t,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(r,e){return fu(r,"POST","/v1/accounts:signInWithIdp",Ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="http://localhost";class Pa extends ty{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...c}=t;if(!i||!o)return null;const u=new Pa(i,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Yo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Yo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yo(e,t)}buildRequest(){const e={requestUri:V2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function L2(r){const e=Oc(Pc(r)).link,t=e?Oc(Pc(e)).deep_link_id:null,i=Oc(Pc(r)).deep_link_id;return(i?Oc(Pc(i)).link:null)||i||t||e||r}class ny{constructor(e){const t=Oc(Pc(e)),i=t.apiKey??null,o=t.oobCode??null,c=j2(t.mode??null);Ie(i&&o&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=L2(e);try{return new ny(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.providerId=dl.PROVIDER_ID}static credential(e,t){return Yc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=ny.parseLink(t);return Ie(i,"argument-error"),Yc._fromEmailAndCode(e,i.code,i.tenantId)}}dl.PROVIDER_ID="password";dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends ry{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends du{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pa._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ai.credential(t,i)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends du{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends du{constructor(){super("twitter.com")}static credential(e,t){return Pa._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return bs.credential(t,i)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(r,e){return fu(r,"POST","/v1/accounts:signUp",Ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const c=await vr._fromIdTokenResponse(e,i,o),u=tb(i);return new Ma({user:c,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=tb(i);return new Ma({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function tb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends Li{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,xd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new xd(e,t,i,o)}}function zT(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?xd._fromErrorAndOperation(r,c,e,i):c})}async function z2(r,e,t=!1){const i=await el(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ma._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(r,e,t=!1){const{auth:i}=r;if(qn(i.app))return Promise.reject(Ci(i));const o="reauthenticate";try{const c=await el(r,zT(i,o,e,r),t);Ie(c.idToken,i,"internal-error");const u=Jg(c.idToken);Ie(u,i,"internal-error");const{sub:h}=u;return Ie(r.uid===h,i,"user-mismatch"),Ma._forOperation(r,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&or(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BT(r,e,t=!1){if(qn(r.app))return Promise.reject(Ci(r));const i="signIn",o=await zT(r,i,e),c=await Ma._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(c.user),c}async function q2(r,e){return BT(Us(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qT(r){const e=Us(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function F2(r,e,t){if(qn(r.app))return Promise.reject(Ci(r));const i=Us(r),u=await hg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",U2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&qT(r),p}),h=await Ma._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function H2(r,e,t){return qn(r.app)?Promise.reject(Ci(r)):q2(sn(r),dl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&qT(r),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(r,e){return Ui(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=sn(r),c={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await el(i,G2(i.auth,c));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const h=i.providerData.find(({providerId:p})=>p==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function Q2(r,e,t,i){return sn(r).onIdTokenChanged(e,t,i)}function Y2(r,e,t){return sn(r).beforeAuthStateChanged(e,t)}const Rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rd,"1"),this.storage.removeItem(Rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=1e3,X2=10;class HT extends FT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,p)=>{this.notifyListeners(u,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},c=this.storage.getItem(i);h2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,X2):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},$2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}HT.type="LOCAL";const W2=HT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT extends FT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}GT.type="SESSION";const KT=GT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Yd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:c}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(u).map(async g=>g(t.origin,c)),p=await Z2(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((h,p)=>{const g=iy("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),h(T.data.response);break;default:clearTimeout(_),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function eD(r){Hr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function tD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function rD(){return QT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firebaseLocalStorageDb",iD=1,Cd="firebaseLocalStorage",$T="fbase_key";class hu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $d(r,e){return r.transaction([Cd],e?"readwrite":"readonly").objectStore(Cd)}function sD(){const r=indexedDB.deleteDatabase(YT);return new hu(r).toPromise()}function mg(){const r=indexedDB.open(YT,iD);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Cd,{keyPath:$T})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Cd)?e(i):(i.close(),await sD(),e(await mg()))})})}async function nb(r,e,t){const i=$d(r,!0).put({[$T]:e,value:t});return new hu(i).toPromise()}async function aD(r,e){const t=$d(r,!1).get(e),i=await new hu(t).toPromise();return i===void 0?null:i.value}function rb(r,e){const t=$d(r,!0).delete(e);return new hu(t).toPromise()}const oD=800,lD=3;class XT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>lD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yd._getInstance(rD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await tD(),!this.activeServiceWorker)return;this.sender=new J2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mg();return await nb(e,Rd,"1"),await rb(e,Rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>nb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>aD(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>rb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=$d(o,!1).getAll();return new hu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XT.type="LOCAL";const cD=XT;new uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(r,e){return e?Ri(e):(Ie(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy extends ty{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function uD(r){return BT(r.auth,new sy(r),r.bypassAuthState)}function fD(r){const{auth:e,user:t}=r;return Ie(t,e,"internal-error"),B2(t,new sy(r),r.bypassAuthState)}async function dD(r){const{auth:e,user:t}=r;return Ie(t,e,"internal-error"),z2(t,new sy(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,t,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:c,error:u,type:h}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uD;case"linkViaPopup":case"linkViaRedirect":return dD;case"reauthViaPopup":case"reauthViaRedirect":return fD;default:or(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new uu(2e3,1e4);async function mD(r,e,t){if(qn(r.app))return Promise.reject(_r(r,"operation-not-supported-in-this-environment"));const i=Us(r);QN(r,e,ry);const o=WT(i,t);return new Ra(i,"signInViaPopup",e,o).executeNotNull()}class Ra extends ZT{constructor(e,t,i,o,c){super(e,t,o,c),this.provider=i,this.authWindow=null,this.pollId=null,Ra.currentPopupAction&&Ra.currentPopupAction.cancel(),Ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=iy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hD.get())};e()}}Ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="pendingRedirect",ud=new Map;class gD extends ZT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ud.get(this.auth._key());if(!e){try{const i=await yD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ud.set(this.auth._key(),e)}return this.bypassAuthState||ud.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yD(r,e){const t=ED(e),i=_D(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function vD(r,e){ud.set(r._key(),e)}function _D(r){return Ri(r._redirectPersistence)}function ED(r){return cd(pD,r.config.apiKey,r.name)}async function bD(r,e,t=!1){if(qn(r.app))return Promise.reject(Ci(r));const i=Us(r),o=WT(i,e),u=await new gD(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=10*60*1e3;class TD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!JT(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(_r(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wD&&this.cachedEventUids.clear(),this.cachedEventUids.has(ib(e))}saveEventToCache(e){this.cachedEventUids.add(ib(e)),this.lastProcessedEventTime=Date.now()}}function ib(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function JT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(r,e={}){return Ui(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RD=/^https?/;async function CD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await AD(r);for(const t of e)try{if(ID(t))return}catch{}or(r,"unauthorized-domain")}function ID(r){const e=fg(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!RD.test(t))return!1;if(xD.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new uu(3e4,6e4);function sb(){const r=Hr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function DD(r){return new Promise((e,t)=>{var o,c,u;function i(){sb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sb(),t(_r(r,"network-request-failed"))},timeout:ND.get()})}if((c=(o=Hr().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((u=Hr().gapi)!=null&&u.load)i();else{const h=w2("iframefcb");return Hr()[h]=()=>{gapi.load?i():t(_r(r,"network-request-failed"))},jT(`${b2()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw fd=null,e})}let fd=null;function OD(r){return fd=fd||DD(r),fd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new uu(5e3,15e3),MD="__/auth/iframe",kD="emulator/auth/iframe",VD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LD(r){const e=r.config;Ie(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Zg(e,kD):`https://${r.config.authDomain}/${MD}`,i={apiKey:e.apiKey,appName:r.name,v:fl},o=jD.get(r.config.apiHost);o&&(i.eid=o);const c=r._getFrameworks();return c.length&&(i.fw=c.join(",")),`${t}?${cu(i).slice(1)}`}async function UD(r){const e=await OD(r),t=Hr().gapi;return Ie(t,r,"internal-error"),e.open({where:document.body,url:LD(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VD,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const u=_r(r,"network-request-failed"),h=Hr().setTimeout(()=>{c(u)},PD.get());function p(){Hr().clearTimeout(h),o(i)}i.ping(p).then(p,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BD=500,qD=600,FD="_blank",HD="http://localhost";class ab{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GD(r,e,t,i=BD,o=qD){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p={...zD,width:i.toString(),height:o.toString(),top:c,left:u},g=bn().toLowerCase();t&&(h=NT(g)?FD:t),CT(g)&&(e=e||HD,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[C,O])=>`${T}${C}=${O},`,"");if(d2(g)&&h!=="_self")return KD(e||"",h),new ab(null);const w=window.open(e||"",h,_);Ie(w,r,"popup-blocked");try{w.focus()}catch{}return new ab(w)}function KD(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="__/auth/handler",YD="emulator/auth/handler",$D=encodeURIComponent("fac");async function ob(r,e,t,i,o,c){Ie(r.config.authDomain,r,"auth-domain-config-required"),Ie(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:fl,eventId:o};if(e instanceof ry){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",PI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))u[_]=w}if(e instanceof du){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(u.scopes=_.join(","))}r.tenantId&&(u.tid=r.tenantId);const h=u;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const p=await r._getAppCheckToken(),g=p?`#${$D}=${encodeURIComponent(p)}`:"";return`${XD(r)}?${cu(h).slice(1)}${g}`}function XD({config:r}){return r.emulator?Zg(r,YD):`https://${r.authDomain}/${QD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="webStorageSupport";class WD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KT,this._completeRedirectFn=bD,this._overrideRedirectResult=vD}async _openPopup(e,t,i,o){var u;Pi((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await ob(e,t,i,fg(),o);return GD(e,c,iy())}async _openRedirect(e,t,i,o){await this._originValidation(e);const c=await ob(e,t,i,fg(),o);return eD(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(Pi(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await UD(e),i=new TD(e);return t.register("authEvent",o=>(Ie(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Up,{type:Up},o=>{var u;const c=(u=o==null?void 0:o[0])==null?void 0:u[Up];c!==void 0&&t(!!c),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=CD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kT()||IT()||ey()}}const ZD=WD;var lb="@firebase/auth",cb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tO(r){Jo(new Oa("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Ie(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:u,authDomain:h,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VT(r)},g=new v2(i,o,c,p);return C2(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Jo(new Oa("auth-internal",e=>{const t=Us(e.getProvider("auth").getImmediate());return(i=>new JD(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),As(lb,cb,eO(r)),As(lb,cb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=5*60,rO=dT("authIdTokenMaxAge")||nO;let ub=null;const iO=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>rO)return;const o=t==null?void 0:t.token;ub!==o&&(ub=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sO(r=vT()){const e=$g(r,"auth");if(e.isInitialized())return e.getImmediate();const t=R2(r,{popupRedirectResolver:ZD,persistence:[cD,W2,KT]}),i=dT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const u=iO(c.toString());Y2(t,u,()=>u(t.currentUser)),Q2(t,h=>u(h))}}const o=uT("auth");return o&&I2(t,`http://${o}`),t}function aO(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}_2({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const c=_r("internal-error");c.customData=o,t(c)},i.type="text/javascript",i.charset="UTF-8",aO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tO("Browser");var oO="firebase",lO="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As(oO,lO,"app");var fb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,eS;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function P(){}P.prototype=A.prototype,D.D=A.prototype,D.prototype=new P,D.prototype.constructor=D,D.C=function(j,L,U){for(var M=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)M[fe-2]=arguments[fe];return A.prototype[L].apply(j,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,P){P||(P=0);var j=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)j[L]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(L=0;16>L;++L)j[L]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=D.g[0],P=D.g[1],L=D.g[2];var U=D.g[3],M=A+(U^P&(L^U))+j[0]+3614090360&4294967295;A=P+(M<<7&4294967295|M>>>25),M=U+(L^A&(P^L))+j[1]+3905402710&4294967295,U=A+(M<<12&4294967295|M>>>20),M=L+(P^U&(A^P))+j[2]+606105819&4294967295,L=U+(M<<17&4294967295|M>>>15),M=P+(A^L&(U^A))+j[3]+3250441966&4294967295,P=L+(M<<22&4294967295|M>>>10),M=A+(U^P&(L^U))+j[4]+4118548399&4294967295,A=P+(M<<7&4294967295|M>>>25),M=U+(L^A&(P^L))+j[5]+1200080426&4294967295,U=A+(M<<12&4294967295|M>>>20),M=L+(P^U&(A^P))+j[6]+2821735955&4294967295,L=U+(M<<17&4294967295|M>>>15),M=P+(A^L&(U^A))+j[7]+4249261313&4294967295,P=L+(M<<22&4294967295|M>>>10),M=A+(U^P&(L^U))+j[8]+1770035416&4294967295,A=P+(M<<7&4294967295|M>>>25),M=U+(L^A&(P^L))+j[9]+2336552879&4294967295,U=A+(M<<12&4294967295|M>>>20),M=L+(P^U&(A^P))+j[10]+4294925233&4294967295,L=U+(M<<17&4294967295|M>>>15),M=P+(A^L&(U^A))+j[11]+2304563134&4294967295,P=L+(M<<22&4294967295|M>>>10),M=A+(U^P&(L^U))+j[12]+1804603682&4294967295,A=P+(M<<7&4294967295|M>>>25),M=U+(L^A&(P^L))+j[13]+4254626195&4294967295,U=A+(M<<12&4294967295|M>>>20),M=L+(P^U&(A^P))+j[14]+2792965006&4294967295,L=U+(M<<17&4294967295|M>>>15),M=P+(A^L&(U^A))+j[15]+1236535329&4294967295,P=L+(M<<22&4294967295|M>>>10),M=A+(L^U&(P^L))+j[1]+4129170786&4294967295,A=P+(M<<5&4294967295|M>>>27),M=U+(P^L&(A^P))+j[6]+3225465664&4294967295,U=A+(M<<9&4294967295|M>>>23),M=L+(A^P&(U^A))+j[11]+643717713&4294967295,L=U+(M<<14&4294967295|M>>>18),M=P+(U^A&(L^U))+j[0]+3921069994&4294967295,P=L+(M<<20&4294967295|M>>>12),M=A+(L^U&(P^L))+j[5]+3593408605&4294967295,A=P+(M<<5&4294967295|M>>>27),M=U+(P^L&(A^P))+j[10]+38016083&4294967295,U=A+(M<<9&4294967295|M>>>23),M=L+(A^P&(U^A))+j[15]+3634488961&4294967295,L=U+(M<<14&4294967295|M>>>18),M=P+(U^A&(L^U))+j[4]+3889429448&4294967295,P=L+(M<<20&4294967295|M>>>12),M=A+(L^U&(P^L))+j[9]+568446438&4294967295,A=P+(M<<5&4294967295|M>>>27),M=U+(P^L&(A^P))+j[14]+3275163606&4294967295,U=A+(M<<9&4294967295|M>>>23),M=L+(A^P&(U^A))+j[3]+4107603335&4294967295,L=U+(M<<14&4294967295|M>>>18),M=P+(U^A&(L^U))+j[8]+1163531501&4294967295,P=L+(M<<20&4294967295|M>>>12),M=A+(L^U&(P^L))+j[13]+2850285829&4294967295,A=P+(M<<5&4294967295|M>>>27),M=U+(P^L&(A^P))+j[2]+4243563512&4294967295,U=A+(M<<9&4294967295|M>>>23),M=L+(A^P&(U^A))+j[7]+1735328473&4294967295,L=U+(M<<14&4294967295|M>>>18),M=P+(U^A&(L^U))+j[12]+2368359562&4294967295,P=L+(M<<20&4294967295|M>>>12),M=A+(P^L^U)+j[5]+4294588738&4294967295,A=P+(M<<4&4294967295|M>>>28),M=U+(A^P^L)+j[8]+2272392833&4294967295,U=A+(M<<11&4294967295|M>>>21),M=L+(U^A^P)+j[11]+1839030562&4294967295,L=U+(M<<16&4294967295|M>>>16),M=P+(L^U^A)+j[14]+4259657740&4294967295,P=L+(M<<23&4294967295|M>>>9),M=A+(P^L^U)+j[1]+2763975236&4294967295,A=P+(M<<4&4294967295|M>>>28),M=U+(A^P^L)+j[4]+1272893353&4294967295,U=A+(M<<11&4294967295|M>>>21),M=L+(U^A^P)+j[7]+4139469664&4294967295,L=U+(M<<16&4294967295|M>>>16),M=P+(L^U^A)+j[10]+3200236656&4294967295,P=L+(M<<23&4294967295|M>>>9),M=A+(P^L^U)+j[13]+681279174&4294967295,A=P+(M<<4&4294967295|M>>>28),M=U+(A^P^L)+j[0]+3936430074&4294967295,U=A+(M<<11&4294967295|M>>>21),M=L+(U^A^P)+j[3]+3572445317&4294967295,L=U+(M<<16&4294967295|M>>>16),M=P+(L^U^A)+j[6]+76029189&4294967295,P=L+(M<<23&4294967295|M>>>9),M=A+(P^L^U)+j[9]+3654602809&4294967295,A=P+(M<<4&4294967295|M>>>28),M=U+(A^P^L)+j[12]+3873151461&4294967295,U=A+(M<<11&4294967295|M>>>21),M=L+(U^A^P)+j[15]+530742520&4294967295,L=U+(M<<16&4294967295|M>>>16),M=P+(L^U^A)+j[2]+3299628645&4294967295,P=L+(M<<23&4294967295|M>>>9),M=A+(L^(P|~U))+j[0]+4096336452&4294967295,A=P+(M<<6&4294967295|M>>>26),M=U+(P^(A|~L))+j[7]+1126891415&4294967295,U=A+(M<<10&4294967295|M>>>22),M=L+(A^(U|~P))+j[14]+2878612391&4294967295,L=U+(M<<15&4294967295|M>>>17),M=P+(U^(L|~A))+j[5]+4237533241&4294967295,P=L+(M<<21&4294967295|M>>>11),M=A+(L^(P|~U))+j[12]+1700485571&4294967295,A=P+(M<<6&4294967295|M>>>26),M=U+(P^(A|~L))+j[3]+2399980690&4294967295,U=A+(M<<10&4294967295|M>>>22),M=L+(A^(U|~P))+j[10]+4293915773&4294967295,L=U+(M<<15&4294967295|M>>>17),M=P+(U^(L|~A))+j[1]+2240044497&4294967295,P=L+(M<<21&4294967295|M>>>11),M=A+(L^(P|~U))+j[8]+1873313359&4294967295,A=P+(M<<6&4294967295|M>>>26),M=U+(P^(A|~L))+j[15]+4264355552&4294967295,U=A+(M<<10&4294967295|M>>>22),M=L+(A^(U|~P))+j[6]+2734768916&4294967295,L=U+(M<<15&4294967295|M>>>17),M=P+(U^(L|~A))+j[13]+1309151649&4294967295,P=L+(M<<21&4294967295|M>>>11),M=A+(L^(P|~U))+j[4]+4149444226&4294967295,A=P+(M<<6&4294967295|M>>>26),M=U+(P^(A|~L))+j[11]+3174756917&4294967295,U=A+(M<<10&4294967295|M>>>22),M=L+(A^(U|~P))+j[2]+718787259&4294967295,L=U+(M<<15&4294967295|M>>>17),M=P+(U^(L|~A))+j[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+U&4294967295}i.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var P=A-this.blockSize,j=this.B,L=this.h,U=0;U<A;){if(L==0)for(;U<=P;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<A;)if(j[L++]=D.charCodeAt(U++),L==this.blockSize){o(this,j),L=0;break}}else for(;U<A;)if(j[L++]=D[U++],L==this.blockSize){o(this,j),L=0;break}}this.h=L,this.o+=A},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var P=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=P&255,P/=256;for(this.u(D),D=Array(16),A=P=0;4>A;++A)for(var j=0;32>j;j+=8)D[P++]=this.g[A]>>>j&255;return D};function c(D,A){var P=h;return Object.prototype.hasOwnProperty.call(P,D)?P[D]:P[D]=A(D)}function u(D,A){this.h=A;for(var P=[],j=!0,L=D.length-1;0<=L;L--){var U=D[L]|0;j&&U==A||(P[L]=U,j=!1)}this.g=P}var h={};function p(D){return-128<=D&&128>D?c(D,function(A){return new u([A|0],0>A?-1:0)}):new u([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return I(g(-D));for(var A=[],P=1,j=0;D>=P;j++)A[j]=D/P|0,P*=4294967296;return new u(A,0)}function _(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return I(_(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=g(Math.pow(A,8)),j=w,L=0;L<D.length;L+=8){var U=Math.min(8,D.length-L),M=parseInt(D.substring(L,L+U),A);8>U?(U=g(Math.pow(A,U)),j=j.j(U).add(g(M))):(j=j.j(P),j=j.add(g(M)))}return j}var w=p(0),T=p(1),C=p(16777216);r=u.prototype,r.m=function(){if(x(this))return-I(this).m();for(var D=0,A=1,P=0;P<this.g.length;P++){var j=this.i(P);D+=(0<=j?j:4294967296+j)*A,A*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(O(this))return"0";if(x(this))return"-"+I(this).toString(D);for(var A=g(Math.pow(D,6)),P=this,j="";;){var L=Z(P,A).g;P=z(P,L.j(A));var U=((0<P.g.length?P.g[0]:P.h)>>>0).toString(D);if(P=L,O(P))return U+j;for(;6>U.length;)U="0"+U;j=U+j}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function O(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function x(D){return D.h==-1}r.l=function(D){return D=z(this,D),x(D)?-1:O(D)?0:1};function I(D){for(var A=D.g.length,P=[],j=0;j<A;j++)P[j]=~D.g[j];return new u(P,~D.h).add(T)}r.abs=function(){return x(this)?I(this):this},r.add=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],j=0,L=0;L<=A;L++){var U=j+(this.i(L)&65535)+(D.i(L)&65535),M=(U>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);j=M>>>16,U&=65535,M&=65535,P[L]=M<<16|U}return new u(P,P[P.length-1]&-2147483648?-1:0)};function z(D,A){return D.add(I(A))}r.j=function(D){if(O(this)||O(D))return w;if(x(this))return x(D)?I(this).j(I(D)):I(I(this).j(D));if(x(D))return I(this.j(I(D)));if(0>this.l(C)&&0>D.l(C))return g(this.m()*D.m());for(var A=this.g.length+D.g.length,P=[],j=0;j<2*A;j++)P[j]=0;for(j=0;j<this.g.length;j++)for(var L=0;L<D.g.length;L++){var U=this.i(j)>>>16,M=this.i(j)&65535,fe=D.i(L)>>>16,de=D.i(L)&65535;P[2*j+2*L]+=M*de,H(P,2*j+2*L),P[2*j+2*L+1]+=U*de,H(P,2*j+2*L+1),P[2*j+2*L+1]+=M*fe,H(P,2*j+2*L+1),P[2*j+2*L+2]+=U*fe,H(P,2*j+2*L+2)}for(j=0;j<A;j++)P[j]=P[2*j+1]<<16|P[2*j];for(j=A;j<2*A;j++)P[j]=0;return new u(P,0)};function H(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function F(D,A){this.g=D,this.h=A}function Z(D,A){if(O(A))throw Error("division by zero");if(O(D))return new F(w,w);if(x(D))return A=Z(I(D),A),new F(I(A.g),I(A.h));if(x(A))return A=Z(D,I(A)),new F(I(A.g),A.h);if(30<D.g.length){if(x(D)||x(A))throw Error("slowDivide_ only works with positive integers.");for(var P=T,j=A;0>=j.l(D);)P=ee(P),j=ee(j);var L=ce(P,1),U=ce(j,1);for(j=ce(j,2),P=ce(P,2);!O(j);){var M=U.add(j);0>=M.l(D)&&(L=L.add(P),U=M),j=ce(j,1),P=ce(P,1)}return A=z(D,L.j(A)),new F(L,A)}for(L=w;0<=D.l(A);){for(P=Math.max(1,Math.floor(D.m()/A.m())),j=Math.ceil(Math.log(P)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),U=g(P),M=U.j(A);x(M)||0<M.l(D);)P-=j,U=g(P),M=U.j(A);O(U)&&(U=T),L=L.add(U),D=z(D,M)}return new F(L,D)}r.A=function(D){return Z(this,D).h},r.and=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],j=0;j<A;j++)P[j]=this.i(j)&D.i(j);return new u(P,this.h&D.h)},r.or=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],j=0;j<A;j++)P[j]=this.i(j)|D.i(j);return new u(P,this.h|D.h)},r.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],j=0;j<A;j++)P[j]=this.i(j)^D.i(j);return new u(P,this.h^D.h)};function ee(D){for(var A=D.g.length+1,P=[],j=0;j<A;j++)P[j]=D.i(j)<<1|D.i(j-1)>>>31;return new u(P,D.h)}function ce(D,A){var P=A>>5;A%=32;for(var j=D.g.length-P,L=[],U=0;U<j;U++)L[U]=0<A?D.i(U+P)>>>A|D.i(U+P+1)<<32-A:D.i(U+P);return new u(L,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,eS=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=_,xs=u}).apply(typeof fb<"u"?fb:typeof self<"u"?self:typeof window<"u"?window:{});var Xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tS,Mc,nS,dd,pg,rS,iS,sS;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,E){return f==Array.prototype||f==Object.prototype||(f[y]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xf=="object"&&Xf];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function o(f,y){if(y)e:{var E=i;f=f.split(".");for(var R=0;R<f.length-1;R++){var K=f[R];if(!(K in E))break e;E=E[K]}f=f[f.length-1],R=E[f],y=y(R),y!=R&&y!=null&&e(E,f,{configurable:!0,writable:!0,value:y})}}function c(f,y){f instanceof String&&(f+="");var E=0,R=!1,K={next:function(){if(!R&&E<f.length){var J=E++;return{value:y(J,f[J]),done:!1}}return R=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}o("Array.prototype.values",function(f){return f||function(){return c(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function p(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function g(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function _(f,y,E){return f.call.apply(f.bind,arguments)}function w(f,y,E){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,R),f.apply(y,K)}}return function(){return f.apply(y,arguments)}}function T(f,y,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,T.apply(null,arguments)}function C(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function O(f,y){function E(){}E.prototype=y.prototype,f.aa=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(R,K,J){for(var he=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)he[Ke-2]=arguments[Ke];return y.prototype[K].apply(R,he)}}function x(f){const y=f.length;if(0<y){const E=Array(y);for(let R=0;R<y;R++)E[R]=f[R];return E}return[]}function I(f,y){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(p(R)){const K=f.length||0,J=R.length||0;f.length=K+J;for(let he=0;he<J;he++)f[K+he]=R[he]}else f.push(R)}}class z{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(f){return/^[\s\xa0]*$/.test(f)}function F(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function Z(f){return Z[" "](f),f}Z[" "]=function(){};var ee=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ce(f,y,E){for(const R in f)y.call(E,f[R],R,f)}function D(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function A(f){const y={};for(const E in f)y[E]=f[E];return y}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(f,y){let E,R;for(let K=1;K<arguments.length;K++){R=arguments[K];for(E in R)f[E]=R[E];for(let J=0;J<P.length;J++)E=P[J],Object.prototype.hasOwnProperty.call(R,E)&&(f[E]=R[E])}}function L(f){var y=1;f=f.split(":");const E=[];for(;0<y&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function U(f){h.setTimeout(()=>{throw f},0)}function M(){var f=be;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class fe{constructor(){this.h=this.g=null}add(y,E){const R=de.get();R.set(y,E),this.h?this.h.next=R:this.g=R,this.h=R}}var de=new z(()=>new q,f=>f.reset());class q{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let re,W=!1,be=new fe,V=()=>{const f=h.Promise.resolve(void 0);re=()=>{f.then(ne)}};var ne=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(E){U(E)}var y=de;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}W=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return f}();function Re(f,y){if(oe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(ee){e:{try{Z(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:we[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Re.aa.h.call(this)}}O(Re,oe);var we={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Xe(f,y,E,R,K){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!R,this.ha=K,this.key=++Se,this.da=this.fa=!1}function je(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Me(f){this.src=f,this.g={},this.h=0}Me.prototype.add=function(f,y,E,R,K){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var he=St(f,y,R,K);return-1<he?(y=f[he],E||(y.fa=!1)):(y=new Xe(y,this.src,J,!!R,K),y.fa=E,f.push(y)),y};function ke(f,y){var E=y.type;if(E in f.g){var R=f.g[E],K=Array.prototype.indexOf.call(R,y,void 0),J;(J=0<=K)&&Array.prototype.splice.call(R,K,1),J&&(je(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function St(f,y,E,R){for(var K=0;K<f.length;++K){var J=f[K];if(!J.da&&J.listener==y&&J.capture==!!E&&J.ha==R)return K}return-1}var Yt="closure_lm_"+(1e6*Math.random()|0),lr={};function Sr(f,y,E,R,K){if(Array.isArray(y)){for(var J=0;J<y.length;J++)Sr(f,y[J],E,R,K);return null}return E=Tu(E),f&&f[me]?f.K(y,E,g(R)?!!R.capture:!1,K):$t(f,y,E,!1,R,K)}function $t(f,y,E,R,K,J){if(!y)throw Error("Invalid event type");var he=g(K)?!!K.capture:!!K,Ke=Ha(f);if(Ke||(f[Yt]=Ke=new Me(f)),E=Ke.add(y,E,R,he,J),E.proxy)return E;if(R=bl(),E.proxy=R,R.src=f,R.listener=E,f.addEventListener)pe||(K=he),K===void 0&&(K=!1),f.addEventListener(y.toString(),R,K);else if(f.attachEvent)f.attachEvent(Gs(y.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function bl(){function f(E){return y.call(f.src,f.listener,E)}const y=xh;return f}function Ar(f,y,E,R,K){if(Array.isArray(y))for(var J=0;J<y.length;J++)Ar(f,y[J],E,R,K);else R=g(R)?!!R.capture:!!R,E=Tu(E),f&&f[me]?(f=f.i,y=String(y).toString(),y in f.g&&(J=f.g[y],E=St(J,E,R,K),-1<E&&(je(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete f.g[y],f.h--)))):f&&(f=Ha(f))&&(y=f.g[y.toString()],f=-1,y&&(f=St(y,E,R,K)),(E=-1<f?y[f]:null)&&Fa(E))}function Fa(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[me])ke(y.i,f);else{var E=f.type,R=f.proxy;y.removeEventListener?y.removeEventListener(E,R,f.capture):y.detachEvent?y.detachEvent(Gs(E),R):y.addListener&&y.removeListener&&y.removeListener(R),(E=Ha(y))?(ke(E,f),E.h==0&&(E.src=null,y[Yt]=null)):je(f)}}}function Gs(f){return f in lr?lr[f]:lr[f]="on"+f}function xh(f,y){if(f.da)f=!0;else{y=new Re(y,this);var E=f.listener,R=f.ha||f.src;f.fa&&Fa(f),f=E.call(R,y)}return f}function Ha(f){return f=f[Yt],f instanceof Me?f:null}var wl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tu(f){return typeof f=="function"?f:(f[wl]||(f[wl]=function(y){return f.handleEvent(y)}),f[wl])}function Et(){ue.call(this),this.i=new Me(this),this.M=this,this.F=null}O(Et,ue),Et.prototype[me]=!0,Et.prototype.removeEventListener=function(f,y,E,R){Ar(this,f,y,E,R)};function rt(f,y){var E,R=f.F;if(R)for(E=[];R;R=R.F)E.push(R);if(f=f.M,R=y.type||y,typeof y=="string")y=new oe(y,f);else if(y instanceof oe)y.target=y.target||f;else{var K=y;y=new oe(R,f),j(y,K)}if(K=!0,E)for(var J=E.length-1;0<=J;J--){var he=y.g=E[J];K=On(he,R,!0,y)&&K}if(he=y.g=f,K=On(he,R,!0,y)&&K,K=On(he,R,!1,y)&&K,E)for(J=0;J<E.length;J++)he=y.g=E[J],K=On(he,R,!1,y)&&K}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var E=f.g[y],R=0;R<E.length;R++)je(E[R]);delete f.g[y],f.h--}}this.F=null},Et.prototype.K=function(f,y,E,R){return this.i.add(String(f),y,!1,E,R)},Et.prototype.L=function(f,y,E,R){return this.i.add(String(f),y,!0,E,R)};function On(f,y,E,R){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,J=0;J<y.length;++J){var he=y[J];if(he&&!he.da&&he.capture==E){var Ke=he.listener,Bt=he.ha||he.src;he.fa&&ke(f.i,he),K=Ke.call(Bt,R)!==!1&&K}}return K&&!R.defaultPrevented}function pn(f,y,E){if(typeof f=="function")E&&(f=T(f,E));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(f,y||0)}function Su(f){f.g=pn(()=>{f.g=null,f.i&&(f.i=!1,Su(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Rh extends ue{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Su(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ks(f){ue.call(this),this.h=f,this.g={}}O(Ks,ue);var Qs=[];function Ys(f){ce(f.g,function(y,E){this.g.hasOwnProperty(E)&&Fa(y)},f),f.g={}}Ks.prototype.N=function(){Ks.aa.N.call(this),Ys(this)},Ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=h.JSON.stringify,Ga=h.JSON.parse,$s=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function Tl(){}Tl.prototype.h=null;function Sl(f){return f.h||(f.h=f.i())}function Al(){}var Jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ei(){oe.call(this,"d")}O(ei,oe);function xl(){oe.call(this,"c")}O(xl,oe);var xr={},Rl=null;function zi(){return Rl=Rl||new Et}xr.La="serverreachability";function Ka(f){oe.call(this,xr.La,f)}O(Ka,oe);function Bi(f){const y=zi();rt(y,new Ka(y))}xr.STAT_EVENT="statevent";function Au(f,y){oe.call(this,xr.STAT_EVENT,f),this.stat=y}O(Au,oe);function gt(f){const y=zi();rt(y,new Au(y,f))}xr.Ma="timingevent";function zt(f,y){oe.call(this,xr.Ma,f),this.size=y}O(zt,oe);function Dt(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},y)}function Gn(){this.g=!0}Gn.prototype.xa=function(){this.g=!1};function Cl(f,y,E,R,K,J){f.info(function(){if(f.g)if(J)for(var he="",Ke=J.split("&"),Bt=0;Bt<Ke.length;Bt++){var Qe=Ke[Bt].split("=");if(1<Qe.length){var Wt=Qe[0];Qe=Qe[1];var qt=Wt.split("_");he=2<=qt.length&&qt[1]=="type"?he+(Wt+"="+Qe+"&"):he+(Wt+"=redacted&")}}else he=null;else he=J;return"XMLHTTP REQ ("+R+") [attempt "+K+"]: "+y+`
`+E+`
`+he})}function Ch(f,y,E,R,K,J,he){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+K+"]: "+y+`
`+E+`
`+J+" "+he})}function qi(f,y,E,R){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Xs(f,E)+(R?" "+R:"")})}function xu(f,y){f.info(function(){return"TIMEOUT: "+y})}Gn.prototype.info=function(){};function Xs(f,y){if(!f.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var R=E[f];if(!(2>R.length)){var K=R[1];if(Array.isArray(K)&&!(1>K.length)){var J=K[0];if(J!="noop"&&J!="stop"&&J!="close")for(var he=1;he<K.length;he++)K[he]=""}}}}return cr(E)}catch{return y}}var Fi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ti={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rr;function Cr(){}O(Cr,Tl),Cr.prototype.g=function(){return new XMLHttpRequest},Cr.prototype.i=function(){return{}},Rr=new Cr;function Tn(f,y,E,R){this.j=f,this.i=y,this.l=E,this.R=R||1,this.U=new Ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}var Il={},Qa={};function ur(f,y,E){f.L=1,f.v=ta(Pn(y)),f.m=E,f.P=!0,ni(f,null)}function ni(f,y){f.F=Date.now(),Ws(f),f.A=Pn(f.v);var E=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),kl(E.i,"t",R),f.C=0,E=f.j.J,f.h=new At,f.g=qu(f.j,E?y:null,!f.m),0<f.O&&(f.M=new Rh(T(f.Y,f,f.g),f.O)),y=f.U,E=f.g,R=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(Qs[0]=K.toString()),K=Qs);for(var J=0;J<K.length;J++){var he=Sr(E,K[J],R||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Bi(),Cl(f.i,f.u,f.A,f.l,f.R,f.m)}Tn.prototype.ca=function(f){f=f.target;const y=this.M;y&&$n(f)==3?y.j():this.Y(f)},Tn.prototype.Y=function(f){try{if(f==this.g)e:{const qt=$n(this.g);var y=this.g.Ba();const ui=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||Mu(this.g)))){this.J||qt!=4||y==7||(y==8||0>=ui?Bi(3):Bi(2)),Hi(this);var E=this.g.Z();this.X=E;t:if(Ru(this)){var R=Mu(this.g);f="";var K=R.length,J=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),Ir(this);var he="";break t}this.h.i=new h.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,f+=this.h.i.decode(R[y],{stream:!(J&&y==K-1)});R.length=0,this.h.g+=f,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=E==200,Ch(this.i,this.u,this.A,this.l,this.R,qt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Bt=this.g;if((Ke=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Ke)){var Qe=Ke;break t}}Qe=null}if(E=Qe)qi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zs(this,E);else{this.o=!1,this.s=3,gt(12),an(this),Ir(this);break e}}if(this.P){E=!0;let on;for(;!this.J&&this.C<he.length;)if(on=Cu(this,he),on==Qa){qt==4&&(this.s=4,gt(14),E=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Il){this.s=4,gt(15),qi(this.i,this.l,he,"[Invalid Chunk]"),E=!1;break}else qi(this.i,this.l,on,null),Zs(this,on);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||he.length!=0||this.h.h||(this.s=1,gt(16),E=!1),this.o=this.o&&E,!E)qi(this.i,this.l,he,"[Invalid Chunked Response]"),an(this),Ir(this);else if(0<he.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),ca(Wt),Wt.M=!0,gt(11))}}else qi(this.i,this.l,he,null),Zs(this,he);qt==4&&an(this),this.o&&!this.J&&(qt==4?Uu(this.j,this):(this.o=!1,Ws(this)))}else Ph(this.g),E==400&&0<he.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),an(this),Ir(this)}}}catch{}finally{}};function Ru(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Cu(f,y){var E=f.C,R=y.indexOf(`
`,E);return R==-1?Qa:(E=Number(y.substring(E,R)),isNaN(E)?Il:(R+=1,R+E>y.length?Qa:(y=y.slice(R,R+E),f.C=R+E,y)))}Tn.prototype.cancel=function(){this.J=!0,an(this)};function Ws(f){f.S=Date.now()+f.I,Iu(f,f.I)}function Iu(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Dt(T(f.ba,f),y)}function Hi(f){f.B&&(h.clearTimeout(f.B),f.B=null)}Tn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(xu(this.i,this.A),this.L!=2&&(Bi(),gt(17)),an(this),this.s=2,Ir(this)):Iu(this,this.S-f)};function Ir(f){f.j.G==0||f.J||Uu(f.j,f)}function an(f){Hi(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Ys(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Zs(f,y){try{var E=f.j;if(E.G!=0&&(E.g==f||Nl(E.h,f))){if(!f.K&&Nl(E.h,f)&&E.G==3){try{var R=E.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var K=R;if(K[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)so(E),ro(E);else break e;zl(E),gt(18)}}else E.za=K[1],0<E.za-E.T&&37500>K[2]&&E.F&&E.v==0&&!E.C&&(E.C=Dt(T(E.Za,E),6e3));if(1>=$a(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ci(E,11)}else if((f.K||E.g==f)&&so(E),!H(y))for(K=E.Da.g.parse(y),y=0;y<K.length;y++){let Qe=K[y];if(E.T=Qe[0],Qe=Qe[1],E.G==2)if(Qe[0]=="c"){E.K=Qe[1],E.ia=Qe[2];const Wt=Qe[3];Wt!=null&&(E.la=Wt,E.j.info("VER="+E.la));const qt=Qe[4];qt!=null&&(E.Aa=qt,E.j.info("SVER="+E.Aa));const ui=Qe[5];ui!=null&&typeof ui=="number"&&0<ui&&(R=1.5*ui,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const on=f.g;if(on){const Vr=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var J=R.h;J.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Xa(J,J.h),J.h=null))}if(R.D){const ql=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;ql&&(R.ya=ql,at(R.I,R.D,ql))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var he=f;if(R.qa=Bu(R,R.J?R.ia:null,R.W),he.K){Sn(R.h,he);var Ke=he,Bt=R.L;Bt&&(Ke.I=Bt),Ke.B&&(Hi(Ke),Ws(Ke)),R.g=he}else ju(R);0<E.i.length&&io(E)}else Qe[0]!="stop"&&Qe[0]!="close"||ci(E,7);else E.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?ci(E,7):Ll(E):Qe[0]!="noop"&&E.l&&E.l.ta(Qe),E.v=0)}}Bi(4)}catch{}}var Nu=class{constructor(f,y){this.g=f,this.map=y}};function ri(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ya(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function $a(f){return f.h?1:f.g?f.g.size:0}function Nl(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Xa(f,y){f.g?f.g.add(y):f.h=y}function Sn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}ri.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Dl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.D);return y}return x(f.i)}function Ih(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var y=[],E=f.length,R=0;R<E;R++)y.push(f[R]);return y}y=[],E=0;for(R in f)y[E++]=f[R];return y}function Wa(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var y=[];f=f.length;for(var E=0;E<f;E++)y.push(E);return y}y=[],E=0;for(const R in f)y[E++]=R;return y}}}function Ol(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var E=Wa(f),R=Ih(f),K=R.length,J=0;J<K;J++)y.call(void 0,R[J],E&&E[J],f)}var Js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nh(f,y){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var R=f[E].indexOf("="),K=null;if(0<=R){var J=f[E].substring(0,R);K=f[E].substring(R+1)}else J=f[E];y(J,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Ot(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ot){this.h=f.h,ea(this,f.j),this.o=f.o,this.g=f.g,Gi(this,f.s),this.l=f.l;var y=f.i,E=new si;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),ii(this,E),this.m=f.m}else f&&(y=String(f).match(Js))?(this.h=!1,ea(this,y[1]||"",!0),this.o=Kn(y[2]||""),this.g=Kn(y[3]||"",!0),Gi(this,y[4]),this.l=Kn(y[5]||"",!0),ii(this,y[6]||"",!0),this.m=Kn(y[7]||"")):(this.h=!1,this.i=new si(null,this.h))}Ot.prototype.toString=function(){var f=[],y=this.j;y&&f.push(na(y,Pl,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(na(y,Pl,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(na(E,E.charAt(0)=="/"?Dh:Ml,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",na(E,Za)),f.join("")};function Pn(f){return new Ot(f)}function ea(f,y,E){f.j=E?Kn(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Gi(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function ii(f,y,E){y instanceof si?(f.i=y,Ou(f.i,f.h)):(E||(y=na(y,Oh)),f.i=new si(y,f.h))}function at(f,y,E){f.i.set(y,E)}function ta(f){return at(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Kn(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function na(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,Du),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Du(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Pl=/[#\/\?@]/g,Ml=/[#\?:]/g,Dh=/[#\?]/g,Oh=/[#\?@]/g,Za=/#/g;function si(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Qn(f){f.g||(f.g=new Map,f.h=0,f.i&&Nh(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=si.prototype,r.add=function(f,y){Qn(this),this.i=null,f=Nr(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function ai(f,y){Qn(f),y=Nr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function oi(f,y){return Qn(f),y=Nr(f,y),f.g.has(y)}r.forEach=function(f,y){Qn(this),this.g.forEach(function(E,R){E.forEach(function(K){f.call(y,K,R,this)},this)},this)},r.na=function(){Qn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let R=0;R<y.length;R++){const K=f[R];for(let J=0;J<K.length;J++)E.push(y[R])}return E},r.V=function(f){Qn(this);let y=[];if(typeof f=="string")oi(this,f)&&(y=y.concat(this.g.get(Nr(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)y=y.concat(f[E])}return y},r.set=function(f,y){return Qn(this),this.i=null,f=Nr(this,f),oi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},r.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function kl(f,y,E){ai(f,y),0<E.length&&(f.i=null,f.g.set(Nr(f,y),x(E)),f.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var R=y[E];const J=encodeURIComponent(String(R)),he=this.V(R);for(R=0;R<he.length;R++){var K=J;he[R]!==""&&(K+="="+encodeURIComponent(String(he[R]))),f.push(K)}}return this.i=f.join("&")};function Nr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Ou(f,y){y&&!f.j&&(Qn(f),f.i=null,f.g.forEach(function(E,R){var K=R.toLowerCase();R!=K&&(ai(this,R),kl(this,K,E))},f)),f.j=y}function ra(f,y){const E=new Gn;if(h.Image){const R=new Image;R.onload=C(Yn,E,"TestLoadImage: loaded",!0,y,R),R.onerror=C(Yn,E,"TestLoadImage: error",!1,y,R),R.onabort=C(Yn,E,"TestLoadImage: abort",!1,y,R),R.ontimeout=C(Yn,E,"TestLoadImage: timeout",!1,y,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else y(!1)}function fr(f,y){const E=new Gn,R=new AbortController,K=setTimeout(()=>{R.abort(),Yn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:R.signal}).then(J=>{clearTimeout(K),J.ok?Yn(E,"TestPingServer: ok",!0,y):Yn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),Yn(E,"TestPingServer: error",!1,y)})}function Yn(f,y,E,R,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),R(E)}catch{}}function ia(){this.g=new $s}function Dr(f,y,E){const R=E||"";try{Ol(f,function(K,J){let he=K;g(K)&&(he=cr(K)),y.push(R+J+"="+encodeURIComponent(he))})}catch(K){throw y.push(R+"type="+encodeURIComponent("_badmap")),K}}function Ki(f){this.l=f.Ub||null,this.j=f.eb||!1}O(Ki,Tl),Ki.prototype.g=function(){return new li(this.l,this.j)},Ki.prototype.i=function(f){return function(){return f}}({});function li(f,y){Et.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(li,Et),r=li.prototype,r.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,Pr(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Or(this):Pr(this),this.readyState==3&&Vl(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,Or(this))},r.Qa=function(f){this.g&&(this.response=f,Or(this))},r.ga=function(){this.g&&Or(this)};function Or(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Pr(f)}r.setRequestHeader=function(f,y){this.u.append(f,y)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function Pr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function jl(f){let y="";return ce(f,function(E,R){y+=R,y+=":",y+=E,y+=`\r
`}),y}function Xt(f,y,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=jl(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):at(f,y,E))}function Je(f){Et.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Je,Et);var Ja=/^https?$/i,sa=["POST","PUT"];r=Je.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,y,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rr.g(),this.v=this.o?Sl(this.o):Sl(Rr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(J){Pu(this,J);return}if(f=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var K in R)E.set(K,R[K]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())E.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),K=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(sa,y,void 0))||R||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of E)this.g.setRequestHeader(J,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aa(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){Pu(this,J)}};function Pu(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,eo(f),Mr(f)}function eo(f){f.A||(f.A=!0,rt(f,"complete"),rt(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,rt(this,"complete"),rt(this,"abort"),Mr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mr(this,!0)),Je.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?to(this):this.bb())},r.bb=function(){to(this)};function to(f){if(f.h&&typeof u<"u"&&(!f.v[1]||$n(f)!=4||f.Z()!=2)){if(f.u&&$n(f)==4)pn(f.Ea,0,f);else if(rt(f,"readystatechange"),$n(f)==4){f.h=!1;try{const he=f.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var R;if(R=he===0){var K=String(f.D).match(Js)[1]||null;!K&&h.self&&h.self.location&&(K=h.self.location.protocol.slice(0,-1)),R=!Ja.test(K?K.toLowerCase():"")}E=R}if(E)rt(f,"complete"),rt(f,"success");else{f.m=6;try{var J=2<$n(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",eo(f)}}finally{Mr(f)}}}}function Mr(f,y){if(f.g){aa(f);const E=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||rt(f,"ready");try{E.onreadystatechange=R}catch{}}}function aa(f){f.I&&(h.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function $n(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Ga(y)}};function Mu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ph(f){const y={};f=(f.g&&2<=$n(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(H(f[R]))continue;var E=L(f[R]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=y[K]||[];y[K]=J,J.push(E)}D(y,function(R){return R.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oa(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function no(f){this.Aa=0,this.i=[],this.j=new Gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oa("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oa("baseRetryDelayMs",5e3,f),this.cb=oa("retryDelaySeedMs",1e4,f),this.Wa=oa("forwardChannelMaxRetries",2,f),this.wa=oa("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ri(f&&f.concurrentRequestLimit),this.Da=new ia,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=no.prototype,r.la=8,r.G=1,r.connect=function(f,y,E,R){gt(0),this.W=f,this.H=y||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Bu(this,null,this.W),io(this)};function Ll(f){if(ku(f),f.G==3){var y=f.U++,E=Pn(f.I);if(at(E,"SID",f.K),at(E,"RID",y),at(E,"TYPE","terminate"),la(f,E),y=new Tn(f,f.j,y),y.L=2,y.v=ta(Pn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.v,E=!0),E||(y.g=qu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ws(y)}zu(f)}function ro(f){f.g&&(ca(f),f.g.cancel(),f.g=null)}function ku(f){ro(f),f.u&&(h.clearTimeout(f.u),f.u=null),so(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function io(f){if(!Ya(f.h)&&!f.s){f.s=!0;var y=f.Ga;re||V(),W||(re(),W=!0),be.add(y,f),f.B=0}}function Mh(f,y){return $a(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Dt(T(f.Ga,f,y),Bl(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new Tn(this,this.j,f);let J=this.o;if(this.S&&(J?(J=A(J),j(J,this.S)):J=this.S),this.m!==null||this.O||(K.H=J,J=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Vu(this,K,y),E=Pn(this.I),at(E,"RID",f),at(E,"CVER",22),this.D&&at(E,"X-HTTP-Session-Id",this.D),la(this,E),J&&(this.O?y="headers="+encodeURIComponent(String(jl(J)))+"&"+y:this.m&&Xt(E,this.m,J)),Xa(this.h,K),this.Ua&&at(E,"TYPE","init"),this.P?(at(E,"$req",y),at(E,"SID","null"),K.T=!0,ur(K,E,null)):ur(K,E,y),this.G=2}}else this.G==3&&(f?Ul(this,f):this.i.length==0||Ya(this.h)||Ul(this))};function Ul(f,y){var E;y?E=y.l:E=f.U++;const R=Pn(f.I);at(R,"SID",f.K),at(R,"RID",E),at(R,"AID",f.T),la(f,R),f.m&&f.o&&Xt(R,f.m,f.o),E=new Tn(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Vu(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Xa(f.h,E),ur(E,R,y)}function la(f,y){f.H&&ce(f.H,function(E,R){at(y,R,E)}),f.l&&Ol({},function(E,R){at(y,R,E)})}function Vu(f,y,E){E=Math.min(f.i.length,E);var R=f.l?T(f.l.Na,f.l,f):null;e:{var K=f.i;let J=-1;for(;;){const he=["count="+E];J==-1?0<E?(J=K[0].g,he.push("ofs="+J)):J=0:he.push("ofs="+J);let Ke=!0;for(let Bt=0;Bt<E;Bt++){let Qe=K[Bt].g;const Wt=K[Bt].map;if(Qe-=J,0>Qe)J=Math.max(0,K[Bt].g-100),Ke=!1;else try{Dr(Wt,he,"req"+Qe+"_")}catch{R&&R(Wt)}}if(Ke){R=he.join("&");break e}}}return f=f.i.splice(0,E),y.D=f,R}function ju(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;re||V(),W||(re(),W=!0),be.add(y,f),f.v=0}}function zl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Dt(T(f.Fa,f),Bl(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,Lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Dt(T(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),ro(this),Lu(this))};function ca(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Lu(f){f.g=new Tn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=Pn(f.qa);at(y,"RID","rpc"),at(y,"SID",f.K),at(y,"AID",f.T),at(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&at(y,"TO",f.ja),at(y,"TYPE","xmlhttp"),la(f,y),f.m&&f.o&&Xt(y,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=ta(Pn(y)),E.m=null,E.P=!0,ni(E,f)}r.Za=function(){this.C!=null&&(this.C=null,ro(this),zl(this),gt(19))};function so(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Uu(f,y){var E=null;if(f.g==y){so(f),ca(f),f.g=null;var R=2}else if(Nl(f.h,y))E=y.D,Sn(f.h,y),R=1;else return;if(f.G!=0){if(y.o)if(R==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var K=f.B;R=zi(),rt(R,new zt(R,E)),io(f)}else ju(f);else if(K=y.s,K==3||K==0&&0<y.X||!(R==1&&Mh(f,y)||R==2&&zl(f)))switch(E&&0<E.length&&(y=f.h,y.i=y.i.concat(E)),K){case 1:ci(f,5);break;case 4:ci(f,10);break;case 3:ci(f,6);break;default:ci(f,2)}}}function Bl(f,y){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*y}function ci(f,y){if(f.j.info("Error code "+y),y==2){var E=T(f.fb,f),R=f.Xa;const K=!R;R=new Ot(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ea(R,"https"),ta(R),K?ra(R.toString(),E):fr(R.toString(),E)}else gt(2);f.G=0,f.l&&f.l.sa(y),zu(f),ku(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function zu(f){if(f.G=0,f.ka=[],f.l){const y=Dl(f.h);(y.length!=0||f.i.length!=0)&&(I(f.ka,y),I(f.ka,f.i),f.h.i.length=0,x(f.i),f.i.length=0),f.l.ra()}}function Bu(f,y,E){var R=E instanceof Ot?Pn(E):new Ot(E);if(R.g!="")y&&(R.g=y+"."+R.g),Gi(R,R.s);else{var K=h.location;R=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var J=new Ot(null);R&&ea(J,R),y&&(J.g=y),K&&Gi(J,K),E&&(J.l=E),R=J}return E=f.D,y=f.ya,E&&y&&at(R,E,y),at(R,"VER",f.la),la(f,R),R}function qu(f,y,E){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Je(new Ki({eb:E})):new Je(f.pa),y.Ha(f.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fu(){}r=Fu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ao(){}ao.prototype.g=function(f,y){return new An(f,y)};function An(f,y){Et.call(this),this.g=new no(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!H(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!H(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new kr(this)}O(An,Et),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Ll(this.g)},An.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=cr(f),f=E);y.i.push(new Nu(y.Ya++,f)),y.G==3&&io(y)},An.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,An.aa.N.call(this)};function Hu(f){ei.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const E in y){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}O(Hu,ei);function Gu(){xl.call(this),this.status=1}O(Gu,xl);function kr(f){this.g=f}O(kr,Fu),kr.prototype.ua=function(){rt(this.g,"a")},kr.prototype.ta=function(f){rt(this.g,new Hu(f))},kr.prototype.sa=function(f){rt(this.g,new Gu)},kr.prototype.ra=function(){rt(this.g,"b")},ao.prototype.createWebChannel=ao.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,sS=function(){return new ao},iS=function(){return zi()},rS=xr,pg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fi.NO_ERROR=0,Fi.TIMEOUT=8,Fi.HTTP_ERROR=6,dd=Fi,ti.COMPLETE="complete",nS=ti,Al.EventType=Jr,Jr.OPEN="a",Jr.CLOSE="b",Jr.ERROR="c",Jr.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Mc=Al,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,tS=Je}).apply(typeof Xf<"u"?Xf:typeof self<"u"?self:typeof window<"u"?window:{});const db="@firebase/firestore",hb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new Qg("@firebase/firestore");function zo(){return ka.logLevel}function ye(r,...e){if(ka.logLevel<=Fe.DEBUG){const t=e.map(ay);ka.debug(`Firestore (${hl}): ${r}`,...t)}}function Mi(r,...e){if(ka.logLevel<=Fe.ERROR){const t=e.map(ay);ka.error(`Firestore (${hl}): ${r}`,...t)}}function tl(r,...e){if(ka.logLevel<=Fe.WARN){const t=e.map(ay);ka.warn(`Firestore (${hl}): ${r}`,...t)}}function ay(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,aS(r,i,t)}function aS(r,e,t){let i=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Mi(i),new Error(i)}function tt(r,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,r||aS(e,o,i)}function Pe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Li{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_n.UNAUTHENTICATED))}shutdown(){}}class uO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fO{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let c=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ii,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},h=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ii)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string",31837,{l:i}),new oS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class dO{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hO{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new dO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tt(this.o===void 0,3512);const i=c=>{c.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const o=c=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new mb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=pO(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<t&&(i+=e.charAt(o[c]%62))}return i}}function He(r,e){return r<e?-1:r>e?1:0}function gg(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const o=r.charAt(i),c=e.charAt(i);if(o!==c)return zp(o)===zp(c)?He(o,c):zp(o)?1:-1}return He(r.length,e.length)}const gO=55296,yO=57343;function zp(r){const e=r.charCodeAt(0);return e>=gO&&e<=yO}function nl(r,e,t){return r.length===e.length&&r.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="__name__";class qr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ne(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ne(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return qr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const c=qr.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return He(e.length,t.length)}static compareSegments(e,t){const i=qr.isNumericId(e),o=qr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?qr.extractNumericId(e).compare(qr.extractNumericId(t)):gg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xs.fromString(e.substring(4,e.length-2))}}class ht extends qr{construct(e,t,i){return new ht(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const vO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends qr{construct(e,t,i){return new dn(e,t,i)}static isValidIdentifier(e){return vO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pb}static keyField(){return new dn([pb])}static fromServerFormat(e){const t=[];let i="",o=0;const c=()=>{if(i.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new ge(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(i+=h,o++):(c(),o++)}if(c(),u)throw new ge(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(t)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ht.fromString(e))}static fromName(e){return new Ae(ht.fromString(e).popFirst(5))}static empty(){return new Ae(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(r,e,t){if(!t)throw new ge(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _O(r,e,t,i){if(e===!0&&i===!0)throw new ge(se.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function gb(r){if(!Ae.isDocumentKey(r))throw new ge(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function yb(r){if(Ae.isDocumentKey(r))throw new ge(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Xd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ne(12329,{type:typeof r})}function ar(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xd(r);throw new ge(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(r,e){const t={typeString:r};return e&&(t.value=e),t}function mu(r,e){if(!cS(r))throw new ge(se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const u=r[i];if(o&&typeof u!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){t=`Expected '${i}' field to equal '${c.value}'`;break}}if(t)throw new ge(se.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=-62135596800,_b=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*_b);return new mt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vb)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_b}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Ut("string",mt._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new mt(0,0))}static max(){return new Oe(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=-1;function EO(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(i===1e9?new mt(t+1,0):new mt(t,i));return new Cs(o,Ae.empty(),e)}function bO(r){return new Cs(r.readTime,r.key,$c)}class Cs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Cs(Oe.min(),Ae.empty(),$c)}static max(){return new Cs(Oe.max(),Ae.empty(),$c)}}function wO(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(r.documentKey,e.documentKey),t!==0?t:He(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==TO)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,i)=>{t(e)})}static reject(e){return new le((t,i)=>{i(e)})}static waitFor(e){return new le((t,i)=>{let o=0,c=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++c,u&&c===o&&t()},p=>i(p))}),u=!0,c===o&&t()})}static or(e){let t=le.resolve(!1);for(const i of e)t=t.next(o=>o?le.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,c)=>{i.push(t.call(this,o,c))}),this.waitFor(i)}static mapArray(e,t){return new le((i,o)=>{const c=e.length,u=new Array(c);let h=0;for(let p=0;p<c;p++){const g=p;t(e[g]).next(_=>{u[g]=_,++h,h===c&&i(u)},_=>o(_))}})}static doWhile(e,t){return new le((i,o)=>{const c=()=>{e()===!0?t().next(()=>{c()},o):i()};c()})}}function AO(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=-1;function Zd(r){return r==null}function Id(r){return r===0&&1/r==-1/0}function xO(r){return typeof r=="number"&&Number.isInteger(r)&&!Id(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="";function RO(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Eb(e)),e=CO(r.get(t),e);return Eb(e)}function CO(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const c=r.charAt(o);switch(c){case"\0":t+="";break;case uS:t+="";break;default:t+=c}}return t}function Eb(r){return r+uS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function zs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function fS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wf(this.root,e,this.comparator,!0)}}class Wf{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,i,o,c){this.key=e,this.value=t,this.color=i??fn.RED,this.left=o??fn.EMPTY,this.right=c??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,c){return new fn(e??this.key,t??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,i),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,t,i,o,c){return this}insert(e,t,i){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wb(this.data.getIterator())}getIteratorFrom(e){return new wb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Kt(this.comparator);return t.data=e,t}}class wb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new Kt(dn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new dS("Invalid base64 string: "+c):c}}(e);return new hn(t)}static fromUint8Array(e){const t=function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c}(e);return new hn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const IO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(r){if(tt(!!r,39018),typeof r=="string"){let e=0;const t=IO.exec(r);if(tt(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:It(r.seconds),nanos:It(r.nanos)}}function It(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ns(r){return typeof r=="string"?hn.fromBase64String(r):hn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="server_timestamp",mS="__type__",pS="__previous_value__",gS="__local_write_time__";function cy(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[mS])==null?void 0:i.stringValue)===hS}function Jd(r){const e=r.mapValue.fields[pS];return cy(e)?Jd(e):e}function Xc(r){const e=Is(r.mapValue.fields[gS].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,t,i,o,c,u,h,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Nd="(default)";class Wc{constructor(e,t){this.projectId=e,this.database=t||Nd}static empty(){return new Wc("","")}get isDefaultDatabase(){return this.database===Nd}isEqual(e){return e instanceof Wc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="__type__",DO="__max__",Zf={mapValue:{}},vS="__vector__",Dd="value";function Ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cy(r)?4:PO(r)?9007199254740991:OO(r)?10:11:Ne(28295,{value:r})}function Xr(r,e){if(r===e)return!0;const t=Ds(r);if(t!==Ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Xc(r).isEqual(Xc(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Is(o.timestampValue),h=Is(c.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return Ns(o.bytesValue).isEqual(Ns(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return It(o.geoPointValue.latitude)===It(c.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return It(o.integerValue)===It(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=It(o.doubleValue),h=It(c.doubleValue);return u===h?Id(u)===Id(h):isNaN(u)&&isNaN(h)}return!1}(r,e);case 9:return nl(r.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return function(o,c){const u=o.mapValue.fields||{},h=c.mapValue.fields||{};if(bb(u)!==bb(h))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(h[p]===void 0||!Xr(u[p],h[p])))return!1;return!0}(r,e);default:return Ne(52216,{left:r})}}function Zc(r,e){return(r.values||[]).find(t=>Xr(t,e))!==void 0}function rl(r,e){if(r===e)return 0;const t=Ds(r),i=Ds(e);if(t!==i)return He(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return He(r.booleanValue,e.booleanValue);case 2:return function(c,u){const h=It(c.integerValue||c.doubleValue),p=It(u.integerValue||u.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(r,e);case 3:return Tb(r.timestampValue,e.timestampValue);case 4:return Tb(Xc(r),Xc(e));case 5:return gg(r.stringValue,e.stringValue);case 6:return function(c,u){const h=Ns(c),p=Ns(u);return h.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(c,u){const h=c.split("/"),p=u.split("/");for(let g=0;g<h.length&&g<p.length;g++){const _=He(h[g],p[g]);if(_!==0)return _}return He(h.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,u){const h=He(It(c.latitude),It(u.latitude));return h!==0?h:He(It(c.longitude),It(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Sb(r.arrayValue,e.arrayValue);case 10:return function(c,u){var T,C,O,x;const h=c.fields||{},p=u.fields||{},g=(T=h[Dd])==null?void 0:T.arrayValue,_=(C=p[Dd])==null?void 0:C.arrayValue,w=He(((O=g==null?void 0:g.values)==null?void 0:O.length)||0,((x=_==null?void 0:_.values)==null?void 0:x.length)||0);return w!==0?w:Sb(g,_)}(r.mapValue,e.mapValue);case 11:return function(c,u){if(c===Zf.mapValue&&u===Zf.mapValue)return 0;if(c===Zf.mapValue)return 1;if(u===Zf.mapValue)return-1;const h=c.fields||{},p=Object.keys(h),g=u.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let w=0;w<p.length&&w<_.length;++w){const T=gg(p[w],_[w]);if(T!==0)return T;const C=rl(h[p[w]],g[_[w]]);if(C!==0)return C}return He(p.length,_.length)}(r.mapValue,e.mapValue);default:throw Ne(23264,{he:t})}}function Tb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return He(r,e);const t=Is(r),i=Is(e),o=He(t.seconds,i.seconds);return o!==0?o:He(t.nanos,i.nanos)}function Sb(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const c=rl(t[o],i[o]);if(c)return c}return He(t.length,i.length)}function il(r){return yg(r)}function yg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const i=Is(t);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ns(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ae.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let i="[",o=!0;for(const c of t.values||[])o?o=!1:i+=",",i+=yg(c);return i+"]"}(r.arrayValue):"mapValue"in r?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const u of i)c?c=!1:o+=",",o+=`${u}:${yg(t.fields[u])}`;return o+"}"}(r.mapValue):Ne(61005,{value:r})}function hd(r){switch(Ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jd(r);return e?16+hd(e):16;case 5:return 2*r.stringValue.length;case 6:return Ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,c)=>o+hd(c),0)}(r.arrayValue);case 10:case 11:return function(i){let o=0;return zs(i.fields,(c,u)=>{o+=c.length+hd(u)}),o}(r.mapValue);default:throw Ne(13486,{value:r})}}function Ab(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function vg(r){return!!r&&"integerValue"in r}function uy(r){return!!r&&"arrayValue"in r}function xb(r){return!!r&&"nullValue"in r}function Rb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function md(r){return!!r&&"mapValue"in r}function OO(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[yS])==null?void 0:i.stringValue)===vS}function Bc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return zs(r.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Bc(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bc(r.arrayValue.values[t]);return e}return{...r}}function PO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===DO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!md(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(t)}setAll(e){let t=dn.emptyPath(),i={},o=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=h.popLast()}u?i[h.lastSegment()]=Bc(u):o.push(h.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,o)}delete(e){const t=this.field(e.popLast());md(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];md(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){zs(t,(o,c)=>e[o]=c);for(const o of i)delete e[o]}clone(){return new Dn(Bc(this.value))}}function _S(r){const e=[];return zs(r.fields,(t,i)=>{const o=new dn([t]);if(md(i)){const c=_S(i.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,t,i,o,c,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=c,this.data=u,this.documentState=h}static newInvalidDocument(e){return new En(e,0,Oe.min(),Oe.min(),Oe.min(),Dn.empty(),0)}static newFoundDocument(e,t,i,o){return new En(e,1,t,Oe.min(),i,o,0)}static newNoDocument(e,t){return new En(e,2,t,Oe.min(),Oe.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new En(e,3,t,Oe.min(),Oe.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t){this.position=e,this.inclusive=t}}function Cb(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const c=e[o],u=r.position[o];if(c.field.isKeyField()?i=Ae.comparator(Ae.fromName(u.referenceValue),t.key):i=rl(u,t.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ib(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Xr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t="asc"){this.field=e,this.dir=t}}function MO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{}class Lt extends ES{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new VO(e,t,i):t==="array-contains"?new UO(e,i):t==="in"?new zO(e,i):t==="not-in"?new BO(e,i):t==="array-contains-any"?new qO(e,i):new Lt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new jO(e,i):new LO(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(rl(t,this.value)):t!==null&&Ds(this.value)===Ds(t)&&this.matchesComparison(rl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends ES{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new br(e,t)}matches(e){return bS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bS(r){return r.op==="and"}function wS(r){return kO(r)&&bS(r)}function kO(r){for(const e of r.filters)if(e instanceof br)return!1;return!0}function _g(r){if(r instanceof Lt)return r.field.canonicalString()+r.op.toString()+il(r.value);if(wS(r))return r.filters.map(e=>_g(e)).join(",");{const e=r.filters.map(t=>_g(t)).join(",");return`${r.op}(${e})`}}function TS(r,e){return r instanceof Lt?function(i,o){return o instanceof Lt&&i.op===o.op&&i.field.isEqual(o.field)&&Xr(i.value,o.value)}(r,e):r instanceof br?function(i,o){return o instanceof br&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((c,u,h)=>c&&TS(u,o.filters[h]),!0):!1}(r,e):void Ne(19439)}function SS(r){return r instanceof Lt?function(t){return`${t.field.canonicalString()} ${t.op} ${il(t.value)}`}(r):r instanceof br?function(t){return t.op.toString()+" {"+t.getFilters().map(SS).join(" ,")+"}"}(r):"Filter"}class VO extends Lt{constructor(e,t,i){super(e,t,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class jO extends Lt{constructor(e,t){super(e,"in",t),this.keys=AS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LO extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=AS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function AS(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(i=>Ae.fromName(i.referenceValue))}class UO extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return uy(t)&&Zc(t.arrayValue,this.value)}}class zO extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zc(this.value.arrayValue,t)}}class BO extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Zc(this.value.arrayValue,t)}}class qO extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!uy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Zc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,t=null,i=[],o=[],c=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=u,this.endAt=h,this.Te=null}}function Nb(r,e=null,t=[],i=[],o=null,c=null,u=null){return new FO(r,e,t,i,o,c,u)}function fy(r){const e=Pe(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>_g(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(c){return c.field.canonicalString()+c.dir}(i)).join(","),Zd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>il(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>il(i)).join(",")),e.Te=t}return e.Te}function dy(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!MO(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!TS(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ib(r.startAt,e.startAt)&&Ib(r.endAt,e.endAt)}function Eg(r){return Ae.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t=null,i=[],o=[],c=null,u="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=u,this.startAt=h,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HO(r,e,t,i,o,c,u,h){return new gl(r,e,t,i,o,c,u,h)}function eh(r){return new gl(r)}function Db(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function xS(r){return r.collectionGroup!==null}function qc(r){const e=Pe(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Kt(dn.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Jc(c,i))}),t.has(dn.keyField().canonicalString())||e.Ie.push(new Jc(dn.keyField(),i))}return e.Ie}function Gr(r){const e=Pe(r);return e.Ee||(e.Ee=GO(e,qc(r))),e.Ee}function GO(r,e){if(r.limitType==="F")return Nb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Jc(o.field,c)});const t=r.endAt?new Od(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Od(r.startAt.position,r.startAt.inclusive):null;return Nb(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function bg(r,e){const t=r.filters.concat([e]);return new gl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function wg(r,e,t){return new gl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function th(r,e){return dy(Gr(r),Gr(e))&&r.limitType===e.limitType}function RS(r){return`${fy(Gr(r))}|lt:${r.limitType}`}function Bo(r){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>SS(o)).join(", ")}]`),Zd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>il(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>il(o)).join(",")),`Target(${i})`}(Gr(r))}; limitType=${r.limitType})`}function nh(r,e){return e.isFoundDocument()&&function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Ae.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(r,e)&&function(i,o){for(const c of qc(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(i,o){return!(i.startAt&&!function(u,h,p){const g=Cb(u,h,p);return u.inclusive?g<=0:g<0}(i.startAt,qc(i),o)||i.endAt&&!function(u,h,p){const g=Cb(u,h,p);return u.inclusive?g>=0:g>0}(i.endAt,qc(i),o))}(r,e)}function KO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function CS(r){return(e,t)=>{let i=!1;for(const o of qc(r)){const c=QO(o,e,t);if(c!==0)return c;i=i||o.field.isKeyField()}return 0}}function QO(r,e,t){const i=r.field.isKeyField()?Ae.comparator(e.key,t.key):function(c,u,h){const p=u.data.field(c),g=h.data.field(c);return p!==null&&g!==null?rl(p,g):Ne(42886)}(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Ne(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,c]of i)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zs(this.inner,(t,i)=>{for(const[o,c]of i)e(o,c)})}isEmpty(){return fS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new _t(Ae.comparator);function ki(){return YO}const IS=new _t(Ae.comparator);function kc(...r){let e=IS;for(const t of r)e=e.insert(t.key,t);return e}function NS(r){let e=IS;return r.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ca(){return Fc()}function DS(){return Fc()}function Fc(){return new za(r=>r.toString(),(r,e)=>r.isEqual(e))}const $O=new _t(Ae.comparator),XO=new Kt(Ae.comparator);function Ge(...r){let e=XO;for(const t of r)e=e.add(t);return e}const WO=new Kt(He);function ZO(){return WO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Id(e)?"-0":e}}function OS(r){return{integerValue:""+r}}function JO(r,e){return xO(e)?OS(e):hy(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(){this._=void 0}}function eP(r,e,t){return r instanceof eu?function(o,c){const u={fields:{[mS]:{stringValue:hS},[gS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&cy(c)&&(c=Jd(c)),c&&(u.fields[pS]=c),{mapValue:u}}(t,e):r instanceof tu?MS(r,e):r instanceof nu?kS(r,e):function(o,c){const u=PS(o,c),h=Ob(u)+Ob(o.Ae);return vg(u)&&vg(o.Ae)?OS(h):hy(o.serializer,h)}(r,e)}function tP(r,e,t){return r instanceof tu?MS(r,e):r instanceof nu?kS(r,e):t}function PS(r,e){return r instanceof Pd?function(i){return vg(i)||function(c){return!!c&&"doubleValue"in c}(i)}(e)?e:{integerValue:0}:null}class eu extends rh{}class tu extends rh{constructor(e){super(),this.elements=e}}function MS(r,e){const t=VS(e);for(const i of r.elements)t.some(o=>Xr(o,i))||t.push(i);return{arrayValue:{values:t}}}class nu extends rh{constructor(e){super(),this.elements=e}}function kS(r,e){let t=VS(e);for(const i of r.elements)t=t.filter(o=>!Xr(o,i));return{arrayValue:{values:t}}}class Pd extends rh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ob(r){return It(r.integerValue||r.doubleValue)}function VS(r){return uy(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t){this.field=e,this.transform=t}}function rP(r,e){return r.field.isEqual(e.field)&&function(i,o){return i instanceof tu&&o instanceof tu||i instanceof nu&&o instanceof nu?nl(i.elements,o.elements,Xr):i instanceof Pd&&o instanceof Pd?Xr(i.Ae,o.Ae):i instanceof eu&&o instanceof eu}(r.transform,e.transform)}class iP{constructor(e,t){this.version=e,this.transformResults=t}}class Er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pd(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ih{}function jS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new my(r.key,Er.none()):new pu(r.key,r.data,Er.none());{const t=r.data,i=Dn.empty();let o=new Kt(dn.comparator);for(let c of e.fields)if(!o.has(c)){let u=t.field(c);u===null&&c.length>1&&(c=c.popLast(),u=t.field(c)),u===null?i.delete(c):i.set(c,u),o=o.add(c)}return new Bs(r.key,i,new Fn(o.toArray()),Er.none())}}function sP(r,e,t){r instanceof pu?function(o,c,u){const h=o.value.clone(),p=Mb(o.fieldTransforms,c,u.transformResults);h.setAll(p),c.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(r,e,t):r instanceof Bs?function(o,c,u){if(!pd(o.precondition,c))return void c.convertToUnknownDocument(u.version);const h=Mb(o.fieldTransforms,c,u.transformResults),p=c.data;p.setAll(LS(o)),p.setAll(h),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(r,e,t):function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Hc(r,e,t,i){return r instanceof pu?function(c,u,h,p){if(!pd(c.precondition,u))return h;const g=c.value.clone(),_=kb(c.fieldTransforms,p,u);return g.setAll(_),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(r,e,t,i):r instanceof Bs?function(c,u,h,p){if(!pd(c.precondition,u))return h;const g=kb(c.fieldTransforms,p,u),_=u.data;return _.setAll(LS(c)),_.setAll(g),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),h===null?null:h.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(r,e,t,i):function(c,u,h){return pd(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(r,e,t)}function aP(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),c=PS(i.transform,o||null);c!=null&&(t===null&&(t=Dn.empty()),t.set(i.field,c))}return t||null}function Pb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&nl(i,o,(c,u)=>rP(c,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class pu extends ih{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Bs extends ih{constructor(e,t,i,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function LS(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}}),e}function Mb(r,e,t){const i=new Map;tt(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const c=r[o],u=c.transform,h=e.data.field(c.field);i.set(c.field,tP(u,h,t[o]))}return i}function kb(r,e,t){const i=new Map;for(const o of r){const c=o.transform,u=t.data.field(o.field);i.set(o.field,eP(c,u,e))}return i}class my extends ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oP extends ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&sP(c,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Hc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Hc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=DS();return this.mutations.forEach(o=>{const c=e.get(o.key),u=c.overlayedDocument;let h=this.applyToLocalView(u,c.mutatedFields);h=t.has(o.key)?null:h;const p=jS(u,h);p!==null&&i.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Oe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ge())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,(t,i)=>Pb(t,i))&&nl(this.baseMutations,e.baseMutations,(t,i)=>Pb(t,i))}}class py{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){tt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=function(){return $O}();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,i[u].version);return new py(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,$e;function fP(r){switch(r){case se.OK:return Ne(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ne(15467,{code:r})}}function US(r){if(r===void 0)return Mi("GRPC error has no .code"),se.UNKNOWN;switch(r){case kt.OK:return se.OK;case kt.CANCELLED:return se.CANCELLED;case kt.UNKNOWN:return se.UNKNOWN;case kt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case kt.INTERNAL:return se.INTERNAL;case kt.UNAVAILABLE:return se.UNAVAILABLE;case kt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case kt.NOT_FOUND:return se.NOT_FOUND;case kt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case kt.ABORTED:return se.ABORTED;case kt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case kt.DATA_LOSS:return se.DATA_LOSS;default:return Ne(39323,{code:r})}}($e=kt||(kt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=new xs([4294967295,4294967295],0);function Vb(r){const e=dP().encode(r),t=new eS;return t.update(e),new Uint8Array(t.digest())}function jb(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new xs([t,i],0),new xs([o,c],0)]}class gy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Vc(`Invalid padding: ${t}`);if(i<0)throw new Vc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Vc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Vc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=xs.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(xs.fromNumber(i)));return o.compare(hP)===1&&(o=new xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Vb(e),[i,o]=jb(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(i,o,c);if(!this.we(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new gy(c,o,t);return i.forEach(h=>u.insert(h)),u}insert(e){if(this.ge===0)return;const t=Vb(e),[i,o]=jb(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(i,o,c);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t,i,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new sh(Oe.min(),o,new _t(He),ki(),Ge())}}class gu{constructor(e,t,i,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new gu(i,t,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class zS{constructor(e,t){this.targetId=e,this.Ce=t}}class BS{constructor(e,t,i=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Lb{constructor(){this.ve=0,this.Fe=Ub(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),t=Ge(),i=Ge();return this.Fe.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ne(38017,{changeType:c})}}),new gu(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=Ub()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mP{constructor(e){this.Ge=e,this.ze=new Map,this.je=ki(),this.Je=Jf(),this.He=Jf(),this.Ye=new _t(He)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((i,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(Eg(c))if(i===0){const u=new Ae(c.path);this.et(t,u,En.newNoDocument(u,Oe.min()))}else tt(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const h=this.ut(e),p=h?this.ct(h,e,u):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=t;let u,h;try{u=Ns(i).toUint8Array()}catch(p){if(p instanceof dS)return tl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new gy(u,o,c)}catch(p){return tl(p instanceof Vc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach(c=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(h)||(this.et(t,c,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((c,u)=>{const h=this.ot(u);if(h){if(c.current&&Eg(h.target)){const p=new Ae(h.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,En.newNoDocument(p,e))}c.Be&&(t.set(u,c.ke()),c.qe())}});let i=Ge();this.He.forEach((c,u)=>{let h=!0;u.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(c))}),this.je.forEach((c,u)=>u.setReadTime(e));const o=new sh(e,t,this.Ye,this.je,i);return this.je=ki(),this.Je=Jf(),this.He=Jf(),this.Ye=new _t(He),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Lb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Kt(He),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Kt(He),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Lb),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Jf(){return new _t(Ae.comparator)}function Ub(){return new _t(Ae.comparator)}const pP={asc:"ASCENDING",desc:"DESCENDING"},gP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yP={and:"AND",or:"OR"};class vP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Tg(r,e){return r.useProto3Json||Zd(e)?e:{value:e}}function Md(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function _P(r,e){return Md(r,e.toTimestamp())}function Kr(r){return tt(!!r,49232),Oe.fromTimestamp(function(t){const i=Is(t);return new mt(i.seconds,i.nanos)}(r))}function yy(r,e){return Sg(r,e).canonicalString()}function Sg(r,e){const t=function(o){return new ht(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function FS(r){const e=ht.fromString(r);return tt(YS(e),10190,{key:e.toString()}),e}function Ag(r,e){return yy(r.databaseId,e.path)}function Bp(r,e){const t=FS(e);if(t.get(1)!==r.databaseId.projectId)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ae(GS(t))}function HS(r,e){return yy(r.databaseId,e)}function EP(r){const e=FS(r);return e.length===4?ht.emptyPath():GS(e)}function xg(r){return new ht(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function GS(r){return tt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function zb(r,e,t){return{name:Ag(r,e),fields:t.value.mapValue.fields}}function bP(r,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ne(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(g,_){return g.useProto3Json?(tt(_===void 0||typeof _=="string",58123),hn.fromBase64String(_||"")):(tt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),hn.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(g){const _=g.code===void 0?se.UNKNOWN:US(g.code);return new ge(_,g.message||"")}(u);t=new BS(i,o,c,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Bp(r,i.document.name),c=Kr(i.document.updateTime),u=i.document.createTime?Kr(i.document.createTime):Oe.min(),h=new Dn({mapValue:{fields:i.document.fields}}),p=En.newFoundDocument(o,c,u,h),g=i.targetIds||[],_=i.removedTargetIds||[];t=new gd(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Bp(r,i.document),c=i.readTime?Kr(i.readTime):Oe.min(),u=En.newNoDocument(o,c),h=i.removedTargetIds||[];t=new gd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Bp(r,i.document),c=i.removedTargetIds||[];t=new gd([],c,o,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:c}=i,u=new uP(o,c),h=i.targetId;t=new zS(h,u)}}return t}function wP(r,e){let t;if(e instanceof pu)t={update:zb(r,e.key,e.value)};else if(e instanceof my)t={delete:Ag(r,e.key)};else if(e instanceof Bs)t={update:zb(r,e.key,e.data),updateMask:DP(e.fieldMask)};else{if(!(e instanceof oP))return Ne(16599,{Vt:e.type});t={verify:Ag(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,u){const h=u.transform;if(h instanceof eu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof tu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof nu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Pd)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ne(20930,{transform:u.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:_P(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ne(27497)}(r,e.precondition)),t}function TP(r,e){return r&&r.length>0?(tt(e!==void 0,14353),r.map(t=>function(o,c){let u=o.updateTime?Kr(o.updateTime):Kr(c);return u.isEqual(Oe.min())&&(u=Kr(c)),new iP(u,o.transformResults||[])}(t,e))):[]}function SP(r,e){return{documents:[HS(r,e.path)]}}function AP(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=HS(r,o);const c=function(g){if(g.length!==0)return QS(br.create(g,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const u=function(g){if(g.length!==0)return g.map(_=>function(T){return{field:qo(T.field),direction:CP(T.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Tg(r,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:o}}function xP(r){let e=EP(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){tt(i===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];t.where&&(c=function(w){const T=KS(w);return T instanceof br&&wS(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(T=>function(O){return new Jc(Fo(O.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(T))}(t.orderBy));let h=null;t.limit&&(h=function(w){let T;return T=typeof w=="object"?w.value:w,Zd(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(w){const T=!!w.before,C=w.values||[];return new Od(C,T)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const T=!w.before,C=w.values||[];return new Od(C,T)}(t.endAt)),HO(e,o,u,c,h,"F",p,g)}function RP(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function KS(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Fo(t.unaryFilter.field);return Lt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Fo(t.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fo(t.unaryFilter.field);return Lt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Fo(t.unaryFilter.field);return Lt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}}(r):r.fieldFilter!==void 0?function(t){return Lt.create(Fo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return br.create(t.compositeFilter.filters.map(i=>KS(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}}(t.compositeFilter.op))}(r):Ne(30097,{filter:r})}function CP(r){return pP[r]}function IP(r){return gP[r]}function NP(r){return yP[r]}function qo(r){return{fieldPath:r.canonicalString()}}function Fo(r){return dn.fromServerFormat(r.fieldPath)}function QS(r){return r instanceof Lt?function(t){if(t.op==="=="){if(Rb(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NAN"}};if(xb(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Rb(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NOT_NAN"}};if(xb(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(t.field),op:IP(t.op),value:t.value}}}(r):r instanceof br?function(t){const i=t.getFilters().map(o=>QS(o));return i.length===1?i[0]:{compositeFilter:{op:NP(t.op),filters:i}}}(r):Ne(54877,{filter:r})}function DP(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function YS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t,i,o,c=Oe.min(),u=Oe.min(),h=hn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.yt=e}}function PP(r){const e=xP({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?wg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(){this.Cn=new kP}addToCollectionParentIndex(e,t){return this.Cn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Cs.min())}updateCollectionGroup(e,t,i){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class kP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Kt(ht.comparator),c=!o.has(i);return this.index[t]=o.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Kt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$S=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn($S,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new sl(0)}static cr(){return new sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="LruGarbageCollector",VP=1048576;function Fb([r,e],[t,i]){const o=He(r,t);return o===0?He(e,i):o}class jP{constructor(e){this.Ir=e,this.buffer=new Kt(Fb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Fb(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class LP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(qb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){pl(t)?ye(qb,"Ignoring IndexedDB error during garbage collection: ",t):await ml(t)}await this.Vr(3e5)})}}class UP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return le.resolve(Wd.ce);const i=new jP(t);return this.mr.forEachTarget(e,o=>i.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>i.Ar(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Bb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bb):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,c,u,h,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,h=Date.now(),this.removeTargets(e,i,t))).next(w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(g=Date.now(),zo()<=Fe.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${c} targets in `+(p-h)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w})))}}function zP(r,e){return new UP(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this.changes=new za(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?le.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Hc(i.mutation,o,Fn.empty(),mt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ge()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ge()){const o=Ca();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(c=>{let u=kc();return c.forEach((h,p)=>{u=u.insert(h,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Ca();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ge()))}populateOverlays(e,t,i){const o=[];return i.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,i,o){let c=ki();const u=Fc(),h=function(){return Fc()}();return t.forEach((p,g)=>{const _=i.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Bs)?c=c.insert(g.key,g):_!==void 0?(u.set(g.key,_.mutation.getFieldMask()),Hc(_.mutation,g,_.mutation.getFieldMask(),mt.now())):u.set(g.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((g,_)=>u.set(g,_)),t.forEach((g,_)=>h.set(g,new qP(_,u.get(g)??null))),h))}recalculateAndSaveOverlays(e,t){const i=Fc();let o=new _t((u,h)=>u-h),c=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=i.get(p)||Fn.empty();_=h.applyToLocalView(g,_),i.set(p,_);const w=(o.get(h.batchId)||Ge()).add(p);o=o.insert(h.batchId,w)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),g=p.key,_=p.value,w=DS();_.forEach(T=>{if(!c.has(T)){const C=jS(t.get(T),i.get(T));C!==null&&w.set(T,C),c=c.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,w))}return le.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return Ae.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-c.size):le.resolve(Ca());let h=$c,p=c;return u.next(g=>le.forEach(g,(_,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),c.get(_)?le.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{p=p.insert(_,T)}))).next(()=>this.populateOverlays(e,g,c)).next(()=>this.computeViews(e,p,g,Ge())).next(_=>({batchId:h,changes:NS(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(i=>{let o=kc();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const c=t.collectionGroup;let u=kc();return this.indexManager.getCollectionParents(e,c).next(h=>le.forEach(h,p=>{const g=function(w,T){return new gl(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next(_=>{_.forEach((w,T)=>{u=u.insert(w,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,o))).next(u=>{c.forEach((p,g)=>{const _=g.getKey();u.get(_)===null&&(u=u.insert(_,En.newInvalidDocument(_)))});let h=kc();return u.forEach((p,g)=>{const _=c.get(p);_!==void 0&&Hc(_.mutation,g,Fn.empty(),mt.now()),nh(t,g)&&(h=h.insert(p,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return le.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Kr(o.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:PP(o.bundledQuery),readTime:Kr(o.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.overlays=new _t(Ae.comparator),this.qr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ca();return le.forEach(t,o=>this.getOverlay(e,o).next(c=>{c!==null&&i.set(o,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,c)=>{this.St(e,t,c)}),le.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(i)),le.resolve()}getOverlaysForCollection(e,t,i){const o=Ca(),c=t.length+1,u=new Ae(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===c&&p.largestBatchId>i&&o.set(p.getKey(),p)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let c=new _t((g,_)=>g-_);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=c.get(g.largestBatchId);_===null&&(_=Ca(),c=c.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const h=Ca(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>h.set(g,_)),!(h.size()>=o)););return le.resolve(h)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new cP(t,i));let c=this.qr.get(t);c===void 0&&(c=Ge(),this.qr.set(t,c)),this.qr.set(t,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(){this.Qr=new Kt(tn.$r),this.Ur=new Kt(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new tn(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Gr(new tn(e,t))}zr(e,t){e.forEach(i=>this.removeReference(i,t))}jr(e){const t=new Ae(new ht([])),i=new tn(t,e),o=new tn(t,e+1),c=[];return this.Ur.forEachInRange([i,o],u=>{this.Gr(u),c.push(u.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ae(new ht([])),i=new tn(t,e),o=new tn(t,e+1);let c=Ge();return this.Ur.forEachInRange([i,o],u=>{c=c.add(u.key)}),c}containsKey(e){const t=new tn(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class tn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ae.comparator(e.key,t.key)||He(e.Yr,t.Yr)}static Kr(e,t){return He(e.Yr,t.Yr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(tn.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new lP(c,t,i,o);this.mutationQueue.push(u);for(const h of o)this.Zr=this.Zr.add(new tn(h.key,c)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,t){return le.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),c=o<0?0:o;return le.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?ly:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new tn(t,0),o=new tn(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,o],u=>{const h=this.Xr(u.Yr);c.push(h)}),le.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Kt(He);return t.forEach(o=>{const c=new tn(o,0),u=new tn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],h=>{i=i.add(h.Yr)})}),le.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let c=i;Ae.isDocumentKey(c)||(c=c.child(""));const u=new tn(new Ae(c),0);let h=new Kt(He);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(h=h.add(p.Yr)),!0)},u),le.resolve(this.ti(h))}ti(e){const t=[];return e.forEach(i=>{const o=this.Xr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){tt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return le.forEach(t.mutations,o=>{const c=new tn(o.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,t){const i=new tn(t,0),o=this.Zr.firstAfterOrEqual(i);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.ri=e,this.docs=function(){return new _t(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),c=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return le.resolve(i?i.document.mutableCopy():En.newInvalidDocument(t))}getEntries(e,t){let i=ki();return t.forEach(o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():En.newInvalidDocument(o))}),le.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let c=ki();const u=t.path,h=new Ae(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||wO(bO(_),i)<=0||(o.has(_.key)||nh(t,_))&&(c=c.insert(_.key,_.mutableCopy()))}return le.resolve(c)}getAllFromCollectionGroup(e,t,i,o){Ne(9500)}ii(e,t){return le.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new $P(this)}getSize(e){return le.resolve(this.size)}}class $P extends BP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)}),le.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.persistence=e,this.si=new za(t=>fy(t),dy),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new vy,this.targetCount=0,this.ai=sl.ur()}forEachTarget(e,t){return this.si.forEach((i,o)=>t(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),le.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new sl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Pr(t),le.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,i){let o=0;const c=[];return this.si.forEach((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),le.waitFor(c).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return le.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),le.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(u=>{c.push(o.markPotentiallyOrphaned(e,u))}),le.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return le.resolve(i)}containsKey(e,t){return le.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t){this.ui={},this.overlays={},this.ci=new Wd(0),this.li=!1,this.li=!0,this.hi=new KP,this.referenceDelegate=e(this),this.Pi=new XP(this),this.indexManager=new MP,this.remoteDocumentCache=function(o){return new YP(o)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new OP(t),this.Ii=new HP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new GP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new QP(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const o=new WP(this.ci.next());return this.referenceDelegate.Ei(),i(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(e,t){return le.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,t)))}}class WP extends SO{constructor(e){super(),this.currentSequenceNumber=e}}class _y{constructor(e){this.persistence=e,this.Ri=new vy,this.Vi=null}static mi(e){return new _y(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),le.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,i=>{const o=Ae.fromPath(i);return this.gi(e,o).next(c=>{c||t.removeEntry(o,Oe.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return le.or([()=>le.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class kd{constructor(e,t){this.persistence=e,this.pi=new za(i=>RO(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=zP(this,t)}static mi(e,t){return new kd(e,t)}Ei(){}di(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}wr(e){let t=0;return this.pr(e,i=>{t++}).next(()=>t)}pr(e,t){return le.forEach(this.pi,(i,o)=>this.br(e,i,o).next(c=>c?le.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,u=>this.br(e,u,t).next(h=>{h||(i++,c.removeEntry(u,Oe.min()))})).next(()=>c.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hd(e.data.value)),t}br(e,t,i){return le.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return le.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=Ge(),o=Ge();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Ey(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return RI()?8:AO(bn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const c={result:null};return this.ys(e,t).next(u=>{c.result=u}).next(()=>{if(!c.result)return this.ws(e,t,o,i).next(u=>{c.result=u})}).next(()=>{if(c.result)return;const u=new ZP;return this.Ss(e,t,u).next(h=>{if(c.result=h,this.Vs)return this.bs(e,t,u,h.size)})}).next(()=>c.result)}bs(e,t,i,o){return i.documentReadCount<this.fs?(zo()<=Fe.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(zo()<=Fe.DEBUG&&ye("QueryEngine","Query:",Bo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(zo()<=Fe.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gr(t))):le.resolve())}ys(e,t){if(Db(t))return le.resolve(null);let i=Gr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=wg(t,null,"F"),i=Gr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const u=Ge(...c);return this.ps.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.Ds(t,h);return this.Cs(t,g,u,p.readTime)?this.ys(e,wg(t,null,"F")):this.vs(e,g,t,p)}))})))}ws(e,t,i,o){return Db(t)||o.isEqual(Oe.min())?le.resolve(null):this.ps.getDocuments(e,i).next(c=>{const u=this.Ds(t,c);return this.Cs(t,u,i,o)?le.resolve(null):(zo()<=Fe.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Bo(t)),this.vs(e,u,t,EO(o,$c)).next(h=>h))})}Ds(e,t){let i=new Kt(CS(e));return t.forEach((o,c)=>{nh(e,c)&&(i=i.add(c))}),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,t,i){return zo()<=Fe.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Bo(t)),this.ps.getDocumentsMatchingQuery(e,t,Cs.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next(c=>(t.forEach(u=>{c=c.insert(u.key,u)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="LocalStore",eM=3e8;class tM{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new _t(He),this.xs=new za(c=>fy(c),dy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function nM(r,e,t,i){return new tM(r,e,t,i)}async function WS(r,e){const t=Pe(r);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(c=>(o=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const u=[],h=[];let p=Ge();for(const g of o){u.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of c){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(g=>({Ls:g,removedBatchIds:u,addedBatchIds:h}))})})}function rM(r,e){const t=Pe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return function(h,p,g,_){const w=g.batch,T=w.keys();let C=le.resolve();return T.forEach(O=>{C=C.next(()=>_.getEntry(p,O)).next(x=>{const I=g.docVersions.get(O);tt(I!==null,48541),x.version.compareTo(I)<0&&(w.applyToRemoteDocument(x,g),x.isValidDocument()&&(x.setReadTime(g.commitVersion),_.addEntry(x)))})}),C.next(()=>h.mutationQueue.removeMutationBatch(p,w))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=Ge();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(p=p.add(h.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function ZS(r){const e=Pe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function iM(r,e){const t=Pe(r),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const h=[];e.targetChanges.forEach((_,w)=>{const T=o.get(w);if(!T)return;h.push(t.Pi.removeMatchingKeys(c,_.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(c,_.addedDocuments,w)));let C=T.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(hn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,i)),o=o.insert(w,C),function(x,I,z){return x.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=eM?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(T,C,_)&&h.push(t.Pi.updateTargetData(c,C))});let p=ki(),g=Ge();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(c,_))}),h.push(sM(c,u,e.documentUpdates).next(_=>{p=_.ks,g=_.qs})),!i.isEqual(Oe.min())){const _=t.Pi.getLastRemoteSnapshotVersion(c).next(w=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i));h.push(_)}return le.waitFor(h).next(()=>u.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,p,g)).next(()=>p)}).then(c=>(t.Ms=o,c))}function sM(r,e,t){let i=Ge(),o=Ge();return t.forEach(c=>i=i.add(c)),e.getEntries(r,i).next(c=>{let u=ki();return t.forEach((h,p)=>{const g=c.get(h);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(h,p.readTime),u=u.insert(h,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(h,p)):ye(by,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",p.version)}),{ks:u,qs:o}})}function aM(r,e){const t=Pe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=ly),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function oM(r,e){const t=Pe(r);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Pi.getTargetData(i,e).next(c=>c?(o=c,le.resolve(o)):t.Pi.allocateTargetId(i).next(u=>(o=new ws(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i})}async function Rg(r,e,t){const i=Pe(r),o=i.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",c,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!pl(u))throw u;ye(by,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function Hb(r,e,t){const i=Pe(r);let o=Oe.min(),c=Ge();return i.persistence.runTransaction("Execute query","readwrite",u=>function(p,g,_){const w=Pe(p),T=w.xs.get(_);return T!==void 0?le.resolve(w.Ms.get(T)):w.Pi.getTargetData(g,_)}(i,u,Gr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next(p=>{c=p})}).next(()=>i.Fs.getDocumentsMatchingQuery(u,e,t?o:Oe.min(),t?c:Ge())).next(h=>(lM(i,KO(e),h),{documents:h,Qs:c})))}function lM(r,e,t){let i=r.Os.get(e)||Oe.min();t.forEach((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),r.Os.set(e,i)}class Gb{constructor(){this.activeTargetIds=ZO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cM{constructor(){this.Mo=new Gb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Gb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="ConnectivityMonitor";class Qb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(Kb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(Kb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed=null;function Cg(){return ed===null?ed=function(){return 268435456+Math.round(2147483648*Math.random())}():ed++,"0x"+ed.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="RestConnection",fM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Nd?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,c){const u=Cg(),h=this.zo(e,t.toUriEncodedString());ye(qp,`Sending RPC '${e}' ${u}:`,h,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:g}=new URL(h),_=ul(g);return this.Jo(e,h,p,i,_).then(w=>(ye(qp,`Received RPC '${e}' ${u}: `,w),w),w=>{throw tl(qp,`RPC '${e}' ${u} failed with error: `,w,"url: ",h,"request:",i),w})}Ho(e,t,i,o,c,u){return this.Go(e,t,i,o,c)}jo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),i&&i.headers.forEach((o,c)=>e[c]=o)}zo(e,t){const i=fM[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class mM extends dM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,c){const u=Cg();return new Promise((h,p)=>{const g=new tS;g.setWithCredentials(!0),g.listenOnce(nS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case dd.NO_ERROR:const w=g.getResponseJson();ye(vn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),h(w);break;case dd.TIMEOUT:ye(vn,`RPC '${e}' ${u} timed out`),p(new ge(se.DEADLINE_EXCEEDED,"Request time out"));break;case dd.HTTP_ERROR:const T=g.getStatus();if(ye(vn,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const O=C==null?void 0:C.error;if(O&&O.status&&O.message){const x=function(z){const H=z.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(H)>=0?H:se.UNKNOWN}(O.status);p(new ge(x,O.message))}else p(new ge(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ge(se.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(vn,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(o);ye(vn,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",_,i,15)})}T_(e,t,i){const o=Cg(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=sS(),h=iS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=c.join("");ye(vn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const w=u.createWebChannel(_,p);this.I_(w);let T=!1,C=!1;const O=new hM({Yo:I=>{C?ye(vn,`Not sending because RPC '${e}' stream ${o} is closed:`,I):(T||(ye(vn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),ye(vn,`RPC '${e}' stream ${o} sending:`,I),w.send(I))},Zo:()=>w.close()}),x=(I,z,H)=>{I.listen(z,F=>{try{H(F)}catch(Z){setTimeout(()=>{throw Z},0)}})};return x(w,Mc.EventType.OPEN,()=>{C||(ye(vn,`RPC '${e}' stream ${o} transport opened.`),O.o_())}),x(w,Mc.EventType.CLOSE,()=>{C||(C=!0,ye(vn,`RPC '${e}' stream ${o} transport closed`),O.a_(),this.E_(w))}),x(w,Mc.EventType.ERROR,I=>{C||(C=!0,tl(vn,`RPC '${e}' stream ${o} transport errored. Name:`,I.name,"Message:",I.message),O.a_(new ge(se.UNAVAILABLE,"The operation could not be completed")))}),x(w,Mc.EventType.MESSAGE,I=>{var z;if(!C){const H=I.data[0];tt(!!H,16349);const F=H,Z=(F==null?void 0:F.error)||((z=F[0])==null?void 0:z.error);if(Z){ye(vn,`RPC '${e}' stream ${o} received error:`,Z);const ee=Z.status;let ce=function(P){const j=kt[P];if(j!==void 0)return US(j)}(ee),D=Z.message;ce===void 0&&(ce=se.INTERNAL,D="Unknown error status: "+ee+" with message "+Z.message),C=!0,O.a_(new ge(ce,D)),w.close()}else ye(vn,`RPC '${e}' stream ${o} received:`,H),O.u_(H)}}),x(h,rS.STAT_EVENT,I=>{I.stat===pg.PROXY?ye(vn,`RPC '${e}' stream ${o} detected buffering proxy`):I.stat===pg.NOPROXY&&ye(vn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.__()},0),O}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(r){return new vP(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,t,i=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="PersistentStream";class eA{constructor(e,t,i,o,c,u,h,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Mi(t.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.D_===t&&this.G_(i,o)},i=>{e(()=>{const o=new ge(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)})})}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{i(()=>this.z_(o))}),this.stream.onMessage(o=>{i(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(Yb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ye(Yb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pM extends eA{constructor(e,t,i,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=bP(this.serializer,e),i=function(c){if(!("targetChange"in c))return Oe.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?Kr(u.readTime):Oe.min()}(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=xg(this.serializer),t.addTarget=function(c,u){let h;const p=u.target;if(h=Eg(p)?{documents:SP(c,p)}:{query:AP(c,p).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=qS(c,u.resumeToken);const g=Tg(c,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(Oe.min())>0){h.readTime=Md(c,u.snapshotVersion.toTimestamp());const g=Tg(c,u.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,e);const i=RP(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=xg(this.serializer),t.removeTarget=e,this.q_(t)}}class gM extends eA{constructor(e,t,i,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=TP(e.writeResults,e.commitTime),i=Kr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=xg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>wP(this.serializer,i))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{}class vM extends yM{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.Go(e,Sg(t,i),o,c,u)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(se.UNKNOWN,c.toString())})}Ho(e,t,i,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Ho(e,Sg(t,i),o,u,h,c)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(se.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class _M{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mi(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="RemoteStore";class EM{constructor(e,t,i,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(u=>{i.enqueueAndForget(async()=>{Ba(this)&&(ye(Va,"Restarting streams for network reachability change."),await async function(p){const g=Pe(p);g.Ea.add(4),await yu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await oh(g)}(this))})}),this.Ra=new _M(i,o)}}async function oh(r){if(Ba(r))for(const e of r.da)await e(!0)}async function yu(r){for(const e of r.da)await e(!1)}function tA(r,e){const t=Pe(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ay(t)?Sy(t):yl(t).O_()&&Ty(t,e))}function wy(r,e){const t=Pe(r),i=yl(t);t.Ia.delete(e),i.O_()&&nA(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ba(t)&&t.Ra.set("Unknown"))}function Ty(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yl(r).Y_(e)}function nA(r,e){r.Va.Ue(e),yl(r).Z_(e)}function Sy(r){r.Va=new mP({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),yl(r).start(),r.Ra.ua()}function Ay(r){return Ba(r)&&!yl(r).x_()&&r.Ia.size>0}function Ba(r){return Pe(r).Ea.size===0}function rA(r){r.Va=void 0}async function bM(r){r.Ra.set("Online")}async function wM(r){r.Ia.forEach((e,t)=>{Ty(r,e)})}async function TM(r,e){rA(r),Ay(r)?(r.Ra.ha(e),Sy(r)):r.Ra.set("Unknown")}async function SM(r,e,t){if(r.Ra.set("Online"),e instanceof BS&&e.state===2&&e.cause)try{await async function(o,c){const u=c.cause;for(const h of c.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Ia.delete(h),o.Va.removeTarget(h))}(r,e)}catch(i){ye(Va,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Vd(r,i)}else if(e instanceof gd?r.Va.Ze(e):e instanceof zS?r.Va.st(e):r.Va.tt(e),!t.isEqual(Oe.min()))try{const i=await ZS(r.localStore);t.compareTo(i)>=0&&await function(c,u){const h=c.Va.Tt(u);return h.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=c.Ia.get(g);_&&c.Ia.set(g,_.withResumeToken(p.resumeToken,u))}}),h.targetMismatches.forEach((p,g)=>{const _=c.Ia.get(p);if(!_)return;c.Ia.set(p,_.withResumeToken(hn.EMPTY_BYTE_STRING,_.snapshotVersion)),nA(c,p);const w=new ws(_.target,p,g,_.sequenceNumber);Ty(c,w)}),c.remoteSyncer.applyRemoteEvent(h)}(r,t)}catch(i){ye(Va,"Failed to raise snapshot:",i),await Vd(r,i)}}async function Vd(r,e,t){if(!pl(e))throw e;r.Ea.add(1),await yu(r),r.Ra.set("Offline"),t||(t=()=>ZS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ye(Va,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await oh(r)})}function iA(r,e){return e().catch(t=>Vd(r,t,e))}async function lh(r){const e=Pe(r),t=Os(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ly;for(;AM(e);)try{const o=await aM(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,xM(e,o)}catch(o){await Vd(e,o)}sA(e)&&aA(e)}function AM(r){return Ba(r)&&r.Ta.length<10}function xM(r,e){r.Ta.push(e);const t=Os(r);t.O_()&&t.X_&&t.ea(e.mutations)}function sA(r){return Ba(r)&&!Os(r).x_()&&r.Ta.length>0}function aA(r){Os(r).start()}async function RM(r){Os(r).ra()}async function CM(r){const e=Os(r);for(const t of r.Ta)e.ea(t.mutations)}async function IM(r,e,t){const i=r.Ta.shift(),o=py.from(i,e,t);await iA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await lh(r)}async function NM(r,e){e&&Os(r).X_&&await async function(i,o){if(function(u){return fP(u)&&u!==se.ABORTED}(o.code)){const c=i.Ta.shift();Os(i).B_(),await iA(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,o)),await lh(i)}}(r,e),sA(r)&&aA(r)}async function $b(r,e){const t=Pe(r);t.asyncQueue.verifyOperationInProgress(),ye(Va,"RemoteStore received new credentials");const i=Ba(t);t.Ea.add(3),await yu(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await oh(t)}async function DM(r,e){const t=Pe(r);e?(t.Ea.delete(2),await oh(t)):e||(t.Ea.add(2),await yu(t),t.Ra.set("Unknown"))}function yl(r){return r.ma||(r.ma=function(t,i,o){const c=Pe(t);return c.sa(),new pM(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Xo:bM.bind(null,r),t_:wM.bind(null,r),r_:TM.bind(null,r),H_:SM.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),Ay(r)?Sy(r):r.Ra.set("Unknown")):(await r.ma.stop(),rA(r))})),r.ma}function Os(r){return r.fa||(r.fa=function(t,i,o){const c=Pe(t);return c.sa(),new gM(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:RM.bind(null,r),r_:NM.bind(null,r),ta:CM.bind(null,r),na:IM.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await lh(r)):(await r.fa.stop(),r.Ta.length>0&&(ye(Va,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,t,i,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,c){const u=Date.now()+i,h=new xy(e,t,u,o,c);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ry(r,e){if(Mi("AsyncQueue",`${e}: ${r}`),pl(r))return new ge(se.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{static emptySet(e){return new $o(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ae.comparator(t.key,i.key):(t,i)=>Ae.comparator(t.key,i.key),this.keyedMap=kc(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $o)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new $o;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.ga=new _t(Ae.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,i)=>{e.push(i)}),e}}class al{constructor(e,t,i,o,c,u,h,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,o,c){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new al(e,t,$o.emptySet(t),u,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class PM{constructor(){this.queries=Wb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Pe(t),c=o.queries;o.queries=Wb(),c.forEach((u,h)=>{for(const p of h.Sa)p.onError(i)})})(this,new ge(se.ABORTED,"Firestore shutting down"))}}function Wb(){return new za(r=>RS(r),th)}async function Cy(r,e){const t=Pe(r);let i=3;const o=e.query;let c=t.queries.get(o);c?!c.ba()&&e.Da()&&(i=2):(c=new OM,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=Ry(u,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&Ny(t)}async function Iy(r,e){const t=Pe(r),i=e.query;let o=3;const c=t.queries.get(i);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function MM(r,e){const t=Pe(r);let i=!1;for(const o of e){const c=o.query,u=t.queries.get(c);if(u){for(const h of u.Sa)h.Fa(o)&&(i=!0);u.wa=o}}i&&Ny(t)}function kM(r,e,t){const i=Pe(r),o=i.queries.get(e);if(o)for(const c of o.Sa)c.onError(t);i.queries.delete(e)}function Ny(r){r.Ca.forEach(e=>{e.next()})}var Ig,Zb;(Zb=Ig||(Ig={})).Ma="default",Zb.Cache="cache";class Dy{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new al(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ig.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.key=e}}class lA{constructor(e){this.key=e}}class VM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=CS(e),this.tu=new $o(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Xb,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const T=o.get(_),C=nh(this.query,w)?w:null,O=!!T&&this.mutatedKeys.has(T.key),x=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let I=!1;T&&C?T.data.isEqual(C.data)?O!==x&&(i.track({type:3,doc:C}),I=!0):this.su(T,C)||(i.track({type:2,doc:C}),I=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(h=!0)):!T&&C?(i.track({type:0,doc:C}),I=!0):T&&!C&&(i.track({type:1,doc:T}),I=!0,(p||g)&&(h=!0)),I&&(C?(u=u.add(C),c=x?c.add(_):c.delete(_)):(u=u.delete(_),c=c.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),c=c.delete(_.key),i.track({type:1,doc:_})}return{tu:u,iu:i,Cs:h,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((_,w)=>function(C,O){const x=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:I})}};return x(C)-x(O)}(_.type,w.type)||this.eu(_.doc,w.doc)),this.ou(i),o=o??!1;const h=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new al(this.query,e.tu,c,u,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const t=[];return e.forEach(i=>{this.Xa.has(i)||t.push(new lA(i))}),this.Xa.forEach(i=>{e.has(i)||t.push(new oA(i))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ge();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Oy="SyncEngine";class jM{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class LM{constructor(e){this.key=e,this.hu=!1}}class UM{constructor(e,t,i,o,c,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new za(h=>RS(h),th),this.Iu=new Map,this.Eu=new Set,this.du=new _t(Ae.comparator),this.Au=new Map,this.Ru=new vy,this.Vu={},this.mu=new Map,this.fu=sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zM(r,e,t=!0){const i=mA(r);let o;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await cA(i,e,t,!0),o}async function BM(r,e){const t=mA(r);await cA(t,e,!0,!1)}async function cA(r,e,t,i){const o=await oM(r.localStore,Gr(e)),c=o.targetId,u=r.sharedClientState.addLocalQueryTarget(c,t);let h;return i&&(h=await qM(r,e,c,u==="current",o.resumeToken)),r.isPrimaryClient&&t&&tA(r.remoteStore,o),h}async function qM(r,e,t,i,o){r.pu=(w,T,C)=>async function(x,I,z,H){let F=I.view.ru(z);F.Cs&&(F=await Hb(x.localStore,I.query,!1).then(({documents:D})=>I.view.ru(D,F)));const Z=H&&H.targetChanges.get(I.targetId),ee=H&&H.targetMismatches.get(I.targetId)!=null,ce=I.view.applyChanges(F,x.isPrimaryClient,Z,ee);return ew(x,I.targetId,ce.au),ce.snapshot}(r,w,T,C);const c=await Hb(r.localStore,e,!0),u=new VM(e,c.Qs),h=u.ru(c.documents),p=gu.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),g=u.applyChanges(h,r.isPrimaryClient,p);ew(r,t,g.au);const _=new jM(e,t,u);return r.Tu.set(e,_),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function FM(r,e,t){const i=Pe(r),o=i.Tu.get(e),c=i.Iu.get(o.targetId);if(c.length>1)return i.Iu.set(o.targetId,c.filter(u=>!th(u,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Rg(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&wy(i.remoteStore,o.targetId),Ng(i,o.targetId)}).catch(ml)):(Ng(i,o.targetId),await Rg(i.localStore,o.targetId,!0))}async function HM(r,e){const t=Pe(r),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),wy(t.remoteStore,i.targetId))}async function GM(r,e,t){const i=ZM(r);try{const o=await function(u,h){const p=Pe(u),g=mt.now(),_=h.reduce((C,O)=>C.add(O.key),Ge());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let O=ki(),x=Ge();return p.Ns.getEntries(C,_).next(I=>{O=I,O.forEach((z,H)=>{H.isValidDocument()||(x=x.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,O)).next(I=>{w=I;const z=[];for(const H of h){const F=aP(H,w.get(H.key).overlayedDocument);F!=null&&z.push(new Bs(H.key,F,_S(F.value.mapValue),Er.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,z,h)}).next(I=>{T=I;const z=I.applyToLocalDocumentSet(w,x);return p.documentOverlayCache.saveOverlays(C,I.batchId,z)})}).then(()=>({batchId:T.batchId,changes:NS(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,h,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new _t(He)),g=g.insert(h,p),u.Vu[u.currentUser.toKey()]=g}(i,o.batchId,t),await vu(i,o.changes),await lh(i.remoteStore)}catch(o){const c=Ry(o,"Failed to persist write");t.reject(c)}}async function uA(r,e){const t=Pe(r);try{const i=await iM(t.localStore,e);e.targetChanges.forEach((o,c)=>{const u=t.Au.get(c);u&&(tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?tt(u.hu,14607):o.removedDocuments.size>0&&(tt(u.hu,42227),u.hu=!1))}),await vu(t,i,e)}catch(i){await ml(i)}}function Jb(r,e,t){const i=Pe(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach((c,u)=>{const h=u.view.va(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const p=Pe(u);p.onlineState=h;let g=!1;p.queries.forEach((_,w)=>{for(const T of w.Sa)T.va(h)&&(g=!0)}),g&&Ny(p)}(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function KM(r,e,t){const i=Pe(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),c=o&&o.key;if(c){let u=new _t(Ae.comparator);u=u.insert(c,En.newNoDocument(c,Oe.min()));const h=Ge().add(c),p=new sh(Oe.min(),new Map,new _t(He),u,h);await uA(i,p),i.du=i.du.remove(c),i.Au.delete(e),Py(i)}else await Rg(i.localStore,e,!1).then(()=>Ng(i,e,t)).catch(ml)}async function QM(r,e){const t=Pe(r),i=e.batch.batchId;try{const o=await rM(t.localStore,e);dA(t,i,null),fA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await vu(t,o)}catch(o){await ml(o)}}async function YM(r,e,t){const i=Pe(r);try{const o=await function(u,h){const p=Pe(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,h).next(w=>(tt(w!==null,37113),_=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(i.localStore,e);dA(i,e,t),fA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await vu(i,o)}catch(o){await ml(o)}}function fA(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function dA(r,e,t){const i=Pe(r);let o=i.Vu[i.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Ng(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(i=>{r.Ru.containsKey(i)||hA(r,i)})}function hA(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(wy(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Py(r))}function ew(r,e,t){for(const i of t)i instanceof oA?(r.Ru.addReference(i.key,e),$M(r,i)):i instanceof lA?(ye(Oy,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||hA(r,i.key)):Ne(19791,{wu:i})}function $M(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Eu.has(i)||(ye(Oy,"New document in limbo: "+t),r.Eu.add(i),Py(r))}function Py(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Ae(ht.fromString(e)),i=r.fu.next();r.Au.set(i,new LM(t)),r.du=r.du.insert(t,i),tA(r.remoteStore,new ws(Gr(eh(t.path)),i,"TargetPurposeLimboResolution",Wd.ce))}}async function vu(r,e,t){const i=Pe(r),o=[],c=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach((h,p)=>{u.push(i.pu(p,e,t).then(g=>{var _;if((g||t)&&i.isPrimaryClient){const w=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Ey.As(p.targetId,g);c.push(w)}}))}),await Promise.all(u),i.Pu.H_(o),await async function(p,g){const _=Pe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>le.forEach(g,T=>le.forEach(T.Es,C=>_.persistence.referenceDelegate.addReference(w,T.targetId,C)).next(()=>le.forEach(T.ds,C=>_.persistence.referenceDelegate.removeReference(w,T.targetId,C)))))}catch(w){if(!pl(w))throw w;ye(by,"Failed to update sequence numbers: "+w)}for(const w of g){const T=w.targetId;if(!w.fromCache){const C=_.Ms.get(T),O=C.snapshotVersion,x=C.withLastLimboFreeSnapshotVersion(O);_.Ms=_.Ms.insert(T,x)}}}(i.localStore,c))}async function XM(r,e){const t=Pe(r);if(!t.currentUser.isEqual(e)){ye(Oy,"User change. New user:",e.toKey());const i=await WS(t.localStore,e);t.currentUser=e,function(c,u){c.mu.forEach(h=>{h.forEach(p=>{p.reject(new ge(se.CANCELLED,u))})}),c.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await vu(t,i.Ls)}}function WM(r,e){const t=Pe(r),i=t.Au.get(e);if(i&&i.hu)return Ge().add(i.key);{let o=Ge();const c=t.Iu.get(e);if(!c)return o;for(const u of c){const h=t.Tu.get(u);o=o.unionWith(h.view.nu)}return o}}function mA(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=uA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KM.bind(null,e),e.Pu.H_=MM.bind(null,e.eventManager),e.Pu.yu=kM.bind(null,e.eventManager),e}function ZM(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YM.bind(null,e),e}class jd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return nM(this.persistence,new JP,e.initialUser,this.serializer)}Cu(e){return new XS(_y.mi,this.serializer)}Du(e){return new cM}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jd.provider={build:()=>new jd};class JM extends jd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){tt(this.persistence.referenceDelegate instanceof kd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new LP(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new XS(i=>kd.mi(i,t),this.serializer)}}class Dg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Jb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=XM.bind(null,this.syncEngine),await DM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PM}()}createDatastore(e){const t=ah(e.databaseInfo.databaseId),i=function(c){return new mM(c)}(e.databaseInfo);return function(c,u,h,p){return new vM(c,u,h,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,c,u,h){return new EM(i,o,c,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Jb(this.syncEngine,t,0),function(){return Qb.v()?new Qb:new uM}())}createSyncEngine(e,t){return function(o,c,u,h,p,g,_){const w=new UM(o,c,u,h,p,g);return _&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const c=Pe(o);ye(Va,"RemoteStore shutting down."),c.Ea.add(5),await yu(c),c.Aa.shutdown(),c.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Dg.provider={build:()=>new Dg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class ek{constructor(e,t,i,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=_n.UNAUTHENTICATED,this.clientId=oy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,async u=>{ye(Ps,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ye(Ps,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Ry(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Hp(r,e){r.asyncQueue.verifyOperationInProgress(),ye(Ps,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener(async o=>{i.isEqual(o)||(await WS(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function tw(r,e){r.asyncQueue.verifyOperationInProgress();const t=await tk(r);ye(Ps,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(i=>$b(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,o)=>$b(e.remoteStore,o)),r._onlineComponents=e}async function tk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye(Ps,"Using user provided OfflineComponentProvider");try{await Hp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;tl("Error using user provided cache. Falling back to memory cache: "+t),await Hp(r,new jd)}}else ye(Ps,"Using default OfflineComponentProvider"),await Hp(r,new JM(void 0));return r._offlineComponents}async function pA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye(Ps,"Using user provided OnlineComponentProvider"),await tw(r,r._uninitializedComponentsProvider._online)):(ye(Ps,"Using default OnlineComponentProvider"),await tw(r,new Dg))),r._onlineComponents}function nk(r){return pA(r).then(e=>e.syncEngine)}async function Ld(r){const e=await pA(r),t=e.eventManager;return t.onListen=zM.bind(null,e.syncEngine),t.onUnlisten=FM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=BM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=HM.bind(null,e.syncEngine),t}function rk(r,e,t={}){const i=new Ii;return r.asyncQueue.enqueueAndForget(async()=>function(c,u,h,p,g){const _=new My({next:T=>{_.Nu(),u.enqueueAndForget(()=>Iy(c,w));const C=T.docs.has(h);!C&&T.fromCache?g.reject(new ge(se.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&p&&p.source==="server"?g.reject(new ge(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new Dy(eh(h.path),_,{includeMetadataChanges:!0,qa:!0});return Cy(c,w)}(await Ld(r),r.asyncQueue,e,t,i)),i.promise}function ik(r,e,t={}){const i=new Ii;return r.asyncQueue.enqueueAndForget(async()=>function(c,u,h,p,g){const _=new My({next:T=>{_.Nu(),u.enqueueAndForget(()=>Iy(c,w)),T.fromCache&&p.source==="server"?g.reject(new ge(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new Dy(h,_,{includeMetadataChanges:!0,qa:!0});return Cy(c,w)}(await Ld(r),r.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="firestore.googleapis.com",rw=!0;class iw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yA,this.ssl=rw}else this.host=e.host,this.ssl=e.ssl??rw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$S;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VP)throw new ge(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_O("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gA(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ch{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new cO;switch(i.type){case"firstParty":return new hO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=nw.get(t);i&&(ye("ComponentProvider","Removing Datastore"),nw.delete(t),i.terminate())}(this),Promise.resolve()}}function sk(r,e,t,i={}){var g;r=ar(r,ch);const o=ul(e),c=r._getSettings(),u={...c,emulatorOptions:r._getEmulatorOptions()},h=`${e}:${t}`;o&&(hT(`https://${h}`),mT("Firestore",!0)),c.host!==yA&&c.host!==h&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:h,ssl:o,emulatorOptions:i};if(!Da(p,u)&&(r._setSettings(p),i.mockUserToken)){let _,w;if(typeof i.mockUserToken=="string")_=i.mockUserToken,w=_n.MOCK_USER;else{_=vI(i.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new ge(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new _n(T)}r._authCredentials=new uO(new oS(_,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class Nt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(mu(t,Nt._jsonSchema))return new Nt(e,i||null,new Ae(ht.fromString(t.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Ut("string",Nt._jsonSchemaVersion),referencePath:Ut("string")};class Rs extends qs{constructor(e,t,i){super(e,t,eh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new Ae(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function vs(r,e,...t){if(r=sn(r),lS("collection","path",e),r instanceof ch){const i=ht.fromString(e,...t);return yb(i),new Rs(r,null,i)}{if(!(r instanceof Nt||r instanceof Rs))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ht.fromString(e,...t));return yb(i),new Rs(r.firestore,null,i)}}function ru(r,e,...t){if(r=sn(r),arguments.length===1&&(e=oy.newId()),lS("doc","path",e),r instanceof ch){const i=ht.fromString(e,...t);return gb(i),new Nt(r,null,new Ae(i))}{if(!(r instanceof Nt||r instanceof Rs))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ht.fromString(e,...t));return gb(i),new Nt(r.firestore,r instanceof Rs?r.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="AsyncQueue";class aw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JS(this,"async_queue_retry"),this._c=()=>{const i=Fp();i&&ye(sw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Fp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Fp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Ii;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!pl(e))throw e;ye(sw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Mi("INTERNAL UNHANDLED ERROR: ",ow(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=xy.createAndSchedule(this,e,t,i,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&Ne(47125,{Pc:ow(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ow(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(r){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of i)if(c in o&&typeof o[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Ms extends ch{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new aw,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aw(e),this._firestoreClient=void 0,await e}}}function ak(r,e){const t=typeof r=="object"?r:vT(),i=typeof r=="string"?r:Nd,o=$g(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=gI("firestore");c&&sk(o,...c)}return o}function uh(r){if(r._terminated)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ok(r),r._firestoreClient}function ok(r){var i,o,c;const e=r._freezeSettings(),t=function(h,p,g,_){return new NO(h,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,gA(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(r._databaseId,((i=r._app)==null?void 0:i.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new ek(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sr(hn.fromBase64String(e))}catch(t){throw new ge(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sr(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mu(e,sr._jsonSchema))return sr.fromBase64String(e.bytes)}}sr._jsonSchemaVersion="firestore/bytes/1.0",sr._jsonSchema={type:Ut("string",sr._jsonSchemaVersion),bytes:Ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qr._jsonSchemaVersion}}static fromJSON(e){if(mu(e,Qr._jsonSchema))return new Qr(e.latitude,e.longitude)}}Qr._jsonSchemaVersion="firestore/geoPoint/1.0",Qr._jsonSchema={type:Ut("string",Qr._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mu(e,Yr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Yr(e.vectorValues);throw new ge(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yr._jsonSchemaVersion="firestore/vectorValue/1.0",Yr._jsonSchema={type:Ut("string",Yr._jsonSchemaVersion),vectorValues:Ut("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=/^__.*__$/;class ck{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new pu(e,this.data,t,this.fieldTransforms)}}class vA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Bs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _A(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:r})}}class ky{constructor(e,t,i,o,c,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ky({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ud(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_A(this.Ac)&&lk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ah(e)}Cc(e,t,i,o=!1){return new ky({Ac:e,methodName:t,Dc:i,path:dn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vy(r){const e=r._freezeSettings(),t=ah(r._databaseId);return new uk(r._databaseId,!!e.ignoreUndefinedProperties,t)}function fk(r,e,t,i,o,c={}){const u=r.Cc(c.merge||c.mergeFields?2:0,e,t,o);Ly("Data must be an object, but it was:",u,i);const h=EA(i,u);let p,g;if(c.merge)p=new Fn(u.fieldMask),g=u.fieldTransforms;else if(c.mergeFields){const _=[];for(const w of c.mergeFields){const T=Og(e,w,t);if(!u.contains(T))throw new ge(se.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);wA(_,T)||_.push(T)}p=new Fn(_),g=u.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=u.fieldTransforms;return new ck(new Dn(h),p,g)}class hh extends dh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hh}}class jy extends dh{_toFieldTransform(e){return new nP(e.path,new eu)}isEqual(e){return e instanceof jy}}function dk(r,e,t,i){const o=r.Cc(1,e,t);Ly("Data must be an object, but it was:",o,i);const c=[],u=Dn.empty();zs(i,(p,g)=>{const _=Uy(e,p,t);g=sn(g);const w=o.yc(_);if(g instanceof hh)c.push(_);else{const T=_u(g,w);T!=null&&(c.push(_),u.set(_,T))}});const h=new Fn(c);return new vA(u,h,o.fieldTransforms)}function hk(r,e,t,i,o,c){const u=r.Cc(1,e,t),h=[Og(e,i,t)],p=[o];if(c.length%2!=0)throw new ge(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<c.length;T+=2)h.push(Og(e,c[T])),p.push(c[T+1]);const g=[],_=Dn.empty();for(let T=h.length-1;T>=0;--T)if(!wA(g,h[T])){const C=h[T];let O=p[T];O=sn(O);const x=u.yc(C);if(O instanceof hh)g.push(C);else{const I=_u(O,x);I!=null&&(g.push(C),_.set(C,I))}}const w=new Fn(g);return new vA(_,w,u.fieldTransforms)}function mk(r,e,t,i=!1){return _u(t,r.Cc(i?4:3,e))}function _u(r,e){if(bA(r=sn(r)))return Ly("Unsupported field value:",e,r),EA(r,e);if(r instanceof dh)return function(i,o){if(!_A(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,o){const c=[];let u=0;for(const h of i){let p=_u(h,o.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),u++}return{arrayValue:{values:c}}}(r,e)}return function(i,o){if((i=sn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return JO(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=mt.fromDate(i);return{timestampValue:Md(o.serializer,c)}}if(i instanceof mt){const c=new mt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Md(o.serializer,c)}}if(i instanceof Qr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof sr)return{bytesValue:qS(o.serializer,i._byteString)};if(i instanceof Nt){const c=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:yy(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Yr)return function(u,h){return{mapValue:{fields:{[yS]:{stringValue:vS},[Dd]:{arrayValue:{values:u.toArray().map(g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return hy(h.serializer,g)})}}}}}}(i,o);throw o.Sc(`Unsupported field value: ${Xd(i)}`)}(r,e)}function EA(r,e){const t={};return fS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(r,(i,o)=>{const c=_u(o,e.mc(i));c!=null&&(t[i]=c)}),{mapValue:{fields:t}}}function bA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof mt||r instanceof Qr||r instanceof sr||r instanceof Nt||r instanceof dh||r instanceof Yr)}function Ly(r,e,t){if(!bA(t)||!cS(t)){const i=Xd(t);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function Og(r,e,t){if((e=sn(e))instanceof fh)return e._internalPath;if(typeof e=="string")return Uy(r,e);throw Ud("Field path arguments must be of type string or ",r,!1,void 0,t)}const pk=new RegExp("[~\\*/\\[\\]]");function Uy(r,e,t){if(e.search(pk)>=0)throw Ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new fh(...e.split("."))._internalPath}catch{throw Ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ud(r,e,t,i,o){const c=i&&!i.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(c||u)&&(p+=" (found",c&&(p+=` in field ${i}`),u&&(p+=` in document ${o}`),p+=")"),new ge(se.INVALID_ARGUMENT,h+r+p)}function wA(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t,i,o,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class gk extends TA{data(){return super.data()}}function mh(r,e){return typeof e=="string"?Uy(r,e):e instanceof fh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zy{}class AA extends zy{}function Ho(r,e,...t){let i=[];e instanceof zy&&i.push(e),i=i.concat(t),function(c){const u=c.filter(p=>p instanceof By).length,h=c.filter(p=>p instanceof ph).length;if(u>1||u>0&&h>0)throw new ge(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)r=o._apply(r);return r}class ph extends AA{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new ph(e,t,i)}_apply(e){const t=this._parse(e);return xA(e._query,t),new qs(e.firestore,e.converter,bg(e._query,t))}_parse(e){const t=Vy(e.firestore);return function(c,u,h,p,g,_,w){let T;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ge(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){uw(w,_);const O=[];for(const x of w)O.push(cw(p,c,x));T={arrayValue:{values:O}}}else T=cw(p,c,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||uw(w,_),T=mk(h,u,w,_==="in"||_==="not-in");return Lt.create(g,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Go(r,e,t){const i=e,o=mh("where",r);return ph._create(o,i,t)}class By extends zy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new By(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:br.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,c){let u=o;const h=c.getFlattenedFilters();for(const p of h)xA(u,p),u=bg(u,p)}(e._query,t),new qs(e.firestore,e.converter,bg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qy extends AA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qy(e,t)}_apply(e){const t=function(o,c,u){if(o.startAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jc(c,u)}(e._query,this._field,this._direction);return new qs(e.firestore,e.converter,function(o,c){const u=o.explicitOrderBy.concat([c]);return new gl(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Dc(r,e="asc"){const t=e,i=mh("orderBy",r);return qy._create(i,t)}function cw(r,e,t){if(typeof(t=sn(t))=="string"){if(t==="")throw new ge(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xS(e)&&t.indexOf("/")!==-1)throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ht.fromString(t));if(!Ae.isDocumentKey(i))throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ab(r,new Ae(i))}if(t instanceof Nt)return Ab(r,t._key);throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xd(t)}.`)}function uw(r,e){if(!Array.isArray(r)||r.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xA(r,e){const t=function(o,c){for(const u of o)for(const h of u.getFlattenedFilters())if(c.indexOf(h.op)>=0)return h.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class yk{convertValue(e,t="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return zs(e,(o,c)=>{i[o]=this.convertValue(c,t)}),i}convertVectorValue(e){var i,o,c;const t=(c=(o=(i=e.fields)==null?void 0:i[Dd].arrayValue)==null?void 0:o.values)==null?void 0:c.map(u=>It(u.doubleValue));return new Yr(t)}convertGeoPoint(e){return new Qr(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Jd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Xc(e));default:return null}}convertTimestamp(e){const t=Is(e);return new mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ht.fromString(e);tt(YS(i),9688,{name:e});const o=new Wc(i.get(1),i.get(3)),c=new Ae(i.popFirst(5));return o.isEqual(t)||Mi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(r,e,t){let i;return i=r?r.toFirestore(e):e,i}class jc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ia extends TA{constructor(e,t,i,o,c,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(mh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ia._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:Ut("string",Ia._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class yd extends Ia{data(e={}){return super.data(e)}}class Na{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new jc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new yd(this._firestore,this._userDataWriter,i.key,i,new jc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const p=new yd(o._firestore,o._userDataWriter,h.doc.key,h.doc,new jc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>c||h.type!==3).map(h=>{const p=new yd(o._firestore,o._userDataWriter,h.doc.key,h.doc,new jc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),_=u.indexOf(h.doc.key)),{type:_k(h.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=oy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(t.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _k(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(r){r=ar(r,Nt);const e=ar(r.firestore,Ms);return rk(uh(e),r._key).then(t=>IA(e,r,t))}Na._jsonSchemaVersion="firestore/querySnapshot/1.0",Na._jsonSchema={type:Ut("string",Na._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Fy extends yk{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}function Pg(r){r=ar(r,qs);const e=ar(r.firestore,Ms),t=uh(e),i=new Fy(e);return SA(r._query),ik(t,r._query).then(o=>new Na(e,i,r,o))}function RA(r,e,t,...i){r=ar(r,Nt);const o=ar(r.firestore,Ms),c=Vy(o);let u;return u=typeof(e=sn(e))=="string"||e instanceof fh?hk(c,"updateDoc",r._key,e,t,i):dk(c,"updateDoc",r._key,e),Hy(o,[u.toMutation(r._key,Er.exists(!0))])}function bk(r){return Hy(ar(r.firestore,Ms),[new my(r._key,Er.none())])}function CA(r,e){const t=ar(r.firestore,Ms),i=ru(r),o=vk(r.converter,e);return Hy(t,[fk(Vy(r.firestore),"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,Er.exists(!1))]).then(()=>i)}function Gp(r,...e){var p,g,_;r=sn(r);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||lw(e[i])||(t=e[i++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(lw(e[i])){const w=e[i];e[i]=(p=w.next)==null?void 0:p.bind(w),e[i+1]=(g=w.error)==null?void 0:g.bind(w),e[i+2]=(_=w.complete)==null?void 0:_.bind(w)}let c,u,h;if(r instanceof Nt)u=ar(r.firestore,Ms),h=eh(r._key.path),c={next:w=>{e[i]&&e[i](IA(u,r,w))},error:e[i+1],complete:e[i+2]};else{const w=ar(r,qs);u=ar(w.firestore,Ms),h=w._query;const T=new Fy(u);c={next:C=>{e[i]&&e[i](new Na(u,T,w,C))},error:e[i+1],complete:e[i+2]},SA(r._query)}return function(T,C,O,x){const I=new My(x),z=new Dy(C,I,O);return T.asyncQueue.enqueueAndForget(async()=>Cy(await Ld(T),z)),()=>{I.Nu(),T.asyncQueue.enqueueAndForget(async()=>Iy(await Ld(T),z))}}(uh(u),h,o,c)}function Hy(r,e){return function(i,o){const c=new Ii;return i.asyncQueue.enqueueAndForget(async()=>GM(await nk(i),o,c)),c.promise}(uh(r),e)}function IA(r,e,t){const i=t.docs.get(e._key),o=new Fy(r);return new Ia(r,o,e._key,i,new jc(t.hasPendingWrites,t.fromCache),e.converter)}function Gc(){return new jy("serverTimestamp")}(function(e,t=!0){(function(o){hl=o})(fl),Jo(new Oa("firestore",(i,{instanceIdentifier:o,options:c})=>{const u=i.getProvider("app").getImmediate(),h=new Ms(new fO(i.getProvider("auth-internal")),new mO(u,i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(g.options.projectId,_)}(u,o),u);return c={useFetchStreams:t,...c},h._setSettings(c),h},"PUBLIC").setMultipleInstances(!0)),As(db,hb,e),As(db,hb,"esm2020")})();const wk={apiKey:"AIzaSyAmqQtTgvPSSzTGvO3kxhGcF7rqlZl4_L0",authDomain:"uber-rio-pardo.firebaseapp.com",projectId:"uber-rio-pardo",storageBucket:"uber-rio-pardo.firebasestorage.app",messagingSenderId:"128009984359",appId:"1:128009984359:web:ed2c6eee709ec47431f7c2",measurementId:"G-GGGEL6398M"},NA=yT(wk),Gy=sO(NA),rr=ak(NA);function Tk({onBack:r,onLogin:e,onRegister:t}){const[i,o]=N.useState(!1),[c,u]=N.useState(""),h=async()=>{o(!0),u("");try{const p=new Ai,_=(await mD(Gy,p)).user,w={id:_.uid,name:_.displayName,email:_.email,phone:"",photoURL:_.photoURL,provider:"google",type:"user",createdAt:new Date().toISOString()};await userService.getById(_.uid)?await userService.update(_.uid,w):await userService.create(w),localStorage.setItem("currentUserId",_.uid),e(w)}catch(p){console.error("Erro no login:",p),u("Erro ao fazer login com Google. Tente novamente.")}finally{o(!1)}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-md",children:[v.jsxs(jt,{variant:"ghost",onClick:r,className:"mb-4",children:[v.jsx(Gd,{className:"w-4 h-4 mr-2"}),"Voltar"]}),v.jsxs(Tt,{children:[v.jsxs(nn,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(ou,{className:"w-8 h-8 text-blue-600"})}),v.jsx(rn,{className:"text-2xl",children:"Login do Passageiro"}),v.jsx(Di,{children:"Entre com sua conta Google para solicitar corridas"})]}),v.jsxs(Vt,{className:"space-y-4",children:[c&&v.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:v.jsx("p",{className:"text-sm text-red-700",children:c})}),v.jsx(jt,{onClick:h,disabled:i,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",size:"lg",children:i?v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),v.jsx("span",{children:"Entrando..."})]}):v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[v.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),v.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),v.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),v.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),v.jsx("span",{children:"Entrar com Google"})]})}),v.jsx("div",{className:"text-center",children:v.jsx("p",{className:"text-sm text-gray-600",children:"Ao continuar, você concorda com nossos termos de uso"})})]})]})]})})}function Ct({className:r,type:e,...t}){return v.jsx("input",{type:e,"data-slot":"input",className:Qt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...t})}var Eu=zw();const Sk=Lw(Eu);var Ak=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nt=Ak.reduce((r,e)=>{const t=Kc(`Primitive.${e}`),i=N.forwardRef((o,c)=>{const{asChild:u,...h}=o,p=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(p,{...h,ref:c})});return i.displayName=`Primitive.${e}`,{...r,[e]:i}},{});function xk(r,e){r&&Eu.flushSync(()=>r.dispatchEvent(e))}var Rk="Label",DA=N.forwardRef((r,e)=>v.jsx(nt.label,{...r,ref:e,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=r.onMouseDown)==null||o.call(r,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));DA.displayName=Rk;var Ck=DA;function dt({className:r,...e}){return v.jsx(Ck,{"data-slot":"label",className:Qt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...e})}function Ik({onBack:r,onRegister:e}){const[t,i]=N.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[o,c]=N.useState(!1),u=p=>{i({...t,[p.target.name]:p.target.value})},h=async p=>{p.preventDefault(),c(!0);try{const _=(await createUserWithEmailAndPassword(auth,t.email,t.password)).user;await updateProfile(_,{displayName:t.name});const w={id:_.uid,name:t.name,email:t.email,phone:t.phone,type:"user",createdAt:new Date().toISOString()};await userService.create(w),localStorage.setItem("currentUserId",_.uid),alert("Cadastro realizado com sucesso!"),e(w)}catch(g){console.error("Erro no cadastro:",g);let _="Erro ao criar conta. Tente novamente.";switch(g.code){case"auth/email-already-in-use":_="Este e-mail já está em uso.";break;case"auth/invalid-email":_="E-mail inválido.";break;case"auth/weak-password":_="A senha é muito fraca.";break}setError(_)}finally{c(!1)}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-md",children:[v.jsxs(jt,{variant:"ghost",onClick:r,className:"mb-4",children:[v.jsx(Gd,{className:"w-4 h-4 mr-2"}),"Voltar"]}),v.jsxs(Tt,{children:[v.jsxs(nn,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(ou,{className:"w-8 h-8 text-blue-600"})}),v.jsx(rn,{className:"text-2xl",children:"Cadastro do Passageiro"}),v.jsx(Di,{children:"Crie sua conta para solicitar corridas"})]}),v.jsx(Vt,{children:v.jsxs("form",{onSubmit:h,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"name",children:"Nome completo"}),v.jsx(Ct,{id:"name",name:"name",type:"text",placeholder:"Seu nome completo",value:t.name,onChange:u,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"email",children:"Email"}),v.jsx(Ct,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",value:t.email,onChange:u,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"phone",children:"Telefone"}),v.jsx(Ct,{id:"phone",name:"phone",type:"tel",placeholder:"(51) 99999-9999",value:t.phone,onChange:u,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"password",children:"Senha"}),v.jsx(Ct,{id:"password",name:"password",type:"password",placeholder:"Sua senha",value:t.password,onChange:u,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"confirmPassword",children:"Confirmar senha"}),v.jsx(Ct,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirme sua senha",value:t.confirmPassword,onChange:u,required:!0})]}),v.jsx(jt,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:o,children:o?"Cadastrando...":"Cadastrar"})]})})]})]})})}function Nk({user:r,onProfileComplete:e}){const[t,i]=N.useState(r.phone||""),[o,c]=N.useState(!1),[u,h]=N.useState(""),p=async g=>{if(g.preventDefault(),c(!0),h(""),!t.trim()){h("Por favor, informe seu telefone."),c(!1);return}try{const _={...r,phone:t.trim()},T=JSON.parse(localStorage.getItem("users")||"[]").map(C=>C.id===r.id?_:C);localStorage.setItem("users",JSON.stringify(T)),localStorage.setItem("currentUser",JSON.stringify(_)),e(_)}catch(_){console.error("Erro ao atualizar perfil:",_),h("Erro ao salvar perfil. Tente novamente.")}finally{c(!1)}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:v.jsx("div",{className:"w-full max-w-md",children:v.jsxs(Tt,{children:[v.jsxs(nn,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:r.photoURL?v.jsx("img",{src:r.photoURL,alt:r.name,className:"w-16 h-16 rounded-full object-cover"}):v.jsx(ou,{className:"w-8 h-8 text-blue-600"})}),v.jsx(rn,{className:"text-2xl",children:"Complete seu Perfil"}),v.jsxs(Di,{children:["Olá, ",r.name,"! Complete suas informações para continuar"]})]}),v.jsxs(Vt,{children:[u&&v.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:v.jsx("p",{className:"text-sm text-red-700",children:u})}),v.jsxs("form",{onSubmit:p,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"name",children:"Nome"}),v.jsx(Ct,{id:"name",type:"text",value:r.name,disabled:!0,className:"bg-gray-50"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Nome obtido do Google"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"email",children:"Email"}),v.jsx(Ct,{id:"email",type:"email",value:r.email,disabled:!0,className:"bg-gray-50"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Email obtido do Google"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"phone",children:"Telefone"}),v.jsxs("div",{className:"relative",children:[v.jsx(rI,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),v.jsx(Ct,{id:"phone",type:"tel",placeholder:"(51) 99999-9999",value:t,onChange:g=>i(g.target.value),className:"pl-10",required:!0})]})]}),v.jsx(jt,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:o,children:o?"Salvando...":"Continuar"})]}),v.jsx("div",{className:"mt-4 text-center",children:v.jsx("p",{className:"text-xs text-gray-500",children:"Suas informações são seguras e utilizadas apenas para melhorar sua experiência"})})]})]})})})}function fw(r,[e,t]){return Math.min(t,Math.max(e,r))}function et(r,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(r==null||r(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function qa(r,e=[]){let t=[];function i(c,u){const h=N.createContext(u),p=t.length;t=[...t,u];const g=w=>{var z;const{scope:T,children:C,...O}=w,x=((z=T==null?void 0:T[r])==null?void 0:z[p])||h,I=N.useMemo(()=>O,Object.values(O));return v.jsx(x.Provider,{value:I,children:C})};g.displayName=c+"Provider";function _(w,T){var x;const C=((x=T==null?void 0:T[r])==null?void 0:x[p])||h,O=N.useContext(C);if(O)return O;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${c}\``)}return[g,_]}const o=()=>{const c=t.map(u=>N.createContext(u));return function(h){const p=(h==null?void 0:h[r])||c;return N.useMemo(()=>({[`__scope${r}`]:{...h,[r]:p}}),[h,p])}};return o.scopeName=r,[i,Dk(o,...e)]}function Dk(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const i=r.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=i.reduce((h,{useScope:p,scopeName:g})=>{const w=p(c)[`__scope${g}`];return{...h,...w}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function OA(r){const e=r+"CollectionProvider",[t,i]=qa(e),[o,c]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=x=>{const{scope:I,children:z}=x,H=gs.useRef(null),F=gs.useRef(new Map).current;return v.jsx(o,{scope:I,itemMap:F,collectionRef:H,children:z})};u.displayName=e;const h=r+"CollectionSlot",p=Kc(h),g=gs.forwardRef((x,I)=>{const{scope:z,children:H}=x,F=c(h,z),Z=pt(I,F.collectionRef);return v.jsx(p,{ref:Z,children:H})});g.displayName=h;const _=r+"CollectionItemSlot",w="data-radix-collection-item",T=Kc(_),C=gs.forwardRef((x,I)=>{const{scope:z,children:H,...F}=x,Z=gs.useRef(null),ee=pt(I,Z),ce=c(_,z);return gs.useEffect(()=>(ce.itemMap.set(Z,{ref:Z,...F}),()=>void ce.itemMap.delete(Z))),v.jsx(T,{[w]:"",ref:ee,children:H})});C.displayName=_;function O(x){const I=c(r+"CollectionConsumer",x);return gs.useCallback(()=>{const H=I.collectionRef.current;if(!H)return[];const F=Array.from(H.querySelectorAll(`[${w}]`));return Array.from(I.itemMap.values()).sort((ce,D)=>F.indexOf(ce.ref.current)-F.indexOf(D.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:u,Slot:g,ItemSlot:C},O,i]}var Ok=N.createContext(void 0);function Ky(r){const e=N.useContext(Ok);return r||e||"ltr"}function ks(r){const e=N.useRef(r);return N.useEffect(()=>{e.current=r}),N.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function Pk(r,e=globalThis==null?void 0:globalThis.document){const t=ks(r);N.useEffect(()=>{const i=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var Mk="DismissableLayer",Mg="dismissableLayer.update",kk="dismissableLayer.pointerDownOutside",Vk="dismissableLayer.focusOutside",dw,PA=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),MA=N.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:u,onDismiss:h,...p}=r,g=N.useContext(PA),[_,w]=N.useState(null),T=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=N.useState({}),O=pt(e,D=>w(D)),x=Array.from(g.layers),[I]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),z=x.indexOf(I),H=_?x.indexOf(_):-1,F=g.layersWithOutsidePointerEventsDisabled.size>0,Z=H>=z,ee=Uk(D=>{const A=D.target,P=[...g.branches].some(j=>j.contains(A));!Z||P||(o==null||o(D),u==null||u(D),D.defaultPrevented||h==null||h())},T),ce=zk(D=>{const A=D.target;[...g.branches].some(j=>j.contains(A))||(c==null||c(D),u==null||u(D),D.defaultPrevented||h==null||h())},T);return Pk(D=>{H===g.layers.size-1&&(i==null||i(D),!D.defaultPrevented&&h&&(D.preventDefault(),h()))},T),N.useEffect(()=>{if(_)return t&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(dw=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(_)),g.layers.add(_),hw(),()=>{t&&g.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=dw)}},[_,T,t,g]),N.useEffect(()=>()=>{_&&(g.layers.delete(_),g.layersWithOutsidePointerEventsDisabled.delete(_),hw())},[_,g]),N.useEffect(()=>{const D=()=>C({});return document.addEventListener(Mg,D),()=>document.removeEventListener(Mg,D)},[]),v.jsx(nt.div,{...p,ref:O,style:{pointerEvents:F?Z?"auto":"none":void 0,...r.style},onFocusCapture:et(r.onFocusCapture,ce.onFocusCapture),onBlurCapture:et(r.onBlurCapture,ce.onBlurCapture),onPointerDownCapture:et(r.onPointerDownCapture,ee.onPointerDownCapture)})});MA.displayName=Mk;var jk="DismissableLayerBranch",Lk=N.forwardRef((r,e)=>{const t=N.useContext(PA),i=N.useRef(null),o=pt(e,i);return N.useEffect(()=>{const c=i.current;if(c)return t.branches.add(c),()=>{t.branches.delete(c)}},[t.branches]),v.jsx(nt.div,{...r,ref:o})});Lk.displayName=jk;function Uk(r,e=globalThis==null?void 0:globalThis.document){const t=ks(r),i=N.useRef(!1),o=N.useRef(()=>{});return N.useEffect(()=>{const c=h=>{if(h.target&&!i.current){let p=function(){kA(kk,t,g,{discrete:!0})};const g={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=p,e.addEventListener("click",o.current,{once:!0})):p()}else e.removeEventListener("click",o.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",c),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function zk(r,e=globalThis==null?void 0:globalThis.document){const t=ks(r),i=N.useRef(!1);return N.useEffect(()=>{const o=c=>{c.target&&!i.current&&kA(Vk,t,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function hw(){const r=new CustomEvent(Mg);document.dispatchEvent(r)}function kA(r,e,t,{discrete:i}){const o=t.originalEvent.target,c=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(r,e,{once:!0}),i?xk(o,c):o.dispatchEvent(c)}var Kp=0;function Bk(){N.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??mw()),document.body.insertAdjacentElement("beforeend",r[1]??mw()),Kp++,()=>{Kp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Kp--}},[])}function mw(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var Qp="focusScope.autoFocusOnMount",Yp="focusScope.autoFocusOnUnmount",pw={bubbles:!1,cancelable:!0},qk="FocusScope",VA=N.forwardRef((r,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...u}=r,[h,p]=N.useState(null),g=ks(o),_=ks(c),w=N.useRef(null),T=pt(e,x=>p(x)),C=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(i){let x=function(F){if(C.paused||!h)return;const Z=F.target;h.contains(Z)?w.current=Z:ys(w.current,{select:!0})},I=function(F){if(C.paused||!h)return;const Z=F.relatedTarget;Z!==null&&(h.contains(Z)||ys(w.current,{select:!0}))},z=function(F){if(document.activeElement===document.body)for(const ee of F)ee.removedNodes.length>0&&ys(h)};document.addEventListener("focusin",x),document.addEventListener("focusout",I);const H=new MutationObserver(z);return h&&H.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",I),H.disconnect()}}},[i,h,C.paused]),N.useEffect(()=>{if(h){yw.add(C);const x=document.activeElement;if(!h.contains(x)){const z=new CustomEvent(Qp,pw);h.addEventListener(Qp,g),h.dispatchEvent(z),z.defaultPrevented||(Fk(Yk(jA(h)),{select:!0}),document.activeElement===x&&ys(h))}return()=>{h.removeEventListener(Qp,g),setTimeout(()=>{const z=new CustomEvent(Yp,pw);h.addEventListener(Yp,_),h.dispatchEvent(z),z.defaultPrevented||ys(x??document.body,{select:!0}),h.removeEventListener(Yp,_),yw.remove(C)},0)}}},[h,g,_,C]);const O=N.useCallback(x=>{if(!t&&!i||C.paused)return;const I=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,z=document.activeElement;if(I&&z){const H=x.currentTarget,[F,Z]=Hk(H);F&&Z?!x.shiftKey&&z===Z?(x.preventDefault(),t&&ys(F,{select:!0})):x.shiftKey&&z===F&&(x.preventDefault(),t&&ys(Z,{select:!0})):z===H&&x.preventDefault()}},[t,i,C.paused]);return v.jsx(nt.div,{tabIndex:-1,...u,ref:T,onKeyDown:O})});VA.displayName=qk;function Fk(r,{select:e=!1}={}){const t=document.activeElement;for(const i of r)if(ys(i,{select:e}),document.activeElement!==t)return}function Hk(r){const e=jA(r),t=gw(e,r),i=gw(e.reverse(),r);return[t,i]}function jA(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function gw(r,e){for(const t of r)if(!Gk(t,{upTo:e}))return t}function Gk(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function Kk(r){return r instanceof HTMLInputElement&&"select"in r}function ys(r,{select:e=!1}={}){if(r&&r.focus){const t=document.activeElement;r.focus({preventScroll:!0}),r!==t&&Kk(r)&&e&&r.select()}}var yw=Qk();function Qk(){let r=[];return{add(e){const t=r[0];e!==t&&(t==null||t.pause()),r=vw(r,e),r.unshift(e)},remove(e){var t;r=vw(r,e),(t=r[0])==null||t.resume()}}}function vw(r,e){const t=[...r],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function Yk(r){return r.filter(e=>e.tagName!=="A")}var wn=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},$k=Uw[" useId ".trim().toString()]||(()=>{}),Xk=0;function gh(r){const[e,t]=N.useState($k());return wn(()=>{t(i=>i??String(Xk++))},[r]),r||(e?`radix-${e}`:"")}const Wk=["top","right","bottom","left"],Vs=Math.min,Bn=Math.max,zd=Math.round,td=Math.floor,$r=r=>({x:r,y:r}),Zk={left:"right",right:"left",bottom:"top",top:"bottom"},Jk={start:"end",end:"start"};function kg(r,e,t){return Bn(r,Vs(e,t))}function Vi(r,e){return typeof r=="function"?r(e):r}function ji(r){return r.split("-")[0]}function vl(r){return r.split("-")[1]}function Qy(r){return r==="x"?"y":"x"}function Yy(r){return r==="y"?"height":"width"}function Ni(r){return["top","bottom"].includes(ji(r))?"y":"x"}function $y(r){return Qy(Ni(r))}function eV(r,e,t){t===void 0&&(t=!1);const i=vl(r),o=$y(r),c=Yy(o);let u=o==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(u=Bd(u)),[u,Bd(u)]}function tV(r){const e=Bd(r);return[Vg(r),e,Vg(e)]}function Vg(r){return r.replace(/start|end/g,e=>Jk[e])}function nV(r,e,t){const i=["left","right"],o=["right","left"],c=["top","bottom"],u=["bottom","top"];switch(r){case"top":case"bottom":return t?e?o:i:e?i:o;case"left":case"right":return e?c:u;default:return[]}}function rV(r,e,t,i){const o=vl(r);let c=nV(ji(r),t==="start",i);return o&&(c=c.map(u=>u+"-"+o),e&&(c=c.concat(c.map(Vg)))),c}function Bd(r){return r.replace(/left|right|bottom|top/g,e=>Zk[e])}function iV(r){return{top:0,right:0,bottom:0,left:0,...r}}function LA(r){return typeof r!="number"?iV(r):{top:r,right:r,bottom:r,left:r}}function qd(r){const{x:e,y:t,width:i,height:o}=r;return{width:i,height:o,top:t,left:e,right:e+i,bottom:t+o,x:e,y:t}}function _w(r,e,t){let{reference:i,floating:o}=r;const c=Ni(e),u=$y(e),h=Yy(u),p=ji(e),g=c==="y",_=i.x+i.width/2-o.width/2,w=i.y+i.height/2-o.height/2,T=i[h]/2-o[h]/2;let C;switch(p){case"top":C={x:_,y:i.y-o.height};break;case"bottom":C={x:_,y:i.y+i.height};break;case"right":C={x:i.x+i.width,y:w};break;case"left":C={x:i.x-o.width,y:w};break;default:C={x:i.x,y:i.y}}switch(vl(e)){case"start":C[u]-=T*(t&&g?-1:1);break;case"end":C[u]+=T*(t&&g?-1:1);break}return C}const sV=async(r,e,t)=>{const{placement:i="bottom",strategy:o="absolute",middleware:c=[],platform:u}=t,h=c.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let g=await u.getElementRects({reference:r,floating:e,strategy:o}),{x:_,y:w}=_w(g,i,p),T=i,C={},O=0;for(let x=0;x<h.length;x++){const{name:I,fn:z}=h[x],{x:H,y:F,data:Z,reset:ee}=await z({x:_,y:w,initialPlacement:i,placement:T,strategy:o,middlewareData:C,rects:g,platform:u,elements:{reference:r,floating:e}});_=H??_,w=F??w,C={...C,[I]:{...C[I],...Z}},ee&&O<=50&&(O++,typeof ee=="object"&&(ee.placement&&(T=ee.placement),ee.rects&&(g=ee.rects===!0?await u.getElementRects({reference:r,floating:e,strategy:o}):ee.rects),{x:_,y:w}=_w(g,T,p)),x=-1)}return{x:_,y:w,placement:T,strategy:o,middlewareData:C}};async function iu(r,e){var t;e===void 0&&(e={});const{x:i,y:o,platform:c,rects:u,elements:h,strategy:p}=r,{boundary:g="clippingAncestors",rootBoundary:_="viewport",elementContext:w="floating",altBoundary:T=!1,padding:C=0}=Vi(e,r),O=LA(C),I=h[T?w==="floating"?"reference":"floating":w],z=qd(await c.getClippingRect({element:(t=await(c.isElement==null?void 0:c.isElement(I)))==null||t?I:I.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(h.floating)),boundary:g,rootBoundary:_,strategy:p})),H=w==="floating"?{x:i,y:o,width:u.floating.width,height:u.floating.height}:u.reference,F=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h.floating)),Z=await(c.isElement==null?void 0:c.isElement(F))?await(c.getScale==null?void 0:c.getScale(F))||{x:1,y:1}:{x:1,y:1},ee=qd(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:H,offsetParent:F,strategy:p}):H);return{top:(z.top-ee.top+O.top)/Z.y,bottom:(ee.bottom-z.bottom+O.bottom)/Z.y,left:(z.left-ee.left+O.left)/Z.x,right:(ee.right-z.right+O.right)/Z.x}}const aV=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:i,placement:o,rects:c,platform:u,elements:h,middlewareData:p}=e,{element:g,padding:_=0}=Vi(r,e)||{};if(g==null)return{};const w=LA(_),T={x:t,y:i},C=$y(o),O=Yy(C),x=await u.getDimensions(g),I=C==="y",z=I?"top":"left",H=I?"bottom":"right",F=I?"clientHeight":"clientWidth",Z=c.reference[O]+c.reference[C]-T[C]-c.floating[O],ee=T[C]-c.reference[C],ce=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let D=ce?ce[F]:0;(!D||!await(u.isElement==null?void 0:u.isElement(ce)))&&(D=h.floating[F]||c.floating[O]);const A=Z/2-ee/2,P=D/2-x[O]/2-1,j=Vs(w[z],P),L=Vs(w[H],P),U=j,M=D-x[O]-L,fe=D/2-x[O]/2+A,de=kg(U,fe,M),q=!p.arrow&&vl(o)!=null&&fe!==de&&c.reference[O]/2-(fe<U?j:L)-x[O]/2<0,re=q?fe<U?fe-U:fe-M:0;return{[C]:T[C]+re,data:{[C]:de,centerOffset:fe-de-re,...q&&{alignmentOffset:re}},reset:q}}}),oV=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,i;const{placement:o,middlewareData:c,rects:u,initialPlacement:h,platform:p,elements:g}=e,{mainAxis:_=!0,crossAxis:w=!0,fallbackPlacements:T,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:x=!0,...I}=Vi(r,e);if((t=c.arrow)!=null&&t.alignmentOffset)return{};const z=ji(o),H=Ni(h),F=ji(h)===h,Z=await(p.isRTL==null?void 0:p.isRTL(g.floating)),ee=T||(F||!x?[Bd(h)]:tV(h)),ce=O!=="none";!T&&ce&&ee.push(...rV(h,x,O,Z));const D=[h,...ee],A=await iu(e,I),P=[];let j=((i=c.flip)==null?void 0:i.overflows)||[];if(_&&P.push(A[z]),w){const de=eV(o,u,Z);P.push(A[de[0]],A[de[1]])}if(j=[...j,{placement:o,overflows:P}],!P.every(de=>de<=0)){var L,U;const de=(((L=c.flip)==null?void 0:L.index)||0)+1,q=D[de];if(q){var M;const W=w==="alignment"?H!==Ni(q):!1,be=((M=j[0])==null?void 0:M.overflows[0])>0;if(!W||be)return{data:{index:de,overflows:j},reset:{placement:q}}}let re=(U=j.filter(W=>W.overflows[0]<=0).sort((W,be)=>W.overflows[1]-be.overflows[1])[0])==null?void 0:U.placement;if(!re)switch(C){case"bestFit":{var fe;const W=(fe=j.filter(be=>{if(ce){const V=Ni(be.placement);return V===H||V==="y"}return!0}).map(be=>[be.placement,be.overflows.filter(V=>V>0).reduce((V,ne)=>V+ne,0)]).sort((be,V)=>be[1]-V[1])[0])==null?void 0:fe[0];W&&(re=W);break}case"initialPlacement":re=h;break}if(o!==re)return{reset:{placement:re}}}return{}}}};function Ew(r,e){return{top:r.top-e.height,right:r.right-e.width,bottom:r.bottom-e.height,left:r.left-e.width}}function bw(r){return Wk.some(e=>r[e]>=0)}const lV=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...o}=Vi(r,e);switch(i){case"referenceHidden":{const c=await iu(e,{...o,elementContext:"reference"}),u=Ew(c,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:bw(u)}}}case"escaped":{const c=await iu(e,{...o,altBoundary:!0}),u=Ew(c,t.floating);return{data:{escapedOffsets:u,escaped:bw(u)}}}default:return{}}}}};async function cV(r,e){const{placement:t,platform:i,elements:o}=r,c=await(i.isRTL==null?void 0:i.isRTL(o.floating)),u=ji(t),h=vl(t),p=Ni(t)==="y",g=["left","top"].includes(u)?-1:1,_=c&&p?-1:1,w=Vi(e,r);let{mainAxis:T,crossAxis:C,alignmentAxis:O}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return h&&typeof O=="number"&&(C=h==="end"?O*-1:O),p?{x:C*_,y:T*g}:{x:T*g,y:C*_}}const uV=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,i;const{x:o,y:c,placement:u,middlewareData:h}=e,p=await cV(e,r);return u===((t=h.offset)==null?void 0:t.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:o+p.x,y:c+p.y,data:{...p,placement:u}}}}},fV=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:i,placement:o}=e,{mainAxis:c=!0,crossAxis:u=!1,limiter:h={fn:I=>{let{x:z,y:H}=I;return{x:z,y:H}}},...p}=Vi(r,e),g={x:t,y:i},_=await iu(e,p),w=Ni(ji(o)),T=Qy(w);let C=g[T],O=g[w];if(c){const I=T==="y"?"top":"left",z=T==="y"?"bottom":"right",H=C+_[I],F=C-_[z];C=kg(H,C,F)}if(u){const I=w==="y"?"top":"left",z=w==="y"?"bottom":"right",H=O+_[I],F=O-_[z];O=kg(H,O,F)}const x=h.fn({...e,[T]:C,[w]:O});return{...x,data:{x:x.x-t,y:x.y-i,enabled:{[T]:c,[w]:u}}}}}},dV=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:t,y:i,placement:o,rects:c,middlewareData:u}=e,{offset:h=0,mainAxis:p=!0,crossAxis:g=!0}=Vi(r,e),_={x:t,y:i},w=Ni(o),T=Qy(w);let C=_[T],O=_[w];const x=Vi(h,e),I=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(p){const F=T==="y"?"height":"width",Z=c.reference[T]-c.floating[F]+I.mainAxis,ee=c.reference[T]+c.reference[F]-I.mainAxis;C<Z?C=Z:C>ee&&(C=ee)}if(g){var z,H;const F=T==="y"?"width":"height",Z=["top","left"].includes(ji(o)),ee=c.reference[w]-c.floating[F]+(Z&&((z=u.offset)==null?void 0:z[w])||0)+(Z?0:I.crossAxis),ce=c.reference[w]+c.reference[F]+(Z?0:((H=u.offset)==null?void 0:H[w])||0)-(Z?I.crossAxis:0);O<ee?O=ee:O>ce&&(O=ce)}return{[T]:C,[w]:O}}}},hV=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var t,i;const{placement:o,rects:c,platform:u,elements:h}=e,{apply:p=()=>{},...g}=Vi(r,e),_=await iu(e,g),w=ji(o),T=vl(o),C=Ni(o)==="y",{width:O,height:x}=c.floating;let I,z;w==="top"||w==="bottom"?(I=w,z=T===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(z=w,I=T==="end"?"top":"bottom");const H=x-_.top-_.bottom,F=O-_.left-_.right,Z=Vs(x-_[I],H),ee=Vs(O-_[z],F),ce=!e.middlewareData.shift;let D=Z,A=ee;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=F),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(D=H),ce&&!T){const j=Bn(_.left,0),L=Bn(_.right,0),U=Bn(_.top,0),M=Bn(_.bottom,0);C?A=O-2*(j!==0||L!==0?j+L:Bn(_.left,_.right)):D=x-2*(U!==0||M!==0?U+M:Bn(_.top,_.bottom))}await p({...e,availableWidth:A,availableHeight:D});const P=await u.getDimensions(h.floating);return O!==P.width||x!==P.height?{reset:{rects:!0}}:{}}}};function yh(){return typeof window<"u"}function _l(r){return UA(r)?(r.nodeName||"").toLowerCase():"#document"}function Hn(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Zr(r){var e;return(e=(UA(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function UA(r){return yh()?r instanceof Node||r instanceof Hn(r).Node:!1}function wr(r){return yh()?r instanceof Element||r instanceof Hn(r).Element:!1}function Wr(r){return yh()?r instanceof HTMLElement||r instanceof Hn(r).HTMLElement:!1}function ww(r){return!yh()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Hn(r).ShadowRoot}function bu(r){const{overflow:e,overflowX:t,overflowY:i,display:o}=Tr(r);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(o)}function mV(r){return["table","td","th"].includes(_l(r))}function vh(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function Xy(r){const e=Wy(),t=wr(r)?Tr(r):r;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function pV(r){let e=js(r);for(;Wr(e)&&!ol(e);){if(Xy(e))return e;if(vh(e))return null;e=js(e)}return null}function Wy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ol(r){return["html","body","#document"].includes(_l(r))}function Tr(r){return Hn(r).getComputedStyle(r)}function _h(r){return wr(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function js(r){if(_l(r)==="html")return r;const e=r.assignedSlot||r.parentNode||ww(r)&&r.host||Zr(r);return ww(e)?e.host:e}function zA(r){const e=js(r);return ol(e)?r.ownerDocument?r.ownerDocument.body:r.body:Wr(e)&&bu(e)?e:zA(e)}function su(r,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=zA(r),c=o===((i=r.ownerDocument)==null?void 0:i.body),u=Hn(o);if(c){const h=jg(u);return e.concat(u,u.visualViewport||[],bu(o)?o:[],h&&t?su(h):[])}return e.concat(o,su(o,[],t))}function jg(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function BA(r){const e=Tr(r);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=Wr(r),c=o?r.offsetWidth:t,u=o?r.offsetHeight:i,h=zd(t)!==c||zd(i)!==u;return h&&(t=c,i=u),{width:t,height:i,$:h}}function Zy(r){return wr(r)?r:r.contextElement}function Xo(r){const e=Zy(r);if(!Wr(e))return $r(1);const t=e.getBoundingClientRect(),{width:i,height:o,$:c}=BA(e);let u=(c?zd(t.width):t.width)/i,h=(c?zd(t.height):t.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const gV=$r(0);function qA(r){const e=Hn(r);return!Wy()||!e.visualViewport?gV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yV(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Hn(r)?!1:e}function ja(r,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=r.getBoundingClientRect(),c=Zy(r);let u=$r(1);e&&(i?wr(i)&&(u=Xo(i)):u=Xo(r));const h=yV(c,t,i)?qA(c):$r(0);let p=(o.left+h.x)/u.x,g=(o.top+h.y)/u.y,_=o.width/u.x,w=o.height/u.y;if(c){const T=Hn(c),C=i&&wr(i)?Hn(i):i;let O=T,x=jg(O);for(;x&&i&&C!==O;){const I=Xo(x),z=x.getBoundingClientRect(),H=Tr(x),F=z.left+(x.clientLeft+parseFloat(H.paddingLeft))*I.x,Z=z.top+(x.clientTop+parseFloat(H.paddingTop))*I.y;p*=I.x,g*=I.y,_*=I.x,w*=I.y,p+=F,g+=Z,O=Hn(x),x=jg(O)}}return qd({width:_,height:w,x:p,y:g})}function Jy(r,e){const t=_h(r).scrollLeft;return e?e.left+t:ja(Zr(r)).left+t}function FA(r,e,t){t===void 0&&(t=!1);const i=r.getBoundingClientRect(),o=i.left+e.scrollLeft-(t?0:Jy(r,i)),c=i.top+e.scrollTop;return{x:o,y:c}}function vV(r){let{elements:e,rect:t,offsetParent:i,strategy:o}=r;const c=o==="fixed",u=Zr(i),h=e?vh(e.floating):!1;if(i===u||h&&c)return t;let p={scrollLeft:0,scrollTop:0},g=$r(1);const _=$r(0),w=Wr(i);if((w||!w&&!c)&&((_l(i)!=="body"||bu(u))&&(p=_h(i)),Wr(i))){const C=ja(i);g=Xo(i),_.x=C.x+i.clientLeft,_.y=C.y+i.clientTop}const T=u&&!w&&!c?FA(u,p,!0):$r(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-p.scrollLeft*g.x+_.x+T.x,y:t.y*g.y-p.scrollTop*g.y+_.y+T.y}}function _V(r){return Array.from(r.getClientRects())}function EV(r){const e=Zr(r),t=_h(r),i=r.ownerDocument.body,o=Bn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),c=Bn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-t.scrollLeft+Jy(r);const h=-t.scrollTop;return Tr(i).direction==="rtl"&&(u+=Bn(e.clientWidth,i.clientWidth)-o),{width:o,height:c,x:u,y:h}}function bV(r,e){const t=Hn(r),i=Zr(r),o=t.visualViewport;let c=i.clientWidth,u=i.clientHeight,h=0,p=0;if(o){c=o.width,u=o.height;const g=Wy();(!g||g&&e==="fixed")&&(h=o.offsetLeft,p=o.offsetTop)}return{width:c,height:u,x:h,y:p}}function wV(r,e){const t=ja(r,!0,e==="fixed"),i=t.top+r.clientTop,o=t.left+r.clientLeft,c=Wr(r)?Xo(r):$r(1),u=r.clientWidth*c.x,h=r.clientHeight*c.y,p=o*c.x,g=i*c.y;return{width:u,height:h,x:p,y:g}}function Tw(r,e,t){let i;if(e==="viewport")i=bV(r,t);else if(e==="document")i=EV(Zr(r));else if(wr(e))i=wV(e,t);else{const o=qA(r);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return qd(i)}function HA(r,e){const t=js(r);return t===e||!wr(t)||ol(t)?!1:Tr(t).position==="fixed"||HA(t,e)}function TV(r,e){const t=e.get(r);if(t)return t;let i=su(r,[],!1).filter(h=>wr(h)&&_l(h)!=="body"),o=null;const c=Tr(r).position==="fixed";let u=c?js(r):r;for(;wr(u)&&!ol(u);){const h=Tr(u),p=Xy(u);!p&&h.position==="fixed"&&(o=null),(c?!p&&!o:!p&&h.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||bu(u)&&!p&&HA(r,u))?i=i.filter(_=>_!==u):o=h,u=js(u)}return e.set(r,i),i}function SV(r){let{element:e,boundary:t,rootBoundary:i,strategy:o}=r;const u=[...t==="clippingAncestors"?vh(e)?[]:TV(e,this._c):[].concat(t),i],h=u[0],p=u.reduce((g,_)=>{const w=Tw(e,_,o);return g.top=Bn(w.top,g.top),g.right=Vs(w.right,g.right),g.bottom=Vs(w.bottom,g.bottom),g.left=Bn(w.left,g.left),g},Tw(e,h,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function AV(r){const{width:e,height:t}=BA(r);return{width:e,height:t}}function xV(r,e,t){const i=Wr(e),o=Zr(e),c=t==="fixed",u=ja(r,!0,c,e);let h={scrollLeft:0,scrollTop:0};const p=$r(0);function g(){p.x=Jy(o)}if(i||!i&&!c)if((_l(e)!=="body"||bu(o))&&(h=_h(e)),i){const C=ja(e,!0,c,e);p.x=C.x+e.clientLeft,p.y=C.y+e.clientTop}else o&&g();c&&!i&&o&&g();const _=o&&!i&&!c?FA(o,h):$r(0),w=u.left+h.scrollLeft-p.x-_.x,T=u.top+h.scrollTop-p.y-_.y;return{x:w,y:T,width:u.width,height:u.height}}function $p(r){return Tr(r).position==="static"}function Sw(r,e){if(!Wr(r)||Tr(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Zr(r)===t&&(t=t.ownerDocument.body),t}function GA(r,e){const t=Hn(r);if(vh(r))return t;if(!Wr(r)){let o=js(r);for(;o&&!ol(o);){if(wr(o)&&!$p(o))return o;o=js(o)}return t}let i=Sw(r,e);for(;i&&mV(i)&&$p(i);)i=Sw(i,e);return i&&ol(i)&&$p(i)&&!Xy(i)?t:i||pV(r)||t}const RV=async function(r){const e=this.getOffsetParent||GA,t=this.getDimensions,i=await t(r.floating);return{reference:xV(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function CV(r){return Tr(r).direction==="rtl"}const IV={convertOffsetParentRelativeRectToViewportRelativeRect:vV,getDocumentElement:Zr,getClippingRect:SV,getOffsetParent:GA,getElementRects:RV,getClientRects:_V,getDimensions:AV,getScale:Xo,isElement:wr,isRTL:CV};function KA(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function NV(r,e){let t=null,i;const o=Zr(r);function c(){var h;clearTimeout(i),(h=t)==null||h.disconnect(),t=null}function u(h,p){h===void 0&&(h=!1),p===void 0&&(p=1),c();const g=r.getBoundingClientRect(),{left:_,top:w,width:T,height:C}=g;if(h||e(),!T||!C)return;const O=td(w),x=td(o.clientWidth-(_+T)),I=td(o.clientHeight-(w+C)),z=td(_),F={rootMargin:-O+"px "+-x+"px "+-I+"px "+-z+"px",threshold:Bn(0,Vs(1,p))||1};let Z=!0;function ee(ce){const D=ce[0].intersectionRatio;if(D!==p){if(!Z)return u();D?u(!1,D):i=setTimeout(()=>{u(!1,1e-7)},1e3)}D===1&&!KA(g,r.getBoundingClientRect())&&u(),Z=!1}try{t=new IntersectionObserver(ee,{...F,root:o.ownerDocument})}catch{t=new IntersectionObserver(ee,F)}t.observe(r)}return u(!0),c}function DV(r,e,t,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:p=!1}=i,g=Zy(r),_=o||c?[...g?su(g):[],...su(e)]:[];_.forEach(z=>{o&&z.addEventListener("scroll",t,{passive:!0}),c&&z.addEventListener("resize",t)});const w=g&&h?NV(g,t):null;let T=-1,C=null;u&&(C=new ResizeObserver(z=>{let[H]=z;H&&H.target===g&&C&&(C.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var F;(F=C)==null||F.observe(e)})),t()}),g&&!p&&C.observe(g),C.observe(e));let O,x=p?ja(r):null;p&&I();function I(){const z=ja(r);x&&!KA(x,z)&&t(),x=z,O=requestAnimationFrame(I)}return t(),()=>{var z;_.forEach(H=>{o&&H.removeEventListener("scroll",t),c&&H.removeEventListener("resize",t)}),w==null||w(),(z=C)==null||z.disconnect(),C=null,p&&cancelAnimationFrame(O)}}const OV=uV,PV=fV,MV=oV,kV=hV,VV=lV,Aw=aV,jV=dV,LV=(r,e,t)=>{const i=new Map,o={platform:IV,...t},c={...o.platform,_c:i};return sV(r,e,{...o,platform:c})};var vd=typeof document<"u"?N.useLayoutEffect:N.useEffect;function Fd(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,i,o;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!Fd(r[i],e[i]))return!1;return!0}if(o=Object.keys(r),t=o.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,o[i]))return!1;for(i=t;i--!==0;){const c=o[i];if(!(c==="_owner"&&r.$$typeof)&&!Fd(r[c],e[c]))return!1}return!0}return r!==r&&e!==e}function QA(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function xw(r,e){const t=QA(r);return Math.round(e*t)/t}function Xp(r){const e=N.useRef(r);return vd(()=>{e.current=r}),e}function UV(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:o,elements:{reference:c,floating:u}={},transform:h=!0,whileElementsMounted:p,open:g}=r,[_,w]=N.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[T,C]=N.useState(i);Fd(T,i)||C(i);const[O,x]=N.useState(null),[I,z]=N.useState(null),H=N.useCallback(W=>{W!==ce.current&&(ce.current=W,x(W))},[]),F=N.useCallback(W=>{W!==D.current&&(D.current=W,z(W))},[]),Z=c||O,ee=u||I,ce=N.useRef(null),D=N.useRef(null),A=N.useRef(_),P=p!=null,j=Xp(p),L=Xp(o),U=Xp(g),M=N.useCallback(()=>{if(!ce.current||!D.current)return;const W={placement:e,strategy:t,middleware:T};L.current&&(W.platform=L.current),LV(ce.current,D.current,W).then(be=>{const V={...be,isPositioned:U.current!==!1};fe.current&&!Fd(A.current,V)&&(A.current=V,Eu.flushSync(()=>{w(V)}))})},[T,e,t,L,U]);vd(()=>{g===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,w(W=>({...W,isPositioned:!1})))},[g]);const fe=N.useRef(!1);vd(()=>(fe.current=!0,()=>{fe.current=!1}),[]),vd(()=>{if(Z&&(ce.current=Z),ee&&(D.current=ee),Z&&ee){if(j.current)return j.current(Z,ee,M);M()}},[Z,ee,M,j,P]);const de=N.useMemo(()=>({reference:ce,floating:D,setReference:H,setFloating:F}),[H,F]),q=N.useMemo(()=>({reference:Z,floating:ee}),[Z,ee]),re=N.useMemo(()=>{const W={position:t,left:0,top:0};if(!q.floating)return W;const be=xw(q.floating,_.x),V=xw(q.floating,_.y);return h?{...W,transform:"translate("+be+"px, "+V+"px)",...QA(q.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:be,top:V}},[t,h,q.floating,_.x,_.y]);return N.useMemo(()=>({..._,update:M,refs:de,elements:q,floatingStyles:re}),[_,M,de,q,re])}const zV=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:i,padding:o}=typeof r=="function"?r(t):r;return i&&e(i)?i.current!=null?Aw({element:i.current,padding:o}).fn(t):{}:i?Aw({element:i,padding:o}).fn(t):{}}}},BV=(r,e)=>({...OV(r),options:[r,e]}),qV=(r,e)=>({...PV(r),options:[r,e]}),FV=(r,e)=>({...jV(r),options:[r,e]}),HV=(r,e)=>({...MV(r),options:[r,e]}),GV=(r,e)=>({...kV(r),options:[r,e]}),KV=(r,e)=>({...VV(r),options:[r,e]}),QV=(r,e)=>({...zV(r),options:[r,e]});var YV="Arrow",YA=N.forwardRef((r,e)=>{const{children:t,width:i=10,height:o=5,...c}=r;return v.jsx(nt.svg,{...c,ref:e,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?t:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});YA.displayName=YV;var $V=YA;function ev(r){const[e,t]=N.useState(void 0);return wn(()=>{if(r){t({width:r.offsetWidth,height:r.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let u,h;if("borderBoxSize"in c){const p=c.borderBoxSize,g=Array.isArray(p)?p[0]:p;u=g.inlineSize,h=g.blockSize}else u=r.offsetWidth,h=r.offsetHeight;t({width:u,height:h})});return i.observe(r,{box:"border-box"}),()=>i.unobserve(r)}else t(void 0)},[r]),e}var tv="Popper",[$A,XA]=qa(tv),[XV,WA]=$A(tv),ZA=r=>{const{__scopePopper:e,children:t}=r,[i,o]=N.useState(null);return v.jsx(XV,{scope:e,anchor:i,onAnchorChange:o,children:t})};ZA.displayName=tv;var JA="PopperAnchor",ex=N.forwardRef((r,e)=>{const{__scopePopper:t,virtualRef:i,...o}=r,c=WA(JA,t),u=N.useRef(null),h=pt(e,u);return N.useEffect(()=>{c.onAnchorChange((i==null?void 0:i.current)||u.current)}),i?null:v.jsx(nt.div,{...o,ref:h})});ex.displayName=JA;var nv="PopperContent",[WV,ZV]=$A(nv),tx=N.forwardRef((r,e)=>{var me,Se,Xe,je,Me,ke;const{__scopePopper:t,side:i="bottom",sideOffset:o=0,align:c="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:p=!0,collisionBoundary:g=[],collisionPadding:_=0,sticky:w="partial",hideWhenDetached:T=!1,updatePositionStrategy:C="optimized",onPlaced:O,...x}=r,I=WA(nv,t),[z,H]=N.useState(null),F=pt(e,St=>H(St)),[Z,ee]=N.useState(null),ce=ev(Z),D=(ce==null?void 0:ce.width)??0,A=(ce==null?void 0:ce.height)??0,P=i+(c!=="center"?"-"+c:""),j=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},L=Array.isArray(g)?g:[g],U=L.length>0,M={padding:j,boundary:L.filter(e4),altBoundary:U},{refs:fe,floatingStyles:de,placement:q,isPositioned:re,middlewareData:W}=UV({strategy:"fixed",placement:P,whileElementsMounted:(...St)=>DV(...St,{animationFrame:C==="always"}),elements:{reference:I.anchor},middleware:[BV({mainAxis:o+A,alignmentAxis:u}),p&&qV({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?FV():void 0,...M}),p&&HV({...M}),GV({...M,apply:({elements:St,rects:Yt,availableWidth:lr,availableHeight:Sr})=>{const{width:$t,height:bl}=Yt.reference,Ar=St.floating.style;Ar.setProperty("--radix-popper-available-width",`${lr}px`),Ar.setProperty("--radix-popper-available-height",`${Sr}px`),Ar.setProperty("--radix-popper-anchor-width",`${$t}px`),Ar.setProperty("--radix-popper-anchor-height",`${bl}px`)}}),Z&&QV({element:Z,padding:h}),t4({arrowWidth:D,arrowHeight:A}),T&&KV({strategy:"referenceHidden",...M})]}),[be,V]=ix(q),ne=ks(O);wn(()=>{re&&(ne==null||ne())},[re,ne]);const ue=(me=W.arrow)==null?void 0:me.x,oe=(Se=W.arrow)==null?void 0:Se.y,pe=((Xe=W.arrow)==null?void 0:Xe.centerOffset)!==0,[Re,we]=N.useState();return wn(()=>{z&&we(window.getComputedStyle(z).zIndex)},[z]),v.jsx("div",{ref:fe.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:re?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(je=W.transformOrigin)==null?void 0:je.x,(Me=W.transformOrigin)==null?void 0:Me.y].join(" "),...((ke=W.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:v.jsx(WV,{scope:t,placedSide:be,onArrowChange:ee,arrowX:ue,arrowY:oe,shouldHideArrow:pe,children:v.jsx(nt.div,{"data-side":be,"data-align":V,...x,ref:F,style:{...x.style,animation:re?void 0:"none"}})})})});tx.displayName=nv;var nx="PopperArrow",JV={top:"bottom",right:"left",bottom:"top",left:"right"},rx=N.forwardRef(function(e,t){const{__scopePopper:i,...o}=e,c=ZV(nx,i),u=JV[c.placedSide];return v.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:v.jsx($V,{...o,ref:t,style:{...o.style,display:"block"}})})});rx.displayName=nx;function e4(r){return r!==null}var t4=r=>({name:"transformOrigin",options:r,fn(e){var I,z,H;const{placement:t,rects:i,middlewareData:o}=e,u=((I=o.arrow)==null?void 0:I.centerOffset)!==0,h=u?0:r.arrowWidth,p=u?0:r.arrowHeight,[g,_]=ix(t),w={start:"0%",center:"50%",end:"100%"}[_],T=(((z=o.arrow)==null?void 0:z.x)??0)+h/2,C=(((H=o.arrow)==null?void 0:H.y)??0)+p/2;let O="",x="";return g==="bottom"?(O=u?w:`${T}px`,x=`${-p}px`):g==="top"?(O=u?w:`${T}px`,x=`${i.floating.height+p}px`):g==="right"?(O=`${-p}px`,x=u?w:`${C}px`):g==="left"&&(O=`${i.floating.width+p}px`,x=u?w:`${C}px`),{data:{x:O,y:x}}}});function ix(r){const[e,t="center"]=r.split("-");return[e,t]}var n4=ZA,r4=ex,i4=tx,s4=rx,a4="Portal",sx=N.forwardRef((r,e)=>{var h;const{container:t,...i}=r,[o,c]=N.useState(!1);wn(()=>c(!0),[]);const u=t||o&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return u?Sk.createPortal(v.jsx(nt.div,{...i,ref:e}),u):null});sx.displayName=a4;var o4=Uw[" useInsertionEffect ".trim().toString()]||wn;function au({prop:r,defaultProp:e,onChange:t=()=>{},caller:i}){const[o,c,u]=l4({defaultProp:e,onChange:t}),h=r!==void 0,p=h?r:o;{const _=N.useRef(r!==void 0);N.useEffect(()=>{const w=_.current;w!==h&&console.warn(`${i} is changing from ${w?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),_.current=h},[h,i])}const g=N.useCallback(_=>{var w;if(h){const T=c4(_)?_(r):_;T!==r&&((w=u.current)==null||w.call(u,T))}else c(_)},[h,r,c,u]);return[p,g]}function l4({defaultProp:r,onChange:e}){const[t,i]=N.useState(r),o=N.useRef(t),c=N.useRef(e);return o4(()=>{c.current=e},[e]),N.useEffect(()=>{var u;o.current!==t&&((u=c.current)==null||u.call(c,t),o.current=t)},[t,o]),[t,i,c]}function c4(r){return typeof r=="function"}function rv(r){const e=N.useRef({value:r,previous:r});return N.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var ax=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),u4="VisuallyHidden",f4=N.forwardRef((r,e)=>v.jsx(nt.span,{...r,ref:e,style:{...ax,...r.style}}));f4.displayName=u4;var d4=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},jo=new WeakMap,nd=new WeakMap,rd={},Wp=0,ox=function(r){return r&&(r.host||ox(r.parentNode))},h4=function(r,e){return e.map(function(t){if(r.contains(t))return t;var i=ox(t);return i&&r.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",r,". Doing nothing"),null)}).filter(function(t){return!!t})},m4=function(r,e,t,i){var o=h4(e,Array.isArray(r)?r:[r]);rd[t]||(rd[t]=new WeakMap);var c=rd[t],u=[],h=new Set,p=new Set(o),g=function(w){!w||h.has(w)||(h.add(w),g(w.parentNode))};o.forEach(g);var _=function(w){!w||p.has(w)||Array.prototype.forEach.call(w.children,function(T){if(h.has(T))_(T);else try{var C=T.getAttribute(i),O=C!==null&&C!=="false",x=(jo.get(T)||0)+1,I=(c.get(T)||0)+1;jo.set(T,x),c.set(T,I),u.push(T),x===1&&O&&nd.set(T,!0),I===1&&T.setAttribute(t,"true"),O||T.setAttribute(i,"true")}catch(z){console.error("aria-hidden: cannot operate on ",T,z)}})};return _(e),h.clear(),Wp++,function(){u.forEach(function(w){var T=jo.get(w)-1,C=c.get(w)-1;jo.set(w,T),c.set(w,C),T||(nd.has(w)||w.removeAttribute(i),nd.delete(w)),C||w.removeAttribute(t)}),Wp--,Wp||(jo=new WeakMap,jo=new WeakMap,nd=new WeakMap,rd={})}},p4=function(r,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(r)?r:[r]),o=d4(r);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live]"))),m4(i,o,t,"aria-hidden")):function(){return null}},Fr=function(){return Fr=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},Fr.apply(this,arguments)};function lx(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t}function g4(r,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,c;i<o;i++)(c||!(i in e))&&(c||(c=Array.prototype.slice.call(e,0,i)),c[i]=e[i]);return r.concat(c||Array.prototype.slice.call(e))}var _d="right-scroll-bar-position",Ed="width-before-scroll-bar",y4="with-scroll-bars-hidden",v4="--removed-body-scroll-bar-size";function Zp(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function _4(r,e){var t=N.useState(function(){return{value:r,callback:e,facade:{get current(){return t.value},set current(i){var o=t.value;o!==i&&(t.value=i,t.callback(i,o))}}}})[0];return t.callback=e,t.facade}var E4=typeof window<"u"?N.useLayoutEffect:N.useEffect,Rw=new WeakMap;function b4(r,e){var t=_4(null,function(i){return r.forEach(function(o){return Zp(o,i)})});return E4(function(){var i=Rw.get(t);if(i){var o=new Set(i),c=new Set(r),u=t.current;o.forEach(function(h){c.has(h)||Zp(h,null)}),c.forEach(function(h){o.has(h)||Zp(h,u)})}Rw.set(t,r)},[r]),t}function w4(r){return r}function T4(r,e){e===void 0&&(e=w4);var t=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:r},useMedium:function(c){var u=e(c,i);return t.push(u),function(){t=t.filter(function(h){return h!==u})}},assignSyncMedium:function(c){for(i=!0;t.length;){var u=t;t=[],u.forEach(c)}t={push:function(h){return c(h)},filter:function(){return t}}},assignMedium:function(c){i=!0;var u=[];if(t.length){var h=t;t=[],h.forEach(c),u=t}var p=function(){var _=u;u=[],_.forEach(c)},g=function(){return Promise.resolve().then(p)};g(),t={push:function(_){u.push(_),g()},filter:function(_){return u=u.filter(_),t}}}};return o}function S4(r){r===void 0&&(r={});var e=T4(null);return e.options=Fr({async:!0,ssr:!1},r),e}var cx=function(r){var e=r.sideCar,t=lx(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return N.createElement(i,Fr({},t))};cx.isSideCarExport=!0;function A4(r,e){return r.useMedium(e),cx}var ux=S4(),Jp=function(){},Eh=N.forwardRef(function(r,e){var t=N.useRef(null),i=N.useState({onScrollCapture:Jp,onWheelCapture:Jp,onTouchMoveCapture:Jp}),o=i[0],c=i[1],u=r.forwardProps,h=r.children,p=r.className,g=r.removeScrollBar,_=r.enabled,w=r.shards,T=r.sideCar,C=r.noIsolation,O=r.inert,x=r.allowPinchZoom,I=r.as,z=I===void 0?"div":I,H=r.gapMode,F=lx(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),Z=T,ee=b4([t,e]),ce=Fr(Fr({},F),o);return N.createElement(N.Fragment,null,_&&N.createElement(Z,{sideCar:ux,removeScrollBar:g,shards:w,noIsolation:C,inert:O,setCallbacks:c,allowPinchZoom:!!x,lockRef:t,gapMode:H}),u?N.cloneElement(N.Children.only(h),Fr(Fr({},ce),{ref:ee})):N.createElement(z,Fr({},ce,{className:p,ref:ee}),h))});Eh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Eh.classNames={fullWidth:Ed,zeroRight:_d};var x4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function R4(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=x4();return e&&r.setAttribute("nonce",e),r}function C4(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function I4(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var N4=function(){var r=0,e=null;return{add:function(t){r==0&&(e=R4())&&(C4(e,t),I4(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},D4=function(){var r=N4();return function(e,t){N.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])}},fx=function(){var r=D4(),e=function(t){var i=t.styles,o=t.dynamic;return r(i,o),null};return e},O4={left:0,top:0,right:0,gap:0},eg=function(r){return parseInt(r||"",10)||0},P4=function(r){var e=window.getComputedStyle(document.body),t=e[r==="padding"?"paddingLeft":"marginLeft"],i=e[r==="padding"?"paddingTop":"marginTop"],o=e[r==="padding"?"paddingRight":"marginRight"];return[eg(t),eg(i),eg(o)]},M4=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return O4;var e=P4(r),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},k4=fx(),Wo="data-scroll-locked",V4=function(r,e,t,i){var o=r.left,c=r.top,u=r.right,h=r.gap;return t===void 0&&(t="margin"),`
  .`.concat(y4,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(h,"px ").concat(i,`;
  }
  body[`).concat(Wo,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_d,` {
    right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(Ed,` {
    margin-right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(_d," .").concat(_d,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Wo,`] {
    `).concat(v4,": ").concat(h,`px;
  }
`)},Cw=function(){var r=parseInt(document.body.getAttribute(Wo)||"0",10);return isFinite(r)?r:0},j4=function(){N.useEffect(function(){return document.body.setAttribute(Wo,(Cw()+1).toString()),function(){var r=Cw()-1;r<=0?document.body.removeAttribute(Wo):document.body.setAttribute(Wo,r.toString())}},[])},L4=function(r){var e=r.noRelative,t=r.noImportant,i=r.gapMode,o=i===void 0?"margin":i;j4();var c=N.useMemo(function(){return M4(o)},[o]);return N.createElement(k4,{styles:V4(c,!e,o,t?"":"!important")})},Lg=!1;if(typeof window<"u")try{var id=Object.defineProperty({},"passive",{get:function(){return Lg=!0,!0}});window.addEventListener("test",id,id),window.removeEventListener("test",id,id)}catch{Lg=!1}var Lo=Lg?{passive:!1}:!1,U4=function(r){return r.tagName==="TEXTAREA"},dx=function(r,e){if(!(r instanceof Element))return!1;var t=window.getComputedStyle(r);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!U4(r)&&t[e]==="visible")},z4=function(r){return dx(r,"overflowY")},B4=function(r){return dx(r,"overflowX")},Iw=function(r,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=hx(r,i);if(o){var c=mx(r,i),u=c[1],h=c[2];if(u>h)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},q4=function(r){var e=r.scrollTop,t=r.scrollHeight,i=r.clientHeight;return[e,t,i]},F4=function(r){var e=r.scrollLeft,t=r.scrollWidth,i=r.clientWidth;return[e,t,i]},hx=function(r,e){return r==="v"?z4(e):B4(e)},mx=function(r,e){return r==="v"?q4(e):F4(e)},H4=function(r,e){return r==="h"&&e==="rtl"?-1:1},G4=function(r,e,t,i,o){var c=H4(r,window.getComputedStyle(e).direction),u=c*i,h=t.target,p=e.contains(h),g=!1,_=u>0,w=0,T=0;do{var C=mx(r,h),O=C[0],x=C[1],I=C[2],z=x-I-c*O;(O||z)&&hx(r,h)&&(w+=z,T+=O),h instanceof ShadowRoot?h=h.host:h=h.parentNode}while(!p&&h!==document.body||p&&(e.contains(h)||e===h));return(_&&Math.abs(w)<1||!_&&Math.abs(T)<1)&&(g=!0),g},sd=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},Nw=function(r){return[r.deltaX,r.deltaY]},Dw=function(r){return r&&"current"in r?r.current:r},K4=function(r,e){return r[0]===e[0]&&r[1]===e[1]},Q4=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},Y4=0,Uo=[];function $4(r){var e=N.useRef([]),t=N.useRef([0,0]),i=N.useRef(),o=N.useState(Y4++)[0],c=N.useState(fx)[0],u=N.useRef(r);N.useEffect(function(){u.current=r},[r]),N.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(o));var x=g4([r.lockRef.current],(r.shards||[]).map(Dw),!0).filter(Boolean);return x.forEach(function(I){return I.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(o))})}}},[r.inert,r.lockRef.current,r.shards]);var h=N.useCallback(function(x,I){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!u.current.allowPinchZoom;var z=sd(x),H=t.current,F="deltaX"in x?x.deltaX:H[0]-z[0],Z="deltaY"in x?x.deltaY:H[1]-z[1],ee,ce=x.target,D=Math.abs(F)>Math.abs(Z)?"h":"v";if("touches"in x&&D==="h"&&ce.type==="range")return!1;var A=Iw(D,ce);if(!A)return!0;if(A?ee=D:(ee=D==="v"?"h":"v",A=Iw(D,ce)),!A)return!1;if(!i.current&&"changedTouches"in x&&(F||Z)&&(i.current=ee),!ee)return!0;var P=i.current||ee;return G4(P,I,x,P==="h"?F:Z)},[]),p=N.useCallback(function(x){var I=x;if(!(!Uo.length||Uo[Uo.length-1]!==c)){var z="deltaY"in I?Nw(I):sd(I),H=e.current.filter(function(ee){return ee.name===I.type&&(ee.target===I.target||I.target===ee.shadowParent)&&K4(ee.delta,z)})[0];if(H&&H.should){I.cancelable&&I.preventDefault();return}if(!H){var F=(u.current.shards||[]).map(Dw).filter(Boolean).filter(function(ee){return ee.contains(I.target)}),Z=F.length>0?h(I,F[0]):!u.current.noIsolation;Z&&I.cancelable&&I.preventDefault()}}},[]),g=N.useCallback(function(x,I,z,H){var F={name:x,delta:I,target:z,should:H,shadowParent:X4(z)};e.current.push(F),setTimeout(function(){e.current=e.current.filter(function(Z){return Z!==F})},1)},[]),_=N.useCallback(function(x){t.current=sd(x),i.current=void 0},[]),w=N.useCallback(function(x){g(x.type,Nw(x),x.target,h(x,r.lockRef.current))},[]),T=N.useCallback(function(x){g(x.type,sd(x),x.target,h(x,r.lockRef.current))},[]);N.useEffect(function(){return Uo.push(c),r.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:T}),document.addEventListener("wheel",p,Lo),document.addEventListener("touchmove",p,Lo),document.addEventListener("touchstart",_,Lo),function(){Uo=Uo.filter(function(x){return x!==c}),document.removeEventListener("wheel",p,Lo),document.removeEventListener("touchmove",p,Lo),document.removeEventListener("touchstart",_,Lo)}},[]);var C=r.removeScrollBar,O=r.inert;return N.createElement(N.Fragment,null,O?N.createElement(c,{styles:Q4(o)}):null,C?N.createElement(L4,{gapMode:r.gapMode}):null)}function X4(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const W4=A4(ux,$4);var px=N.forwardRef(function(r,e){return N.createElement(Eh,Fr({},r,{ref:e,sideCar:W4}))});px.classNames=Eh.classNames;var Z4=[" ","Enter","ArrowUp","ArrowDown"],J4=[" ","Enter"],La="Select",[bh,wh,e6]=OA(La),[El,S3]=qa(La,[e6,XA]),Th=XA(),[t6,Fs]=El(La),[n6,r6]=El(La),gx=r=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:o,onOpenChange:c,value:u,defaultValue:h,onValueChange:p,dir:g,name:_,autoComplete:w,disabled:T,required:C,form:O}=r,x=Th(e),[I,z]=N.useState(null),[H,F]=N.useState(null),[Z,ee]=N.useState(!1),ce=Ky(g),[D,A]=au({prop:i,defaultProp:o??!1,onChange:c,caller:La}),[P,j]=au({prop:u,defaultProp:h,onChange:p,caller:La}),L=N.useRef(null),U=I?O||!!I.closest("form"):!0,[M,fe]=N.useState(new Set),de=Array.from(M).map(q=>q.props.value).join(";");return v.jsx(n4,{...x,children:v.jsxs(t6,{required:C,scope:e,trigger:I,onTriggerChange:z,valueNode:H,onValueNodeChange:F,valueNodeHasChildren:Z,onValueNodeHasChildrenChange:ee,contentId:gh(),value:P,onValueChange:j,open:D,onOpenChange:A,dir:ce,triggerPointerDownPosRef:L,disabled:T,children:[v.jsx(bh.Provider,{scope:e,children:v.jsx(n6,{scope:r.__scopeSelect,onNativeOptionAdd:N.useCallback(q=>{fe(re=>new Set(re).add(q))},[]),onNativeOptionRemove:N.useCallback(q=>{fe(re=>{const W=new Set(re);return W.delete(q),W})},[]),children:t})}),U?v.jsxs(Lx,{"aria-hidden":!0,required:C,tabIndex:-1,name:_,autoComplete:w,value:P,onChange:q=>j(q.target.value),disabled:T,form:O,children:[P===void 0?v.jsx("option",{value:""}):null,Array.from(M)]},de):null]})})};gx.displayName=La;var yx="SelectTrigger",vx=N.forwardRef((r,e)=>{const{__scopeSelect:t,disabled:i=!1,...o}=r,c=Th(t),u=Fs(yx,t),h=u.disabled||i,p=pt(e,u.onTriggerChange),g=wh(t),_=N.useRef("touch"),[w,T,C]=zx(x=>{const I=g().filter(F=>!F.disabled),z=I.find(F=>F.value===u.value),H=Bx(I,x,z);H!==void 0&&u.onValueChange(H.value)}),O=x=>{h||(u.onOpenChange(!0),C()),x&&(u.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return v.jsx(r4,{asChild:!0,...c,children:v.jsx(nt.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":Ux(u.value)?"":void 0,...o,ref:p,onClick:et(o.onClick,x=>{x.currentTarget.focus(),_.current!=="mouse"&&O(x)}),onPointerDown:et(o.onPointerDown,x=>{_.current=x.pointerType;const I=x.target;I.hasPointerCapture(x.pointerId)&&I.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(O(x),x.preventDefault())}),onKeyDown:et(o.onKeyDown,x=>{const I=w.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&T(x.key),!(I&&x.key===" ")&&Z4.includes(x.key)&&(O(),x.preventDefault())})})})});vx.displayName=yx;var _x="SelectValue",Ex=N.forwardRef((r,e)=>{const{__scopeSelect:t,className:i,style:o,children:c,placeholder:u="",...h}=r,p=Fs(_x,t),{onValueNodeHasChildrenChange:g}=p,_=c!==void 0,w=pt(e,p.onValueNodeChange);return wn(()=>{g(_)},[g,_]),v.jsx(nt.span,{...h,ref:w,style:{pointerEvents:"none"},children:Ux(p.value)?v.jsx(v.Fragment,{children:u}):c})});Ex.displayName=_x;var i6="SelectIcon",bx=N.forwardRef((r,e)=>{const{__scopeSelect:t,children:i,...o}=r;return v.jsx(nt.span,{"aria-hidden":!0,...o,ref:e,children:i||"▼"})});bx.displayName=i6;var s6="SelectPortal",wx=r=>v.jsx(sx,{asChild:!0,...r});wx.displayName=s6;var Ua="SelectContent",Tx=N.forwardRef((r,e)=>{const t=Fs(Ua,r.__scopeSelect),[i,o]=N.useState();if(wn(()=>{o(new DocumentFragment)},[]),!t.open){const c=i;return c?Eu.createPortal(v.jsx(Sx,{scope:r.__scopeSelect,children:v.jsx(bh.Slot,{scope:r.__scopeSelect,children:v.jsx("div",{children:r.children})})}),c):null}return v.jsx(Ax,{...r,ref:e})});Tx.displayName=Ua;var pr=10,[Sx,Hs]=El(Ua),a6="SelectContentImpl",o6=Kc("SelectContent.RemoveScroll"),Ax=N.forwardRef((r,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:c,onPointerDownOutside:u,side:h,sideOffset:p,align:g,alignOffset:_,arrowPadding:w,collisionBoundary:T,collisionPadding:C,sticky:O,hideWhenDetached:x,avoidCollisions:I,...z}=r,H=Fs(Ua,t),[F,Z]=N.useState(null),[ee,ce]=N.useState(null),D=pt(e,me=>Z(me)),[A,P]=N.useState(null),[j,L]=N.useState(null),U=wh(t),[M,fe]=N.useState(!1),de=N.useRef(!1);N.useEffect(()=>{if(F)return p4(F)},[F]),Bk();const q=N.useCallback(me=>{const[Se,...Xe]=U().map(ke=>ke.ref.current),[je]=Xe.slice(-1),Me=document.activeElement;for(const ke of me)if(ke===Me||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===Se&&ee&&(ee.scrollTop=0),ke===je&&ee&&(ee.scrollTop=ee.scrollHeight),ke==null||ke.focus(),document.activeElement!==Me))return},[U,ee]),re=N.useCallback(()=>q([A,F]),[q,A,F]);N.useEffect(()=>{M&&re()},[M,re]);const{onOpenChange:W,triggerPointerDownPosRef:be}=H;N.useEffect(()=>{if(F){let me={x:0,y:0};const Se=je=>{var Me,ke;me={x:Math.abs(Math.round(je.pageX)-(((Me=be.current)==null?void 0:Me.x)??0)),y:Math.abs(Math.round(je.pageY)-(((ke=be.current)==null?void 0:ke.y)??0))}},Xe=je=>{me.x<=10&&me.y<=10?je.preventDefault():F.contains(je.target)||W(!1),document.removeEventListener("pointermove",Se),be.current=null};return be.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",Xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",Xe,{capture:!0})}}},[F,W,be]),N.useEffect(()=>{const me=()=>W(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[W]);const[V,ne]=zx(me=>{const Se=U().filter(Me=>!Me.disabled),Xe=Se.find(Me=>Me.ref.current===document.activeElement),je=Bx(Se,me,Xe);je&&setTimeout(()=>je.ref.current.focus())}),ue=N.useCallback((me,Se,Xe)=>{const je=!de.current&&!Xe;(H.value!==void 0&&H.value===Se||je)&&(P(me),je&&(de.current=!0))},[H.value]),oe=N.useCallback(()=>F==null?void 0:F.focus(),[F]),pe=N.useCallback((me,Se,Xe)=>{const je=!de.current&&!Xe;(H.value!==void 0&&H.value===Se||je)&&L(me)},[H.value]),Re=i==="popper"?Ug:xx,we=Re===Ug?{side:h,sideOffset:p,align:g,alignOffset:_,arrowPadding:w,collisionBoundary:T,collisionPadding:C,sticky:O,hideWhenDetached:x,avoidCollisions:I}:{};return v.jsx(Sx,{scope:t,content:F,viewport:ee,onViewportChange:ce,itemRefCallback:ue,selectedItem:A,onItemLeave:oe,itemTextRefCallback:pe,focusSelectedItem:re,selectedItemText:j,position:i,isPositioned:M,searchRef:V,children:v.jsx(px,{as:o6,allowPinchZoom:!0,children:v.jsx(VA,{asChild:!0,trapped:H.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:et(o,me=>{var Se;(Se=H.trigger)==null||Se.focus({preventScroll:!0}),me.preventDefault()}),children:v.jsx(MA,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>H.onOpenChange(!1),children:v.jsx(Re,{role:"listbox",id:H.contentId,"data-state":H.open?"open":"closed",dir:H.dir,onContextMenu:me=>me.preventDefault(),...z,...we,onPlaced:()=>fe(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...z.style},onKeyDown:et(z.onKeyDown,me=>{const Se=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Se&&me.key.length===1&&ne(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let je=U().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(me.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const Me=me.target,ke=je.indexOf(Me);je=je.slice(ke+1)}setTimeout(()=>q(je)),me.preventDefault()}})})})})})})});Ax.displayName=a6;var l6="SelectItemAlignedPosition",xx=N.forwardRef((r,e)=>{const{__scopeSelect:t,onPlaced:i,...o}=r,c=Fs(Ua,t),u=Hs(Ua,t),[h,p]=N.useState(null),[g,_]=N.useState(null),w=pt(e,D=>_(D)),T=wh(t),C=N.useRef(!1),O=N.useRef(!0),{viewport:x,selectedItem:I,selectedItemText:z,focusSelectedItem:H}=u,F=N.useCallback(()=>{if(c.trigger&&c.valueNode&&h&&g&&x&&I&&z){const D=c.trigger.getBoundingClientRect(),A=g.getBoundingClientRect(),P=c.valueNode.getBoundingClientRect(),j=z.getBoundingClientRect();if(c.dir!=="rtl"){const Me=j.left-A.left,ke=P.left-Me,St=D.left-ke,Yt=D.width+St,lr=Math.max(Yt,A.width),Sr=window.innerWidth-pr,$t=fw(ke,[pr,Math.max(pr,Sr-lr)]);h.style.minWidth=Yt+"px",h.style.left=$t+"px"}else{const Me=A.right-j.right,ke=window.innerWidth-P.right-Me,St=window.innerWidth-D.right-ke,Yt=D.width+St,lr=Math.max(Yt,A.width),Sr=window.innerWidth-pr,$t=fw(ke,[pr,Math.max(pr,Sr-lr)]);h.style.minWidth=Yt+"px",h.style.right=$t+"px"}const L=T(),U=window.innerHeight-pr*2,M=x.scrollHeight,fe=window.getComputedStyle(g),de=parseInt(fe.borderTopWidth,10),q=parseInt(fe.paddingTop,10),re=parseInt(fe.borderBottomWidth,10),W=parseInt(fe.paddingBottom,10),be=de+q+M+W+re,V=Math.min(I.offsetHeight*5,be),ne=window.getComputedStyle(x),ue=parseInt(ne.paddingTop,10),oe=parseInt(ne.paddingBottom,10),pe=D.top+D.height/2-pr,Re=U-pe,we=I.offsetHeight/2,me=I.offsetTop+we,Se=de+q+me,Xe=be-Se;if(Se<=pe){const Me=L.length>0&&I===L[L.length-1].ref.current;h.style.bottom="0px";const ke=g.clientHeight-x.offsetTop-x.offsetHeight,St=Math.max(Re,we+(Me?oe:0)+ke+re),Yt=Se+St;h.style.height=Yt+"px"}else{const Me=L.length>0&&I===L[0].ref.current;h.style.top="0px";const St=Math.max(pe,de+x.offsetTop+(Me?ue:0)+we)+Xe;h.style.height=St+"px",x.scrollTop=Se-pe+x.offsetTop}h.style.margin=`${pr}px 0`,h.style.minHeight=V+"px",h.style.maxHeight=U+"px",i==null||i(),requestAnimationFrame(()=>C.current=!0)}},[T,c.trigger,c.valueNode,h,g,x,I,z,c.dir,i]);wn(()=>F(),[F]);const[Z,ee]=N.useState();wn(()=>{g&&ee(window.getComputedStyle(g).zIndex)},[g]);const ce=N.useCallback(D=>{D&&O.current===!0&&(F(),H==null||H(),O.current=!1)},[F,H]);return v.jsx(u6,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:C,onScrollButtonChange:ce,children:v.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Z},children:v.jsx(nt.div,{...o,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});xx.displayName=l6;var c6="SelectPopperPosition",Ug=N.forwardRef((r,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:o=pr,...c}=r,u=Th(t);return v.jsx(i4,{...u,...c,ref:e,align:i,collisionPadding:o,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ug.displayName=c6;var[u6,iv]=El(Ua,{}),zg="SelectViewport",Rx=N.forwardRef((r,e)=>{const{__scopeSelect:t,nonce:i,...o}=r,c=Hs(zg,t),u=iv(zg,t),h=pt(e,c.onViewportChange),p=N.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),v.jsx(bh.Slot,{scope:t,children:v.jsx(nt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:et(o.onScroll,g=>{const _=g.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:T}=u;if(T!=null&&T.current&&w){const C=Math.abs(p.current-_.scrollTop);if(C>0){const O=window.innerHeight-pr*2,x=parseFloat(w.style.minHeight),I=parseFloat(w.style.height),z=Math.max(x,I);if(z<O){const H=z+C,F=Math.min(O,H),Z=H-F;w.style.height=F+"px",w.style.bottom==="0px"&&(_.scrollTop=Z>0?Z:0,w.style.justifyContent="flex-end")}}}p.current=_.scrollTop})})})]})});Rx.displayName=zg;var Cx="SelectGroup",[f6,d6]=El(Cx),h6=N.forwardRef((r,e)=>{const{__scopeSelect:t,...i}=r,o=gh();return v.jsx(f6,{scope:t,id:o,children:v.jsx(nt.div,{role:"group","aria-labelledby":o,...i,ref:e})})});h6.displayName=Cx;var Ix="SelectLabel",m6=N.forwardRef((r,e)=>{const{__scopeSelect:t,...i}=r,o=d6(Ix,t);return v.jsx(nt.div,{id:o.id,...i,ref:e})});m6.displayName=Ix;var Hd="SelectItem",[p6,Nx]=El(Hd),Dx=N.forwardRef((r,e)=>{const{__scopeSelect:t,value:i,disabled:o=!1,textValue:c,...u}=r,h=Fs(Hd,t),p=Hs(Hd,t),g=h.value===i,[_,w]=N.useState(c??""),[T,C]=N.useState(!1),O=pt(e,H=>{var F;return(F=p.itemRefCallback)==null?void 0:F.call(p,H,i,o)}),x=gh(),I=N.useRef("touch"),z=()=>{o||(h.onValueChange(i),h.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(p6,{scope:t,value:i,disabled:o,textId:x,isSelected:g,onItemTextChange:N.useCallback(H=>{w(F=>F||((H==null?void 0:H.textContent)??"").trim())},[]),children:v.jsx(bh.ItemSlot,{scope:t,value:i,disabled:o,textValue:_,children:v.jsx(nt.div,{role:"option","aria-labelledby":x,"data-highlighted":T?"":void 0,"aria-selected":g&&T,"data-state":g?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:O,onFocus:et(u.onFocus,()=>C(!0)),onBlur:et(u.onBlur,()=>C(!1)),onClick:et(u.onClick,()=>{I.current!=="mouse"&&z()}),onPointerUp:et(u.onPointerUp,()=>{I.current==="mouse"&&z()}),onPointerDown:et(u.onPointerDown,H=>{I.current=H.pointerType}),onPointerMove:et(u.onPointerMove,H=>{var F;I.current=H.pointerType,o?(F=p.onItemLeave)==null||F.call(p):I.current==="mouse"&&H.currentTarget.focus({preventScroll:!0})}),onPointerLeave:et(u.onPointerLeave,H=>{var F;H.currentTarget===document.activeElement&&((F=p.onItemLeave)==null||F.call(p))}),onKeyDown:et(u.onKeyDown,H=>{var Z;((Z=p.searchRef)==null?void 0:Z.current)!==""&&H.key===" "||(J4.includes(H.key)&&z(),H.key===" "&&H.preventDefault())})})})})});Dx.displayName=Hd;var Lc="SelectItemText",Ox=N.forwardRef((r,e)=>{const{__scopeSelect:t,className:i,style:o,...c}=r,u=Fs(Lc,t),h=Hs(Lc,t),p=Nx(Lc,t),g=r6(Lc,t),[_,w]=N.useState(null),T=pt(e,z=>w(z),p.onItemTextChange,z=>{var H;return(H=h.itemTextRefCallback)==null?void 0:H.call(h,z,p.value,p.disabled)}),C=_==null?void 0:_.textContent,O=N.useMemo(()=>v.jsx("option",{value:p.value,disabled:p.disabled,children:C},p.value),[p.disabled,p.value,C]),{onNativeOptionAdd:x,onNativeOptionRemove:I}=g;return wn(()=>(x(O),()=>I(O)),[x,I,O]),v.jsxs(v.Fragment,{children:[v.jsx(nt.span,{id:p.textId,...c,ref:T}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Eu.createPortal(c.children,u.valueNode):null]})});Ox.displayName=Lc;var Px="SelectItemIndicator",Mx=N.forwardRef((r,e)=>{const{__scopeSelect:t,...i}=r;return Nx(Px,t).isSelected?v.jsx(nt.span,{"aria-hidden":!0,...i,ref:e}):null});Mx.displayName=Px;var Bg="SelectScrollUpButton",kx=N.forwardRef((r,e)=>{const t=Hs(Bg,r.__scopeSelect),i=iv(Bg,r.__scopeSelect),[o,c]=N.useState(!1),u=pt(e,i.onScrollButtonChange);return wn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const g=p.scrollTop>0;c(g)};const p=t.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?v.jsx(jx,{...r,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=t;h&&p&&(h.scrollTop=h.scrollTop-p.offsetHeight)}}):null});kx.displayName=Bg;var qg="SelectScrollDownButton",Vx=N.forwardRef((r,e)=>{const t=Hs(qg,r.__scopeSelect),i=iv(qg,r.__scopeSelect),[o,c]=N.useState(!1),u=pt(e,i.onScrollButtonChange);return wn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const g=p.scrollHeight-p.clientHeight,_=Math.ceil(p.scrollTop)<g;c(_)};const p=t.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?v.jsx(jx,{...r,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=t;h&&p&&(h.scrollTop=h.scrollTop+p.offsetHeight)}}):null});Vx.displayName=qg;var jx=N.forwardRef((r,e)=>{const{__scopeSelect:t,onAutoScroll:i,...o}=r,c=Hs("SelectScrollButton",t),u=N.useRef(null),h=wh(t),p=N.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return N.useEffect(()=>()=>p(),[p]),wn(()=>{var _;const g=h().find(w=>w.ref.current===document.activeElement);(_=g==null?void 0:g.ref.current)==null||_.scrollIntoView({block:"nearest"})},[h]),v.jsx(nt.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:et(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:et(o.onPointerMove,()=>{var g;(g=c.onItemLeave)==null||g.call(c),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:et(o.onPointerLeave,()=>{p()})})}),g6="SelectSeparator",y6=N.forwardRef((r,e)=>{const{__scopeSelect:t,...i}=r;return v.jsx(nt.div,{"aria-hidden":!0,...i,ref:e})});y6.displayName=g6;var Fg="SelectArrow",v6=N.forwardRef((r,e)=>{const{__scopeSelect:t,...i}=r,o=Th(t),c=Fs(Fg,t),u=Hs(Fg,t);return c.open&&u.position==="popper"?v.jsx(s4,{...o,...i,ref:e}):null});v6.displayName=Fg;var _6="SelectBubbleInput",Lx=N.forwardRef(({__scopeSelect:r,value:e,...t},i)=>{const o=N.useRef(null),c=pt(i,o),u=rv(e);return N.useEffect(()=>{const h=o.current;if(!h)return;const p=window.HTMLSelectElement.prototype,_=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==e&&_){const w=new Event("change",{bubbles:!0});_.call(h,e),h.dispatchEvent(w)}},[u,e]),v.jsx(nt.select,{...t,style:{...ax,...t.style},ref:c,defaultValue:e})});Lx.displayName=_6;function Ux(r){return r===""||r===void 0}function zx(r){const e=ks(r),t=N.useRef(""),i=N.useRef(0),o=N.useCallback(u=>{const h=t.current+u;e(h),function p(g){t.current=g,window.clearTimeout(i.current),g!==""&&(i.current=window.setTimeout(()=>p(""),1e3))}(h)},[e]),c=N.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,o,c]}function Bx(r,e,t){const o=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,c=t?r.indexOf(t):-1;let u=E6(r,Math.max(c,0));o.length===1&&(u=u.filter(g=>g!==t));const p=u.find(g=>g.textValue.toLowerCase().startsWith(o.toLowerCase()));return p!==t?p:void 0}function E6(r,e){return r.map((t,i)=>r[(e+i)%r.length])}var b6=gx,w6=vx,T6=Ex,S6=bx,A6=wx,x6=Tx,R6=Rx,C6=Dx,I6=Ox,N6=Mx,D6=kx,O6=Vx;function Ow({...r}){return v.jsx(b6,{"data-slot":"select",...r})}function Pw({...r}){return v.jsx(T6,{"data-slot":"select-value",...r})}function Mw({className:r,size:e="default",children:t,...i}){return v.jsxs(w6,{"data-slot":"select-trigger","data-size":e,className:Qt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...i,children:[t,v.jsx(S6,{asChild:!0,children:v.jsx(nT,{className:"size-4 opacity-50"})})]})}function kw({className:r,children:e,position:t="popper",...i}){return v.jsx(A6,{children:v.jsxs(x6,{"data-slot":"select-content",className:Qt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:t,...i,children:[v.jsx(P6,{}),v.jsx(R6,{className:Qt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),v.jsx(M6,{})]})})}function Vw({className:r,children:e,...t}){return v.jsxs(C6,{"data-slot":"select-item",className:Qt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...t,children:[v.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:v.jsx(N6,{children:v.jsx(BC,{className:"size-4"})})}),v.jsx(I6,{children:e})]})}function P6({className:r,...e}){return v.jsx(D6,{"data-slot":"select-scroll-up-button",className:Qt("flex cursor-default items-center justify-center py-1",r),...e,children:v.jsx(HC,{className:"size-4"})})}function M6({className:r,...e}){return v.jsx(O6,{"data-slot":"select-scroll-down-button",className:Qt("flex cursor-default items-center justify-center py-1",r),...e,children:v.jsx(nT,{className:"size-4"})})}var tg="rovingFocusGroup.onEntryFocus",k6={bubbles:!1,cancelable:!0},wu="RovingFocusGroup",[Hg,qx,V6]=OA(wu),[j6,Fx]=qa(wu,[V6]),[L6,U6]=j6(wu),Hx=N.forwardRef((r,e)=>v.jsx(Hg.Provider,{scope:r.__scopeRovingFocusGroup,children:v.jsx(Hg.Slot,{scope:r.__scopeRovingFocusGroup,children:v.jsx(z6,{...r,ref:e})})}));Hx.displayName=wu;var z6=N.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,orientation:i,loop:o=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:p,onEntryFocus:g,preventScrollOnEntryFocus:_=!1,...w}=r,T=N.useRef(null),C=pt(e,T),O=Ky(c),[x,I]=au({prop:u,defaultProp:h??null,onChange:p,caller:wu}),[z,H]=N.useState(!1),F=ks(g),Z=qx(t),ee=N.useRef(!1),[ce,D]=N.useState(0);return N.useEffect(()=>{const A=T.current;if(A)return A.addEventListener(tg,F),()=>A.removeEventListener(tg,F)},[F]),v.jsx(L6,{scope:t,orientation:i,dir:O,loop:o,currentTabStopId:x,onItemFocus:N.useCallback(A=>I(A),[I]),onItemShiftTab:N.useCallback(()=>H(!0),[]),onFocusableItemAdd:N.useCallback(()=>D(A=>A+1),[]),onFocusableItemRemove:N.useCallback(()=>D(A=>A-1),[]),children:v.jsx(nt.div,{tabIndex:z||ce===0?-1:0,"data-orientation":i,...w,ref:C,style:{outline:"none",...r.style},onMouseDown:et(r.onMouseDown,()=>{ee.current=!0}),onFocus:et(r.onFocus,A=>{const P=!ee.current;if(A.target===A.currentTarget&&P&&!z){const j=new CustomEvent(tg,k6);if(A.currentTarget.dispatchEvent(j),!j.defaultPrevented){const L=Z().filter(q=>q.focusable),U=L.find(q=>q.active),M=L.find(q=>q.id===x),de=[U,M,...L].filter(Boolean).map(q=>q.ref.current);Qx(de,_)}}ee.current=!1}),onBlur:et(r.onBlur,()=>H(!1))})})}),Gx="RovingFocusGroupItem",Kx=N.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,focusable:i=!0,active:o=!1,tabStopId:c,children:u,...h}=r,p=gh(),g=c||p,_=U6(Gx,t),w=_.currentTabStopId===g,T=qx(t),{onFocusableItemAdd:C,onFocusableItemRemove:O,currentTabStopId:x}=_;return N.useEffect(()=>{if(i)return C(),()=>O()},[i,C,O]),v.jsx(Hg.ItemSlot,{scope:t,id:g,focusable:i,active:o,children:v.jsx(nt.span,{tabIndex:w?0:-1,"data-orientation":_.orientation,...h,ref:e,onMouseDown:et(r.onMouseDown,I=>{i?_.onItemFocus(g):I.preventDefault()}),onFocus:et(r.onFocus,()=>_.onItemFocus(g)),onKeyDown:et(r.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){_.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const z=F6(I,_.orientation,_.dir);if(z!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let F=T().filter(Z=>Z.focusable).map(Z=>Z.ref.current);if(z==="last")F.reverse();else if(z==="prev"||z==="next"){z==="prev"&&F.reverse();const Z=F.indexOf(I.currentTarget);F=_.loop?H6(F,Z+1):F.slice(Z+1)}setTimeout(()=>Qx(F))}}),children:typeof u=="function"?u({isCurrentTabStop:w,hasTabStop:x!=null}):u})})});Kx.displayName=Gx;var B6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function q6(r,e){return e!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function F6(r,e,t){const i=q6(r.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return B6[i]}function Qx(r,e=!1){const t=document.activeElement;for(const i of r)if(i===t||(i.focus({preventScroll:e}),document.activeElement!==t))return}function H6(r,e){return r.map((t,i)=>r[(e+i)%r.length])}var G6=Hx,K6=Kx;function Q6(r,e){return N.useReducer((t,i)=>e[t][i]??t,r)}var Yx=r=>{const{present:e,children:t}=r,i=Y6(e),o=typeof t=="function"?t({present:i.isPresent}):N.Children.only(t),c=pt(i.ref,$6(o));return typeof t=="function"||i.isPresent?N.cloneElement(o,{ref:c}):null};Yx.displayName="Presence";function Y6(r){const[e,t]=N.useState(),i=N.useRef(null),o=N.useRef(r),c=N.useRef("none"),u=r?"mounted":"unmounted",[h,p]=Q6(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const g=ad(i.current);c.current=h==="mounted"?g:"none"},[h]),wn(()=>{const g=i.current,_=o.current;if(_!==r){const T=c.current,C=ad(g);r?p("MOUNT"):C==="none"||(g==null?void 0:g.display)==="none"?p("UNMOUNT"):p(_&&T!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=r}},[r,p]),wn(()=>{if(e){let g;const _=e.ownerDocument.defaultView??window,w=C=>{const x=ad(i.current).includes(C.animationName);if(C.target===e&&x&&(p("ANIMATION_END"),!o.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",g=_.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},T=C=>{C.target===e&&(c.current=ad(i.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{_.clearTimeout(g),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:N.useCallback(g=>{i.current=g?getComputedStyle(g):null,t(g)},[])}}function ad(r){return(r==null?void 0:r.animationName)||"none"}function $6(r){var i,o;let e=(i=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var sv="Radio",[X6,$x]=qa(sv),[W6,Z6]=X6(sv),Xx=N.forwardRef((r,e)=>{const{__scopeRadio:t,name:i,checked:o=!1,required:c,disabled:u,value:h="on",onCheck:p,form:g,..._}=r,[w,T]=N.useState(null),C=pt(e,I=>T(I)),O=N.useRef(!1),x=w?g||!!w.closest("form"):!0;return v.jsxs(W6,{scope:t,checked:o,disabled:u,children:[v.jsx(nt.button,{type:"button",role:"radio","aria-checked":o,"data-state":e1(o),"data-disabled":u?"":void 0,disabled:u,value:h,..._,ref:C,onClick:et(r.onClick,I=>{o||p==null||p(),x&&(O.current=I.isPropagationStopped(),O.current||I.stopPropagation())})}),x&&v.jsx(Jx,{control:w,bubbles:!O.current,name:i,value:h,checked:o,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});Xx.displayName=sv;var Wx="RadioIndicator",Zx=N.forwardRef((r,e)=>{const{__scopeRadio:t,forceMount:i,...o}=r,c=Z6(Wx,t);return v.jsx(Yx,{present:i||c.checked,children:v.jsx(nt.span,{"data-state":e1(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:e})})});Zx.displayName=Wx;var J6="RadioBubbleInput",Jx=N.forwardRef(({__scopeRadio:r,control:e,checked:t,bubbles:i=!0,...o},c)=>{const u=N.useRef(null),h=pt(u,c),p=rv(t),g=ev(e);return N.useEffect(()=>{const _=u.current;if(!_)return;const w=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(w,"checked").set;if(p!==t&&C){const O=new Event("click",{bubbles:i});C.call(_,t),_.dispatchEvent(O)}},[p,t,i]),v.jsx(nt.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:h,style:{...o.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Jx.displayName=J6;function e1(r){return r?"checked":"unchecked"}var e3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Sh="RadioGroup",[t3,A3]=qa(Sh,[Fx,$x]),t1=Fx(),n1=$x(),[n3,r3]=t3(Sh),r1=N.forwardRef((r,e)=>{const{__scopeRadioGroup:t,name:i,defaultValue:o,value:c,required:u=!1,disabled:h=!1,orientation:p,dir:g,loop:_=!0,onValueChange:w,...T}=r,C=t1(t),O=Ky(g),[x,I]=au({prop:c,defaultProp:o??null,onChange:w,caller:Sh});return v.jsx(n3,{scope:t,name:i,required:u,disabled:h,value:x,onValueChange:I,children:v.jsx(G6,{asChild:!0,...C,orientation:p,dir:O,loop:_,children:v.jsx(nt.div,{role:"radiogroup","aria-required":u,"aria-orientation":p,"data-disabled":h?"":void 0,dir:O,...T,ref:e})})})});r1.displayName=Sh;var i1="RadioGroupItem",s1=N.forwardRef((r,e)=>{const{__scopeRadioGroup:t,disabled:i,...o}=r,c=r3(i1,t),u=c.disabled||i,h=t1(t),p=n1(t),g=N.useRef(null),_=pt(e,g),w=c.value===o.value,T=N.useRef(!1);return N.useEffect(()=>{const C=x=>{e3.includes(x.key)&&(T.current=!0)},O=()=>T.current=!1;return document.addEventListener("keydown",C),document.addEventListener("keyup",O),()=>{document.removeEventListener("keydown",C),document.removeEventListener("keyup",O)}},[]),v.jsx(K6,{asChild:!0,...h,focusable:!u,active:w,children:v.jsx(Xx,{disabled:u,required:c.required,checked:w,...p,...o,name:c.name,ref:_,onCheck:()=>c.onValueChange(o.value),onKeyDown:et(C=>{C.key==="Enter"&&C.preventDefault()}),onFocus:et(o.onFocus,()=>{var C;T.current&&((C=g.current)==null||C.click())})})})});s1.displayName=i1;var i3="RadioGroupIndicator",a1=N.forwardRef((r,e)=>{const{__scopeRadioGroup:t,...i}=r,o=n1(t);return v.jsx(Zx,{...o,...i,ref:e})});a1.displayName=i3;var s3=r1,a3=s1,o3=a1;function l3({className:r,...e}){return v.jsx(s3,{"data-slot":"radio-group",className:Qt("grid gap-3",r),...e})}function jw({className:r,...e}){return v.jsx(a3,{"data-slot":"radio-group-item",className:Qt("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...e,children:v.jsx(o3,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:v.jsx($C,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const ir={RIDE_REQUESTS:"rideRequests",USERS:"users",DRIVERS:"drivers"},gr={async create(r){try{return(await CA(vs(rr,ir.RIDE_REQUESTS),{...r,createdAt:Gc(),updatedAt:Gc()})).id}catch(e){throw console.error("Erro ao criar solicitação:",e),e}},async update(r,e){try{const t=ru(rr,ir.RIDE_REQUESTS,r);await RA(t,{...e,updatedAt:Gc()})}catch(t){throw console.error("Erro ao atualizar solicitação:",t),t}},async delete(r){try{await bk(ru(rr,ir.RIDE_REQUESTS,r))}catch(e){throw console.error("Erro ao deletar solicitação:",e),e}},async getByDriver(r){try{const e=Ho(vs(rr,ir.RIDE_REQUESTS),Go("driverId","==",r),Dc("createdAt","desc"));return(await Pg(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(e){throw console.error("Erro ao buscar solicitações do motorista:",e),e}},async getByUser(r){try{const e=Ho(vs(rr,ir.RIDE_REQUESTS),Go("userId","==",r),Dc("createdAt","desc"));return(await Pg(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(e){throw console.error("Erro ao buscar solicitações do usuário:",e),e}},onDriverRequestsChange(r,e){const t=Ho(vs(rr,ir.RIDE_REQUESTS),Go("driverId","==",r),Dc("createdAt","desc"));return Gp(t,i=>{const o=i.docs.map(c=>({id:c.id,...c.data()}));e(o)})},onUserRequestsChange(r,e){const t=Ho(vs(rr,ir.RIDE_REQUESTS),Go("userId","==",r),Dc("createdAt","desc"));return Gp(t,i=>{const o=i.docs.map(c=>({id:c.id,...c.data()}));e(o)})},onPendingRequestsChange(r){const e=Ho(vs(rr,ir.RIDE_REQUESTS),Go("status","in",["pending","waitingPrice"]),Dc("createdAt","desc"));return Gp(e,t=>{const i=t.docs.map(o=>({id:o.id,...o.data()}));r(i)})}},Zo={async create(r){try{return(await CA(vs(rr,ir.DRIVERS),{...r,createdAt:Gc()})).id}catch(e){throw console.error("Erro ao criar motorista:",e),e}},async update(r,e){try{const t=ru(rr,ir.DRIVERS,r);await RA(t,{...e,updatedAt:Gc()})}catch(t){throw console.error("Erro ao atualizar motorista:",t),t}},async getById(r){try{const e=ru(rr,ir.DRIVERS,r),t=await Ek(e);return t.exists()?{id:t.id,...t.data()}:null}catch(e){throw console.error("Erro ao buscar motorista por ID:",e),e}},async getAvailable(){try{const r=Ho(vs(rr,ir.DRIVERS),Go("available","==",!0));return(await Pg(r)).docs.map(t=>({id:t.id,...t.data()}))}catch(r){throw console.error("Erro ao buscar motoristas disponíveis:",r),r}}};function c3({user:r,onLogout:e}){const[t,i]=N.useState(null),[o,c]=N.useState(""),[u,h]=N.useState(""),[p,g]=N.useState("idle"),[_,w]=N.useState([]),[T,C]=N.useState(null),[O,x]=N.useState(null),[I,z]=N.useState(""),[H,F]=N.useState(!1),[Z,ee]=N.useState([]),ce=["Rua Júlio de Castilhos (Rua da Ladeira)","Rua Andrade Neves","Rua General Osório","Rua Barão do Rio Branco","Rua Marechal Deodoro","Rua Coronel Vicente","Rua Voluntários da Pátria","Rua Tiradentes","Rua Benjamin Constant","Avenida Independência"];N.useEffect(()=>{(async()=>{r!=null&&r.id&&await userService.getById(r.id)})(),navigator.geolocation?navigator.geolocation.getCurrentPosition(q=>{i({lat:q.coords.latitude,lng:q.coords.longitude})},q=>{console.error("Erro ao obter localização:",q),i({lat:-29.9897,lng:-52.3789})}):i({lat:-29.9897,lng:-52.3789});let de=null;return r!=null&&r.id&&(de=gr.onUserRequestsChange(r.id,q=>{ee(q);const re=q.find(W=>W.status==="priceProposed");re&&p==="waitingPrice"&&(x(re.proposedPrice),C(re.driver),g("priceReceived"))})),()=>{de&&de()}},[r==null?void 0:r.id,p]);const D=async()=>{if(!o.trim()||!u.trim()){alert("Por favor, selecione a rua de origem e destino!");return}if(o===u){alert("A rua de origem e destino não podem ser iguais!");return}F(!0),g("requesting");try{const fe=await Zo.getAvailable();if(fe.length===0)w([{id:"mock_1",name:"Carlos Silva",vehicle:"Honda Civic Branco",plate:"ABC-1234",pixKey:"carlos.silva@email.com",distance:"2.1 km",eta:"5 min",rating:"4.8",available:!0},{id:"mock_2",name:"Maria Santos",vehicle:"Toyota Corolla Prata",plate:"DEF-5678",pixKey:"(51) 99999-9999",distance:"1.5 km",eta:"3 min",rating:"4.9",available:!0},{id:"mock_3",name:"João Oliveira",vehicle:"Chevrolet Onix Azul",plate:"GHI-9012",pixKey:"joao.oliveira@pix.com",distance:"3.2 km",eta:"7 min",rating:"4.7",available:!0}]);else{const de=fe.map(q=>({...q,distance:`${(Math.random()*5+.5).toFixed(1)} km`,eta:`${Math.floor(Math.random()*10+2)} min`,rating:q.rating||(Math.random()*1+4).toFixed(1)}));w(de)}F(!1)}catch(fe){console.error("Erro ao buscar motoristas:",fe),alert("Erro ao buscar motoristas. Tente novamente."),F(!1),g("idle")}},A=async fe=>{C(fe),g("waitingPrice");try{const de={userId:r.id,userName:r.name,userPhone:r.phone,driverId:fe.id,driver:fe,origin:o,destination:u,status:"waitingPrice"};await gr.create(de)}catch(de){console.error("Erro ao criar solicitação:",de),alert("Erro ao enviar solicitação. Tente novamente."),g("requesting")}},P=async()=>{if(!I){alert("Por favor, selecione uma forma de pagamento!");return}try{g("matched");const de=(await gr.getByUser(r.id)).find(q=>q.status==="priceProposed");de&&await gr.update(de.id,{status:"accepted",paymentMethod:I,acceptedPrice:O})}catch(fe){console.error("Erro ao aceitar preço:",fe),alert("Erro ao aceitar preço. Tente novamente."),g("priceReceived")}},j=async()=>{try{const de=(await gr.getByUser(r.id)).find(q=>q.status==="priceProposed");de&&await gr.update(de.id,{status:"rejected"}),g("requesting"),C(null),x(null),z("")}catch(fe){console.error("Erro ao rejeitar preço:",fe),alert("Erro ao rejeitar preço. Tente novamente.")}},L=()=>{g("inProgress");const de=JSON.parse(localStorage.getItem("rides")||"[]").map(q=>q.userId===r.id&&q.status==="accepted"?{...q,status:"inProgress"}:q);localStorage.setItem("rides",JSON.stringify(de))},U=()=>{const de=JSON.parse(localStorage.getItem("rideRequests")||"[]").map(q=>q.userId===r.id&&(q.status==="waitingPrice"||q.status==="priceProposed")?{...q,status:"cancelled"}:q);localStorage.setItem("rideRequests",JSON.stringify(de)),g("idle"),C(null),w([]),x(null),z(""),c(""),h("")},M=()=>{switch(p){case"requesting":return"Procurando motoristas...";case"waitingPrice":return`Aguardando proposta de preço de ${T==null?void 0:T.name}...`;case"priceReceived":return`${T==null?void 0:T.name} enviou uma proposta de preço`;case"matched":return`Corrida confirmada com ${T==null?void 0:T.name}`;case"inProgress":return"Corrida em andamento";default:return"Solicitar corrida"}};return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("div",{className:"bg-white shadow-sm border-b",children:v.jsxs("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:v.jsx(ou,{className:"w-5 h-5 text-blue-600"})}),v.jsxs("div",{children:[v.jsxs("h1",{className:"font-semibold text-gray-900",children:["Olá, ",r.name]}),v.jsx("p",{className:"text-sm text-gray-500",children:"Rio Pardo-RS"})]})]}),v.jsx(jt,{variant:"ghost",size:"sm",onClick:e,children:v.jsx(aT,{className:"w-4 h-4"})})]})}),v.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-4",children:[v.jsxs(Tt,{children:[v.jsx(nn,{children:v.jsxs(rn,{className:"flex items-center space-x-2",children:[v.jsx(sg,{className:"w-5 h-5"}),v.jsx("span",{children:"Sua localização"})]})}),v.jsx(Vt,{children:v.jsxs("div",{className:"bg-gradient-to-br from-blue-100 to-green-100 rounded-lg h-48 flex items-center justify-center relative",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-4xl mb-2",children:"🗺️"}),v.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Rio Pardo - RS"}),t&&v.jsxs("div",{className:"mt-2",children:[v.jsx("p",{className:"text-xs text-green-600",children:"📍 GPS Ativo"}),v.jsxs("p",{className:"text-xs text-gray-500",children:[t.lat.toFixed(4),", ",t.lng.toFixed(4)]})]})]}),t&&v.jsx("div",{className:"absolute top-2 right-2 bg-white px-2 py-1 rounded text-xs shadow",children:"GPS ON"})]})})]}),v.jsxs(Tt,{children:[v.jsx(nn,{children:v.jsxs(rn,{className:"flex items-center space-x-2",children:[v.jsx(tI,{className:"w-5 h-5"}),v.jsx("span",{children:"Solicitar corrida"})]})}),v.jsxs(Vt,{className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"origin",children:"De onde você está?"}),v.jsxs(Ow,{value:o,onValueChange:c,disabled:p!=="idle",children:[v.jsx(Mw,{children:v.jsx(Pw,{placeholder:"Selecione sua rua atual"})}),v.jsx(kw,{children:ce.map((fe,de)=>v.jsx(Vw,{value:fe,children:fe},de))})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"destination",children:"Para onde você quer ir?"}),v.jsxs(Ow,{value:u,onValueChange:h,disabled:p!=="idle",children:[v.jsx(Mw,{children:v.jsx(Pw,{placeholder:"Selecione o destino"})}),v.jsx(kw,{children:ce.filter(fe=>fe!==o).map((fe,de)=>v.jsx(Vw,{value:fe,children:fe},de))})]})]}),p==="idle"&&v.jsx(jt,{onClick:D,className:"w-full bg-blue-600 hover:bg-blue-700",disabled:H||!o.trim()||!u.trim(),children:H?"Procurando...":"Buscar Motoristas"}),p!=="idle"&&p!=="inProgress"&&v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[v.jsx(iT,{className:"w-4 h-4 text-blue-600"}),v.jsx("span",{children:M()})]}),v.jsx(jt,{onClick:U,variant:"outline",className:"w-full",children:"Cancelar corrida"})]})]})]}),p==="requesting"&&_.length>0&&v.jsxs(Tt,{children:[v.jsxs(nn,{children:[v.jsx(rn,{children:"Motoristas Disponíveis"}),v.jsx(Di,{children:"Selecione um motorista para solicitar o preço da corrida"})]}),v.jsx(Vt,{className:"space-y-3",children:_.map(fe=>v.jsx("div",{onClick:()=>A(fe),className:"p-3 border border-gray-200 rounded-lg hover:bg-blue-50 cursor-pointer transition-colors",children:v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:v.jsx(yr,{className:"w-5 h-5 text-gray-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold text-gray-900",children:fe.name}),v.jsx("p",{className:"text-sm text-gray-600",children:fe.vehicle}),v.jsxs("p",{className:"text-sm text-gray-500",children:["Placa: ",fe.plate]}),v.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[v.jsx(od,{className:"w-3 h-3 text-yellow-500 fill-current"}),v.jsx("span",{className:"text-xs text-gray-600",children:fe.rating})]})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-sm font-semibold text-blue-600",children:fe.distance}),v.jsx("p",{className:"text-xs text-gray-500",children:fe.eta})]})]})},fe.id))})]}),p==="waitingPrice"&&T&&v.jsxs(Tt,{className:"border-yellow-200 bg-yellow-50",children:[v.jsx(nn,{children:v.jsx(rn,{className:"text-yellow-900",children:"Aguardando Proposta"})}),v.jsxs(Vt,{className:"space-y-3",children:[v.jsx("div",{className:"p-3 bg-white border border-yellow-200 rounded-lg",children:v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:v.jsx(yr,{className:"w-5 h-5 text-yellow-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold text-yellow-900",children:T.name}),v.jsx("p",{className:"text-sm text-yellow-700",children:T.vehicle}),v.jsxs("p",{className:"text-sm text-yellow-600",children:["Placa: ",T.plate]})]})]})}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl mb-2",children:"⏳"}),v.jsx("p",{className:"text-sm text-yellow-700",children:"O motorista está analisando sua solicitação e enviará o preço em breve"}),v.jsxs("p",{className:"text-xs text-yellow-600 mt-1",children:["De: ",o]}),v.jsxs("p",{className:"text-xs text-yellow-600",children:["Para: ",u]})]})]})]}),p==="priceReceived"&&T&&O&&v.jsxs(Tt,{className:"border-green-200 bg-green-50",children:[v.jsx(nn,{children:v.jsx(rn,{className:"text-green-900",children:"Proposta de Preço Recebida"})}),v.jsxs(Vt,{className:"space-y-4",children:[v.jsx("div",{className:"p-3 bg-white border border-green-200 rounded-lg",children:v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:v.jsx(yr,{className:"w-5 h-5 text-green-600"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"font-semibold text-green-900",children:T.name}),v.jsx("p",{className:"text-sm text-green-700",children:T.vehicle}),v.jsxs("p",{className:"text-sm text-green-600",children:["Placa: ",T.plate]}),v.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[v.jsx(od,{className:"w-3 h-3 text-yellow-500 fill-current"}),v.jsx("span",{className:"text-xs text-green-600",children:T.rating})]})]})]})}),v.jsxs("div",{className:"p-4 bg-white border-2 border-green-300 rounded-lg text-center",children:[v.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[v.jsx(sT,{className:"w-6 h-6 text-green-600"}),v.jsxs("span",{className:"text-3xl font-bold text-green-900",children:["R$ ",O]})]}),v.jsx("p",{className:"text-sm text-green-700",children:"Preço proposto para a corrida"}),v.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["De: ",o]}),v.jsxs("p",{className:"text-xs text-green-600",children:["Para: ",u]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx(dt,{children:"Forma de Pagamento:"}),v.jsxs(l3,{value:I,onValueChange:z,children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(jw,{value:"pix",id:"pix"}),v.jsx(dt,{htmlFor:"pix",className:"flex-1",children:v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:"PIX"}),v.jsx("p",{className:"text-sm text-gray-600",children:T.pixKey})]})})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(jw,{value:"dinheiro",id:"dinheiro"}),v.jsx(dt,{htmlFor:"dinheiro",children:"Dinheiro"})]})]})]}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsxs(jt,{onClick:P,disabled:!I,className:"flex-1 bg-green-600 hover:bg-green-700",children:[v.jsx(rT,{className:"w-4 h-4 mr-2"}),"Aceitar R$ ",O]}),v.jsxs(jt,{onClick:j,variant:"outline",className:"flex-1 border-red-300 text-red-700 hover:bg-red-50",children:[v.jsx(QC,{className:"w-4 h-4 mr-2"}),"Recusar"]})]})]})]}),p==="matched"&&T&&v.jsxs(Tt,{className:"border-blue-200 bg-blue-50",children:[v.jsx(nn,{children:v.jsx(rn,{className:"text-blue-900",children:"Corrida Confirmada"})}),v.jsxs(Vt,{className:"space-y-4",children:[v.jsx("div",{className:"p-3 bg-white border border-blue-200 rounded-lg",children:v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:v.jsx(yr,{className:"w-5 h-5 text-blue-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold text-blue-900",children:T.name}),v.jsx("p",{className:"text-sm text-blue-700",children:T.vehicle}),v.jsxs("p",{className:"text-sm text-blue-600",children:["Placa: ",T.plate]}),v.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[v.jsx(od,{className:"w-3 h-3 text-yellow-500 fill-current"}),v.jsx("span",{className:"text-xs text-blue-600",children:T.rating})]})]})]})}),v.jsxs("div",{className:"p-3 bg-white border border-blue-200 rounded-lg",children:[v.jsxs("p",{className:"text-sm text-blue-700",children:[v.jsx("strong",{children:"Preço acordado:"})," R$ ",O]}),v.jsxs("p",{className:"text-sm text-blue-700",children:[v.jsx("strong",{children:"Pagamento:"})," ",I==="pix"?`PIX - ${T.pixKey}`:"Dinheiro"]}),v.jsxs("p",{className:"text-sm text-blue-700",children:[v.jsx("strong",{children:"De:"})," ",o]}),v.jsxs("p",{className:"text-sm text-blue-700",children:[v.jsx("strong",{children:"Para:"})," ",u]})]}),v.jsx(jt,{onClick:L,className:"w-full bg-blue-600 hover:bg-blue-700",children:"Iniciar Corrida"})]})]}),p==="inProgress"&&T&&v.jsxs(Tt,{children:[v.jsx(nn,{children:v.jsx(rn,{className:"text-green-700",children:"Corrida em Andamento"})}),v.jsxs(Vt,{className:"space-y-3",children:[v.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[v.jsxs("p",{className:"text-sm text-green-700",children:[v.jsx("strong",{children:"Preço:"})," R$ ",O]}),v.jsxs("p",{className:"text-sm text-green-700",children:[v.jsx("strong",{children:"Destino:"})," ",u]}),v.jsxs("p",{className:"text-sm text-green-700",children:[v.jsx("strong",{children:"Motorista:"})," ",T.name]}),v.jsxs("p",{className:"text-sm text-green-700",children:[v.jsx("strong",{children:"Pagamento:"})," ",I==="pix"?`PIX - ${T.pixKey}`:"Dinheiro"]})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl mb-2",children:"🚗💨"}),v.jsx("p",{className:"text-sm text-gray-600",children:"O motorista está a caminho do destino"})]})]})]})]})]})}function u3({onBack:r,onLogin:e,onRegister:t}){const[i,o]=N.useState(""),[c,u]=N.useState(""),[h,p]=N.useState(!1),[g,_]=N.useState(""),w=async T=>{T.preventDefault(),p(!0),_("");try{const O=(await H2(Gy,i,c)).user,x={id:O.uid,name:O.displayName||"Motorista",email:O.email,phone:"",vehicle:"",plate:"",cnh:"",year:"",pixKey:"",provider:"firebase",type:"driver",available:!1,trips:0,rating:"5.0",createdAt:new Date().toISOString()},I=await Zo.getById(O.uid);I?(await Zo.update(O.uid,x),Object.assign(x,I)):await Zo.create(x),localStorage.setItem("currentDriverId",O.uid),e(x),console.error("Erro no login:",g);let z="Erro ao fazer login. Tente novamente.";switch(g.code){case"auth/user-not-found":z="Usuário não encontrado. Verifique o e-mail.";break;case"auth/wrong-password":z="Senha incorreta.";break;case"auth/invalid-email":z="E-mail inválido.";break;case"auth/too-many-requests":z="Muitas tentativas. Tente novamente mais tarde.";break}_(z)}finally{p(!1)}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-md",children:[v.jsxs(jt,{variant:"ghost",onClick:r,className:"mb-4",children:[v.jsx(Gd,{className:"w-4 h-4 mr-2"}),"Voltar"]}),v.jsxs(Tt,{children:[v.jsxs(nn,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(yr,{className:"w-8 h-8 text-green-600"})}),v.jsx(rn,{className:"text-2xl",children:"Login do Motorista"}),v.jsx(Di,{children:"Entre com sua conta para aceitar corridas"})]}),v.jsxs(Vt,{children:[g&&v.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:v.jsx("p",{className:"text-sm text-red-700",children:g})}),v.jsxs("form",{onSubmit:w,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"email",children:"Email"}),v.jsx(Ct,{id:"email",type:"email",placeholder:"seu@email.com",value:i,onChange:T=>o(T.target.value),required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"password",children:"Senha"}),v.jsx(Ct,{id:"password",type:"password",placeholder:"Sua senha",value:c,onChange:T=>u(T.target.value),required:!0})]}),v.jsx(jt,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:h,children:h?"Entrando...":"Entrar"})]}),v.jsx("div",{className:"mt-6 text-center",children:v.jsxs("p",{className:"text-sm text-gray-600",children:["Não tem uma conta?"," ",v.jsx("button",{onClick:t,className:"text-green-600 hover:underline font-medium",children:"Cadastre-se"})]})})]})]})]})})}function f3({onBack:r,onRegister:e}){const[t,i]=N.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",cnh:"",vehicle:"",plate:"",year:"",pixKey:""}),[o,c]=N.useState(!1),[u,h]=N.useState(""),p=_=>{i({...t,[_.target.name]:_.target.value})},g=async _=>{if(_.preventDefault(),c(!0),h(""),t.password!==t.confirmPassword){h("As senhas não coincidem!"),c(!1);return}if(t.password.length<6){h("A senha deve ter pelo menos 6 caracteres!"),c(!1);return}try{const T=(await F2(Gy,t.email,t.password)).user;await K2(T,{displayName:t.name});const C={id:T.uid,name:t.name,email:t.email,phone:t.phone,cnh:t.cnh,vehicle:t.vehicle,plate:t.plate,year:t.year,pixKey:t.pixKey,provider:"firebase",type:"driver",available:!1,trips:0,rating:"5.0",createdAt:new Date().toISOString()},O=JSON.parse(localStorage.getItem("drivers")||"[]");O.push(C),localStorage.setItem("drivers",JSON.stringify(O)),localStorage.setItem("currentDriver",JSON.stringify(C)),e(C)}catch(w){console.error("Erro no cadastro:",w);let T="Erro ao criar conta. Tente novamente.";switch(w.code){case"auth/email-already-in-use":T="Este e-mail já está em uso.";break;case"auth/invalid-email":T="E-mail inválido.";break;case"auth/weak-password":T="A senha é muito fraca.";break}h(T)}finally{c(!1)}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-md",children:[v.jsxs(jt,{variant:"ghost",onClick:r,className:"mb-4",children:[v.jsx(Gd,{className:"w-4 h-4 mr-2"}),"Voltar"]}),v.jsxs(Tt,{children:[v.jsxs(nn,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(yr,{className:"w-8 h-8 text-green-600"})}),v.jsx(rn,{className:"text-2xl",children:"Cadastro do Motorista"}),v.jsx(Di,{children:"Crie sua conta para aceitar corridas"})]}),v.jsxs(Vt,{children:[u&&v.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:v.jsx("p",{className:"text-sm text-red-700",children:u})}),v.jsxs("form",{onSubmit:g,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"name",children:"Nome completo"}),v.jsx(Ct,{id:"name",name:"name",type:"text",placeholder:"Seu nome completo",value:t.name,onChange:p,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"email",children:"Email"}),v.jsx(Ct,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",value:t.email,onChange:p,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"phone",children:"Telefone"}),v.jsx(Ct,{id:"phone",name:"phone",type:"tel",placeholder:"(51) 99999-9999",value:t.phone,onChange:p,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"cnh",children:"CNH"}),v.jsx(Ct,{id:"cnh",name:"cnh",type:"text",placeholder:"Número da CNH",value:t.cnh,onChange:p,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"vehicle",children:"Veículo"}),v.jsx(Ct,{id:"vehicle",name:"vehicle",type:"text",placeholder:"Ex: Honda Civic",value:t.vehicle,onChange:p,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"plate",children:"Placa"}),v.jsx(Ct,{id:"plate",name:"plate",type:"text",placeholder:"ABC-1234",value:t.plate,onChange:p,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"year",children:"Ano do veículo"}),v.jsx(Ct,{id:"year",name:"year",type:"number",placeholder:"2020",value:t.year,onChange:p,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"pixKey",children:"Chave PIX"}),v.jsx(Ct,{id:"pixKey",name:"pixKey",type:"text",placeholder:"Email, telefone ou chave aleatória",value:t.pixKey,onChange:p,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"password",children:"Senha"}),v.jsx(Ct,{id:"password",name:"password",type:"password",placeholder:"Sua senha",value:t.password,onChange:p,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:"confirmPassword",children:"Confirmar senha"}),v.jsx(Ct,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirme sua senha",value:t.confirmPassword,onChange:p,required:!0})]}),v.jsx(jt,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:o,children:o?"Cadastrando...":"Cadastrar"})]})]})]})]})})}const d3=Hw("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function h3({className:r,variant:e,asChild:t=!1,...i}){const o=t?Bw:"span";return v.jsx(o,{"data-slot":"badge",className:Qt(d3({variant:e}),r),...i})}var Ah="Switch",[m3,x3]=qa(Ah),[p3,g3]=m3(Ah),o1=N.forwardRef((r,e)=>{const{__scopeSwitch:t,name:i,checked:o,defaultChecked:c,required:u,disabled:h,value:p="on",onCheckedChange:g,form:_,...w}=r,[T,C]=N.useState(null),O=pt(e,F=>C(F)),x=N.useRef(!1),I=T?_||!!T.closest("form"):!0,[z,H]=au({prop:o,defaultProp:c??!1,onChange:g,caller:Ah});return v.jsxs(p3,{scope:t,checked:z,disabled:h,children:[v.jsx(nt.button,{type:"button",role:"switch","aria-checked":z,"aria-required":u,"data-state":f1(z),"data-disabled":h?"":void 0,disabled:h,value:p,...w,ref:O,onClick:et(r.onClick,F=>{H(Z=>!Z),I&&(x.current=F.isPropagationStopped(),x.current||F.stopPropagation())})}),I&&v.jsx(u1,{control:T,bubbles:!x.current,name:i,value:p,checked:z,required:u,disabled:h,form:_,style:{transform:"translateX(-100%)"}})]})});o1.displayName=Ah;var l1="SwitchThumb",c1=N.forwardRef((r,e)=>{const{__scopeSwitch:t,...i}=r,o=g3(l1,t);return v.jsx(nt.span,{"data-state":f1(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e})});c1.displayName=l1;var y3="SwitchBubbleInput",u1=N.forwardRef(({__scopeSwitch:r,control:e,checked:t,bubbles:i=!0,...o},c)=>{const u=N.useRef(null),h=pt(u,c),p=rv(t),g=ev(e);return N.useEffect(()=>{const _=u.current;if(!_)return;const w=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(w,"checked").set;if(p!==t&&C){const O=new Event("click",{bubbles:i});C.call(_,t),_.dispatchEvent(O)}},[p,t,i]),v.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:h,style:{...o.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});u1.displayName=y3;function f1(r){return r?"checked":"unchecked"}var v3=o1,_3=c1;function E3({className:r,...e}){return v.jsx(v3,{"data-slot":"switch",className:Qt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...e,children:v.jsx(_3,{"data-slot":"switch-thumb",className:Qt("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function b3({onLogout:r}){const[e,t]=N.useState([]),[i,o]=N.useState(null),[c,u]=N.useState(0),[h,p]=N.useState({}),[g,_]=N.useState(null);N.useEffect(()=>{const I=localStorage.getItem("currentDriverId");if(!I){r();return}(async()=>{const Z=await Zo.getById(I);Z?(_(Z),setIsAvailable(Z.available||!1)):r()})(),(async()=>{if(g)try{await Zo.update(g.id,{available:isAvailable})}catch(Z){console.error("Erro ao atualizar disponibilidade:",Z)}})();let F=null;return isAvailable&&(g!=null&&g.id)&&(F=gr.onPendingRequestsChange(Z=>{const ee=Z.filter(D=>D.status==="waitingPrice"&&D.driverId===g.id);t(ee);const ce=Z.filter(D=>D.status==="accepted"&&D.driverId===g.id);ce.length>0&&!i&&o(ce[0])})),()=>{F&&F()}},[isAvailable,i,r,g]);const w=(I,z)=>{p(H=>({...H,[I]:z}))},T=async I=>{const z=h[I.id];if(!z||z<=0){alert("Por favor, insira um preço válido!");return}try{await gr.update(I.id,{status:"priceProposed",proposedPrice:parseFloat(z)}),p(H=>{const F={...H};return delete F[I.id],F}),alert(`Proposta de R$ ${z} enviada para ${I.userName}!`)}catch(H){console.error("Erro ao enviar proposta:",H),alert("Erro ao enviar proposta. Tente novamente.")}},C=async I=>{try{await gr.update(I,{status:"rejected"})}catch(z){console.error("Erro ao rejeitar corrida:",z),alert("Erro ao rejeitar corrida. Tente novamente.")}},O=async()=>{if(i)try{await gr.update(i.id,{status:"inProgress"}),o(I=>({...I,status:"inProgress"}))}catch(I){console.error("Erro ao iniciar corrida:",I),alert("Erro ao iniciar corrida. Tente novamente.")}},x=async()=>{if(i)try{const I=i.acceptedPrice||i.proposedPrice||0;u(z=>z+I),await gr.update(i.id,{status:"completed"}),o(null),alert(`Corrida finalizada! Você ganhou R$ ${I.toFixed(2)}`)}catch(I){console.error("Erro ao finalizar corrida:",I),alert("Erro ao finalizar corrida. Tente novamente.")}};return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("div",{className:"bg-white shadow-sm border-b",children:v.jsxs("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:v.jsx(yr,{className:"w-5 h-5 text-green-600"})}),v.jsxs("div",{children:[v.jsxs("h1",{className:"font-semibold text-gray-900",children:["Olá, ",g==null?void 0:g.name]}),v.jsxs("p",{className:"text-sm text-gray-500",children:[g==null?void 0:g.vehicle," - ",g==null?void 0:g.plate]})]})]}),v.jsx(jt,{variant:"ghost",size:"sm",onClick:r,children:v.jsx(aT,{className:"w-4 h-4"})})]})}),v.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-4",children:[v.jsxs(Tt,{children:[v.jsx(nn,{children:v.jsxs(rn,{className:"flex items-center justify-between",children:[v.jsx("span",{children:"Status"}),v.jsx(h3,{variant:isAvailable?"default":"secondary",children:isAvailable?"Disponível":"Indisponível"})]})}),v.jsx(Vt,{children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(E3,{checked:isAvailable,onCheckedChange:setIsAvailable}),v.jsx("span",{className:"text-sm",children:isAvailable?"Você está online e pode receber corridas":"Você está offline"})]})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx(Tt,{children:v.jsx(Vt,{className:"pt-6",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(od,{className:"w-4 h-4 text-yellow-500"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-2xl font-bold",children:(g==null?void 0:g.rating)||"4.8"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Avaliação"})]})]})})}),v.jsx(Tt,{children:v.jsx(Vt,{className:"pt-6",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(yr,{className:"w-4 h-4 text-blue-500"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-2xl font-bold",children:(g==null?void 0:g.trips)||0}),v.jsx("p",{className:"text-xs text-gray-500",children:"Corridas"})]})]})})})]}),v.jsxs(Tt,{children:[v.jsx(nn,{children:v.jsxs(rn,{className:"flex items-center space-x-2",children:[v.jsx(sT,{className:"w-5 h-5"}),v.jsx("span",{children:"Ganhos de hoje"})]})}),v.jsx(Vt,{children:v.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["R$ ",c.toFixed(2)]})})]}),i&&v.jsxs(Tt,{className:"border-blue-200 bg-blue-50",children:[v.jsx(nn,{children:v.jsx(rn,{className:"text-blue-900",children:i.status==="inProgress"?"Corrida em andamento":"Corrida aceita"})}),v.jsxs(Vt,{className:"space-y-3",children:[v.jsx("div",{className:"p-3 bg-white border border-blue-200 rounded-lg",children:v.jsxs("div",{className:"flex items-start space-x-2",children:[v.jsx(sg,{className:"w-4 h-4 text-blue-600 mt-1"}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("p",{className:"font-medium text-blue-900",children:["Passageiro: ",i.userName]}),v.jsxs("p",{className:"text-sm text-blue-700",children:["Telefone: ",i.userPhone]}),v.jsxs("p",{className:"text-sm text-blue-700",children:["De: ",i.origin]}),v.jsxs("p",{className:"text-sm text-blue-700",children:["Para: ",i.destination]}),v.jsxs("p",{className:"text-sm font-semibold text-green-700",children:["Preço: R$ ",(i.acceptedPrice||i.proposedPrice||0).toFixed(2)]}),v.jsxs("p",{className:"text-sm text-blue-600",children:["Pagamento: ",i.paymentMethod==="pix"?"PIX":"Dinheiro"]})]})]})}),i.status==="accepted"&&v.jsx(jt,{onClick:O,className:"w-full bg-blue-600 hover:bg-blue-700",children:"Iniciar corrida"}),i.status==="inProgress"&&v.jsxs(jt,{onClick:x,className:"w-full bg-green-600 hover:bg-green-700",children:[v.jsx(rT,{className:"w-4 h-4 mr-2"}),"Finalizar corrida"]})]})]}),isAvailable&&e.length>0&&v.jsxs(Tt,{className:"border-orange-200 bg-orange-50",children:[v.jsxs(nn,{children:[v.jsx(rn,{className:"text-orange-900",children:"Solicitações de Corrida"}),v.jsx(Di,{className:"text-orange-700",children:"Analise as solicitações e envie sua proposta de preço"})]}),v.jsx(Vt,{className:"space-y-4",children:e.map(I=>v.jsxs("div",{className:"space-y-3 p-4 bg-white rounded-lg border border-orange-200",children:[v.jsxs("div",{className:"flex items-start space-x-2",children:[v.jsx(sg,{className:"w-4 h-4 text-orange-600 mt-1"}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("p",{className:"font-medium text-orange-900",children:["Passageiro: ",I.userName]}),v.jsxs("p",{className:"text-sm text-orange-700",children:["Telefone: ",I.userPhone]}),v.jsxs("p",{className:"text-sm text-orange-700",children:[v.jsx("strong",{children:"De:"})," ",I.origin]}),v.jsxs("p",{className:"text-sm text-orange-700",children:[v.jsx("strong",{children:"Para:"})," ",I.destination]})]})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(iT,{className:"w-4 h-4 text-orange-600"}),v.jsxs("p",{className:"text-sm text-orange-700",children:["Solicitado há ",Math.floor((Date.now()-new Date(I.createdAt).getTime())/6e4)," min"]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(dt,{htmlFor:`price-${I.id}`,className:"text-orange-900",children:"Qual o preço da corrida?"}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("span",{className:"text-lg font-semibold text-orange-900",children:"R$"}),v.jsx(Ct,{id:`price-${I.id}`,type:"number",step:"0.01",min:"1",placeholder:"0,00",value:h[I.id]||"",onChange:z=>w(I.id,z.target.value),className:"flex-1"})]})]}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsxs(jt,{onClick:()=>T(I),disabled:!h[I.id]||h[I.id]<=0,className:"flex-1 bg-orange-600 hover:bg-orange-700",children:[v.jsx(sI,{className:"w-4 h-4 mr-2"}),"Enviar Proposta"]}),v.jsx(jt,{onClick:()=>C(I.id),variant:"outline",className:"flex-1 border-red-300 text-red-700 hover:bg-red-50",children:"Recusar"})]})]},I.id))})]}),isAvailable&&e.length===0&&!i&&v.jsx(Tt,{children:v.jsx(Vt,{className:"pt-6",children:v.jsxs("div",{className:"text-center text-gray-500",children:[v.jsx(yr,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),v.jsx("p",{className:"text-sm",children:"Aguardando solicitações de corrida..."}),v.jsx("p",{className:"text-xs mt-1",children:"Mantenha-se próximo ao centro da cidade"})]})})}),!isAvailable&&v.jsx(Tt,{children:v.jsx(Vt,{className:"pt-6",children:v.jsxs("div",{className:"text-center text-gray-500",children:[v.jsx(yr,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),v.jsx("p",{className:"text-sm",children:"Você está offline"}),v.jsx("p",{className:"text-xs mt-1",children:"Ative seu status para receber corridas"})]})})})]})]})}function w3(){const[r,e]=N.useState("profile-selection"),[t,i]=N.useState(null),[o,c]=N.useState(null);N.useEffect(()=>{const x=localStorage.getItem("currentUser"),I=localStorage.getItem("currentDriver");if(x){const z=JSON.parse(x);i(z),e("user-dashboard")}else if(I){const z=JSON.parse(I);c(z),e("driver-dashboard")}},[]);const u=x=>{e(x==="user"?"user-login":"driver-login")},h=x=>{i(x),x.provider==="google"&&!x.phone?e("user-profile"):e("user-dashboard")},p=x=>{c(x),e("driver-dashboard")},g=x=>{i(x),e("user-dashboard")},_=x=>{c(x),e("driver-dashboard")},w=x=>{i(x),e("user-dashboard")},T=()=>{localStorage.removeItem("currentUser"),i(null),e("profile-selection")},C=()=>{localStorage.removeItem("currentDriver"),c(null),e("profile-selection")},O=()=>{e("profile-selection")};switch(r){case"profile-selection":return v.jsx(ME,{onProfileSelect:u});case"user-login":return v.jsx(Tk,{onBack:O,onLogin:h,onRegister:()=>e("user-register")});case"user-register":return v.jsx(Ik,{onBack:()=>e("user-login"),onRegister:g});case"user-profile":return v.jsx(Nk,{user:t,onProfileComplete:w});case"user-dashboard":return v.jsx(c3,{user:t,onLogout:T});case"driver-login":return v.jsx(u3,{onBack:O,onLogin:p,onRegister:()=>e("driver-register")});case"driver-register":return v.jsx(f3,{onBack:()=>e("driver-login"),onRegister:_});case"driver-dashboard":return v.jsx(b3,{driver:o,onLogout:C});default:return v.jsx(ME,{onProfileSelect:u})}}GR.createRoot(document.getElementById("root")).render(v.jsx(N.StrictMode,{children:v.jsx(w3,{})}));
