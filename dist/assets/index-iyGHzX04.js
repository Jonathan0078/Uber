function kR(r,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const c=Object.getOwnPropertyDescriptor(s,o);c&&Object.defineProperty(r,o,c.get?c:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function Pw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bp={exports:{}},Rc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function VR(){if(fE)return Rc;fE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:u,ref:o!==void 0?o:null,props:c}}return Rc.Fragment=e,Rc.jsx=t,Rc.jsxs=t,Rc}var hE;function jR(){return hE||(hE=1,bp.exports=VR()),bp.exports}var v=jR(),wp={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function LR(){if(dE)return Ve;dE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,R={};function N(V,ne,he){this.props=V,this.context=ne,this.refs=R,this.updater=he||x}N.prototype.isReactComponent={},N.prototype.setState=function(V,ne){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ne,"setState")},N.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function L(){}L.prototype=N.prototype;function B(V,ne,he){this.props=V,this.context=ne,this.refs=R,this.updater=he||x}var H=B.prototype=new L;H.constructor=B,D(H,N.prototype),H.isPureReactComponent=!0;var Z=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function P(V,ne,he,oe,pe,Re){return he=Re.ref,{$$typeof:r,type:V,key:ne,ref:he!==void 0?he:null,props:Re}}function A(V,ne){return P(V.type,ne,void 0,void 0,void 0,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function j(V){var ne={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(he){return ne[he]})}var U=/\/+/g;function z(V,ne){return typeof V=="object"&&V!==null&&V.key!=null?j(""+V.key):ne.toString(36)}function M(){}function fe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(M,M):(V.status="pending",V.then(function(ne){V.status==="pending"&&(V.status="fulfilled",V.value=ne)},function(ne){V.status==="pending"&&(V.status="rejected",V.reason=ne)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ue(V,ne,he,oe,pe){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var we=!1;if(V===null)we=!0;else switch(Re){case"bigint":case"string":case"number":we=!0;break;case"object":switch(V.$$typeof){case r:case e:we=!0;break;case _:return we=V._init,ue(we(V._payload),ne,he,oe,pe)}}if(we)return pe=pe(V),we=oe===""?"."+z(V,0):oe,Z(pe)?(he="",we!=null&&(he=we.replace(U,"$&/")+"/"),ue(pe,ne,he,"",function(Xe){return Xe})):pe!=null&&(O(pe)&&(pe=A(pe,he+(pe.key==null||V&&V.key===pe.key?"":(""+pe.key).replace(U,"$&/")+"/")+we)),ne.push(pe)),1;we=0;var me=oe===""?".":oe+":";if(Z(V))for(var Se=0;Se<V.length;Se++)oe=V[Se],Re=me+z(oe,Se),we+=ue(oe,ne,he,Re,pe);else if(Se=T(V),typeof Se=="function")for(V=Se.call(V),Se=0;!(oe=V.next()).done;)oe=oe.value,Re=me+z(oe,Se++),we+=ue(oe,ne,he,Re,pe);else if(Re==="object"){if(typeof V.then=="function")return ue(fe(V),ne,he,oe,pe);throw ne=String(V),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function F(V,ne,he){if(V==null)return V;var oe=[],pe=0;return ue(V,oe,"","",function(Re){return ne.call(he,Re,pe++)}),oe}function ie(V){if(V._status===-1){var ne=V._result;ne=ne(),ne.then(function(he){(V._status===0||V._status===-1)&&(V._status=1,V._result=he)},function(he){(V._status===0||V._status===-1)&&(V._status=2,V._result=he)}),V._status===-1&&(V._status=0,V._result=ne)}if(V._status===1)return V._result.default;throw V._result}var W=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function be(){}return Ve.Children={map:F,forEach:function(V,ne,he){F(V,function(){ne.apply(this,arguments)},he)},count:function(V){var ne=0;return F(V,function(){ne++}),ne},toArray:function(V){return F(V,function(ne){return ne})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ve.Component=N,Ve.Fragment=t,Ve.Profiler=o,Ve.PureComponent=B,Ve.StrictMode=s,Ve.Suspense=p,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ee.H.useMemoCache(V)}},Ve.cache=function(V){return function(){return V.apply(null,arguments)}},Ve.cloneElement=function(V,ne,he){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=D({},V.props),pe=V.key,Re=void 0;if(ne!=null)for(we in ne.ref!==void 0&&(Re=void 0),ne.key!==void 0&&(pe=""+ne.key),ne)!ce.call(ne,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ne.ref===void 0||(oe[we]=ne[we]);var we=arguments.length-2;if(we===1)oe.children=he;else if(1<we){for(var me=Array(we),Se=0;Se<we;Se++)me[Se]=arguments[Se+2];oe.children=me}return P(V.type,pe,void 0,void 0,Re,oe)},Ve.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Ve.createElement=function(V,ne,he){var oe,pe={},Re=null;if(ne!=null)for(oe in ne.key!==void 0&&(Re=""+ne.key),ne)ce.call(ne,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(pe[oe]=ne[oe]);var we=arguments.length-2;if(we===1)pe.children=he;else if(1<we){for(var me=Array(we),Se=0;Se<we;Se++)me[Se]=arguments[Se+2];pe.children=me}if(V&&V.defaultProps)for(oe in we=V.defaultProps,we)pe[oe]===void 0&&(pe[oe]=we[oe]);return P(V,Re,void 0,void 0,null,pe)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(V){return{$$typeof:d,render:V}},Ve.isValidElement=O,Ve.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:ie}},Ve.memo=function(V,ne){return{$$typeof:g,type:V,compare:ne===void 0?null:ne}},Ve.startTransition=function(V){var ne=ee.T,he={};ee.T=he;try{var oe=V(),pe=ee.S;pe!==null&&pe(he,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(be,W)}catch(Re){W(Re)}finally{ee.T=ne}},Ve.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Ve.use=function(V){return ee.H.use(V)},Ve.useActionState=function(V,ne,he){return ee.H.useActionState(V,ne,he)},Ve.useCallback=function(V,ne){return ee.H.useCallback(V,ne)},Ve.useContext=function(V){return ee.H.useContext(V)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(V,ne){return ee.H.useDeferredValue(V,ne)},Ve.useEffect=function(V,ne,he){var oe=ee.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(V,ne)},Ve.useId=function(){return ee.H.useId()},Ve.useImperativeHandle=function(V,ne,he){return ee.H.useImperativeHandle(V,ne,he)},Ve.useInsertionEffect=function(V,ne){return ee.H.useInsertionEffect(V,ne)},Ve.useLayoutEffect=function(V,ne){return ee.H.useLayoutEffect(V,ne)},Ve.useMemo=function(V,ne){return ee.H.useMemo(V,ne)},Ve.useOptimistic=function(V,ne){return ee.H.useOptimistic(V,ne)},Ve.useReducer=function(V,ne,he){return ee.H.useReducer(V,ne,he)},Ve.useRef=function(V){return ee.H.useRef(V)},Ve.useState=function(V){return ee.H.useState(V)},Ve.useSyncExternalStore=function(V,ne,he){return ee.H.useSyncExternalStore(V,ne,he)},Ve.useTransition=function(){return ee.H.useTransition()},Ve.version="19.1.0",Ve}var mE;function qg(){return mE||(mE=1,wp.exports=LR()),wp.exports}var I=qg();const ps=Pw(I),Mw=kR({__proto__:null,default:ps},[I]);var Tp={exports:{}},Cc={},Sp={exports:{}},Ap={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function UR(){return pE||(pE=1,function(r){function e(F,ie){var W=F.length;F.push(ie);e:for(;0<W;){var be=W-1>>>1,V=F[be];if(0<o(V,ie))F[be]=ie,F[W]=V,W=be;else break e}}function t(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var ie=F[0],W=F.pop();if(W!==ie){F[0]=W;e:for(var be=0,V=F.length,ne=V>>>1;be<ne;){var he=2*(be+1)-1,oe=F[he],pe=he+1,Re=F[pe];if(0>o(oe,W))pe<V&&0>o(Re,oe)?(F[be]=Re,F[pe]=W,be=pe):(F[be]=oe,F[he]=W,be=he);else if(pe<V&&0>o(Re,W))F[be]=Re,F[pe]=W,be=pe;else break e}}return ie}function o(F,ie){var W=F.sortIndex-ie.sortIndex;return W!==0?W:F.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var u=Date,d=u.now();r.unstable_now=function(){return u.now()-d}}var p=[],g=[],_=1,w=null,T=3,x=!1,D=!1,R=!1,N=!1,L=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function Z(F){for(var ie=t(g);ie!==null;){if(ie.callback===null)s(g);else if(ie.startTime<=F)s(g),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=t(g)}}function ee(F){if(R=!1,Z(F),!D)if(t(p)!==null)D=!0,ce||(ce=!0,z());else{var ie=t(g);ie!==null&&ue(ee,ie.startTime-F)}}var ce=!1,P=-1,A=5,O=-1;function j(){return N?!0:!(r.unstable_now()-O<A)}function U(){if(N=!1,ce){var F=r.unstable_now();O=F;var ie=!0;try{e:{D=!1,R&&(R=!1,B(P),P=-1),x=!0;var W=T;try{t:{for(Z(F),w=t(p);w!==null&&!(w.expirationTime>F&&j());){var be=w.callback;if(typeof be=="function"){w.callback=null,T=w.priorityLevel;var V=be(w.expirationTime<=F);if(F=r.unstable_now(),typeof V=="function"){w.callback=V,Z(F),ie=!0;break t}w===t(p)&&s(p),Z(F)}else s(p);w=t(p)}if(w!==null)ie=!0;else{var ne=t(g);ne!==null&&ue(ee,ne.startTime-F),ie=!1}}break e}finally{w=null,T=W,x=!1}ie=void 0}}finally{ie?z():ce=!1}}}var z;if(typeof H=="function")z=function(){H(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,fe=M.port2;M.port1.onmessage=U,z=function(){fe.postMessage(null)}}else z=function(){L(U,0)};function ue(F,ie){P=L(function(){F(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(F){switch(T){case 1:case 2:case 3:var ie=3;break;default:ie=T}var W=T;T=ie;try{return F()}finally{T=W}},r.unstable_requestPaint=function(){N=!0},r.unstable_runWithPriority=function(F,ie){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=T;T=F;try{return ie()}finally{T=W}},r.unstable_scheduleCallback=function(F,ie,W){var be=r.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?be+W:be):W=be,F){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=W+V,F={id:_++,callback:ie,priorityLevel:F,startTime:W,expirationTime:V,sortIndex:-1},W>be?(F.sortIndex=W,e(g,F),t(p)===null&&F===t(g)&&(R?(B(P),P=-1):R=!0,ue(ee,W-be))):(F.sortIndex=V,e(p,F),D||x||(D=!0,ce||(ce=!0,z()))),F},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(F){var ie=T;return function(){var W=T;T=ie;try{return F.apply(this,arguments)}finally{T=W}}}}(Ap)),Ap}var gE;function zR(){return gE||(gE=1,Sp.exports=UR()),Sp.exports}var xp={exports:{}},yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function BR(){if(yE)return yn;yE=1;var r=qg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,g,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:_}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,yn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(p,g,null,_)},yn.flushSync=function(p){var g=u.T,_=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=g,s.p=_,s.d.f()}},yn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},yn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},yn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,w=d(_,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:x}):_==="script"&&s.d.X(p,{crossOrigin:w,integrity:T,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},yn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,w=d(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},yn.requestFormReset=function(p){s.d.r(p)},yn.unstable_batchedUpdates=function(p,g){return p(g)},yn.useFormState=function(p,g,_){return u.H.useFormState(p,g,_)},yn.useFormStatus=function(){return u.H.useHostTransitionStatus()},yn.version="19.1.0",yn}var vE;function kw(){if(vE)return xp.exports;vE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xp.exports=BR(),xp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function qR(){if(_E)return Cc;_E=1;var r=zR(),e=qg(),t=kw();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(c(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return d(h),n;if(m===l)return d(h),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=m;else{for(var b=!1,S=h.child;S;){if(S===a){b=!0,a=h,l=m;break}if(S===l){b=!0,l=h,a=m;break}S=S.sibling}if(!b){for(S=m.child;S;){if(S===a){b=!0,a=m,l=h;break}if(S===l){b=!0,l=m,a=h;break}S=S.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),H=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function fe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case N:return"Profiler";case R:return"StrictMode";case ee:return"Suspense";case ce:return"SuspenseList";case O:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case H:return(n.displayName||"Context")+".Provider";case B:return(n._context.displayName||"Context")+".Consumer";case Z:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case P:return i=n.displayName||null,i!==null?i:fe(n.type)||"Memo";case A:i=n._payload,n=n._init;try{return fe(n(i))}catch{}}return null}var ue=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},be=[],V=-1;function ne(n){return{current:n}}function he(n){0>V||(n.current=be[V],be[V]=null,V--)}function oe(n,i){V++,be[V]=n.current,n.current=i}var pe=ne(null),Re=ne(null),we=ne(null),me=ne(null);function Se(n,i){switch(oe(we,i),oe(Re,n),oe(pe,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?U0(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=U0(i),n=z0(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}he(pe),oe(pe,n)}function Xe(){he(pe),he(Re),he(we)}function je(n){n.memoizedState!==null&&oe(me,n);var i=pe.current,a=z0(i,n.type);i!==a&&(oe(Re,n),oe(pe,a))}function Me(n){Re.current===n&&(he(pe),he(Re)),me.current===n&&(he(me),wc._currentValue=W)}var ke=Object.prototype.hasOwnProperty,St=r.unstable_scheduleCallback,Qt=r.unstable_cancelCallback,sr=r.unstable_shouldYield,Tr=r.unstable_requestPaint,$t=r.unstable_now,El=r.unstable_getCurrentPriorityLevel,Sr=r.unstable_ImmediatePriority,Ha=r.unstable_UserBlockingPriority,Fs=r.unstable_NormalPriority,wd=r.unstable_LowPriority,Fa=r.unstable_IdlePriority,bl=r.log,bu=r.unstable_setDisableYieldValue,Et=null,rt=null;function On(n){if(typeof bl=="function"&&bu(n),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(Et,n)}catch{}}var pn=Math.clz32?Math.clz32:Gs,wu=Math.log,Td=Math.LN2;function Gs(n){return n>>>=0,n===0?32:31-(wu(n)/Td|0)|0}var Ks=256,Ys=4194304;function ar(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ga(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,m=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?h=ar(l):(b&=S,b!==0?h=ar(b):a||(a=S&~n,a!==0&&(h=ar(a))))):(S=l&~m,S!==0?h=ar(S):b!==0?h=ar(b):a||(a=l&~n,a!==0&&(h=ar(a)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:h}function Qs(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function wl(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tl(){var n=Ks;return Ks<<=1,(Ks&4194048)===0&&(Ks=256),n}function Sl(){var n=Ys;return Ys<<=1,(Ys&62914560)===0&&(Ys=4194304),n}function Jr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function ei(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Al(n,i,a,l,h,m){var b=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,k=n.expirationTimes,Q=n.hiddenUpdates;for(a=b&~a;0<a;){var te=31-pn(a),ae=1<<te;S[te]=0,k[te]=-1;var $=Q[te];if($!==null)for(Q[te]=null,te=0;te<$.length;te++){var X=$[te];X!==null&&(X.lane&=-536870913)}a&=~ae}l!==0&&Ar(n,l,0),m!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=m&~(b&~i))}function Ar(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-pn(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function xl(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-pn(a),h=1<<l;h&i|n[l]&i&&(n[l]|=i),a&=~h}}function Ui(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ka(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function zi(){var n=ie.p;return n!==0?n:(n=window.event,n===void 0?32:sE(n.type))}function Tu(n,i){var a=ie.p;try{return ie.p=n,i()}finally{ie.p=a}}var gt=Math.random().toString(36).slice(2),zt="__reactFiber$"+gt,Nt="__reactProps$"+gt,Gn="__reactContainer$"+gt,Rl="__reactEvents$"+gt,Sd="__reactListeners$"+gt,Bi="__reactHandles$"+gt,Su="__reactResources$"+gt,$s="__reactMarker$"+gt;function qi(n){delete n[zt],delete n[Nt],delete n[Rl],delete n[Sd],delete n[Bi]}function ti(n){var i=n[zt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Gn]||a[zt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=F0(n);n!==null;){if(a=n[zt])return a;n=F0(n)}return i}n=a,a=n.parentNode}return null}function xr(n){if(n=n[zt]||n[Gn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Rr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function Tn(n){var i=n[Su];return i||(i=n[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(n){n[$s]=!0}var Cl=new Set,Ya={};function or(n,i){ni(n,i),ni(n+"Capture",i)}function ni(n,i){for(Ya[n]=i,n=0;n<i.length;n++)Cl.add(i[n])}var Au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xu={},Xs={};function Ru(n){return ke.call(Xs,n)?!0:ke.call(xu,n)?!1:Au.test(n)?Xs[n]=!0:(xu[n]=!0,!1)}function Hi(n,i,a){if(Ru(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Cr(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function an(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var Ws,Cu;function ri(n){if(Ws===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ws=i&&i[1]||"",Cu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ws+n+Cu}var Qa=!1;function $a(n,i){if(!n||Qa)return"";Qa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var $=X}Reflect.construct(n,[],ae)}else{try{ae.call()}catch(X){$=X}n.call(ae.prototype)}}else{try{throw Error()}catch(X){$=X}(ae=n())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],S=m[1];if(b&&S){var k=b.split(`
`),Q=S.split(`
`);for(h=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;if(l===k.length||h===Q.length)for(l=k.length-1,h=Q.length-1;1<=l&&0<=h&&k[l]!==Q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(k[l]!==Q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||k[l]!==Q[h]){var te=`
`+k[l].replace(" at new "," at ");return n.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",n.displayName)),te}while(1<=l&&0<=h);break}}}finally{Qa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?ri(a):""}function Il(n){switch(n.tag){case 26:case 27:case 5:return ri(n.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return $a(n.type,!1);case 11:return $a(n.type.render,!1);case 1:return $a(n.type,!0);case 31:return ri("Activity");default:return""}}function Xa(n){try{var i="";do i+=Il(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Nl(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ad(n){var i=Nl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Wa(n){n._valueTracker||(n._valueTracker=Ad(n))}function Dl(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Nl(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function Zs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var xd=/[\n"\\]/g;function Dt(n){return n.replace(xd,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Pn(n,i,a,l,h,m,b,S){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),i!=null?b==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Sn(i)):n.value!==""+Sn(i)&&(n.value=""+Sn(i)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),i!=null?Fi(n,b,Sn(i)):a!=null?Fi(n,b,Sn(a)):l!=null&&n.removeAttribute("value"),h==null&&m!=null&&(n.defaultChecked=!!m),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Sn(S):n.removeAttribute("name")}function Js(n,i,a,l,h,m,b,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+Sn(a):"",i=i!=null?""+Sn(i):a,S||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b)}function Fi(n,i,a){i==="number"&&Zs(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ii(n,i,a,l){if(n=n.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=i.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Sn(a),i=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function at(n,i,a){if(i!=null&&(i=""+Sn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Sn(a):""}function ea(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ue(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Sn(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Kn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var ta=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Iu(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||ta.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Ol(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Iu(n,h,l)}else for(var m in i)i.hasOwnProperty(m)&&Iu(n,m,i[m])}function Pl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Za(n){return Cd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var si=null;function Yn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ai=null,oi=null;function Ml(n){var i=xr(n);if(i&&(n=i.stateNode)){var a=n[Nt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Pn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var h=l[Nt]||null;if(!h)throw Error(s(90));Pn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Dl(l)}break e;case"textarea":at(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ii(n,!!a.multiple,i,!1)}}}var Ir=!1;function Nu(n,i,a){if(Ir)return n(i,a);Ir=!0;try{var l=n(i);return l}finally{if(Ir=!1,(ai!==null||oi!==null)&&(Sf(),ai&&(i=ai,n=oi,oi=ai=null,Ml(i),n)))for(i=0;i<n.length;i++)Ml(n[i])}}function na(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Nt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qn=!1;if(lr)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){Qn=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{Qn=!1}var Nr=null,Gi=null,li=null;function kl(){if(li)return li;var n,i=Gi,a=i.length,l,h="value"in Nr?Nr.value:Nr.textContent,m=h.length;for(n=0;n<a&&i[n]===h[n];n++);var b=a-n;for(l=1;l<=b&&i[a-l]===h[m-l];l++);return li=h.slice(n,1<l?1-l:void 0)}function Dr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Or(){return!0}function Vl(){return!1}function Xt(n){function i(a,l,h,m,b){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Or:Vl,this.isPropagationStopped=Vl,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),i}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ja=Xt(Je),ia=_({},Je,{view:0,detail:0}),Du=Xt(ia),eo,to,Pr,sa=_({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:la,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Pr&&(Pr&&n.type==="mousemove"?(eo=n.screenX-Pr.screenX,to=n.screenY-Pr.screenY):to=eo=0,Pr=n),eo)},movementY:function(n){return"movementY"in n?n.movementY:to}}),$n=Xt(sa),Ou=_({},sa,{dataTransfer:0}),Id=Xt(Ou),aa=_({},ia,{relatedTarget:0}),no=Xt(aa),jl=_({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),ro=Xt(jl),Pu=_({},Je,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),io=Xt(Pu),Nd=_({},Je,{data:0}),Ll=Xt(Nd),oa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ul(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=ku[n])?!!i[n]:!1}function la(){return Ul}var Vu=_({},ia,{key:function(n){if(n.key){var i=oa[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Dr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Mu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:la,charCode:function(n){return n.type==="keypress"?Dr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Dr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),so=Xt(Vu),ju=_({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zl=Xt(ju),ci=_({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:la}),Lu=Xt(ci),Uu=_({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),zu=Xt(Uu),Bu=_({},sa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ao=Xt(Bu),An=_({},Je,{newState:0,oldState:0}),qu=Xt(An),Hu=[9,13,27,32],Mr=lr&&"CompositionEvent"in window,f=null;lr&&"documentMode"in document&&(f=document.documentMode);var y=lr&&"TextEvent"in window&&!f,E=lr&&(!Mr||f&&8<f&&11>=f),C=" ",K=!1;function J(n,i){switch(n){case"keyup":return Hu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ke=!1;function Bt(n,i){switch(n){case"compositionend":return de(i);case"keypress":return i.which!==32?null:(K=!0,C);case"textInput":return n=i.data,n===C&&K?null:n;default:return null}}function Ye(n,i){if(Ke)return n==="compositionend"||!Mr&&J(n,i)?(n=kl(),li=Gi=Nr=null,Ke=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return E&&i.locale!=="ko"?null:i.data;default:return null}}var Wt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Wt[n.type]:i==="textarea"}function ui(n,i,a,l){ai?oi?oi.push(l):oi=[l]:ai=l,i=Nf(i,"onChange"),0<i.length&&(a=new Ja("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var on=null,kr=null;function Bl(n){M0(n,0)}function Fu(n){var i=Rr(n);if(Dl(i))return n}function tv(n,i){if(n==="change")return i}var nv=!1;if(lr){var Dd;if(lr){var Od="oninput"in document;if(!Od){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),Od=typeof rv.oninput=="function"}Dd=Od}else Dd=!1;nv=Dd&&(!document.documentMode||9<document.documentMode)}function iv(){on&&(on.detachEvent("onpropertychange",sv),kr=on=null)}function sv(n){if(n.propertyName==="value"&&Fu(kr)){var i=[];ui(i,kr,n,Yn(n)),Nu(Bl,i)}}function f1(n,i,a){n==="focusin"?(iv(),on=i,kr=a,on.attachEvent("onpropertychange",sv)):n==="focusout"&&iv()}function h1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Fu(kr)}function d1(n,i){if(n==="click")return Fu(i)}function m1(n,i){if(n==="input"||n==="change")return Fu(i)}function p1(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Mn=typeof Object.is=="function"?Object.is:p1;function ql(n,i){if(Mn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ke.call(i,h)||!Mn(n[h],i[h]))return!1}return!0}function av(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ov(n,i){var a=av(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=av(a)}}function lv(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?lv(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function cv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Zs(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Zs(n.document)}return i}function Pd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var g1=lr&&"documentMode"in document&&11>=document.documentMode,oo=null,Md=null,Hl=null,kd=!1;function uv(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kd||oo==null||oo!==Zs(l)||(l=oo,"selectionStart"in l&&Pd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Hl&&ql(Hl,l)||(Hl=l,l=Nf(Md,"onSelect"),0<l.length&&(i=new Ja("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=oo)))}function ca(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var lo={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},Vd={},fv={};lr&&(fv=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function ua(n){if(Vd[n])return Vd[n];if(!lo[n])return n;var i=lo[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in fv)return Vd[n]=i[a];return n}var hv=ua("animationend"),dv=ua("animationiteration"),mv=ua("animationstart"),y1=ua("transitionrun"),v1=ua("transitionstart"),_1=ua("transitioncancel"),pv=ua("transitionend"),gv=new Map,jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jd.push("scrollEnd");function cr(n,i){gv.set(n,i),or(i,[n])}var yv=new WeakMap;function Xn(n,i){if(typeof n=="object"&&n!==null){var a=yv.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Xa(i)},yv.set(n,i),i)}return{value:n,source:i,stack:Xa(i)}}var Wn=[],co=0,Ld=0;function Gu(){for(var n=co,i=Ld=co=0;i<n;){var a=Wn[i];Wn[i++]=null;var l=Wn[i];Wn[i++]=null;var h=Wn[i];Wn[i++]=null;var m=Wn[i];if(Wn[i++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}m!==0&&vv(a,h,m)}}function Ku(n,i,a,l){Wn[co++]=n,Wn[co++]=i,Wn[co++]=a,Wn[co++]=l,Ld|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Ud(n,i,a,l){return Ku(n,i,a,l),Yu(n)}function uo(n,i){return Ku(n,null,null,i),Yu(n)}function vv(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(h=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,h&&i!==null&&(h=31-pn(a),n=m.hiddenUpdates,l=n[h],l===null?n[h]=[i]:l.push(i),i.lane=a|536870912),m):null}function Yu(n){if(50<mc)throw mc=0,Gm=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var fo={};function E1(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(n,i,a,l){return new E1(n,i,a,l)}function zd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function fi(n,i){var a=n.alternate;return a===null?(a=kn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function _v(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Qu(n,i,a,l,h,m){var b=0;if(l=n,typeof n=="function")zd(n)&&(b=1);else if(typeof n=="string")b=wR(n,a,pe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case O:return n=kn(31,a,i,h),n.elementType=O,n.lanes=m,n;case D:return fa(a.children,h,m,i);case R:b=8,h|=24;break;case N:return n=kn(12,a,i,h|2),n.elementType=N,n.lanes=m,n;case ee:return n=kn(13,a,i,h),n.elementType=ee,n.lanes=m,n;case ce:return n=kn(19,a,i,h),n.elementType=ce,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case L:case H:b=10;break e;case B:b=9;break e;case Z:b=11;break e;case P:b=14;break e;case A:b=16,l=null;break e}b=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=kn(b,a,i,h),i.elementType=n,i.type=l,i.lanes=m,i}function fa(n,i,a,l){return n=kn(7,n,l,i),n.lanes=a,n}function Bd(n,i,a){return n=kn(6,n,null,i),n.lanes=a,n}function qd(n,i,a){return i=kn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var ho=[],mo=0,$u=null,Xu=0,Zn=[],Jn=0,ha=null,hi=1,di="";function da(n,i){ho[mo++]=Xu,ho[mo++]=$u,$u=n,Xu=i}function Ev(n,i,a){Zn[Jn++]=hi,Zn[Jn++]=di,Zn[Jn++]=ha,ha=n;var l=hi;n=di;var h=32-pn(l)-1;l&=~(1<<h),a+=1;var m=32-pn(i)+h;if(30<m){var b=h-h%5;m=(l&(1<<b)-1).toString(32),l>>=b,h-=b,hi=1<<32-pn(i)+h|a<<h|l,di=m+n}else hi=1<<m|a<<h|l,di=n}function Hd(n){n.return!==null&&(da(n,1),Ev(n,1,0))}function Fd(n){for(;n===$u;)$u=ho[--mo],ho[mo]=null,Xu=ho[--mo],ho[mo]=null;for(;n===ha;)ha=Zn[--Jn],Zn[Jn]=null,di=Zn[--Jn],Zn[Jn]=null,hi=Zn[--Jn],Zn[Jn]=null}var xn=null,bt=null,Ze=!1,ma=null,Vr=!1,Gd=Error(s(519));function pa(n){var i=Error(s(418,""));throw Kl(Xn(i,n)),Gd}function bv(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[zt]=n,i[Nt]=l,a){case"dialog":qe("cancel",i),qe("close",i);break;case"iframe":case"object":case"embed":qe("load",i);break;case"video":case"audio":for(a=0;a<gc.length;a++)qe(gc[a],i);break;case"source":qe("error",i);break;case"img":case"image":case"link":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"input":qe("invalid",i),Js(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Wa(i);break;case"select":qe("invalid",i);break;case"textarea":qe("invalid",i),ea(i,l.value,l.defaultValue,l.children),Wa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||L0(i.textContent,a)?(l.popover!=null&&(qe("beforetoggle",i),qe("toggle",i)),l.onScroll!=null&&qe("scroll",i),l.onScrollEnd!=null&&qe("scrollend",i),l.onClick!=null&&(i.onclick=Df),i=!0):i=!1,i||pa(n)}function wv(n){for(xn=n.return;xn;)switch(xn.tag){case 5:case 13:Vr=!1;return;case 27:case 3:Vr=!0;return;default:xn=xn.return}}function Fl(n){if(n!==xn)return!1;if(!Ze)return wv(n),Ze=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||op(n.type,n.memoizedProps)),a=!a),a&&bt&&pa(n),wv(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){bt=fr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}bt=null}}else i===27?(i=bt,os(n.type)?(n=fp,fp=null,bt=n):bt=i):bt=xn?fr(n.stateNode.nextSibling):null;return!0}function Gl(){bt=xn=null,Ze=!1}function Tv(){var n=ma;return n!==null&&(In===null?In=n:In.push.apply(In,n),ma=null),n}function Kl(n){ma===null?ma=[n]:ma.push(n)}var Kd=ne(null),ga=null,mi=null;function Ki(n,i,a){oe(Kd,i._currentValue),i._currentValue=a}function pi(n){n._currentValue=Kd.current,he(Kd)}function Yd(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Qd(n,i,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){var b=h.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=h;for(var k=0;k<i.length;k++)if(S.context===i[k]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),Yd(m.return,a,n),l||(b=null);break e}m=S.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(s(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Yd(b,a,n),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===n){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Yl(n,i,a,l){n=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var S=h.type;Mn(h.pendingProps.value,b.value)||(n!==null?n.push(S):n=[S])}}else if(h===me.current){if(b=h.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(wc):n=[wc])}h=h.return}n!==null&&Qd(i,n,a,l),i.flags|=262144}function Wu(n){for(n=n.firstContext;n!==null;){if(!Mn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ya(n){ga=n,mi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function gn(n){return Sv(ga,n)}function Zu(n,i){return ga===null&&ya(n),Sv(n,i)}function Sv(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},mi===null){if(n===null)throw Error(s(308));mi=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else mi=mi.next=i;return a}var b1=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},w1=r.unstable_scheduleCallback,T1=r.unstable_NormalPriority,Ht={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $d(){return{controller:new b1,data:new Map,refCount:0}}function Ql(n){n.refCount--,n.refCount===0&&w1(T1,function(){n.controller.abort()})}var $l=null,Xd=0,po=0,go=null;function S1(n,i){if($l===null){var a=$l=[];Xd=0,po=Zm(),go={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Xd++,i.then(Av,Av),i}function Av(){if(--Xd===0&&$l!==null){go!==null&&(go.status="fulfilled");var n=$l;$l=null,po=0,go=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function A1(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var xv=F.S;F.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&S1(n,i),xv!==null&&xv(n,i)};var va=ne(null);function Wd(){var n=va.current;return n!==null?n:ft.pooledCache}function Ju(n,i){i===null?oe(va,va.current):oe(va,i.pool)}function Rv(){var n=Wd();return n===null?null:{parent:Ht._currentValue,pool:n}}var Xl=Error(s(460)),Cv=Error(s(474)),ef=Error(s(542)),Zd={then:function(){}};function Iv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function tf(){}function Nv(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(tf,tf),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ov(n),n;default:if(typeof i.status=="string")i.then(tf,tf);else{if(n=ft,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ov(n),n}throw Wl=i,Xl}}var Wl=null;function Dv(){if(Wl===null)throw Error(s(459));var n=Wl;return Wl=null,n}function Ov(n){if(n===Xl||n===ef)throw Error(s(483))}var Yi=!1;function Jd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function em(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Qi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function $i(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Yu(n),vv(n,null,a),i}return Ku(n,l,i,a),Yu(n)}function Zl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,xl(n,a)}}function tm(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?h=m=i:m=m.next=i}else h=m=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var nm=!1;function Jl(){if(nm){var n=go;if(n!==null)throw n}}function ec(n,i,a,l){nm=!1;var h=n.updateQueue;Yi=!1;var m=h.firstBaseUpdate,b=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var k=S,Q=k.next;k.next=null,b===null?m=Q:b.next=Q,b=k;var te=n.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==b&&(S===null?te.firstBaseUpdate=Q:S.next=Q,te.lastBaseUpdate=k))}if(m!==null){var ae=h.baseState;b=0,te=Q=k=null,S=m;do{var $=S.lane&-536870913,X=$!==S.lane;if(X?(Qe&$)===$:(l&$)===$){$!==0&&$===po&&(nm=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var De=n,xe=S;$=i;var ct=a;switch(xe.tag){case 1:if(De=xe.payload,typeof De=="function"){ae=De.call(ct,ae,$);break e}ae=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=xe.payload,$=typeof De=="function"?De.call(ct,ae,$):De,$==null)break e;ae=_({},ae,$);break e;case 2:Yi=!0}}$=S.callback,$!==null&&(n.flags|=64,X&&(n.flags|=8192),X=h.callbacks,X===null?h.callbacks=[$]:X.push($))}else X={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(Q=te=X,k=ae):te=te.next=X,b|=$;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;X=S,S=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);te===null&&(k=ae),h.baseState=k,h.firstBaseUpdate=Q,h.lastBaseUpdate=te,m===null&&(h.shared.lanes=0),rs|=b,n.lanes=b,n.memoizedState=ae}}function Pv(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Mv(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Pv(a[n],i)}var yo=ne(null),nf=ne(0);function kv(n,i){n=wi,oe(nf,n),oe(yo,i),wi=n|i.baseLanes}function rm(){oe(nf,wi),oe(yo,yo.current)}function im(){wi=nf.current,he(yo),he(nf)}var Xi=0,Le=null,ot=null,Ot=null,rf=!1,vo=!1,_a=!1,sf=0,tc=0,_o=null,x1=0;function xt(){throw Error(s(321))}function sm(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Mn(n[a],i[a]))return!1;return!0}function am(n,i,a,l,h,m){return Xi=m,Le=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=n===null||n.memoizedState===null?v_:__,_a=!1,m=a(l,h),_a=!1,vo&&(m=jv(i,a,l,h)),Vv(n),m}function Vv(n){F.H=ff;var i=ot!==null&&ot.next!==null;if(Xi=0,Ot=ot=Le=null,rf=!1,tc=0,_o=null,i)throw Error(s(300));n===null||Zt||(n=n.dependencies,n!==null&&Wu(n)&&(Zt=!0))}function jv(n,i,a,l){Le=n;var h=0;do{if(vo&&(_o=null),tc=0,vo=!1,25<=h)throw Error(s(301));if(h+=1,Ot=ot=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=P1,m=i(a,l)}while(vo);return m}function R1(){var n=F.H,i=n.useState()[0];return i=typeof i.then=="function"?nc(i):i,n=n.useState()[0],(ot!==null?ot.memoizedState:null)!==n&&(Le.flags|=1024),i}function om(){var n=sf!==0;return sf=0,n}function lm(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function cm(n){if(rf){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}rf=!1}Xi=0,Ot=ot=Le=null,vo=!1,tc=sf=0,_o=null}function Rn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Le.memoizedState=Ot=n:Ot=Ot.next=n,Ot}function Pt(){if(ot===null){var n=Le.alternate;n=n!==null?n.memoizedState:null}else n=ot.next;var i=Ot===null?Le.memoizedState:Ot.next;if(i!==null)Ot=i,ot=n;else{if(n===null)throw Le.alternate===null?Error(s(467)):Error(s(310));ot=n,n={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Ot===null?Le.memoizedState=Ot=n:Ot=Ot.next=n}return Ot}function um(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nc(n){var i=tc;return tc+=1,_o===null&&(_o=[]),n=Nv(_o,n,i),i=Le,(Ot===null?i.memoizedState:Ot.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?v_:__),n}function af(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return nc(n);if(n.$$typeof===H)return gn(n)}throw Error(s(438,String(n)))}function fm(n){var i=null,a=Le.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=um(),Le.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=j;return i.index++,a}function gi(n,i){return typeof i=="function"?i(n):i}function of(n){var i=Pt();return hm(i,ot,n)}function hm(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,m=l.pending;if(m!==null){if(h!==null){var b=h.next;h.next=m.next,m.next=b}i.baseQueue=h=m,l.pending=null}if(m=n.baseState,h===null)n.memoizedState=m;else{i=h.next;var S=b=null,k=null,Q=i,te=!1;do{var ae=Q.lane&-536870913;if(ae!==Q.lane?(Qe&ae)===ae:(Xi&ae)===ae){var $=Q.revertLane;if($===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ae===po&&(te=!0);else if((Xi&$)===$){Q=Q.next,$===po&&(te=!0);continue}else ae={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},k===null?(S=k=ae,b=m):k=k.next=ae,Le.lanes|=$,rs|=$;ae=Q.action,_a&&a(m,ae),m=Q.hasEagerState?Q.eagerState:a(m,ae)}else $={lane:ae,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},k===null?(S=k=$,b=m):k=k.next=$,Le.lanes|=ae,rs|=ae;Q=Q.next}while(Q!==null&&Q!==i);if(k===null?b=m:k.next=S,!Mn(m,n.memoizedState)&&(Zt=!0,te&&(a=go,a!==null)))throw a;n.memoizedState=m,n.baseState=b,n.baseQueue=k,l.lastRenderedState=m}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function dm(n){var i=Pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,m=i.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do m=n(m,b.action),b=b.next;while(b!==h);Mn(m,i.memoizedState)||(Zt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function Lv(n,i,a){var l=Le,h=Pt(),m=Ze;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var b=!Mn((ot||h).memoizedState,a);b&&(h.memoizedState=a,Zt=!0),h=h.queue;var S=Bv.bind(null,l,h,n);if(rc(2048,8,S,[n]),h.getSnapshot!==i||b||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,Eo(9,lf(),zv.bind(null,l,h,a,i),null),ft===null)throw Error(s(349));m||(Xi&124)!==0||Uv(l,i,a)}return a}function Uv(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Le.updateQueue,i===null?(i=um(),Le.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function zv(n,i,a,l){i.value=a,i.getSnapshot=l,qv(i)&&Hv(n)}function Bv(n,i,a){return a(function(){qv(i)&&Hv(n)})}function qv(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Mn(n,a)}catch{return!0}}function Hv(n){var i=uo(n,2);i!==null&&zn(i,n,2)}function mm(n){var i=Rn();if(typeof n=="function"){var a=n;if(n=a(),_a){On(!0);try{a()}finally{On(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:n},i}function Fv(n,i,a,l){return n.baseState=a,hm(n,ot,typeof l=="function"?l:gi)}function C1(n,i,a,l,h){if(uf(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};F.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,Gv(i,m)):(m.next=a.next,i.pending=a.next=m)}}function Gv(n,i){var a=i.action,l=i.payload,h=n.state;if(i.isTransition){var m=F.T,b={};F.T=b;try{var S=a(h,l),k=F.S;k!==null&&k(b,S),Kv(n,i,S)}catch(Q){pm(n,i,Q)}finally{F.T=m}}else try{m=a(h,l),Kv(n,i,m)}catch(Q){pm(n,i,Q)}}function Kv(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Yv(n,i,l)},function(l){return pm(n,i,l)}):Yv(n,i,a)}function Yv(n,i,a){i.status="fulfilled",i.value=a,Qv(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Gv(n,a)))}function pm(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Qv(i),i=i.next;while(i!==l)}n.action=null}function Qv(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function $v(n,i){return i}function Xv(n,i){if(Ze){var a=ft.formState;if(a!==null){e:{var l=Le;if(Ze){if(bt){t:{for(var h=bt,m=Vr;h.nodeType!==8;){if(!m){h=null;break t}if(h=fr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){bt=fr(h.nextSibling),l=h.data==="F!";break e}}pa(l)}l=!1}l&&(i=a[0])}}return a=Rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$v,lastRenderedState:i},a.queue=l,a=p_.bind(null,Le,l),l.dispatch=a,l=mm(!1),m=Em.bind(null,Le,!1,l.queue),l=Rn(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,a=C1.bind(null,Le,h,m,a),h.dispatch=a,l.memoizedState=n,[i,a,!1]}function Wv(n){var i=Pt();return Zv(i,ot,n)}function Zv(n,i,a){if(i=hm(n,i,$v)[0],n=of(gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=nc(i)}catch(b){throw b===Xl?ef:b}else l=i;i=Pt();var h=i.queue,m=h.dispatch;return a!==i.memoizedState&&(Le.flags|=2048,Eo(9,lf(),I1.bind(null,h,a),null)),[l,m,n]}function I1(n,i){n.action=i}function Jv(n){var i=Pt(),a=ot;if(a!==null)return Zv(i,a,n);Pt(),i=i.memoizedState,a=Pt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function Eo(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Le.updateQueue,i===null&&(i=um(),Le.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function lf(){return{destroy:void 0,resource:void 0}}function e_(){return Pt().memoizedState}function cf(n,i,a,l){var h=Rn();l=l===void 0?null:l,Le.flags|=n,h.memoizedState=Eo(1|i,lf(),a,l)}function rc(n,i,a,l){var h=Pt();l=l===void 0?null:l;var m=h.memoizedState.inst;ot!==null&&l!==null&&sm(l,ot.memoizedState.deps)?h.memoizedState=Eo(i,m,a,l):(Le.flags|=n,h.memoizedState=Eo(1|i,m,a,l))}function t_(n,i){cf(8390656,8,n,i)}function n_(n,i){rc(2048,8,n,i)}function r_(n,i){return rc(4,2,n,i)}function i_(n,i){return rc(4,4,n,i)}function s_(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function a_(n,i,a){a=a!=null?a.concat([n]):null,rc(4,4,s_.bind(null,i,n),a)}function gm(){}function o_(n,i){var a=Pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&sm(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function l_(n,i){var a=Pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&sm(i,l[1]))return l[0];if(l=n(),_a){On(!0);try{n()}finally{On(!1)}}return a.memoizedState=[l,i],l}function ym(n,i,a){return a===void 0||(Xi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=f0(),Le.lanes|=n,rs|=n,a)}function c_(n,i,a,l){return Mn(a,i)?a:yo.current!==null?(n=ym(n,a,l),Mn(n,i)||(Zt=!0),n):(Xi&42)===0?(Zt=!0,n.memoizedState=a):(n=f0(),Le.lanes|=n,rs|=n,i)}function u_(n,i,a,l,h){var m=ie.p;ie.p=m!==0&&8>m?m:8;var b=F.T,S={};F.T=S,Em(n,!1,i,a);try{var k=h(),Q=F.S;if(Q!==null&&Q(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var te=A1(k,l);ic(n,i,te,Un(n))}else ic(n,i,l,Un(n))}catch(ae){ic(n,i,{then:function(){},status:"rejected",reason:ae},Un())}finally{ie.p=m,F.T=b}}function N1(){}function vm(n,i,a,l){if(n.tag!==5)throw Error(s(476));var h=f_(n).queue;u_(n,h,i,W,a===null?N1:function(){return h_(n),a(l)})}function f_(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:W},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function h_(n){var i=f_(n).next.queue;ic(n,i,{},Un())}function _m(){return gn(wc)}function d_(){return Pt().memoizedState}function m_(){return Pt().memoizedState}function D1(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Un();n=Qi(a);var l=$i(i,n,a);l!==null&&(zn(l,i,a),Zl(l,i,a)),i={cache:$d()},n.payload=i;return}i=i.return}}function O1(n,i,a){var l=Un();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},uf(n)?g_(i,a):(a=Ud(n,i,a,l),a!==null&&(zn(a,n,l),y_(a,i,l)))}function p_(n,i,a){var l=Un();ic(n,i,a,l)}function ic(n,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(uf(n))g_(i,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var b=i.lastRenderedState,S=m(b,a);if(h.hasEagerState=!0,h.eagerState=S,Mn(S,b))return Ku(n,i,h,0),ft===null&&Gu(),!1}catch{}finally{}if(a=Ud(n,i,h,l),a!==null)return zn(a,n,l),y_(a,i,l),!0}return!1}function Em(n,i,a,l){if(l={lane:2,revertLane:Zm(),action:l,hasEagerState:!1,eagerState:null,next:null},uf(n)){if(i)throw Error(s(479))}else i=Ud(n,a,l,2),i!==null&&zn(i,n,2)}function uf(n){var i=n.alternate;return n===Le||i!==null&&i===Le}function g_(n,i){vo=rf=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function y_(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,xl(n,a)}}var ff={readContext:gn,use:af,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},v_={readContext:gn,use:af,useCallback:function(n,i){return Rn().memoizedState=[n,i===void 0?null:i],n},useContext:gn,useEffect:t_,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,cf(4194308,4,s_.bind(null,i,n),a)},useLayoutEffect:function(n,i){return cf(4194308,4,n,i)},useInsertionEffect:function(n,i){cf(4,2,n,i)},useMemo:function(n,i){var a=Rn();i=i===void 0?null:i;var l=n();if(_a){On(!0);try{n()}finally{On(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=Rn();if(a!==void 0){var h=a(i);if(_a){On(!0);try{a(i)}finally{On(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=O1.bind(null,Le,n),[l.memoizedState,n]},useRef:function(n){var i=Rn();return n={current:n},i.memoizedState=n},useState:function(n){n=mm(n);var i=n.queue,a=p_.bind(null,Le,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:gm,useDeferredValue:function(n,i){var a=Rn();return ym(a,n,i)},useTransition:function(){var n=mm(!1);return n=u_.bind(null,Le,n.queue,!0,!1),Rn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Le,h=Rn();if(Ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ft===null)throw Error(s(349));(Qe&124)!==0||Uv(l,i,a)}h.memoizedState=a;var m={value:a,getSnapshot:i};return h.queue=m,t_(Bv.bind(null,l,m,n),[n]),l.flags|=2048,Eo(9,lf(),zv.bind(null,l,m,a,i),null),a},useId:function(){var n=Rn(),i=ft.identifierPrefix;if(Ze){var a=di,l=hi;a=(l&~(1<<32-pn(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=sf++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=x1++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:_m,useFormState:Xv,useActionState:Xv,useOptimistic:function(n){var i=Rn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Em.bind(null,Le,!0,a),a.dispatch=i,[n,i]},useMemoCache:fm,useCacheRefresh:function(){return Rn().memoizedState=D1.bind(null,Le)}},__={readContext:gn,use:af,useCallback:o_,useContext:gn,useEffect:n_,useImperativeHandle:a_,useInsertionEffect:r_,useLayoutEffect:i_,useMemo:l_,useReducer:of,useRef:e_,useState:function(){return of(gi)},useDebugValue:gm,useDeferredValue:function(n,i){var a=Pt();return c_(a,ot.memoizedState,n,i)},useTransition:function(){var n=of(gi)[0],i=Pt().memoizedState;return[typeof n=="boolean"?n:nc(n),i]},useSyncExternalStore:Lv,useId:d_,useHostTransitionStatus:_m,useFormState:Wv,useActionState:Wv,useOptimistic:function(n,i){var a=Pt();return Fv(a,ot,n,i)},useMemoCache:fm,useCacheRefresh:m_},P1={readContext:gn,use:af,useCallback:o_,useContext:gn,useEffect:n_,useImperativeHandle:a_,useInsertionEffect:r_,useLayoutEffect:i_,useMemo:l_,useReducer:dm,useRef:e_,useState:function(){return dm(gi)},useDebugValue:gm,useDeferredValue:function(n,i){var a=Pt();return ot===null?ym(a,n,i):c_(a,ot.memoizedState,n,i)},useTransition:function(){var n=dm(gi)[0],i=Pt().memoizedState;return[typeof n=="boolean"?n:nc(n),i]},useSyncExternalStore:Lv,useId:d_,useHostTransitionStatus:_m,useFormState:Jv,useActionState:Jv,useOptimistic:function(n,i){var a=Pt();return ot!==null?Fv(a,ot,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:fm,useCacheRefresh:m_},bo=null,sc=0;function hf(n){var i=sc;return sc+=1,bo===null&&(bo=[]),Nv(bo,n,i)}function ac(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function df(n,i){throw i.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function E_(n){var i=n._init;return i(n._payload)}function b_(n){function i(G,q){if(n){var Y=G.deletions;Y===null?(G.deletions=[q],G.flags|=16):Y.push(q)}}function a(G,q){if(!n)return null;for(;q!==null;)i(G,q),q=q.sibling;return null}function l(G){for(var q=new Map;G!==null;)G.key!==null?q.set(G.key,G):q.set(G.index,G),G=G.sibling;return q}function h(G,q){return G=fi(G,q),G.index=0,G.sibling=null,G}function m(G,q,Y){return G.index=Y,n?(Y=G.alternate,Y!==null?(Y=Y.index,Y<q?(G.flags|=67108866,q):Y):(G.flags|=67108866,q)):(G.flags|=1048576,q)}function b(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function S(G,q,Y,re){return q===null||q.tag!==6?(q=Bd(Y,G.mode,re),q.return=G,q):(q=h(q,Y),q.return=G,q)}function k(G,q,Y,re){var ve=Y.type;return ve===D?te(G,q,Y.props.children,re,Y.key):q!==null&&(q.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&E_(ve)===q.type)?(q=h(q,Y.props),ac(q,Y),q.return=G,q):(q=Qu(Y.type,Y.key,Y.props,null,G.mode,re),ac(q,Y),q.return=G,q)}function Q(G,q,Y,re){return q===null||q.tag!==4||q.stateNode.containerInfo!==Y.containerInfo||q.stateNode.implementation!==Y.implementation?(q=qd(Y,G.mode,re),q.return=G,q):(q=h(q,Y.children||[]),q.return=G,q)}function te(G,q,Y,re,ve){return q===null||q.tag!==7?(q=fa(Y,G.mode,re,ve),q.return=G,q):(q=h(q,Y),q.return=G,q)}function ae(G,q,Y){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Bd(""+q,G.mode,Y),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return Y=Qu(q.type,q.key,q.props,null,G.mode,Y),ac(Y,q),Y.return=G,Y;case x:return q=qd(q,G.mode,Y),q.return=G,q;case A:var re=q._init;return q=re(q._payload),ae(G,q,Y)}if(ue(q)||z(q))return q=fa(q,G.mode,Y,null),q.return=G,q;if(typeof q.then=="function")return ae(G,hf(q),Y);if(q.$$typeof===H)return ae(G,Zu(G,q),Y);df(G,q)}return null}function $(G,q,Y,re){var ve=q!==null?q.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ve!==null?null:S(G,q,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:return Y.key===ve?k(G,q,Y,re):null;case x:return Y.key===ve?Q(G,q,Y,re):null;case A:return ve=Y._init,Y=ve(Y._payload),$(G,q,Y,re)}if(ue(Y)||z(Y))return ve!==null?null:te(G,q,Y,re,null);if(typeof Y.then=="function")return $(G,q,hf(Y),re);if(Y.$$typeof===H)return $(G,q,Zu(G,Y),re);df(G,Y)}return null}function X(G,q,Y,re,ve){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return G=G.get(Y)||null,S(q,G,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case T:return G=G.get(re.key===null?Y:re.key)||null,k(q,G,re,ve);case x:return G=G.get(re.key===null?Y:re.key)||null,Q(q,G,re,ve);case A:var ze=re._init;return re=ze(re._payload),X(G,q,Y,re,ve)}if(ue(re)||z(re))return G=G.get(Y)||null,te(q,G,re,ve,null);if(typeof re.then=="function")return X(G,q,Y,hf(re),ve);if(re.$$typeof===H)return X(G,q,Y,Zu(q,re),ve);df(q,re)}return null}function De(G,q,Y,re){for(var ve=null,ze=null,Te=q,Ce=q=0,en=null;Te!==null&&Ce<Y.length;Ce++){Te.index>Ce?(en=Te,Te=null):en=Te.sibling;var We=$(G,Te,Y[Ce],re);if(We===null){Te===null&&(Te=en);break}n&&Te&&We.alternate===null&&i(G,Te),q=m(We,q,Ce),ze===null?ve=We:ze.sibling=We,ze=We,Te=en}if(Ce===Y.length)return a(G,Te),Ze&&da(G,Ce),ve;if(Te===null){for(;Ce<Y.length;Ce++)Te=ae(G,Y[Ce],re),Te!==null&&(q=m(Te,q,Ce),ze===null?ve=Te:ze.sibling=Te,ze=Te);return Ze&&da(G,Ce),ve}for(Te=l(Te);Ce<Y.length;Ce++)en=X(Te,G,Ce,Y[Ce],re),en!==null&&(n&&en.alternate!==null&&Te.delete(en.key===null?Ce:en.key),q=m(en,q,Ce),ze===null?ve=en:ze.sibling=en,ze=en);return n&&Te.forEach(function(hs){return i(G,hs)}),Ze&&da(G,Ce),ve}function xe(G,q,Y,re){if(Y==null)throw Error(s(151));for(var ve=null,ze=null,Te=q,Ce=q=0,en=null,We=Y.next();Te!==null&&!We.done;Ce++,We=Y.next()){Te.index>Ce?(en=Te,Te=null):en=Te.sibling;var hs=$(G,Te,We.value,re);if(hs===null){Te===null&&(Te=en);break}n&&Te&&hs.alternate===null&&i(G,Te),q=m(hs,q,Ce),ze===null?ve=hs:ze.sibling=hs,ze=hs,Te=en}if(We.done)return a(G,Te),Ze&&da(G,Ce),ve;if(Te===null){for(;!We.done;Ce++,We=Y.next())We=ae(G,We.value,re),We!==null&&(q=m(We,q,Ce),ze===null?ve=We:ze.sibling=We,ze=We);return Ze&&da(G,Ce),ve}for(Te=l(Te);!We.done;Ce++,We=Y.next())We=X(Te,G,Ce,We.value,re),We!==null&&(n&&We.alternate!==null&&Te.delete(We.key===null?Ce:We.key),q=m(We,q,Ce),ze===null?ve=We:ze.sibling=We,ze=We);return n&&Te.forEach(function(MR){return i(G,MR)}),Ze&&da(G,Ce),ve}function ct(G,q,Y,re){if(typeof Y=="object"&&Y!==null&&Y.type===D&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:e:{for(var ve=Y.key;q!==null;){if(q.key===ve){if(ve=Y.type,ve===D){if(q.tag===7){a(G,q.sibling),re=h(q,Y.props.children),re.return=G,G=re;break e}}else if(q.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&E_(ve)===q.type){a(G,q.sibling),re=h(q,Y.props),ac(re,Y),re.return=G,G=re;break e}a(G,q);break}else i(G,q);q=q.sibling}Y.type===D?(re=fa(Y.props.children,G.mode,re,Y.key),re.return=G,G=re):(re=Qu(Y.type,Y.key,Y.props,null,G.mode,re),ac(re,Y),re.return=G,G=re)}return b(G);case x:e:{for(ve=Y.key;q!==null;){if(q.key===ve)if(q.tag===4&&q.stateNode.containerInfo===Y.containerInfo&&q.stateNode.implementation===Y.implementation){a(G,q.sibling),re=h(q,Y.children||[]),re.return=G,G=re;break e}else{a(G,q);break}else i(G,q);q=q.sibling}re=qd(Y,G.mode,re),re.return=G,G=re}return b(G);case A:return ve=Y._init,Y=ve(Y._payload),ct(G,q,Y,re)}if(ue(Y))return De(G,q,Y,re);if(z(Y)){if(ve=z(Y),typeof ve!="function")throw Error(s(150));return Y=ve.call(Y),xe(G,q,Y,re)}if(typeof Y.then=="function")return ct(G,q,hf(Y),re);if(Y.$$typeof===H)return ct(G,q,Zu(G,Y),re);df(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,q!==null&&q.tag===6?(a(G,q.sibling),re=h(q,Y),re.return=G,G=re):(a(G,q),re=Bd(Y,G.mode,re),re.return=G,G=re),b(G)):a(G,q)}return function(G,q,Y,re){try{sc=0;var ve=ct(G,q,Y,re);return bo=null,ve}catch(Te){if(Te===Xl||Te===ef)throw Te;var ze=kn(29,Te,null,G.mode);return ze.lanes=re,ze.return=G,ze}finally{}}}var wo=b_(!0),w_=b_(!1),er=ne(null),jr=null;function Wi(n){var i=n.alternate;oe(Ft,Ft.current&1),oe(er,n),jr===null&&(i===null||yo.current!==null||i.memoizedState!==null)&&(jr=n)}function T_(n){if(n.tag===22){if(oe(Ft,Ft.current),oe(er,n),jr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(jr=n)}}else Zi()}function Zi(){oe(Ft,Ft.current),oe(er,er.current)}function yi(n){he(er),jr===n&&(jr=null),he(Ft)}var Ft=ne(0);function mf(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||up(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function bm(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:_({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var wm={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Un(),h=Qi(l);h.payload=i,a!=null&&(h.callback=a),i=$i(n,h,l),i!==null&&(zn(i,n,l),Zl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Un(),h=Qi(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=$i(n,h,l),i!==null&&(zn(i,n,l),Zl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Un(),l=Qi(a);l.tag=2,i!=null&&(l.callback=i),i=$i(n,l,a),i!==null&&(zn(i,n,a),Zl(i,n,a))}};function S_(n,i,a,l,h,m,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,b):i.prototype&&i.prototype.isPureReactComponent?!ql(a,l)||!ql(h,m):!0}function A_(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&wm.enqueueReplaceState(i,i.state,null)}function Ea(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=_({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var pf=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function x_(n){pf(n)}function R_(n){console.error(n)}function C_(n){pf(n)}function gf(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function I_(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Tm(n,i,a){return a=Qi(a),a.tag=3,a.payload={element:null},a.callback=function(){gf(n,i)},a}function N_(n){return n=Qi(n),n.tag=3,n}function D_(n,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;n.payload=function(){return h(m)},n.callback=function(){I_(i,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){I_(i,a,l),typeof h!="function"&&(is===null?is=new Set([this]):is.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function M1(n,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Yl(i,a,h,!0),a=er.current,a!==null){switch(a.tag){case 13:return jr===null?Ym():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Zd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),$m(n,l,h)),!1;case 22:return a.flags|=65536,l===Zd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),$m(n,l,h)),!1}throw Error(s(435,a.tag))}return $m(n,l,h),Ym(),!1}if(Ze)return i=er.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Gd&&(n=Error(s(422),{cause:l}),Kl(Xn(n,a)))):(l!==Gd&&(i=Error(s(423),{cause:l}),Kl(Xn(i,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Xn(l,a),h=Tm(n.stateNode,l,h),tm(n,h),wt!==4&&(wt=2)),!1;var m=Error(s(520),{cause:l});if(m=Xn(m,a),dc===null?dc=[m]:dc.push(m),wt!==4&&(wt=2),i===null)return!0;l=Xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=Tm(a.stateNode,l,n),tm(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(is===null||!is.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=N_(h),D_(h,n,a,l),tm(a,h),!1}a=a.return}while(a!==null);return!1}var O_=Error(s(461)),Zt=!1;function ln(n,i,a,l){i.child=n===null?w_(i,null,a,l):wo(i,n.child,a,l)}function P_(n,i,a,l,h){a=a.render;var m=i.ref;if("ref"in l){var b={};for(var S in l)S!=="ref"&&(b[S]=l[S])}else b=l;return ya(i),l=am(n,i,a,b,m,h),S=om(),n!==null&&!Zt?(lm(n,i,h),vi(n,i,h)):(Ze&&S&&Hd(i),i.flags|=1,ln(n,i,l,h),i.child)}function M_(n,i,a,l,h){if(n===null){var m=a.type;return typeof m=="function"&&!zd(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,k_(n,i,m,l,h)):(n=Qu(a.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Dm(n,h)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:ql,a(b,l)&&n.ref===i.ref)return vi(n,i,h)}return i.flags|=1,n=fi(m,l),n.ref=i.ref,n.return=i,i.child=n}function k_(n,i,a,l,h){if(n!==null){var m=n.memoizedProps;if(ql(m,l)&&n.ref===i.ref)if(Zt=!1,i.pendingProps=l=m,Dm(n,h))(n.flags&131072)!==0&&(Zt=!0);else return i.lanes=n.lanes,vi(n,i,h)}return Sm(n,i,a,l,h)}function V_(n,i,a){var l=i.pendingProps,h=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(h=i.child=n.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return j_(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ju(i,m!==null?m.cachePool:null),m!==null?kv(i,m):rm(),T_(i);else return i.lanes=i.childLanes=536870912,j_(n,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(Ju(i,m.cachePool),kv(i,m),Zi(),i.memoizedState=null):(n!==null&&Ju(i,null),rm(),Zi());return ln(n,i,h,a),i.child}function j_(n,i,a,l){var h=Wd();return h=h===null?null:{parent:Ht._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},n!==null&&Ju(i,null),rm(),T_(i),n!==null&&Yl(n,i,l,!0),null}function yf(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Sm(n,i,a,l,h){return ya(i),a=am(n,i,a,l,void 0,h),l=om(),n!==null&&!Zt?(lm(n,i,h),vi(n,i,h)):(Ze&&l&&Hd(i),i.flags|=1,ln(n,i,a,h),i.child)}function L_(n,i,a,l,h,m){return ya(i),i.updateQueue=null,a=jv(i,l,a,h),Vv(n),l=om(),n!==null&&!Zt?(lm(n,i,m),vi(n,i,m)):(Ze&&l&&Hd(i),i.flags|=1,ln(n,i,a,m),i.child)}function U_(n,i,a,l,h){if(ya(i),i.stateNode===null){var m=fo,b=a.contextType;typeof b=="object"&&b!==null&&(m=gn(b)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=wm,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},Jd(i),b=a.contextType,m.context=typeof b=="object"&&b!==null?gn(b):fo,m.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(bm(i,a,b,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&wm.enqueueReplaceState(m,m.state,null),ec(i,l,m,h),Jl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){m=i.stateNode;var S=i.memoizedProps,k=Ea(a,S);m.props=k;var Q=m.context,te=a.contextType;b=fo,typeof te=="object"&&te!==null&&(b=gn(te));var ae=a.getDerivedStateFromProps;te=typeof ae=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,te||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||Q!==b)&&A_(i,m,l,b),Yi=!1;var $=i.memoizedState;m.state=$,ec(i,l,m,h),Jl(),Q=i.memoizedState,S||$!==Q||Yi?(typeof ae=="function"&&(bm(i,a,ae,l),Q=i.memoizedState),(k=Yi||S_(i,a,k,l,$,Q,b))?(te||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Q),m.props=l,m.state=Q,m.context=b,l=k):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,em(n,i),b=i.memoizedProps,te=Ea(a,b),m.props=te,ae=i.pendingProps,$=m.context,Q=a.contextType,k=fo,typeof Q=="object"&&Q!==null&&(k=gn(Q)),S=a.getDerivedStateFromProps,(Q=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ae||$!==k)&&A_(i,m,l,k),Yi=!1,$=i.memoizedState,m.state=$,ec(i,l,m,h),Jl();var X=i.memoizedState;b!==ae||$!==X||Yi||n!==null&&n.dependencies!==null&&Wu(n.dependencies)?(typeof S=="function"&&(bm(i,a,S,l),X=i.memoizedState),(te=Yi||S_(i,a,te,l,$,X,k)||n!==null&&n.dependencies!==null&&Wu(n.dependencies))?(Q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,X,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,X,k)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),m.props=l,m.state=X,m.context=k,l=te):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(i.flags|=1024),l=!1)}return m=l,yf(n,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&l?(i.child=wo(i,n.child,null,h),i.child=wo(i,null,a,h)):ln(n,i,a,h),i.memoizedState=m.state,n=i.child):n=vi(n,i,h),n}function z_(n,i,a,l){return Gl(),i.flags|=256,ln(n,i,a,l),i.child}var Am={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xm(n){return{baseLanes:n,cachePool:Rv()}}function Rm(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=tr),n}function B_(n,i,a){var l=i.pendingProps,h=!1,m=(i.flags&128)!==0,b;if((b=m)||(b=n!==null&&n.memoizedState===null?!1:(Ft.current&2)!==0),b&&(h=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ze){if(h?Wi(i):Zi(),Ze){var S=bt,k;if(k=S){e:{for(k=S,S=Vr;k.nodeType!==8;){if(!S){S=null;break e}if(k=fr(k.nextSibling),k===null){S=null;break e}}S=k}S!==null?(i.memoizedState={dehydrated:S,treeContext:ha!==null?{id:hi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},k=kn(18,null,null,0),k.stateNode=S,k.return=i,i.child=k,xn=i,bt=null,k=!0):k=!1}k||pa(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return up(S)?i.lanes=32:i.lanes=536870912,null;yi(i)}return S=l.children,l=l.fallback,h?(Zi(),h=i.mode,S=vf({mode:"hidden",children:S},h),l=fa(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=xm(a),h.childLanes=Rm(n,b,a),i.memoizedState=Am,l):(Wi(i),Cm(i,S))}if(k=n.memoizedState,k!==null&&(S=k.dehydrated,S!==null)){if(m)i.flags&256?(Wi(i),i.flags&=-257,i=Im(n,i,a)):i.memoizedState!==null?(Zi(),i.child=n.child,i.flags|=128,i=null):(Zi(),h=l.fallback,S=i.mode,l=vf({mode:"visible",children:l.children},S),h=fa(h,S,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,wo(i,n.child,null,a),l=i.child,l.memoizedState=xm(a),l.childLanes=Rm(n,b,a),i.memoizedState=Am,i=h);else if(Wi(i),up(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var Q=b.dgst;b=Q,l=Error(s(419)),l.stack="",l.digest=b,Kl({value:l,source:null,stack:null}),i=Im(n,i,a)}else if(Zt||Yl(n,i,a,!1),b=(a&n.childLanes)!==0,Zt||b){if(b=ft,b!==null&&(l=a&-a,l=(l&42)!==0?1:Ui(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==k.retryLane))throw k.retryLane=l,uo(n,l),zn(b,n,l),O_;S.data==="$?"||Ym(),i=Im(n,i,a)}else S.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=k.treeContext,bt=fr(S.nextSibling),xn=i,Ze=!0,ma=null,Vr=!1,n!==null&&(Zn[Jn++]=hi,Zn[Jn++]=di,Zn[Jn++]=ha,hi=n.id,di=n.overflow,ha=i),i=Cm(i,l.children),i.flags|=4096);return i}return h?(Zi(),h=l.fallback,S=i.mode,k=n.child,Q=k.sibling,l=fi(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,Q!==null?h=fi(Q,h):(h=fa(h,S,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=n.child.memoizedState,S===null?S=xm(a):(k=S.cachePool,k!==null?(Q=Ht._currentValue,k=k.parent!==Q?{parent:Q,pool:Q}:k):k=Rv(),S={baseLanes:S.baseLanes|a,cachePool:k}),h.memoizedState=S,h.childLanes=Rm(n,b,a),i.memoizedState=Am,l):(Wi(i),a=n.child,n=a.sibling,a=fi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(b=i.deletions,b===null?(i.deletions=[n],i.flags|=16):b.push(n)),i.child=a,i.memoizedState=null,a)}function Cm(n,i){return i=vf({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function vf(n,i){return n=kn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Im(n,i,a){return wo(i,n.child,null,a),n=Cm(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function q_(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Yd(n.return,i,a)}function Nm(n,i,a,l,h){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=h)}function H_(n,i,a){var l=i.pendingProps,h=l.revealOrder,m=l.tail;if(ln(n,i,l.children,a),l=Ft.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&q_(n,a,i);else if(n.tag===19)q_(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(oe(Ft,l),h){case"forwards":for(a=i.child,h=null;a!==null;)n=a.alternate,n!==null&&mf(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Nm(i,!1,h,a,m);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&mf(n)===null){i.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}Nm(i,!0,a,null,m);break;case"together":Nm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function vi(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),rs|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Yl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=fi(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=fi(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Dm(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Wu(n)))}function k1(n,i,a){switch(i.tag){case 3:Se(i,i.stateNode.containerInfo),Ki(i,Ht,n.memoizedState.cache),Gl();break;case 27:case 5:je(i);break;case 4:Se(i,i.stateNode.containerInfo);break;case 10:Ki(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Wi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?B_(n,i,a):(Wi(i),n=vi(n,i,a),n!==null?n.sibling:null);Wi(i);break;case 19:var h=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Yl(n,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return H_(n,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(Ft,Ft.current),l)break;return null;case 22:case 23:return i.lanes=0,V_(n,i,a);case 24:Ki(i,Ht,n.memoizedState.cache)}return vi(n,i,a)}function F_(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Zt=!0;else{if(!Dm(n,a)&&(i.flags&128)===0)return Zt=!1,k1(n,i,a);Zt=(n.flags&131072)!==0}else Zt=!1,Ze&&(i.flags&1048576)!==0&&Ev(i,Xu,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")zd(l)?(n=Ea(l,n),i.tag=1,i=U_(null,i,l,n,a)):(i.tag=0,i=Sm(null,i,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===Z){i.tag=11,i=P_(null,i,l,n,a);break e}else if(h===P){i.tag=14,i=M_(null,i,l,n,a);break e}}throw i=fe(l)||l,Error(s(306,i,""))}}return i;case 0:return Sm(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ea(l,i.pendingProps),U_(n,i,l,h,a);case 3:e:{if(Se(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;h=m.element,em(n,i),ec(i,l,null,a);var b=i.memoizedState;if(l=b.cache,Ki(i,Ht,l),l!==m.cache&&Qd(i,[Ht],a,!0),Jl(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=z_(n,i,l,a);break e}else if(l!==h){h=Xn(Error(s(424)),i),Kl(h),i=z_(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(bt=fr(n.firstChild),xn=i,Ze=!0,ma=null,Vr=!0,a=w_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Gl(),l===h){i=vi(n,i,a);break e}ln(n,i,l,a)}i=i.child}return i;case 26:return yf(n,i),n===null?(a=Q0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ze||(a=i.type,n=i.pendingProps,l=Of(we.current).createElement(a),l[zt]=i,l[Nt]=n,un(l,a,n),At(l),i.stateNode=l):i.memoizedState=Q0(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return je(i),n===null&&Ze&&(l=i.stateNode=G0(i.type,i.pendingProps,we.current),xn=i,Vr=!0,h=bt,os(i.type)?(fp=h,bt=fr(l.firstChild)):bt=h),ln(n,i,i.pendingProps.children,a),yf(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ze&&((h=l=bt)&&(l=cR(l,i.type,i.pendingProps,Vr),l!==null?(i.stateNode=l,xn=i,bt=fr(l.firstChild),Vr=!1,h=!0):h=!1),h||pa(i)),je(i),h=i.type,m=i.pendingProps,b=n!==null?n.memoizedProps:null,l=m.children,op(h,m)?l=null:b!==null&&op(h,b)&&(i.flags|=32),i.memoizedState!==null&&(h=am(n,i,R1,null,null,a),wc._currentValue=h),yf(n,i),ln(n,i,l,a),i.child;case 6:return n===null&&Ze&&((n=a=bt)&&(a=uR(a,i.pendingProps,Vr),a!==null?(i.stateNode=a,xn=i,bt=null,n=!0):n=!1),n||pa(i)),null;case 13:return B_(n,i,a);case 4:return Se(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=wo(i,null,l,a):ln(n,i,l,a),i.child;case 11:return P_(n,i,i.type,i.pendingProps,a);case 7:return ln(n,i,i.pendingProps,a),i.child;case 8:return ln(n,i,i.pendingProps.children,a),i.child;case 12:return ln(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ki(i,i.type,l.value),ln(n,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ya(i),h=gn(h),l=l(h),i.flags|=1,ln(n,i,l,a),i.child;case 14:return M_(n,i,i.type,i.pendingProps,a);case 15:return k_(n,i,i.type,i.pendingProps,a);case 19:return H_(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=vf(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=fi(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return V_(n,i,a);case 24:return ya(i),l=gn(Ht),n===null?(h=Wd(),h===null&&(h=ft,m=$d(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),i.memoizedState={parent:l,cache:h},Jd(i),Ki(i,Ht,h)):((n.lanes&a)!==0&&(em(n,i),ec(i,null,null,a),Jl()),h=n.memoizedState,m=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ki(i,Ht,l)):(l=m.cache,Ki(i,Ht,l),l!==h.cache&&Qd(i,[Ht],a,!0))),ln(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function _i(n){n.flags|=4}function G_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!J0(i)){if(i=er.current,i!==null&&((Qe&4194048)===Qe?jr!==null:(Qe&62914560)!==Qe&&(Qe&536870912)===0||i!==jr))throw Wl=Zd,Cv;n.flags|=8192}}function _f(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Sl():536870912,n.lanes|=i,xo|=i)}function oc(n,i){if(!Ze)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function vt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function V1(n,i,a){var l=i.pendingProps;switch(Fd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(i),null;case 1:return vt(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),pi(Ht),Xe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Fl(i)?_i(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tv())),vt(i),null;case 26:return a=i.memoizedState,n===null?(_i(i),a!==null?(vt(i),G_(i,a)):(vt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(_i(i),vt(i),G_(i,a)):(vt(i),i.flags&=-16777217):(n.memoizedProps!==l&&_i(i),vt(i),i.flags&=-16777217),null;case 27:Me(i),a=we.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&_i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return vt(i),null}n=pe.current,Fl(i)?bv(i):(n=G0(h,l,a),i.stateNode=n,_i(i))}return vt(i),null;case 5:if(Me(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&_i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return vt(i),null}if(n=pe.current,Fl(i))bv(i);else{switch(h=Of(we.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[zt]=i,n[Nt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;e:switch(un(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&_i(i)}}return vt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&_i(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=we.current,Fl(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,h=xn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[zt]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||L0(n.nodeValue,a)),n||pa(i)}else n=Of(n).createTextNode(l),n[zt]=i,i.stateNode=n}return vt(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=Fl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[zt]=i}else Gl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;vt(i),h=!1}else h=Tv(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(yi(i),i):(yi(i),null)}if(yi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),_f(i,i.updateQueue),vt(i),null;case 4:return Xe(),n===null&&np(i.stateNode.containerInfo),vt(i),null;case 10:return pi(i.type),vt(i),null;case 19:if(he(Ft),h=i.memoizedState,h===null)return vt(i),null;if(l=(i.flags&128)!==0,m=h.rendering,m===null)if(l)oc(h,!1);else{if(wt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=mf(n),m!==null){for(i.flags|=128,oc(h,!1),n=m.updateQueue,i.updateQueue=n,_f(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)_v(a,n),a=a.sibling;return oe(Ft,Ft.current&1|2),i.child}n=n.sibling}h.tail!==null&&$t()>wf&&(i.flags|=128,l=!0,oc(h,!1),i.lanes=4194304)}else{if(!l)if(n=mf(m),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,_f(i,n),oc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Ze)return vt(i),null}else 2*$t()-h.renderingStartTime>wf&&a!==536870912&&(i.flags|=128,l=!0,oc(h,!1),i.lanes=4194304);h.isBackwards?(m.sibling=i.child,i.child=m):(n=h.last,n!==null?n.sibling=m:i.child=m,h.last=m)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=$t(),i.sibling=null,n=Ft.current,oe(Ft,l?n&1|2:n&1),i):(vt(i),null);case 22:case 23:return yi(i),im(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(vt(i),i.subtreeFlags&6&&(i.flags|=8192)):vt(i),a=i.updateQueue,a!==null&&_f(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&he(va),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),pi(Ht),vt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function j1(n,i){switch(Fd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return pi(Ht),Xe(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Me(i),null;case 13:if(yi(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Gl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return he(Ft),null;case 4:return Xe(),null;case 10:return pi(i.type),null;case 22:case 23:return yi(i),im(),n!==null&&he(va),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return pi(Ht),null;case 25:return null;default:return null}}function K_(n,i){switch(Fd(i),i.tag){case 3:pi(Ht),Xe();break;case 26:case 27:case 5:Me(i);break;case 4:Xe();break;case 13:yi(i);break;case 19:he(Ft);break;case 10:pi(i.type);break;case 22:case 23:yi(i),im(),n!==null&&he(va);break;case 24:pi(Ht)}}function lc(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==h)}}catch(S){ut(i,i.return,S)}}function Ji(n,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&n)===n){var b=l.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,h=i;var k=a,Q=S;try{Q()}catch(te){ut(h,k,te)}}}l=l.next}while(l!==m)}}catch(te){ut(i,i.return,te)}}function Y_(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Mv(i,a)}catch(l){ut(n,n.return,l)}}}function Q_(n,i,a){a.props=Ea(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ut(n,i,l)}}function cc(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){ut(n,i,h)}}function Lr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ut(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ut(n,i,h)}else a.current=null}function $_(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ut(n,n.return,h)}}function Om(n,i,a){try{var l=n.stateNode;iR(l,n.type,a,i),l[Nt]=i}catch(h){ut(n,n.return,h)}}function X_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&os(n.type)||n.tag===4}function Pm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||X_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&os(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Mm(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Df));else if(l!==4&&(l===27&&os(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Mm(n,i,a),n=n.sibling;n!==null;)Mm(n,i,a),n=n.sibling}function Ef(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&os(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Ef(n,i,a),n=n.sibling;n!==null;)Ef(n,i,a),n=n.sibling}function W_(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);un(i,l,a),i[zt]=n,i[Nt]=a}catch(m){ut(n,n.return,m)}}var Ei=!1,Rt=!1,km=!1,Z_=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function L1(n,i){if(n=n.containerInfo,sp=Lf,n=cv(n),Pd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,S=-1,k=-1,Q=0,te=0,ae=n,$=null;t:for(;;){for(var X;ae!==a||h!==0&&ae.nodeType!==3||(S=b+h),ae!==m||l!==0&&ae.nodeType!==3||(k=b+l),ae.nodeType===3&&(b+=ae.nodeValue.length),(X=ae.firstChild)!==null;)$=ae,ae=X;for(;;){if(ae===n)break t;if($===a&&++Q===h&&(S=b),$===m&&++te===l&&(k=b),(X=ae.nextSibling)!==null)break;ae=$,$=ae.parentNode}ae=X}a=S===-1||k===-1?null:{start:S,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(ap={focusedElem:n,selectionRange:a},Lf=!1,Jt=i;Jt!==null;)if(i=Jt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Jt=n;else for(;Jt!==null;){switch(i=Jt,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var De=Ea(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(De,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(xe){ut(a,a.return,xe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)cp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":cp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Jt=n;break}Jt=i.return}}function J_(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:es(n,a),l&4&&lc(5,a);break;case 1:if(es(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(b){ut(a,a.return,b)}else{var h=Ea(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(b){ut(a,a.return,b)}}l&64&&Y_(a),l&512&&cc(a,a.return);break;case 3:if(es(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Mv(n,i)}catch(b){ut(a,a.return,b)}}break;case 27:i===null&&l&4&&W_(a);case 26:case 5:es(n,a),i===null&&l&4&&$_(a),l&512&&cc(a,a.return);break;case 12:es(n,a);break;case 13:es(n,a),l&4&&n0(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Y1.bind(null,a),fR(n,a))));break;case 22:if(l=a.memoizedState!==null||Ei,!l){i=i!==null&&i.memoizedState!==null||Rt,h=Ei;var m=Rt;Ei=l,(Rt=i)&&!m?ts(n,a,(a.subtreeFlags&8772)!==0):es(n,a),Ei=h,Rt=m}break;case 30:break;default:es(n,a)}}function e0(n){var i=n.alternate;i!==null&&(n.alternate=null,e0(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&qi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var yt=null,Cn=!1;function bi(n,i,a){for(a=a.child;a!==null;)t0(n,i,a),a=a.sibling}function t0(n,i,a){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(Et,a)}catch{}switch(a.tag){case 26:Rt||Lr(a,i),bi(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Lr(a,i);var l=yt,h=Cn;os(a.type)&&(yt=a.stateNode,Cn=!1),bi(n,i,a),vc(a.stateNode),yt=l,Cn=h;break;case 5:Rt||Lr(a,i);case 6:if(l=yt,h=Cn,yt=null,bi(n,i,a),yt=l,Cn=h,yt!==null)if(Cn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(m){ut(a,i,m)}else try{yt.removeChild(a.stateNode)}catch(m){ut(a,i,m)}break;case 18:yt!==null&&(Cn?(n=yt,H0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),xc(n)):H0(yt,a.stateNode));break;case 4:l=yt,h=Cn,yt=a.stateNode.containerInfo,Cn=!0,bi(n,i,a),yt=l,Cn=h;break;case 0:case 11:case 14:case 15:Rt||Ji(2,a,i),Rt||Ji(4,a,i),bi(n,i,a);break;case 1:Rt||(Lr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Q_(a,i,l)),bi(n,i,a);break;case 21:bi(n,i,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,bi(n,i,a),Rt=l;break;default:bi(n,i,a)}}function n0(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{xc(n)}catch(a){ut(i,i.return,a)}}function U1(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Z_),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Z_),i;default:throw Error(s(435,n.tag))}}function Vm(n,i){var a=U1(n);i.forEach(function(l){var h=Q1.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Vn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=n,b=i,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(os(S.type)){yt=S.stateNode,Cn=!1;break e}break;case 5:yt=S.stateNode,Cn=!1;break e;case 3:case 4:yt=S.stateNode.containerInfo,Cn=!0;break e}S=S.return}if(yt===null)throw Error(s(160));t0(m,b,h),yt=null,Cn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)r0(i,n),i=i.sibling}var ur=null;function r0(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Vn(i,n),jn(n),l&4&&(Ji(3,n,n.return),lc(3,n),Ji(5,n,n.return));break;case 1:Vn(i,n),jn(n),l&512&&(Rt||a===null||Lr(a,a.return)),l&64&&Ei&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ur;if(Vn(i,n),jn(n),l&512&&(Rt||a===null||Lr(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[$s]||m[zt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),un(m,l,a),m[zt]=n,At(m),l=m;break e;case"link":var b=W0("link","href",h).get(l+(a.href||""));if(b){for(var S=0;S<b.length;S++)if(m=b[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(S,1);break t}}m=h.createElement(l),un(m,l,a),h.head.appendChild(m);break;case"meta":if(b=W0("meta","content",h).get(l+(a.content||""))){for(S=0;S<b.length;S++)if(m=b[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(S,1);break t}}m=h.createElement(l),un(m,l,a),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[zt]=n,At(m),l=m}n.stateNode=l}else Z0(h,n.type,n.stateNode);else n.stateNode=X0(h,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Z0(h,n.type,n.stateNode):X0(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Om(n,n.memoizedProps,a.memoizedProps)}break;case 27:Vn(i,n),jn(n),l&512&&(Rt||a===null||Lr(a,a.return)),a!==null&&l&4&&Om(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Vn(i,n),jn(n),l&512&&(Rt||a===null||Lr(a,a.return)),n.flags&32){h=n.stateNode;try{Kn(h,"")}catch(X){ut(n,n.return,X)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Om(n,h,a!==null?a.memoizedProps:h)),l&1024&&(km=!0);break;case 6:if(Vn(i,n),jn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(X){ut(n,n.return,X)}}break;case 3:if(kf=null,h=ur,ur=Pf(i.containerInfo),Vn(i,n),ur=h,jn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{xc(i.containerInfo)}catch(X){ut(n,n.return,X)}km&&(km=!1,i0(n));break;case 4:l=ur,ur=Pf(n.stateNode.containerInfo),Vn(i,n),jn(n),ur=l;break;case 12:Vn(i,n),jn(n);break;case 13:Vn(i,n),jn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qm=$t()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Vm(n,l)));break;case 22:h=n.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,Q=Ei,te=Rt;if(Ei=Q||h,Rt=te||k,Vn(i,n),Rt=te,Ei=Q,jn(n),l&8192)e:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||k||Ei||Rt||ba(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){k=a=i;try{if(m=k.stateNode,h)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=k.stateNode;var ae=k.memoizedProps.style,$=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(X){ut(k,k.return,X)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(X){ut(k,k.return,X)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vm(n,a))));break;case 19:Vn(i,n),jn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Vm(n,l)));break;case 30:break;case 21:break;default:Vn(i,n),jn(n)}}function jn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(X_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=Pm(n);Ef(n,m,h);break;case 5:var b=a.stateNode;a.flags&32&&(Kn(b,""),a.flags&=-33);var S=Pm(n);Ef(n,S,b);break;case 3:case 4:var k=a.stateNode.containerInfo,Q=Pm(n);Mm(n,Q,k);break;default:throw Error(s(161))}}catch(te){ut(n,n.return,te)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function i0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;i0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function es(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)J_(n,i.alternate,i),i=i.sibling}function ba(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ji(4,i,i.return),ba(i);break;case 1:Lr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Q_(i,i.return,a),ba(i);break;case 27:vc(i.stateNode);case 26:case 5:Lr(i,i.return),ba(i);break;case 22:i.memoizedState===null&&ba(i);break;case 30:ba(i);break;default:ba(i)}n=n.sibling}}function ts(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,m=i,b=m.flags;switch(m.tag){case 0:case 11:case 15:ts(h,m,a),lc(4,m);break;case 1:if(ts(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Q){ut(l,l.return,Q)}if(l=m,h=l.updateQueue,h!==null){var S=l.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)Pv(k[h],S)}catch(Q){ut(l,l.return,Q)}}a&&b&64&&Y_(m),cc(m,m.return);break;case 27:W_(m);case 26:case 5:ts(h,m,a),a&&l===null&&b&4&&$_(m),cc(m,m.return);break;case 12:ts(h,m,a);break;case 13:ts(h,m,a),a&&b&4&&n0(h,m);break;case 22:m.memoizedState===null&&ts(h,m,a),cc(m,m.return);break;case 30:break;default:ts(h,m,a)}i=i.sibling}}function jm(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Ql(a))}function Lm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ql(n))}function Ur(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)s0(n,i,a,l),i=i.sibling}function s0(n,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ur(n,i,a,l),h&2048&&lc(9,i);break;case 1:Ur(n,i,a,l);break;case 3:Ur(n,i,a,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ql(n)));break;case 12:if(h&2048){Ur(n,i,a,l),n=i.stateNode;try{var m=i.memoizedProps,b=m.id,S=m.onPostCommit;typeof S=="function"&&S(b,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){ut(i,i.return,k)}}else Ur(n,i,a,l);break;case 13:Ur(n,i,a,l);break;case 23:break;case 22:m=i.stateNode,b=i.alternate,i.memoizedState!==null?m._visibility&2?Ur(n,i,a,l):uc(n,i):m._visibility&2?Ur(n,i,a,l):(m._visibility|=2,To(n,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&jm(b,i);break;case 24:Ur(n,i,a,l),h&2048&&Lm(i.alternate,i);break;default:Ur(n,i,a,l)}}function To(n,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,b=i,S=a,k=l,Q=b.flags;switch(b.tag){case 0:case 11:case 15:To(m,b,S,k,h),lc(8,b);break;case 23:break;case 22:var te=b.stateNode;b.memoizedState!==null?te._visibility&2?To(m,b,S,k,h):uc(m,b):(te._visibility|=2,To(m,b,S,k,h)),h&&Q&2048&&jm(b.alternate,b);break;case 24:To(m,b,S,k,h),h&&Q&2048&&Lm(b.alternate,b);break;default:To(m,b,S,k,h)}i=i.sibling}}function uc(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,h=l.flags;switch(l.tag){case 22:uc(a,l),h&2048&&jm(l.alternate,l);break;case 24:uc(a,l),h&2048&&Lm(l.alternate,l);break;default:uc(a,l)}i=i.sibling}}var fc=8192;function So(n){if(n.subtreeFlags&fc)for(n=n.child;n!==null;)a0(n),n=n.sibling}function a0(n){switch(n.tag){case 26:So(n),n.flags&fc&&n.memoizedState!==null&&SR(ur,n.memoizedState,n.memoizedProps);break;case 5:So(n);break;case 3:case 4:var i=ur;ur=Pf(n.stateNode.containerInfo),So(n),ur=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=fc,fc=16777216,So(n),fc=i):So(n));break;default:So(n)}}function o0(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function hc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Jt=l,c0(l,n)}o0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)l0(n),n=n.sibling}function l0(n){switch(n.tag){case 0:case 11:case 15:hc(n),n.flags&2048&&Ji(9,n,n.return);break;case 3:hc(n);break;case 12:hc(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,bf(n)):hc(n);break;default:hc(n)}}function bf(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Jt=l,c0(l,n)}o0(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ji(8,i,i.return),bf(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,bf(i));break;default:bf(i)}n=n.sibling}}function c0(n,i){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:Ji(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ql(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Jt=l;else e:for(a=n;Jt!==null;){l=Jt;var h=l.sibling,m=l.return;if(e0(l),l===a){Jt=null;break e}if(h!==null){h.return=m,Jt=h;break e}Jt=m}}}var z1={getCacheForType:function(n){var i=gn(Ht),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},B1=typeof WeakMap=="function"?WeakMap:Map,it=0,ft=null,Be=null,Qe=0,st=0,Ln=null,ns=!1,Ao=!1,Um=!1,wi=0,wt=0,rs=0,wa=0,zm=0,tr=0,xo=0,dc=null,In=null,Bm=!1,qm=0,wf=1/0,Tf=null,is=null,cn=0,ss=null,Ro=null,Co=0,Hm=0,Fm=null,u0=null,mc=0,Gm=null;function Un(){if((it&2)!==0&&Qe!==0)return Qe&-Qe;if(F.T!==null){var n=po;return n!==0?n:Zm()}return zi()}function f0(){tr===0&&(tr=(Qe&536870912)===0||Ze?Tl():536870912);var n=er.current;return n!==null&&(n.flags|=32),tr}function zn(n,i,a){(n===ft&&(st===2||st===9)||n.cancelPendingCommit!==null)&&(Io(n,0),as(n,Qe,tr,!1)),ei(n,a),((it&2)===0||n!==ft)&&(n===ft&&((it&2)===0&&(wa|=a),wt===4&&as(n,Qe,tr,!1)),zr(n))}function h0(n,i,a){if((it&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||Qs(n,i),h=l?F1(n,i):Qm(n,i,!0),m=l;do{if(h===0){Ao&&!l&&as(n,i,0,!1);break}else{if(a=n.current.alternate,m&&!q1(a)){h=Qm(n,i,!1),m=!1;continue}if(h===2){if(m=i,n.errorRecoveryDisabledLanes&m)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var S=n;h=dc;var k=S.current.memoizedState.isDehydrated;if(k&&(Io(S,b).flags|=256),b=Qm(S,b,!1),b!==2){if(Um&&!k){S.errorRecoveryDisabledLanes|=m,wa|=m,h=4;break e}m=In,In=h,m!==null&&(In===null?In=m:In.push.apply(In,m))}h=b}if(m=!1,h!==2)continue}}if(h===1){Io(n,0),as(n,i,0,!0);break}e:{switch(l=n,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:as(l,i,tr,!ns);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=qm+300-$t(),10<h)){if(as(l,i,tr,!ns),Ga(l,0,!0)!==0)break e;l.timeoutHandle=B0(d0.bind(null,l,a,In,Tf,Bm,i,tr,wa,xo,ns,m,2,-0,0),h);break e}d0(l,a,In,Tf,Bm,i,tr,wa,xo,ns,m,0,-0,0)}}break}while(!0);zr(n)}function d0(n,i,a,l,h,m,b,S,k,Q,te,ae,$,X){if(n.timeoutHandle=-1,ae=i.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(bc={stylesheets:null,count:0,unsuspend:TR},a0(i),ae=AR(),ae!==null)){n.cancelPendingCommit=ae(E0.bind(null,n,i,m,a,l,h,b,S,k,te,1,$,X)),as(n,m,b,!Q);return}E0(n,i,m,a,l,h,b,S,k)}function q1(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!Mn(m(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function as(n,i,a,l){i&=~zm,i&=~wa,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var m=31-pn(h),b=1<<m;l[m]=-1,h&=~b}a!==0&&Ar(n,a,i)}function Sf(){return(it&6)===0?(pc(0),!1):!0}function Km(){if(Be!==null){if(st===0)var n=Be.return;else n=Be,mi=ga=null,cm(n),bo=null,sc=0,n=Be;for(;n!==null;)K_(n.alternate,n),n=n.return;Be=null}}function Io(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,aR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Km(),ft=n,Be=a=fi(n.current,null),Qe=i,st=0,Ln=null,ns=!1,Ao=Qs(n,i),Um=!1,xo=tr=zm=wa=rs=wt=0,In=dc=null,Bm=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-pn(l),m=1<<h;i|=n[h],l&=~m}return wi=i,Gu(),a}function m0(n,i){Le=null,F.H=ff,i===Xl||i===ef?(i=Dv(),st=3):i===Cv?(i=Dv(),st=4):st=i===O_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ln=i,Be===null&&(wt=1,gf(n,Xn(i,n.current)))}function p0(){var n=F.H;return F.H=ff,n===null?ff:n}function g0(){var n=F.A;return F.A=z1,n}function Ym(){wt=4,ns||(Qe&4194048)!==Qe&&er.current!==null||(Ao=!0),(rs&134217727)===0&&(wa&134217727)===0||ft===null||as(ft,Qe,tr,!1)}function Qm(n,i,a){var l=it;it|=2;var h=p0(),m=g0();(ft!==n||Qe!==i)&&(Tf=null,Io(n,i)),i=!1;var b=wt;e:do try{if(st!==0&&Be!==null){var S=Be,k=Ln;switch(st){case 8:Km(),b=6;break e;case 3:case 2:case 9:case 6:er.current===null&&(i=!0);var Q=st;if(st=0,Ln=null,No(n,S,k,Q),a&&Ao){b=0;break e}break;default:Q=st,st=0,Ln=null,No(n,S,k,Q)}}H1(),b=wt;break}catch(te){m0(n,te)}while(!0);return i&&n.shellSuspendCounter++,mi=ga=null,it=l,F.H=h,F.A=m,Be===null&&(ft=null,Qe=0,Gu()),b}function H1(){for(;Be!==null;)y0(Be)}function F1(n,i){var a=it;it|=2;var l=p0(),h=g0();ft!==n||Qe!==i?(Tf=null,wf=$t()+500,Io(n,i)):Ao=Qs(n,i);e:do try{if(st!==0&&Be!==null){i=Be;var m=Ln;t:switch(st){case 1:st=0,Ln=null,No(n,i,m,1);break;case 2:case 9:if(Iv(m)){st=0,Ln=null,v0(i);break}i=function(){st!==2&&st!==9||ft!==n||(st=7),zr(n)},m.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Iv(m)?(st=0,Ln=null,v0(i)):(st=0,Ln=null,No(n,i,m,7));break;case 5:var b=null;switch(Be.tag){case 26:b=Be.memoizedState;case 5:case 27:var S=Be;if(!b||J0(b)){st=0,Ln=null;var k=S.sibling;if(k!==null)Be=k;else{var Q=S.return;Q!==null?(Be=Q,Af(Q)):Be=null}break t}}st=0,Ln=null,No(n,i,m,5);break;case 6:st=0,Ln=null,No(n,i,m,6);break;case 8:Km(),wt=6;break e;default:throw Error(s(462))}}G1();break}catch(te){m0(n,te)}while(!0);return mi=ga=null,F.H=l,F.A=h,it=a,Be!==null?0:(ft=null,Qe=0,Gu(),wt)}function G1(){for(;Be!==null&&!sr();)y0(Be)}function y0(n){var i=F_(n.alternate,n,wi);n.memoizedProps=n.pendingProps,i===null?Af(n):Be=i}function v0(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=L_(a,i,i.pendingProps,i.type,void 0,Qe);break;case 11:i=L_(a,i,i.pendingProps,i.type.render,i.ref,Qe);break;case 5:cm(i);default:K_(a,i),i=Be=_v(i,wi),i=F_(a,i,wi)}n.memoizedProps=n.pendingProps,i===null?Af(n):Be=i}function No(n,i,a,l){mi=ga=null,cm(i),bo=null,sc=0;var h=i.return;try{if(M1(n,h,i,a,Qe)){wt=1,gf(n,Xn(a,n.current)),Be=null;return}}catch(m){if(h!==null)throw Be=h,m;wt=1,gf(n,Xn(a,n.current)),Be=null;return}i.flags&32768?(Ze||l===1?n=!0:Ao||(Qe&536870912)!==0?n=!1:(ns=n=!0,(l===2||l===9||l===3||l===6)&&(l=er.current,l!==null&&l.tag===13&&(l.flags|=16384))),_0(i,n)):Af(i)}function Af(n){var i=n;do{if((i.flags&32768)!==0){_0(i,ns);return}n=i.return;var a=V1(i.alternate,i,wi);if(a!==null){Be=a;return}if(i=i.sibling,i!==null){Be=i;return}Be=i=n}while(i!==null);wt===0&&(wt=5)}function _0(n,i){do{var a=j1(n.alternate,n);if(a!==null){a.flags&=32767,Be=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Be=n;return}Be=n=a}while(n!==null);wt=6,Be=null}function E0(n,i,a,l,h,m,b,S,k){n.cancelPendingCommit=null;do xf();while(cn!==0);if((it&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=Ld,Al(n,a,m,b,S,k),n===ft&&(Be=ft=null,Qe=0),Ro=i,ss=n,Co=a,Hm=m,Fm=h,u0=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,$1(Fs,function(){return A0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=ie.p,ie.p=2,b=it,it|=4;try{L1(n,i,a)}finally{it=b,ie.p=h,F.T=l}}cn=1,b0(),w0(),T0()}}function b0(){if(cn===1){cn=0;var n=ss,i=Ro,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=ie.p;ie.p=2;var h=it;it|=4;try{r0(i,n);var m=ap,b=cv(n.containerInfo),S=m.focusedElem,k=m.selectionRange;if(b!==S&&S&&S.ownerDocument&&lv(S.ownerDocument.documentElement,S)){if(k!==null&&Pd(S)){var Q=k.start,te=k.end;if(te===void 0&&(te=Q),"selectionStart"in S)S.selectionStart=Q,S.selectionEnd=Math.min(te,S.value.length);else{var ae=S.ownerDocument||document,$=ae&&ae.defaultView||window;if($.getSelection){var X=$.getSelection(),De=S.textContent.length,xe=Math.min(k.start,De),ct=k.end===void 0?xe:Math.min(k.end,De);!X.extend&&xe>ct&&(b=ct,ct=xe,xe=b);var G=ov(S,xe),q=ov(S,ct);if(G&&q&&(X.rangeCount!==1||X.anchorNode!==G.node||X.anchorOffset!==G.offset||X.focusNode!==q.node||X.focusOffset!==q.offset)){var Y=ae.createRange();Y.setStart(G.node,G.offset),X.removeAllRanges(),xe>ct?(X.addRange(Y),X.extend(q.node,q.offset)):(Y.setEnd(q.node,q.offset),X.addRange(Y))}}}}for(ae=[],X=S;X=X.parentNode;)X.nodeType===1&&ae.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ae.length;S++){var re=ae[S];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Lf=!!sp,ap=sp=null}finally{it=h,ie.p=l,F.T=a}}n.current=i,cn=2}}function w0(){if(cn===2){cn=0;var n=ss,i=Ro,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=ie.p;ie.p=2;var h=it;it|=4;try{J_(n,i.alternate,i)}finally{it=h,ie.p=l,F.T=a}}cn=3}}function T0(){if(cn===4||cn===3){cn=0,Tr();var n=ss,i=Ro,a=Co,l=u0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?cn=5:(cn=0,Ro=ss=null,S0(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(is=null),Ka(a),i=i.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(Et,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=ie.p,ie.p=2,F.T=null;try{for(var m=n.onRecoverableError,b=0;b<l.length;b++){var S=l[b];m(S.value,{componentStack:S.stack})}}finally{F.T=i,ie.p=h}}(Co&3)!==0&&xf(),zr(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===Gm?mc++:(mc=0,Gm=n):mc=0,pc(0)}}function S0(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Ql(i)))}function xf(n){return b0(),w0(),T0(),A0()}function A0(){if(cn!==5)return!1;var n=ss,i=Hm;Hm=0;var a=Ka(Co),l=F.T,h=ie.p;try{ie.p=32>a?32:a,F.T=null,a=Fm,Fm=null;var m=ss,b=Co;if(cn=0,Ro=ss=null,Co=0,(it&6)!==0)throw Error(s(331));var S=it;if(it|=4,l0(m.current),s0(m,m.current,b,a),it=S,pc(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(Et,m)}catch{}return!0}finally{ie.p=h,F.T=l,S0(n,i)}}function x0(n,i,a){i=Xn(a,i),i=Tm(n.stateNode,i,2),n=$i(n,i,2),n!==null&&(ei(n,2),zr(n))}function ut(n,i,a){if(n.tag===3)x0(n,n,a);else for(;i!==null;){if(i.tag===3){x0(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(is===null||!is.has(l))){n=Xn(a,n),a=N_(2),l=$i(i,a,2),l!==null&&(D_(a,l,i,n),ei(l,2),zr(l));break}}i=i.return}}function $m(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new B1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Um=!0,h.add(a),n=K1.bind(null,n,i,a),i.then(n,n))}function K1(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ft===n&&(Qe&a)===a&&(wt===4||wt===3&&(Qe&62914560)===Qe&&300>$t()-qm?(it&2)===0&&Io(n,0):zm|=a,xo===Qe&&(xo=0)),zr(n)}function R0(n,i){i===0&&(i=Sl()),n=uo(n,i),n!==null&&(ei(n,i),zr(n))}function Y1(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),R0(n,a)}function Q1(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),R0(n,a)}function $1(n,i){return St(n,i)}var Rf=null,Do=null,Xm=!1,Cf=!1,Wm=!1,Ta=0;function zr(n){n!==Do&&n.next===null&&(Do===null?Rf=Do=n:Do=Do.next=n),Cf=!0,Xm||(Xm=!0,W1())}function pc(n,i){if(!Wm&&Cf){Wm=!0;do for(var a=!1,l=Rf;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var b=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-pn(42|n)+1)-1,m&=h&~(b&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,D0(l,m))}else m=Qe,m=Ga(l,l===ft?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Qs(l,m)||(a=!0,D0(l,m));l=l.next}while(a);Wm=!1}}function X1(){C0()}function C0(){Cf=Xm=!1;var n=0;Ta!==0&&(sR()&&(n=Ta),Ta=0);for(var i=$t(),a=null,l=Rf;l!==null;){var h=l.next,m=I0(l,i);m===0?(l.next=null,a===null?Rf=h:a.next=h,h===null&&(Do=a)):(a=l,(n!==0||(m&3)!==0)&&(Cf=!0)),l=h}pc(n)}function I0(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var b=31-pn(m),S=1<<b,k=h[b];k===-1?((S&a)===0||(S&l)!==0)&&(h[b]=wl(S,i)):k<=i&&(n.expiredLanes|=S),m&=~S}if(i=ft,a=Qe,a=Ga(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(st===2||st===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Qt(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Qs(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&Qt(l),Ka(a)){case 2:case 8:a=Ha;break;case 32:a=Fs;break;case 268435456:a=Fa;break;default:a=Fs}return l=N0.bind(null,n),a=St(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&Qt(l),n.callbackPriority=2,n.callbackNode=null,2}function N0(n,i){if(cn!==0&&cn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(xf()&&n.callbackNode!==a)return null;var l=Qe;return l=Ga(n,n===ft?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(h0(n,l,i),I0(n,$t()),n.callbackNode!=null&&n.callbackNode===a?N0.bind(null,n):null)}function D0(n,i){if(xf())return null;h0(n,i,!0)}function W1(){oR(function(){(it&6)!==0?St(Sr,X1):C0()})}function Zm(){return Ta===0&&(Ta=Tl()),Ta}function O0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Za(""+n)}function P0(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function Z1(n,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var m=O0((h[Nt]||null).action),b=l.submitter;b&&(i=(i=b[Nt]||null)?O0(i.formAction):b.getAttribute("formAction"),i!==null&&(m=i,b=null));var S=new Ja("action","action",null,l,h);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ta!==0){var k=b?P0(h,b):new FormData(h);vm(a,{pending:!0,data:k,method:h.method,action:m},null,k)}}else typeof m=="function"&&(S.preventDefault(),k=b?P0(h,b):new FormData(h),vm(a,{pending:!0,data:k,method:h.method,action:m},m,k))},currentTarget:h}]})}}for(var Jm=0;Jm<jd.length;Jm++){var ep=jd[Jm],J1=ep.toLowerCase(),eR=ep[0].toUpperCase()+ep.slice(1);cr(J1,"on"+eR)}cr(hv,"onAnimationEnd"),cr(dv,"onAnimationIteration"),cr(mv,"onAnimationStart"),cr("dblclick","onDoubleClick"),cr("focusin","onFocus"),cr("focusout","onBlur"),cr(y1,"onTransitionRun"),cr(v1,"onTransitionStart"),cr(_1,"onTransitionCancel"),cr(pv,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),or("onBeforeInput",["compositionend","keypress","textInput","paste"]),or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gc));function M0(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var b=l.length-1;0<=b;b--){var S=l[b],k=S.instance,Q=S.currentTarget;if(S=S.listener,k!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=Q;try{m(h)}catch(te){pf(te)}h.currentTarget=null,m=k}else for(b=0;b<l.length;b++){if(S=l[b],k=S.instance,Q=S.currentTarget,S=S.listener,k!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=Q;try{m(h)}catch(te){pf(te)}h.currentTarget=null,m=k}}}}function qe(n,i){var a=i[Rl];a===void 0&&(a=i[Rl]=new Set);var l=n+"__bubble";a.has(l)||(k0(i,n,2,!1),a.add(l))}function tp(n,i,a){var l=0;i&&(l|=4),k0(a,n,l,i)}var If="_reactListening"+Math.random().toString(36).slice(2);function np(n){if(!n[If]){n[If]=!0,Cl.forEach(function(a){a!=="selectionchange"&&(tR.has(a)||tp(a,!1,n),tp(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[If]||(i[If]=!0,tp("selectionchange",!1,i))}}function k0(n,i,a,l){switch(sE(i)){case 2:var h=CR;break;case 8:h=IR;break;default:h=gp}a=h.bind(null,i,a,n),h=void 0,!Qn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,a,{capture:!0,passive:h}):n.addEventListener(i,a,!0):h!==void 0?n.addEventListener(i,a,{passive:h}):n.addEventListener(i,a,!1)}function rp(n,i,a,l,h){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var S=l.stateNode.containerInfo;if(S===h)break;if(b===4)for(b=l.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;S!==null;){if(b=ti(S),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){l=m=b;continue e}S=S.parentNode}}l=l.return}Nu(function(){var Q=m,te=Yn(a),ae=[];e:{var $=gv.get(n);if($!==void 0){var X=Ja,De=n;switch(n){case"keypress":if(Dr(a)===0)break e;case"keydown":case"keyup":X=so;break;case"focusin":De="focus",X=no;break;case"focusout":De="blur",X=no;break;case"beforeblur":case"afterblur":X=no;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=$n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Id;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Lu;break;case hv:case dv:case mv:X=ro;break;case pv:X=zu;break;case"scroll":case"scrollend":X=Du;break;case"wheel":X=ao;break;case"copy":case"cut":case"paste":X=io;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=zl;break;case"toggle":case"beforetoggle":X=qu}var xe=(i&4)!==0,ct=!xe&&(n==="scroll"||n==="scrollend"),G=xe?$!==null?$+"Capture":null:$;xe=[];for(var q=Q,Y;q!==null;){var re=q;if(Y=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Y===null||G===null||(re=na(q,G),re!=null&&xe.push(yc(q,re,Y))),ct)break;q=q.return}0<xe.length&&($=new X($,De,null,a,te),ae.push({event:$,listeners:xe}))}}if((i&7)===0){e:{if($=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",$&&a!==si&&(De=a.relatedTarget||a.fromElement)&&(ti(De)||De[Gn]))break e;if((X||$)&&($=te.window===te?te:($=te.ownerDocument)?$.defaultView||$.parentWindow:window,X?(De=a.relatedTarget||a.toElement,X=Q,De=De?ti(De):null,De!==null&&(ct=c(De),xe=De.tag,De!==ct||xe!==5&&xe!==27&&xe!==6)&&(De=null)):(X=null,De=Q),X!==De)){if(xe=$n,re="onMouseLeave",G="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(xe=zl,re="onPointerLeave",G="onPointerEnter",q="pointer"),ct=X==null?$:Rr(X),Y=De==null?$:Rr(De),$=new xe(re,q+"leave",X,a,te),$.target=ct,$.relatedTarget=Y,re=null,ti(te)===Q&&(xe=new xe(G,q+"enter",De,a,te),xe.target=Y,xe.relatedTarget=ct,re=xe),ct=re,X&&De)t:{for(xe=X,G=De,q=0,Y=xe;Y;Y=Oo(Y))q++;for(Y=0,re=G;re;re=Oo(re))Y++;for(;0<q-Y;)xe=Oo(xe),q--;for(;0<Y-q;)G=Oo(G),Y--;for(;q--;){if(xe===G||G!==null&&xe===G.alternate)break t;xe=Oo(xe),G=Oo(G)}xe=null}else xe=null;X!==null&&V0(ae,$,X,xe,!1),De!==null&&ct!==null&&V0(ae,ct,De,xe,!0)}}e:{if($=Q?Rr(Q):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var ve=tv;else if(qt($))if(nv)ve=m1;else{ve=h1;var ze=f1}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Q&&Pl(Q.elementType)&&(ve=tv):ve=d1;if(ve&&(ve=ve(n,Q))){ui(ae,ve,a,te);break e}ze&&ze(n,$,Q),n==="focusout"&&Q&&$.type==="number"&&Q.memoizedProps.value!=null&&Fi($,"number",$.value)}switch(ze=Q?Rr(Q):window,n){case"focusin":(qt(ze)||ze.contentEditable==="true")&&(oo=ze,Md=Q,Hl=null);break;case"focusout":Hl=Md=oo=null;break;case"mousedown":kd=!0;break;case"contextmenu":case"mouseup":case"dragend":kd=!1,uv(ae,a,te);break;case"selectionchange":if(g1)break;case"keydown":case"keyup":uv(ae,a,te)}var Te;if(Mr)e:{switch(n){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ke?J(n,a)&&(Ce="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(E&&a.locale!=="ko"&&(Ke||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ke&&(Te=kl()):(Nr=te,Gi="value"in Nr?Nr.value:Nr.textContent,Ke=!0)),ze=Nf(Q,Ce),0<ze.length&&(Ce=new Ll(Ce,n,null,a,te),ae.push({event:Ce,listeners:ze}),Te?Ce.data=Te:(Te=de(a),Te!==null&&(Ce.data=Te)))),(Te=y?Bt(n,a):Ye(n,a))&&(Ce=Nf(Q,"onBeforeInput"),0<Ce.length&&(ze=new Ll("onBeforeInput","beforeinput",null,a,te),ae.push({event:ze,listeners:Ce}),ze.data=Te)),Z1(ae,n,Q,a,te)}M0(ae,i)})}function yc(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Nf(n,i){for(var a=i+"Capture",l=[];n!==null;){var h=n,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=na(n,a),h!=null&&l.unshift(yc(n,h,m)),h=na(n,i),h!=null&&l.push(yc(n,h,m))),n.tag===3)return l;n=n.return}return[]}function Oo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function V0(n,i,a,l,h){for(var m=i._reactName,b=[];a!==null&&a!==l;){var S=a,k=S.alternate,Q=S.stateNode;if(S=S.tag,k!==null&&k===l)break;S!==5&&S!==26&&S!==27||Q===null||(k=Q,h?(Q=na(a,m),Q!=null&&b.unshift(yc(a,Q,k))):h||(Q=na(a,m),Q!=null&&b.push(yc(a,Q,k)))),a=a.return}b.length!==0&&n.push({event:i,listeners:b})}var nR=/\r\n?/g,rR=/\u0000|\uFFFD/g;function j0(n){return(typeof n=="string"?n:""+n).replace(nR,`
`).replace(rR,"")}function L0(n,i){return i=j0(i),j0(n)===i}function Df(){}function lt(n,i,a,l,h,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Kn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Kn(n,""+l);break;case"className":Cr(n,"class",l);break;case"tabIndex":Cr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cr(n,a,l);break;case"style":Ol(n,l,m);break;case"data":if(i!=="object"){Cr(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Za(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&lt(n,i,"name",h.name,h,null),lt(n,i,"formEncType",h.formEncType,h,null),lt(n,i,"formMethod",h.formMethod,h,null),lt(n,i,"formTarget",h.formTarget,h,null)):(lt(n,i,"encType",h.encType,h,null),lt(n,i,"method",h.method,h,null),lt(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Za(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Df);break;case"onScroll":l!=null&&qe("scroll",n);break;case"onScrollEnd":l!=null&&qe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Za(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":qe("beforetoggle",n),qe("toggle",n),Hi(n,"popover",l);break;case"xlinkActuate":an(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":an(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":an(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":an(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":an(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":an(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":an(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":an(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":an(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hi(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Rd.get(a)||a,Hi(n,a,l))}}function ip(n,i,a,l,h,m){switch(a){case"style":Ol(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Kn(n,l):(typeof l=="number"||typeof l=="bigint")&&Kn(n,""+l);break;case"onScroll":l!=null&&qe("scroll",n);break;case"onScrollEnd":l!=null&&qe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Df);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ya.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),m=n[Nt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Hi(n,a,l)}}}function un(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",n),qe("load",n);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:lt(n,i,m,b,a,null)}}h&&lt(n,i,"srcSet",a.srcSet,a,null),l&&lt(n,i,"src",a.src,a,null);return;case"input":qe("invalid",n);var S=m=b=h=null,k=null,Q=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":h=te;break;case"type":b=te;break;case"checked":k=te;break;case"defaultChecked":Q=te;break;case"value":m=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:lt(n,i,l,te,a,null)}}Js(n,m,S,k,Q,b,h,!1),Wa(n);return;case"select":qe("invalid",n),l=b=m=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":m=S;break;case"defaultValue":b=S;break;case"multiple":l=S;default:lt(n,i,h,S,a,null)}i=m,a=b,n.multiple=!!l,i!=null?ii(n,!!l,i,!1):a!=null&&ii(n,!!l,a,!0);return;case"textarea":qe("invalid",n),m=h=l=null;for(b in a)if(a.hasOwnProperty(b)&&(S=a[b],S!=null))switch(b){case"value":l=S;break;case"defaultValue":h=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:lt(n,i,b,S,a,null)}ea(n,l,h,m),Wa(n);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:lt(n,i,k,l,a,null)}return;case"dialog":qe("beforetoggle",n),qe("toggle",n),qe("cancel",n),qe("close",n);break;case"iframe":case"object":qe("load",n);break;case"video":case"audio":for(l=0;l<gc.length;l++)qe(gc[l],n);break;case"image":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"embed":case"source":case"link":qe("error",n),qe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in a)if(a.hasOwnProperty(Q)&&(l=a[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:lt(n,i,Q,l,a,null)}return;default:if(Pl(i)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&ip(n,i,te,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&lt(n,i,S,l,a,null))}function iR(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,b=null,S=null,k=null,Q=null,te=null;for(X in a){var ae=a[X];if(a.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":k=ae;default:l.hasOwnProperty(X)||lt(n,i,X,null,l,ae)}}for(var $ in l){var X=l[$];if(ae=a[$],l.hasOwnProperty($)&&(X!=null||ae!=null))switch($){case"type":m=X;break;case"name":h=X;break;case"checked":Q=X;break;case"defaultChecked":te=X;break;case"value":b=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==ae&&lt(n,i,$,X,l,ae)}}Pn(n,b,S,k,Q,te,m,h);return;case"select":X=b=S=$=null;for(m in a)if(k=a[m],a.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":X=k;default:l.hasOwnProperty(m)||lt(n,i,m,null,l,k)}for(h in l)if(m=l[h],k=a[h],l.hasOwnProperty(h)&&(m!=null||k!=null))switch(h){case"value":$=m;break;case"defaultValue":S=m;break;case"multiple":b=m;default:m!==k&&lt(n,i,h,m,l,k)}i=S,a=b,l=X,$!=null?ii(n,!!a,$,!1):!!l!=!!a&&(i!=null?ii(n,!!a,i,!0):ii(n,!!a,a?[]:"",!1));return;case"textarea":X=$=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:lt(n,i,S,null,l,h)}for(b in l)if(h=l[b],m=a[b],l.hasOwnProperty(b)&&(h!=null||m!=null))switch(b){case"value":$=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&lt(n,i,b,h,l,m)}at(n,$,X);return;case"option":for(var De in a)if($=a[De],a.hasOwnProperty(De)&&$!=null&&!l.hasOwnProperty(De))switch(De){case"selected":n.selected=!1;break;default:lt(n,i,De,null,l,$)}for(k in l)if($=l[k],X=a[k],l.hasOwnProperty(k)&&$!==X&&($!=null||X!=null))switch(k){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:lt(n,i,k,$,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)$=a[xe],a.hasOwnProperty(xe)&&$!=null&&!l.hasOwnProperty(xe)&&lt(n,i,xe,null,l,$);for(Q in l)if($=l[Q],X=a[Q],l.hasOwnProperty(Q)&&$!==X&&($!=null||X!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:lt(n,i,Q,$,l,X)}return;default:if(Pl(i)){for(var ct in a)$=a[ct],a.hasOwnProperty(ct)&&$!==void 0&&!l.hasOwnProperty(ct)&&ip(n,i,ct,void 0,l,$);for(te in l)$=l[te],X=a[te],!l.hasOwnProperty(te)||$===X||$===void 0&&X===void 0||ip(n,i,te,$,l,X);return}}for(var G in a)$=a[G],a.hasOwnProperty(G)&&$!=null&&!l.hasOwnProperty(G)&&lt(n,i,G,null,l,$);for(ae in l)$=l[ae],X=a[ae],!l.hasOwnProperty(ae)||$===X||$==null&&X==null||lt(n,i,ae,$,l,X)}var sp=null,ap=null;function Of(n){return n.nodeType===9?n:n.ownerDocument}function U0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z0(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function op(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var lp=null;function sR(){var n=window.event;return n&&n.type==="popstate"?n===lp?!1:(lp=n,!0):(lp=null,!1)}var B0=typeof setTimeout=="function"?setTimeout:void 0,aR=typeof clearTimeout=="function"?clearTimeout:void 0,q0=typeof Promise=="function"?Promise:void 0,oR=typeof queueMicrotask=="function"?queueMicrotask:typeof q0<"u"?function(n){return q0.resolve(null).then(n).catch(lR)}:B0;function lR(n){setTimeout(function(){throw n})}function os(n){return n==="head"}function H0(n,i){var a=i,l=0,h=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var b=n.ownerDocument;if(a&1&&vc(b.documentElement),a&2&&vc(b.body),a&4)for(a=b.head,vc(a),b=a.firstChild;b;){var S=b.nextSibling,k=b.nodeName;b[$s]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=S}}if(h===0){n.removeChild(m),xc(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);xc(i)}function cp(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cp(a),qi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function cR(n,i,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[$s])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=fr(n.nextSibling),n===null)break}return null}function uR(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=fr(n.nextSibling),n===null))return null;return n}function up(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function fR(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function fr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var fp=null;function F0(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function G0(n,i,a){switch(i=Of(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function vc(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);qi(n)}var nr=new Map,K0=new Set;function Pf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ti=ie.d;ie.d={f:hR,r:dR,D:mR,C:pR,L:gR,m:yR,X:_R,S:vR,M:ER};function hR(){var n=Ti.f(),i=Sf();return n||i}function dR(n){var i=xr(n);i!==null&&i.tag===5&&i.type==="form"?h_(i):Ti.r(n)}var Po=typeof document>"u"?null:document;function Y0(n,i,a){var l=Po;if(l&&typeof i=="string"&&i){var h=Dt(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),K0.has(h)||(K0.add(h),n={rel:n,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),un(i,"link",n),At(i),l.head.appendChild(i)))}}function mR(n){Ti.D(n),Y0("dns-prefetch",n,null)}function pR(n,i){Ti.C(n,i),Y0("preconnect",n,i)}function gR(n,i,a){Ti.L(n,i,a);var l=Po;if(l&&n&&i){var h='link[rel="preload"][as="'+Dt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Dt(a.imageSizes)+'"]')):h+='[href="'+Dt(n)+'"]';var m=h;switch(i){case"style":m=Mo(n);break;case"script":m=ko(n)}nr.has(m)||(n=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),nr.set(m,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(_c(m))||i==="script"&&l.querySelector(Ec(m))||(i=l.createElement("link"),un(i,"link",n),At(i),l.head.appendChild(i)))}}function yR(n,i){Ti.m(n,i);var a=Po;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Dt(l)+'"][href="'+Dt(n)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ko(n)}if(!nr.has(m)&&(n=_({rel:"modulepreload",href:n},i),nr.set(m,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ec(m)))return}l=a.createElement("link"),un(l,"link",n),At(l),a.head.appendChild(l)}}}function vR(n,i,a){Ti.S(n,i,a);var l=Po;if(l&&n){var h=Tn(l).hoistableStyles,m=Mo(n);i=i||"default";var b=h.get(m);if(!b){var S={loading:0,preload:null};if(b=l.querySelector(_c(m)))S.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},a),(a=nr.get(m))&&hp(n,a);var k=b=l.createElement("link");At(k),un(k,"link",n),k._p=new Promise(function(Q,te){k.onload=Q,k.onerror=te}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Mf(b,i,l)}b={type:"stylesheet",instance:b,count:1,state:S},h.set(m,b)}}}function _R(n,i){Ti.X(n,i);var a=Po;if(a&&n){var l=Tn(a).hoistableScripts,h=ko(n),m=l.get(h);m||(m=a.querySelector(Ec(h)),m||(n=_({src:n,async:!0},i),(i=nr.get(h))&&dp(n,i),m=a.createElement("script"),At(m),un(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function ER(n,i){Ti.M(n,i);var a=Po;if(a&&n){var l=Tn(a).hoistableScripts,h=ko(n),m=l.get(h);m||(m=a.querySelector(Ec(h)),m||(n=_({src:n,async:!0,type:"module"},i),(i=nr.get(h))&&dp(n,i),m=a.createElement("script"),At(m),un(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function Q0(n,i,a,l){var h=(h=we.current)?Pf(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Mo(a.href),a=Tn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Mo(a.href);var m=Tn(h).hoistableStyles,b=m.get(n);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,b),(m=h.querySelector(_c(n)))&&!m._p&&(b.instance=m,b.state.loading=5),nr.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},nr.set(n,a),m||bR(h,n,a,b.state))),i&&l===null)throw Error(s(528,""));return b}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ko(a),a=Tn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Mo(n){return'href="'+Dt(n)+'"'}function _c(n){return'link[rel="stylesheet"]['+n+"]"}function $0(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function bR(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),un(i,"link",a),At(i),n.head.appendChild(i))}function ko(n){return'[src="'+Dt(n)+'"]'}function Ec(n){return"script[async]"+n}function X0(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Dt(a.href)+'"]');if(l)return i.instance=l,At(l),l;var h=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),At(l),un(l,"style",h),Mf(l,a.precedence,n),i.instance=l;case"stylesheet":h=Mo(a.href);var m=n.querySelector(_c(h));if(m)return i.state.loading|=4,i.instance=m,At(m),m;l=$0(a),(h=nr.get(h))&&hp(l,h),m=(n.ownerDocument||n).createElement("link"),At(m);var b=m;return b._p=new Promise(function(S,k){b.onload=S,b.onerror=k}),un(m,"link",l),i.state.loading|=4,Mf(m,a.precedence,n),i.instance=m;case"script":return m=ko(a.src),(h=n.querySelector(Ec(m)))?(i.instance=h,At(h),h):(l=a,(h=nr.get(m))&&(l=_({},a),dp(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),At(h),un(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Mf(l,a.precedence,n));return i.instance}function Mf(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,b=0;b<l.length;b++){var S=l[b];if(S.dataset.precedence===i)m=S;else if(m!==h)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function hp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function dp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var kf=null;function W0(n,i,a){if(kf===null){var l=new Map,h=kf=new Map;h.set(a,l)}else h=kf,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var m=a[h];if(!(m[$s]||m[zt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(i)||"";b=n+b;var S=l.get(b);S?S.push(m):l.set(b,[m])}}return l}function Z0(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function wR(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function J0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var bc=null;function TR(){}function SR(n,i,a){if(bc===null)throw Error(s(475));var l=bc;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Mo(a.href),m=n.querySelector(_c(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Vf.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=m,At(m);return}m=n.ownerDocument||n,a=$0(a),(h=nr.get(h))&&hp(a,h),m=m.createElement("link"),At(m);var b=m;b._p=new Promise(function(S,k){b.onload=S,b.onerror=k}),un(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Vf.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function AR(){if(bc===null)throw Error(s(475));var n=bc;return n.stylesheets&&n.count===0&&mp(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&mp(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Vf(){if(this.count--,this.count===0){if(this.stylesheets)mp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var jf=null;function mp(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,jf=new Map,i.forEach(xR,n),jf=null,Vf.call(n))}function xR(n,i){if(!(i.state.loading&4)){var a=jf.get(n);if(a)var l=a.get(null);else{a=new Map,jf.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var b=h[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}h=i.instance,b=h.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,h),a.set(b,h),this.count++,l=Vf.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var wc={$$typeof:H,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function RR(n,i,a,l,h,m,b,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.hiddenUpdates=Jr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function eE(n,i,a,l,h,m,b,S,k,Q,te,ae){return n=new RR(n,i,a,b,S,k,Q,ae),i=1,m===!0&&(i|=24),m=kn(3,null,null,i),n.current=m,m.stateNode=n,i=$d(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},Jd(m),n}function tE(n){return n?(n=fo,n):fo}function nE(n,i,a,l,h,m){h=tE(h),l.context===null?l.context=h:l.pendingContext=h,l=Qi(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=$i(n,l,i),a!==null&&(zn(a,n,i),Zl(a,n,i))}function rE(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function pp(n,i){rE(n,i),(n=n.alternate)&&rE(n,i)}function iE(n){if(n.tag===13){var i=uo(n,67108864);i!==null&&zn(i,n,67108864),pp(n,67108864)}}var Lf=!0;function CR(n,i,a,l){var h=F.T;F.T=null;var m=ie.p;try{ie.p=2,gp(n,i,a,l)}finally{ie.p=m,F.T=h}}function IR(n,i,a,l){var h=F.T;F.T=null;var m=ie.p;try{ie.p=8,gp(n,i,a,l)}finally{ie.p=m,F.T=h}}function gp(n,i,a,l){if(Lf){var h=yp(l);if(h===null)rp(n,i,l,Uf,a),aE(n,l);else if(DR(h,n,i,a,l))l.stopPropagation();else if(aE(n,l),i&4&&-1<NR.indexOf(n)){for(;h!==null;){var m=xr(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=ar(m.pendingLanes);if(b!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var k=1<<31-pn(b);S.entanglements[1]|=k,b&=~k}zr(m),(it&6)===0&&(wf=$t()+500,pc(0))}}break;case 13:S=uo(m,2),S!==null&&zn(S,m,2),Sf(),pp(m,2)}if(m=yp(l),m===null&&rp(n,i,l,Uf,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else rp(n,i,l,null,a)}}function yp(n){return n=Yn(n),vp(n)}var Uf=null;function vp(n){if(Uf=null,n=ti(n),n!==null){var i=c(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=u(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Uf=n,null}function sE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(El()){case Sr:return 2;case Ha:return 8;case Fs:case wd:return 32;case Fa:return 268435456;default:return 32}default:return 32}}var _p=!1,ls=null,cs=null,us=null,Tc=new Map,Sc=new Map,fs=[],NR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aE(n,i){switch(n){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Tc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(i.pointerId)}}function Ac(n,i,a,l,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},i!==null&&(i=xr(i),i!==null&&iE(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function DR(n,i,a,l,h){switch(i){case"focusin":return ls=Ac(ls,n,i,a,l,h),!0;case"dragenter":return cs=Ac(cs,n,i,a,l,h),!0;case"mouseover":return us=Ac(us,n,i,a,l,h),!0;case"pointerover":var m=h.pointerId;return Tc.set(m,Ac(Tc.get(m)||null,n,i,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,Sc.set(m,Ac(Sc.get(m)||null,n,i,a,l,h)),!0}return!1}function oE(n){var i=ti(n.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){n.blockedOn=i,Tu(n.priority,function(){if(a.tag===13){var l=Un();l=Ui(l);var h=uo(a,l);h!==null&&zn(h,a,l),pp(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function zf(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=yp(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);si=l,a.target.dispatchEvent(l),si=null}else return i=xr(a),i!==null&&iE(i),n.blockedOn=a,!1;i.shift()}return!0}function lE(n,i,a){zf(n)&&a.delete(i)}function OR(){_p=!1,ls!==null&&zf(ls)&&(ls=null),cs!==null&&zf(cs)&&(cs=null),us!==null&&zf(us)&&(us=null),Tc.forEach(lE),Sc.forEach(lE)}function Bf(n,i){n.blockedOn===i&&(n.blockedOn=null,_p||(_p=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,OR)))}var qf=null;function cE(n){qf!==n&&(qf=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qf===n&&(qf=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(vp(l||a)===null)continue;break}var m=xr(a);m!==null&&(n.splice(i,3),i-=3,vm(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function xc(n){function i(k){return Bf(k,n)}ls!==null&&Bf(ls,n),cs!==null&&Bf(cs,n),us!==null&&Bf(us,n),Tc.forEach(i),Sc.forEach(i);for(var a=0;a<fs.length;a++){var l=fs[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<fs.length&&(a=fs[0],a.blockedOn===null);)oE(a),a.blockedOn===null&&fs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],b=h[Nt]||null;if(typeof m=="function")b||cE(a);else if(b){var S=null;if(m&&m.hasAttribute("formAction")){if(h=m,b=m[Nt]||null)S=b.formAction;else if(vp(h)!==null)continue}else S=b.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),cE(a)}}}function Ep(n){this._internalRoot=n}Hf.prototype.render=Ep.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Un();nE(a,l,n,i,null,null)},Hf.prototype.unmount=Ep.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;nE(n.current,2,null,n,null,null),Sf(),i[Gn]=null}};function Hf(n){this._internalRoot=n}Hf.prototype.unstable_scheduleHydration=function(n){if(n){var i=zi();n={blockedOn:null,target:n,priority:i};for(var a=0;a<fs.length&&i!==0&&i<fs[a].priority;a++);fs.splice(a,0,n),a===0&&oE(n)}};var uE=e.version;if(uE!=="19.1.0")throw Error(s(527,uE,"19.1.0"));ie.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var PR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ff.isDisabled&&Ff.supportsFiber)try{Et=Ff.inject(PR),rt=Ff}catch{}}return Cc.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",h=x_,m=R_,b=C_,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=eE(n,1,!1,null,null,a,l,h,m,b,S,null),n[Gn]=i.current,np(n),new Ep(i)},Cc.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,h="",m=x_,b=R_,S=C_,k=null,Q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks),a.formState!==void 0&&(Q=a.formState)),i=eE(n,1,!0,i,a??null,l,h,m,b,S,k,Q),i.context=tE(null),a=i.current,l=Un(),l=Ui(l),h=Qi(l),h.callback=null,$i(a,h,l),a=l,i.current.lanes=a,ei(i,a),zr(i),n[Gn]=i.current,np(n),new Hf(i)},Cc.version="19.1.0",Cc}var EE;function HR(){if(EE)return Tp.exports;EE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Tp.exports=qR(),Tp.exports}var FR=HR();function bE(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function GR(...r){return e=>{let t=!1;const s=r.map(o=>{const c=bE(o,e);return!t&&typeof c=="function"&&(t=!0),c});if(t)return()=>{for(let o=0;o<s.length;o++){const c=s[o];typeof c=="function"?c():bE(r[o],null)}}}}function pt(...r){return I.useCallback(GR(...r),r)}function Gc(r){const e=KR(r),t=I.forwardRef((s,o)=>{const{children:c,...u}=s,d=I.Children.toArray(c),p=d.find(QR);if(p){const g=p.props.children,_=d.map(w=>w===p?I.Children.count(g)>1?I.Children.only(null):I.isValidElement(g)?g.props.children:null:w);return v.jsx(e,{...u,ref:o,children:I.isValidElement(g)?I.cloneElement(g,void 0,_):null})}return v.jsx(e,{...u,ref:o,children:c})});return t.displayName=`${r}.Slot`,t}var Vw=Gc("Slot");function KR(r){const e=I.forwardRef((t,s)=>{const{children:o,...c}=t,u=I.isValidElement(o)?XR(o):void 0,d=pt(u,s);if(I.isValidElement(o)){const p=$R(c,o.props);return o.type!==I.Fragment&&(p.ref=d),I.cloneElement(o,p)}return I.Children.count(o)>1?I.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var YR=Symbol("radix.slottable");function QR(r){return I.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===YR}function $R(r,e){const t={...e};for(const s in e){const o=r[s],c=e[s];/^on[A-Z]/.test(s)?o&&c?t[s]=(...d)=>{const p=c(...d);return o(...d),p}:o&&(t[s]=o):s==="style"?t[s]={...o,...c}:s==="className"&&(t[s]=[o,c].filter(Boolean).join(" "))}return{...r,...t}}function XR(r){var s,o;let e=(s=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function jw(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=jw(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function Lw(){for(var r,e,t=0,s="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=jw(r))&&(s&&(s+=" "),s+=e);return s}const wE=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,TE=Lw,Uw=(r,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return TE(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:c}=e,u=Object.keys(o).map(g=>{const _=t==null?void 0:t[g],w=c==null?void 0:c[g];if(_===null)return null;const T=wE(_)||wE(w);return o[g][T]}),d=t&&Object.entries(t).reduce((g,_)=>{let[w,T]=_;return T===void 0||(g[w]=T),g},{}),p=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((g,_)=>{let{class:w,className:T,...x}=_;return Object.entries(x).every(D=>{let[R,N]=D;return Array.isArray(N)?N.includes({...c,...d}[R]):{...c,...d}[R]===N})?[...g,w,T]:g},[]);return TE(r,u,p,t==null?void 0:t.class,t==null?void 0:t.className)},Hg="-",WR=r=>{const e=JR(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:u=>{const d=u.split(Hg);return d[0]===""&&d.length!==1&&d.shift(),zw(d,e)||ZR(u)},getConflictingClassGroupIds:(u,d)=>{const p=t[u]||[];return d&&s[u]?[...p,...s[u]]:p}}},zw=(r,e)=>{var u;if(r.length===0)return e.classGroupId;const t=r[0],s=e.nextPart.get(t),o=s?zw(r.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const c=r.join(Hg);return(u=e.validators.find(({validator:d})=>d(c)))==null?void 0:u.classGroupId},SE=/^\[(.+)\]$/,ZR=r=>{if(SE.test(r)){const e=SE.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},JR=r=>{const{theme:e,classGroups:t}=r,s={nextPart:new Map,validators:[]};for(const o in t)Zp(t[o],s,o,e);return s},Zp=(r,e,t,s)=>{r.forEach(o=>{if(typeof o=="string"){const c=o===""?e:AE(e,o);c.classGroupId=t;return}if(typeof o=="function"){if(eC(o)){Zp(o(s),e,t,s);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([c,u])=>{Zp(u,AE(e,c),t,s)})})},AE=(r,e)=>{let t=r;return e.split(Hg).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},eC=r=>r.isThemeGetter,tC=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const o=(c,u)=>{t.set(c,u),e++,e>r&&(e=0,s=t,t=new Map)};return{get(c){let u=t.get(c);if(u!==void 0)return u;if((u=s.get(c))!==void 0)return o(c,u),u},set(c,u){t.has(c)?t.set(c,u):o(c,u)}}},Jp="!",eg=":",nC=eg.length,rC=r=>{const{prefix:e,experimentalParseClassName:t}=r;let s=o=>{const c=[];let u=0,d=0,p=0,g;for(let D=0;D<o.length;D++){let R=o[D];if(u===0&&d===0){if(R===eg){c.push(o.slice(p,D)),p=D+nC;continue}if(R==="/"){g=D;continue}}R==="["?u++:R==="]"?u--:R==="("?d++:R===")"&&d--}const _=c.length===0?o:o.substring(p),w=iC(_),T=w!==_,x=g&&g>p?g-p:void 0;return{modifiers:c,hasImportantModifier:T,baseClassName:w,maybePostfixModifierPosition:x}};if(e){const o=e+eg,c=s;s=u=>u.startsWith(o)?c(u.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const o=s;s=c=>t({className:c,parseClassName:o})}return s},iC=r=>r.endsWith(Jp)?r.substring(0,r.length-1):r.startsWith(Jp)?r.substring(1):r,sC=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let c=[];return s.forEach(u=>{u[0]==="["||e[u]?(o.push(...c.sort(),u),c=[]):c.push(u)}),o.push(...c.sort()),o}},aC=r=>({cache:tC(r.cacheSize),parseClassName:rC(r),sortModifiers:sC(r),...WR(r)}),oC=/\s+/,lC=(r,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:c}=e,u=[],d=r.trim().split(oC);let p="";for(let g=d.length-1;g>=0;g-=1){const _=d[g],{isExternal:w,modifiers:T,hasImportantModifier:x,baseClassName:D,maybePostfixModifierPosition:R}=t(_);if(w){p=_+(p.length>0?" "+p:p);continue}let N=!!R,L=s(N?D.substring(0,R):D);if(!L){if(!N){p=_+(p.length>0?" "+p:p);continue}if(L=s(D),!L){p=_+(p.length>0?" "+p:p);continue}N=!1}const B=c(T).join(":"),H=x?B+Jp:B,Z=H+L;if(u.includes(Z))continue;u.push(Z);const ee=o(L,N);for(let ce=0;ce<ee.length;++ce){const P=ee[ce];u.push(H+P)}p=_+(p.length>0?" "+p:p)}return p};function cC(){let r=0,e,t,s="";for(;r<arguments.length;)(e=arguments[r++])&&(t=Bw(e))&&(s&&(s+=" "),s+=t);return s}const Bw=r=>{if(typeof r=="string")return r;let e,t="";for(let s=0;s<r.length;s++)r[s]&&(e=Bw(r[s]))&&(t&&(t+=" "),t+=e);return t};function uC(r,...e){let t,s,o,c=u;function u(p){const g=e.reduce((_,w)=>w(_),r());return t=aC(g),s=t.cache.get,o=t.cache.set,c=d,d(p)}function d(p){const g=s(p);if(g)return g;const _=lC(p,t);return o(p,_),_}return function(){return c(cC.apply(null,arguments))}}const Gt=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},qw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Hw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fC=/^\d+\/\d+$/,hC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vo=r=>fC.test(r),Ue=r=>!!r&&!Number.isNaN(Number(r)),ds=r=>!!r&&Number.isInteger(Number(r)),Rp=r=>r.endsWith("%")&&Ue(r.slice(0,-1)),Si=r=>hC.test(r),yC=()=>!0,vC=r=>dC.test(r)&&!mC.test(r),Fw=()=>!1,_C=r=>pC.test(r),EC=r=>gC.test(r),bC=r=>!_e(r)&&!Ee(r),wC=r=>ol(r,Yw,Fw),_e=r=>qw.test(r),Sa=r=>ol(r,Qw,vC),Cp=r=>ol(r,RC,Ue),xE=r=>ol(r,Gw,Fw),TC=r=>ol(r,Kw,EC),Gf=r=>ol(r,$w,_C),Ee=r=>Hw.test(r),Ic=r=>ll(r,Qw),SC=r=>ll(r,CC),RE=r=>ll(r,Gw),AC=r=>ll(r,Yw),xC=r=>ll(r,Kw),Kf=r=>ll(r,$w,!0),ol=(r,e,t)=>{const s=qw.exec(r);return s?s[1]?e(s[1]):t(s[2]):!1},ll=(r,e,t=!1)=>{const s=Hw.exec(r);return s?s[1]?e(s[1]):t:!1},Gw=r=>r==="position"||r==="percentage",Kw=r=>r==="image"||r==="url",Yw=r=>r==="length"||r==="size"||r==="bg-size",Qw=r=>r==="length",RC=r=>r==="number",CC=r=>r==="family-name",$w=r=>r==="shadow",IC=()=>{const r=Gt("color"),e=Gt("font"),t=Gt("text"),s=Gt("font-weight"),o=Gt("tracking"),c=Gt("leading"),u=Gt("breakpoint"),d=Gt("container"),p=Gt("spacing"),g=Gt("radius"),_=Gt("shadow"),w=Gt("inset-shadow"),T=Gt("text-shadow"),x=Gt("drop-shadow"),D=Gt("blur"),R=Gt("perspective"),N=Gt("aspect"),L=Gt("ease"),B=Gt("animate"),H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ee=()=>[...Z(),Ee,_e],ce=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],A=()=>[Ee,_e,p],O=()=>[Vo,"full","auto",...A()],j=()=>[ds,"none","subgrid",Ee,_e],U=()=>["auto",{span:["full",ds,Ee,_e]},ds,Ee,_e],z=()=>[ds,"auto",Ee,_e],M=()=>["auto","min","max","fr",Ee,_e],fe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ue=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...A()],ie=()=>[Vo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],W=()=>[r,Ee,_e],be=()=>[...Z(),RE,xE,{position:[Ee,_e]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ne=()=>["auto","cover","contain",AC,wC,{size:[Ee,_e]}],he=()=>[Rp,Ic,Sa],oe=()=>["","none","full",g,Ee,_e],pe=()=>["",Ue,Ic,Sa],Re=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[Ue,Rp,RE,xE],Se=()=>["","none",D,Ee,_e],Xe=()=>["none",Ue,Ee,_e],je=()=>["none",Ue,Ee,_e],Me=()=>[Ue,Ee,_e],ke=()=>[Vo,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Si],breakpoint:[Si],color:[yC],container:[Si],"drop-shadow":[Si],ease:["in","out","in-out"],font:[bC],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Si],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Si],shadow:[Si],spacing:["px",Ue],text:[Si],"text-shadow":[Si],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vo,_e,Ee,N]}],container:["container"],columns:[{columns:[Ue,_e,Ee,d]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ee()}],overflow:[{overflow:ce()}],"overflow-x":[{"overflow-x":ce()}],"overflow-y":[{"overflow-y":ce()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[ds,"auto",Ee,_e]}],basis:[{basis:[Vo,"full","auto",d,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,Vo,"auto","initial","none",_e]}],grow:[{grow:["",Ue,Ee,_e]}],shrink:[{shrink:["",Ue,Ee,_e]}],order:[{order:[ds,"first","last","none",Ee,_e]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...fe(),"normal"]}],"justify-items":[{"justify-items":[...ue(),"normal"]}],"justify-self":[{"justify-self":["auto",...ue()]}],"align-content":[{content:["normal",...fe()]}],"align-items":[{items:[...ue(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ue(),{baseline:["","last"]}]}],"place-content":[{"place-content":fe()}],"place-items":[{"place-items":[...ue(),"baseline"]}],"place-self":[{"place-self":["auto",...ue()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[d,"screen",...ie()]}],"min-w":[{"min-w":[d,"screen","none",...ie()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...ie()]}],h:[{h:["screen","lh",...ie()]}],"min-h":[{"min-h":["screen","lh","none",...ie()]}],"max-h":[{"max-h":["screen","lh",...ie()]}],"font-size":[{text:["base",t,Ic,Sa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ee,Cp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Rp,_e]}],"font-family":[{font:[SC,_e,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Ee,_e]}],"line-clamp":[{"line-clamp":[Ue,"none",Ee,Cp]}],leading:[{leading:[c,...A()]}],"list-image":[{"list-image":["none",Ee,_e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ee,_e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",Ee,Sa]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Ue,"auto",Ee,_e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee,_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee,_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:be()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:ne()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ds,Ee,_e],radial:["",Ee,_e],conic:[ds,Ee,_e]},xC,TC]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:he()}],"gradient-via-pos":[{via:he()}],"gradient-to-pos":[{to:he()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,Ee,_e]}],"outline-w":[{outline:["",Ue,Ic,Sa]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",_,Kf,Gf]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",w,Kf,Gf]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Ue,Sa]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",T,Kf,Gf]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Ue,Ee,_e]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Ee,_e]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Z()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:be()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:ne()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ee,_e]}],filter:[{filter:["","none",Ee,_e]}],blur:[{blur:Se()}],brightness:[{brightness:[Ue,Ee,_e]}],contrast:[{contrast:[Ue,Ee,_e]}],"drop-shadow":[{"drop-shadow":["","none",x,Kf,Gf]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Ue,Ee,_e]}],"hue-rotate":[{"hue-rotate":[Ue,Ee,_e]}],invert:[{invert:["",Ue,Ee,_e]}],saturate:[{saturate:[Ue,Ee,_e]}],sepia:[{sepia:["",Ue,Ee,_e]}],"backdrop-filter":[{"backdrop-filter":["","none",Ee,_e]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,Ee,_e]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,Ee,_e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,Ee,_e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,Ee,_e]}],"backdrop-invert":[{"backdrop-invert":["",Ue,Ee,_e]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,Ee,_e]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,Ee,_e]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,Ee,_e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ee,_e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",Ee,_e]}],ease:[{ease:["linear","initial",L,Ee,_e]}],delay:[{delay:[Ue,Ee,_e]}],animate:[{animate:["none",B,Ee,_e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[R,Ee,_e]}],"perspective-origin":[{"perspective-origin":ee()}],rotate:[{rotate:Xe()}],"rotate-x":[{"rotate-x":Xe()}],"rotate-y":[{"rotate-y":Xe()}],"rotate-z":[{"rotate-z":Xe()}],scale:[{scale:je()}],"scale-x":[{"scale-x":je()}],"scale-y":[{"scale-y":je()}],"scale-z":[{"scale-z":je()}],"scale-3d":["scale-3d"],skew:[{skew:Me()}],"skew-x":[{"skew-x":Me()}],"skew-y":[{"skew-y":Me()}],transform:[{transform:[Ee,_e,"","none","gpu","cpu"]}],"transform-origin":[{origin:ee()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ke()}],"translate-x":[{"translate-x":ke()}],"translate-y":[{"translate-y":ke()}],"translate-z":[{"translate-z":ke()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee,_e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee,_e]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Ue,Ic,Sa,Cp]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},NC=uC(IC);function Yt(...r){return NC(Lw(r))}const DC=Uw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Vt({className:r,variant:e,size:t,asChild:s=!1,...o}){const c=s?Vw:"button";return v.jsx(c,{"data-slot":"button",className:Yt(DC({variant:e,size:t,className:r})),...o})}function Tt({className:r,...e}){return v.jsx("div",{"data-slot":"card",className:Yt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...e})}function nn({className:r,...e}){return v.jsx("div",{"data-slot":"card-header",className:Yt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...e})}function rn({className:r,...e}){return v.jsx("div",{"data-slot":"card-title",className:Yt("leading-none font-semibold",r),...e})}function Ni({className:r,...e}){return v.jsx("div",{"data-slot":"card-description",className:Yt("text-muted-foreground text-sm",r),...e})}function kt({className:r,...e}){return v.jsx("div",{"data-slot":"card-content",className:Yt("px-6",r),...e})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),CE=r=>{const e=PC(r);return e.charAt(0).toUpperCase()+e.slice(1)},Xw=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),MC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=I.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:u,...d},p)=>I.createElement("svg",{ref:p,...kC,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:Xw("lucide",o),...!c&&!MC(d)&&{"aria-hidden":"true"},...d},[...u.map(([g,_])=>I.createElement(g,_)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=(r,e)=>{const t=I.forwardRef(({className:s,...o},c)=>I.createElement(VC,{ref:c,iconNode:e,className:Xw(`lucide-${OC(CE(r))}`,`lucide-${r}`,s),...o}));return t.displayName=CE(r),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Hh=mn("arrow-left",jC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],gr=mn("car",LC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zC=mn("check",UC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ww=mn("chevron-down",BC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],HC=mn("chevron-up",qC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zw=mn("circle-check-big",FC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],KC=mn("circle-x",GC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],QC=mn("circle",YC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Jw=mn("clock",$C);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],eT=mn("dollar-sign",XC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],tT=mn("log-out",WC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],tg=mn("map-pin",ZC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],eI=mn("navigation",JC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],nI=mn("phone",tI);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],iI=mn("send",rI);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],sh=mn("star",sI);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],su=mn("user",aI);function IE({onProfileSelect:r}){return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-md space-y-6",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Uber Rio Pardo"}),v.jsx("p",{className:"text-gray-600",children:"Escolha seu perfil para continuar"})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx(Tt,{className:"cursor-pointer transition-all hover:shadow-lg hover:scale-105 border-2 hover:border-blue-500",onClick:()=>r("user"),children:v.jsxs(nn,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(su,{className:"w-8 h-8 text-blue-600"})}),v.jsx(rn,{className:"text-xl",children:"Passageiro"}),v.jsx(Ni,{children:"Solicite uma corrida e chegue ao seu destino com segurança"})]})}),v.jsx(Tt,{className:"cursor-pointer transition-all hover:shadow-lg hover:scale-105 border-2 hover:border-green-500",onClick:()=>r("driver"),children:v.jsxs(nn,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(gr,{className:"w-8 h-8 text-green-600"})}),v.jsx(rn,{className:"text-xl",children:"Motorista"}),v.jsx(Ni,{children:"Aceite corridas e ganhe dinheiro dirigindo pela cidade"})]})})]}),v.jsx("div",{className:"text-center text-sm text-gray-500",children:v.jsx("p",{children:"Serviço disponível apenas em Rio Pardo-RS"})})]})})}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=()=>{};var NE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},lI=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[t++],u=r[t++],d=r[t++],p=((o&7)<<18|(c&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[t++],u=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],u=o+1<r.length,d=u?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,_=c>>2,w=(c&3)<<4|d>>4;let T=(d&15)<<2|g>>6,x=g&63;p||(x=64,u||(T=64)),s.push(t[_],t[w],t[T],t[x])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(nT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):lI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const w=o<r.length?t[r.charAt(o)]:64;if(++o,c==null||d==null||g==null||w==null)throw new cI;const T=c<<2|d>>4;if(s.push(T),g!==64){const x=d<<4&240|g>>2;if(s.push(x),w!==64){const D=g<<6&192|w;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class cI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uI=function(r){const e=nT(r);return rT.encodeByteArray(e,!0)},_h=function(r){return uI(r).replace(/\./g,"")},iT=function(r){try{return rT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=()=>fI().__FIREBASE_DEFAULTS__,dI=()=>{if(typeof process>"u"||typeof NE>"u")return;const r=NE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},mI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&iT(r[1]);return e&&JSON.parse(e)},Fh=()=>{try{return oI()||hI()||dI()||mI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},sT=r=>{var e,t;return(t=(e=Fh())==null?void 0:e.emulatorHosts)==null?void 0:t[r]},pI=r=>{const e=sT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},aT=()=>{var r;return(r=Fh())==null?void 0:r.config},oT=r=>{var e;return(e=Fh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[_h(JSON.stringify(t)),_h(JSON.stringify(u)),""].join(".")}const Lc={};function vI(){const r={prod:[],emulator:[]};for(const e of Object.keys(Lc))Lc[e]?r.emulator.push(e):r.prod.push(e);return r}function _I(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let DE=!1;function cT(r,e){if(typeof window>"u"||typeof document>"u"||!cl(window.location.host)||Lc[r]===e||Lc[r]||DE)return;Lc[r]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",c=vI().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{DE=!0,u()},T}function _(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=_I(s),x=t("text"),D=document.getElementById(x)||document.createElement("span"),R=t("learnmore"),N=document.getElementById(R)||document.createElement("a"),L=t("preprendIcon"),B=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const H=T.element;d(H),_(N,R);const Z=g();p(B,L),H.append(B,D,N,Z),document.body.appendChild(H)}c?(D.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function bI(){var e;const r=(e=Fh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function SI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AI(){const r=bn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function xI(){return!bI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RI(){try{return typeof indexedDB=="object"}catch{return!1}}function CI(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="FirebaseError";class ji extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=II,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,au.prototype.create)}}class au{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?NI(c,s):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new ji(o,d,s)}}function NI(r,e){return r.replace(DI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const DI=/\{\$([^}]+)}/g;function OI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Na(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=r[o],u=e[o];if(OE(c)&&OE(u)){if(!Na(c,u))return!1}else if(c!==u)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function OE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Dc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Oc(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function PI(r,e){const t=new MI(r,e);return t.subscribe.bind(t)}class MI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");kI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Ip),o.error===void 0&&(o.error=Ip),o.complete===void 0&&(o.complete=Ip);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kI(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Ip(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(r){return r&&r._delegate?r._delegate:r}class Da{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new gI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LI(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(c);s===d&&u.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:jI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jI(r){return r===Aa?void 0:r}function LI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new VI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(He||(He={}));const zI={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},BI=He.INFO,qI={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},HI=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=qI[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fg{constructor(e){this.name=e,this._logLevel=BI,this._logHandler=HI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const FI=(r,e)=>e.some(t=>r instanceof t);let PE,ME;function GI(){return PE||(PE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KI(){return ME||(ME=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uT=new WeakMap,ng=new WeakMap,fT=new WeakMap,Np=new WeakMap,Gg=new WeakMap;function YI(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",u)},c=()=>{t(ws(r.result)),o()},u=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&uT.set(t,r)}).catch(()=>{}),Gg.set(e,r),e}function QI(r){if(ng.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",u),r.removeEventListener("abort",u)},c=()=>{t(),o()},u=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",u),r.addEventListener("abort",u)});ng.set(r,e)}let rg={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return ng.get(r);if(e==="objectStoreNames")return r.objectStoreNames||fT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ws(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function $I(r){rg=r(rg)}function XI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Dp(this),e,...t);return fT.set(s,e.sort?e.sort():[e]),ws(s)}:KI().includes(r)?function(...e){return r.apply(Dp(this),e),ws(uT.get(this))}:function(...e){return ws(r.apply(Dp(this),e))}}function WI(r){return typeof r=="function"?XI(r):(r instanceof IDBTransaction&&QI(r),FI(r,GI())?new Proxy(r,rg):r)}function ws(r){if(r instanceof IDBRequest)return YI(r);if(Np.has(r))return Np.get(r);const e=WI(r);return e!==r&&(Np.set(r,e),Gg.set(e,r)),e}const Dp=r=>Gg.get(r);function ZI(r,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const u=indexedDB.open(r,e),d=ws(u);return s&&u.addEventListener("upgradeneeded",p=>{s(ws(u.result),p.oldVersion,p.newVersion,ws(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const JI=["get","getKey","getAll","getAllKeys","count"],eN=["put","add","delete","clear"],Op=new Map;function kE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Op.get(e))return Op.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=eN.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||JI.includes(t)))return;const c=async function(u,...d){const p=this.transaction(u,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Op.set(e,c),c}$I(r=>({...r,get:(e,t,s)=>kE(e,t)||r.get(e,t,s),has:(e,t)=>!!kE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(nN(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function nN(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ig="@firebase/app",VE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new Fg("@firebase/app"),rN="@firebase/app-compat",iN="@firebase/analytics-compat",sN="@firebase/analytics",aN="@firebase/app-check-compat",oN="@firebase/app-check",lN="@firebase/auth",cN="@firebase/auth-compat",uN="@firebase/database",fN="@firebase/data-connect",hN="@firebase/database-compat",dN="@firebase/functions",mN="@firebase/functions-compat",pN="@firebase/installations",gN="@firebase/installations-compat",yN="@firebase/messaging",vN="@firebase/messaging-compat",_N="@firebase/performance",EN="@firebase/performance-compat",bN="@firebase/remote-config",wN="@firebase/remote-config-compat",TN="@firebase/storage",SN="@firebase/storage-compat",AN="@firebase/firestore",xN="@firebase/ai",RN="@firebase/firestore-compat",CN="firebase",IN="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="[DEFAULT]",NN={[ig]:"fire-core",[rN]:"fire-core-compat",[sN]:"fire-analytics",[iN]:"fire-analytics-compat",[oN]:"fire-app-check",[aN]:"fire-app-check-compat",[lN]:"fire-auth",[cN]:"fire-auth-compat",[uN]:"fire-rtdb",[fN]:"fire-data-connect",[hN]:"fire-rtdb-compat",[dN]:"fire-fn",[mN]:"fire-fn-compat",[pN]:"fire-iid",[gN]:"fire-iid-compat",[yN]:"fire-fcm",[vN]:"fire-fcm-compat",[_N]:"fire-perf",[EN]:"fire-perf-compat",[bN]:"fire-rc",[wN]:"fire-rc-compat",[TN]:"fire-gcs",[SN]:"fire-gcs-compat",[AN]:"fire-fst",[RN]:"fire-fst-compat",[xN]:"fire-vertex","fire-js":"fire-js",[CN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,DN=new Map,ag=new Map;function jE(r,e){try{r.container.addComponent(e)}catch(t){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Zo(r){const e=r.name;if(ag.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;ag.set(e,r);for(const t of Eh.values())jE(t,r);for(const t of DN.values())jE(t,r);return!0}function Kg(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function qn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new au("app","Firebase",ON);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=IN;function hT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:sg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ts.create("bad-app-name",{appName:String(o)});if(t||(t=aT()),!t)throw Ts.create("no-options");const c=Eh.get(o);if(c){if(Na(t,c.options)&&Na(s,c.config))return c;throw Ts.create("duplicate-app",{appName:o})}const u=new UI(o);for(const p of ag.values())u.addComponent(p);const d=new PN(t,s,u);return Eh.set(o,d),d}function dT(r=sg){const e=Eh.get(r);if(!e&&r===sg&&aT())return hT();if(!e)throw Ts.create("no-app",{appName:r});return e}function Ss(r,e,t){let s=NN[r]??r;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(u.join(" "));return}Zo(new Da(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="firebase-heartbeat-database",kN=1,Kc="firebase-heartbeat-store";let Pp=null;function mT(){return Pp||(Pp=ZI(MN,kN,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Kc)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ts.create("idb-open",{originalErrorMessage:r.message})})),Pp}async function VN(r){try{const t=(await mT()).transaction(Kc),s=await t.objectStore(Kc).get(pT(r));return await t.done,s}catch(e){if(e instanceof ji)Di.warn(e.message);else{const t=Ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(t.message)}}}async function LE(r,e){try{const s=(await mT()).transaction(Kc,"readwrite");await s.objectStore(Kc).put(e,pT(r)),await s.done}catch(t){if(t instanceof ji)Di.warn(t.message);else{const s=Ts.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Di.warn(s.message)}}}function pT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=1024,LN=30;class UN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new BN(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=UE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(u=>u.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>LN){const u=qN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Di.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=UE(),{heartbeatsToSend:s,unsentEntries:o}=zN(this._heartbeatsCache.heartbeats),c=_h(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return Di.warn(t),""}}}function UE(){return new Date().toISOString().substring(0,10)}function zN(r,e=jN){const t=[];let s=r.slice();for(const o of r){const c=t.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),zE(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),zE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class BN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RI()?CI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await VN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return LE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return LE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function zE(r){return _h(JSON.stringify({version:2,heartbeats:r})).length}function qN(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(r){Zo(new Da("platform-logger",e=>new tN(e),"PRIVATE")),Zo(new Da("heartbeat",e=>new UN(e),"PRIVATE")),Ss(ig,VE,r),Ss(ig,VE,"esm2020"),Ss("fire-js","")}HN("");function gT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FN=gT,yT=new au("auth","Firebase",gT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Fg("@firebase/auth");function GN(r,...e){bh.logLevel<=He.WARN&&bh.warn(`Auth (${ul}): ${r}`,...e)}function ah(r,...e){bh.logLevel<=He.ERROR&&bh.error(`Auth (${ul}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(r,...e){throw Qg(r,...e)}function vr(r,...e){return Qg(r,...e)}function Yg(r,e,t){const s={...FN(),[e]:t};return new au("auth","Firebase",s).create(e,{appName:r.name})}function Ci(r){return Yg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KN(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&ir(r,"argument-error"),Yg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qg(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return yT.create(r,...e)}function Ie(r,e,...t){if(!r)throw Qg(e,...t)}function xi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ah(e),new Error(e)}function Oi(r,e){r||xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function YN(){return BE()==="http:"||BE()==="https:"}function BE(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YN()||TI()||"connection"in navigator)?navigator.onLine:!0}function $N(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Oi(t>e,"Short delay should be less than long delay!"),this.isMobile=EI()||SI()}get(){return QN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(r,e){Oi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZN=new lu(3e4,6e4);function js(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Li(r,e,t,s,o={}){return _T(r,o,async()=>{let c={},u={};s&&(e==="GET"?u=s:c={body:JSON.stringify(s)});const d=ou({key:r.config.apiKey,...u}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...c};return wI()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&cl(r.emulatorConfig.host)&&(g.credentials="include"),vT.fetch()(await ET(r,r.config.apiHost,t,d),g)})}async function _T(r,e,t){r._canInitEmulator=!1;const s={...XN,...e};try{const o=new e2(r),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw Yf(r,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const d=c.ok?u.errorMessage:u.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yf(r,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Yf(r,"email-already-in-use",u);if(p==="USER_DISABLED")throw Yf(r,"user-disabled",u);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Yg(r,_,g);ir(r,_)}}catch(o){if(o instanceof ji)throw o;ir(r,"network-request-failed",{message:String(o)})}}async function cu(r,e,t,s,o={}){const c=await Li(r,e,t,s,o);return"mfaPendingCredential"in c&&ir(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function ET(r,e,t,s){const o=`${e}${t}?${s}`,c=r,u=c.config.emulator?$g(r.config,o):`${r.config.apiScheme}://${o}`;return WN.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function JN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(vr(this.auth,"network-request-failed")),ZN.get())})}}function Yf(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=vr(r,e,s);return o.customData._tokenResponse=t,o}function qE(r){return r!==void 0&&r.enterprise!==void 0}class t2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return JN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function n2(r,e){return Li(r,"GET","/v2/recaptchaConfig",js(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(r,e){return Li(r,"POST","/v1/accounts:delete",e)}async function wh(r,e){return Li(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i2(r,e=!1){const t=sn(r),s=await t.getIdToken(e),o=Xg(s);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c==null?void 0:c.sign_in_provider;return{claims:o,token:s,authTime:Uc(Mp(o.auth_time)),issuedAtTime:Uc(Mp(o.iat)),expirationTime:Uc(Mp(o.exp)),signInProvider:u||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Mp(r){return Number(r)*1e3}function Xg(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=iT(t);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function HE(r){const e=Xg(r);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ji&&s2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function s2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(r){var w;const e=r.auth,t=await r.getIdToken(),s=await Jo(r,wh(e,{idToken:t}));Ie(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const c=(w=o.providerUserInfo)!=null&&w.length?bT(o.providerUserInfo):[],u=l2(r.providerData,c),d=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(u!=null&&u.length),g=d?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new lg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function o2(r){const e=sn(r);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function bT(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(r,e){const t=await _T(r,{},async()=>{const s=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,u=await ET(r,o,"/v1/token",`key=${c}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return r.emulatorConfig&&cl(r.emulatorConfig.host)&&(p.credentials="include"),vT.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function u2(r,e){return Li(r,"POST","/v2/accounts:revokeToken",js(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=HE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await c2(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,u=new Ko;return s&&(Ie(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(Ie(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(Ie(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(r,e){Ie(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class yr{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new a2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Jo(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return i2(this,e)}reload(){return o2(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new yr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Th(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await Jo(this,r2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:x,providerData:D,stsTokenManager:R}=t;Ie(w&&R,e,"internal-error");const N=Ko.fromJSON(this.name,R);Ie(typeof w=="string",e,"internal-error"),ms(s,e.name),ms(o,e.name),Ie(typeof T=="boolean",e,"internal-error"),Ie(typeof x=="boolean",e,"internal-error"),ms(c,e.name),ms(u,e.name),ms(d,e.name),ms(p,e.name),ms(g,e.name),ms(_,e.name);const L=new yr({uid:w,auth:e,email:o,emailVerified:T,displayName:s,isAnonymous:x,photoURL:u,phoneNumber:c,tenantId:d,stsTokenManager:N,createdAt:g,lastLoginAt:_});return D&&Array.isArray(D)&&(L.providerData=D.map(B=>({...B}))),p&&(L._redirectEventId=p),L}static async _fromIdTokenResponse(e,t,s=!1){const o=new Ko;o.updateFromServerResponse(t);const c=new yr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Th(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?bT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),d=new Ko;d.updateFromIdToken(s);const p=new yr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new lg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=new Map;function Ri(r){Oi(r instanceof Function,"Expected a class definition");let e=FE.get(r);return e?(Oi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,FE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wT.type="NONE";const GE=wT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(r,e,t){return`firebase:${r}:${e}:${t}`}class Yo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,c),this.fullPersistenceKey=oh("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await wh(this.auth,{idToken:e}).catch(()=>{});return t?yr._fromGetAccountInfoResponse(this.auth,t,e):null}return yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Yo(Ri(GE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||Ri(GE);const u=oh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(u);if(_){let w;if(typeof _=="string"){const T=await wh(e,{idToken:_}).catch(()=>{});if(!T)break;w=await yr._fromGetAccountInfoResponse(e,T,_)}else w=yr._fromJSON(e,_);g!==c&&(d=w),c=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Yo(c,e,s):(c=p[0],d&&await c._set(u,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==c)try{await g._remove(u)}catch{}})),new Yo(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CT(e))return"Blackberry";if(IT(e))return"Webos";if(ST(e))return"Safari";if((e.includes("chrome/")||AT(e))&&!e.includes("edge/"))return"Chrome";if(RT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function TT(r=bn()){return/firefox\//i.test(r)}function ST(r=bn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AT(r=bn()){return/crios\//i.test(r)}function xT(r=bn()){return/iemobile/i.test(r)}function RT(r=bn()){return/android/i.test(r)}function CT(r=bn()){return/blackberry/i.test(r)}function IT(r=bn()){return/webos/i.test(r)}function Wg(r=bn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function f2(r=bn()){var e;return Wg(r)&&!!((e=window.navigator)!=null&&e.standalone)}function h2(){return AI()&&document.documentMode===10}function NT(r=bn()){return Wg(r)||RT(r)||IT(r)||CT(r)||/windows phone/i.test(r)||xT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(r,e=[]){let t;switch(r){case"Browser":t=KE(bn());break;case"Worker":t=`${KE(bn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ul}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((u,d)=>{try{const p=e(c);u(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(r,e={}){return Li(r,"GET","/v2/passwordPolicy",js(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=6;class g2{constructor(e){var s;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??p2,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YE(this),this.idTokenSubscription=new YE(this),this.beforeStateQueue=new d2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ri(t)),this._initializationPromise=this.queue(async()=>{var s,o,c;if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await wh(this,{idToken:e}),s=await yr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(c=this.redirectUser)==null?void 0:c._redirectEventId,d=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$N()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(Ci(this));const t=e?sn(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m2(this),t=new g2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new au("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await u2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ri(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[Ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(d,this,"internal-error"),d.then(()=>{u||c(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&GN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ls(r){return sn(r)}class YE{constructor(e){this.auth=e,this.observer=null,this.addObserver=PI(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v2(r){Gh=r}function OT(r){return Gh.loadJS(r)}function _2(){return Gh.recaptchaEnterpriseScript}function E2(){return Gh.gapiScript}function b2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class w2{constructor(){this.enterprise=new T2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class T2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const S2="recaptcha-enterprise",PT="NO_RECAPTCHA";class A2{constructor(e){this.type=S2,this.auth=Ls(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,d)=>{n2(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new t2(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,u(g.siteKey)}}).catch(p=>{d(p)})})}function o(c,u,d){const p=window.grecaptcha;qE(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(g=>{u(g)}).catch(()=>{u(PT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new w2().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{s(this.auth).then(d=>{if(!t&&qE(window.grecaptcha))o(d,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=_2();p.length!==0&&(p+=d),OT(p).then(()=>{o(d,c,u)}).catch(g=>{u(g)})}}).catch(d=>{u(d)})})}}async function QE(r,e,t,s=!1,o=!1){const c=new A2(r);let u;if(o)u=PT;else try{u=await c.verify(t)}catch{u=await c.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function cg(r,e,t,s,o){var c;if((c=r._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await QE(r,e,t,t==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await QE(r,e,t,t==="getOobCode");return s(r,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(r,e){const t=Kg(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Na(c,e??{}))return o;ir(o,"already-initialized")}return t.initialize({options:e})}function R2(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Ri);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function C2(r,e,t){const s=Ls(r);Ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=MT(e),{host:u,port:d}=I2(e),p=d===null?"":`:${d}`,g={url:`${c}//${u}${p}/`},_=Object.freeze({host:u,port:d,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ie(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ie(Na(g,s.config.emulator)&&Na(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,cl(u)?(lT(`${c}//${u}${p}`),cT("Auth",!0)):N2()}function MT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function I2(r){const e=MT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:$E(s.substr(c.length+1))}}else{const[c,u]=s.split(":");return{host:c,port:$E(u)}}}function $E(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function N2(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,t){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}async function D2(r,e){return Li(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(r,e){return cu(r,"POST","/v1/accounts:signInWithPassword",js(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(r,e){return cu(r,"POST","/v1/accounts:signInWithEmailLink",js(r,e))}async function M2(r,e){return cu(r,"POST","/v1/accounts:signInWithEmailLink",js(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends Zg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Yc(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Yc(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,t,"signInWithPassword",O2);case"emailLink":return P2(e,{email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,s,"signUpPassword",D2);case"emailLink":return M2(e,{idToken:t,email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(r,e){return cu(r,"POST","/v1/accounts:signInWithIdp",js(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="http://localhost";class Oa extends Zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ir("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const u=new Oa(s,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Qo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Qo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qo(e,t)}buildRequest(){const e={requestUri:k2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ou(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function j2(r){const e=Dc(Oc(r)).link,t=e?Dc(Oc(e)).deep_link_id:null,s=Dc(Oc(r)).deep_link_id;return(s?Dc(Oc(s)).link:null)||s||t||e||r}class Jg{constructor(e){const t=Dc(Oc(e)),s=t.apiKey??null,o=t.oobCode??null,c=V2(t.mode??null);Ie(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=j2(e);try{return new Jg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.providerId=fl.PROVIDER_ID}static credential(e,t){return Yc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Jg.parseLink(t);return Ie(s,"argument-error"),Yc._fromEmailAndCode(e,s.code,s.tenantId)}}fl.PROVIDER_ID="password";fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends ey{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends uu{constructor(){super("facebook.com")}static credential(e){return Oa._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Oa._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Ai.credential(t,s)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends uu{constructor(){super("github.com")}static credential(e){return Oa._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends uu{constructor(){super("twitter.com")}static credential(e,t){return Oa._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Es.credential(t,s)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(r,e){return cu(r,"POST","/v1/accounts:signUp",js(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await yr._fromIdTokenResponse(e,s,o),u=XE(s);return new Pa({user:c,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=XE(s);return new Pa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function XE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends ji{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Sh(e,t,s,o)}}function kT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(r,c,e,s):c})}async function U2(r,e,t=!1){const s=await Jo(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Pa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(r,e,t=!1){const{auth:s}=r;if(qn(s.app))return Promise.reject(Ci(s));const o="reauthenticate";try{const c=await Jo(r,kT(s,o,e,r),t);Ie(c.idToken,s,"internal-error");const u=Xg(c.idToken);Ie(u,s,"internal-error");const{sub:d}=u;return Ie(r.uid===d,s,"user-mismatch"),Pa._forOperation(r,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ir(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VT(r,e,t=!1){if(qn(r.app))return Promise.reject(Ci(r));const s="signIn",o=await kT(r,s,e),c=await Pa._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(c.user),c}async function B2(r,e){return VT(Ls(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jT(r){const e=Ls(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function q2(r,e,t){if(qn(r.app))return Promise.reject(Ci(r));const s=Ls(r),u=await cg(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",L2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&jT(r),p}),d=await Pa._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(d.user),d}function H2(r,e,t){return qn(r.app)?Promise.reject(Ci(r)):B2(sn(r),fl.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&jT(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(r,e){return Li(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=sn(r),c={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Jo(s,F2(s.auth,c));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const d=s.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(u)}function K2(r,e,t,s){return sn(r).onIdTokenChanged(e,t,s)}function Y2(r,e,t){return sn(r).beforeAuthStateChanged(e,t)}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=1e3,$2=10;class UT extends LT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,p)=>{this.notifyListeners(u,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},c=this.storage.getItem(s);h2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,$2):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},Q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}UT.type="LOCAL";const X2=UT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT extends LT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}zT.type="SESSION";const BT=zT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(u).map(async g=>g(t.origin,c)),p=await W2(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((d,p)=>{const g=ty("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),d(T.data.response);break;default:clearTimeout(_),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function J2(r){Hr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function eD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function nD(){return qT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="firebaseLocalStorageDb",rD=1,xh="firebaseLocalStorage",FT="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yh(r,e){return r.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function iD(){const r=indexedDB.deleteDatabase(HT);return new fu(r).toPromise()}function ug(){const r=indexedDB.open(HT,rD);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(xh,{keyPath:FT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(xh)?e(s):(s.close(),await iD(),e(await ug()))})})}async function WE(r,e,t){const s=Yh(r,!0).put({[FT]:e,value:t});return new fu(s).toPromise()}async function sD(r,e){const t=Yh(r,!1).get(e),s=await new fu(t).toPromise();return s===void 0?null:s.value}function ZE(r,e){const t=Yh(r,!0).delete(e);return new fu(t).toPromise()}const aD=800,oD=3;class GT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ug(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>oD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(nD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await eD(),!this.activeServiceWorker)return;this.sender=new Z2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ug();return await WE(e,Ah,"1"),await ZE(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>WE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>sD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ZE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Yh(o,!1).getAll();return new fu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GT.type="LOCAL";const lD=GT;new lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(r,e){return e?Ri(e):(Ie(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny extends Zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function cD(r){return VT(r.auth,new ny(r),r.bypassAuthState)}function uD(r){const{auth:e,user:t}=r;return Ie(t,e,"internal-error"),z2(t,new ny(r),r.bypassAuthState)}async function fD(r){const{auth:e,user:t}=r;return Ie(t,e,"internal-error"),U2(t,new ny(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:u,type:d}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cD;case"linkViaPopup":case"linkViaRedirect":return fD;case"reauthViaPopup":case"reauthViaRedirect":return uD;default:ir(this.auth,"internal-error")}}resolve(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new lu(2e3,1e4);async function dD(r,e,t){if(qn(r.app))return Promise.reject(vr(r,"operation-not-supported-in-this-environment"));const s=Ls(r);KN(r,e,ey);const o=KT(s,t);return new xa(s,"signInViaPopup",e,o).executeNotNull()}class xa extends YT{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const e=ty();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if((s=(t=this.authWindow)==null?void 0:t.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hD.get())};e()}}xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="pendingRedirect",lh=new Map;class pD extends YT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const s=await gD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gD(r,e){const t=_D(e),s=vD(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function yD(r,e){lh.set(r._key(),e)}function vD(r){return Ri(r._redirectPersistence)}function _D(r){return oh(mD,r.config.apiKey,r.name)}async function ED(r,e,t=!1){if(qn(r.app))return Promise.reject(Ci(r));const s=Ls(r),o=KT(s,e),u=await new pD(s,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=10*60*1e3;class wD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!QT(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";t.onError(vr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bD&&this.cachedEventUids.clear(),this.cachedEventUids.has(JE(e))}saveEventToCache(e){this.cachedEventUids.add(JE(e)),this.lastProcessedEventTime=Date.now()}}function JE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function QT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(r,e={}){return Li(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xD=/^https?/;async function RD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await SD(r);for(const t of e)try{if(CD(t))return}catch{}ir(r,"unauthorized-domain")}function CD(r){const e=og(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!xD.test(t))return!1;if(AD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=new lu(3e4,6e4);function eb(){const r=Hr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function ND(r){return new Promise((e,t)=>{var o,c,u;function s(){eb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eb(),t(vr(r,"network-request-failed"))},timeout:ID.get()})}if((c=(o=Hr().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((u=Hr().gapi)!=null&&u.load)s();else{const d=b2("iframefcb");return Hr()[d]=()=>{gapi.load?s():t(vr(r,"network-request-failed"))},OT(`${E2()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw ch=null,e})}let ch=null;function DD(r){return ch=ch||ND(r),ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new lu(5e3,15e3),PD="__/auth/iframe",MD="emulator/auth/iframe",kD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jD(r){const e=r.config;Ie(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?$g(e,MD):`https://${r.config.authDomain}/${PD}`,s={apiKey:e.apiKey,appName:r.name,v:ul},o=VD.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${ou(s).slice(1)}`}async function LD(r){const e=await DD(r),t=Hr().gapi;return Ie(t,r,"internal-error"),e.open({where:document.body,url:jD(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kD,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const u=vr(r,"network-request-failed"),d=Hr().setTimeout(()=>{c(u)},OD.get());function p(){Hr().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zD=500,BD=600,qD="_blank",HD="http://localhost";class tb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FD(r,e,t,s=zD,o=BD){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...UD,width:s.toString(),height:o.toString(),top:c,left:u},g=bn().toLowerCase();t&&(d=AT(g)?qD:t),TT(g)&&(e=e||HD,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[x,D])=>`${T}${x}=${D},`,"");if(f2(g)&&d!=="_self")return GD(e||"",d),new tb(null);const w=window.open(e||"",d,_);Ie(w,r,"popup-blocked");try{w.focus()}catch{}return new tb(w)}function GD(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="__/auth/handler",YD="emulator/auth/handler",QD=encodeURIComponent("fac");async function nb(r,e,t,s,o,c){Ie(r.config.authDomain,r,"auth-domain-config-required"),Ie(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:ul,eventId:o};if(e instanceof ey){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",OI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))u[_]=w}if(e instanceof uu){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(u.scopes=_.join(","))}r.tenantId&&(u.tid=r.tenantId);const d=u;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await r._getAppCheckToken(),g=p?`#${QD}=${encodeURIComponent(p)}`:"";return`${$D(r)}?${ou(d).slice(1)}${g}`}function $D({config:r}){return r.emulator?$g(r,YD):`https://${r.authDomain}/${KD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="webStorageSupport";class XD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BT,this._completeRedirectFn=ED,this._overrideRedirectResult=yD}async _openPopup(e,t,s,o){var u;Oi((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await nb(e,t,s,og(),o);return FD(e,c,ty())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await nb(e,t,s,og(),o);return J2(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(Oi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await LD(e),s=new wD(e);return t.register("authEvent",o=>(Ie(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kp,{type:kp},o=>{var u;const c=(u=o==null?void 0:o[0])==null?void 0:u[kp];c!==void 0&&t(!!c),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=RD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return NT()||ST()||Wg()}}const WD=XD;var rb="@firebase/auth",ib="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eO(r){Zo(new Da("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=s.options;Ie(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DT(r)},g=new y2(s,o,c,p);return R2(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Zo(new Da("auth-internal",e=>{const t=Ls(e.getProvider("auth").getImmediate());return(s=>new ZD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(rb,ib,JD(r)),Ss(rb,ib,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=5*60,nO=oT("authIdTokenMaxAge")||tO;let sb=null;const rO=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>nO)return;const o=t==null?void 0:t.token;sb!==o&&(sb=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function iO(r=dT()){const e=Kg(r,"auth");if(e.isInitialized())return e.getImmediate();const t=x2(r,{popupRedirectResolver:WD,persistence:[lD,X2,BT]}),s=oT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const u=rO(c.toString());Y2(t,u,()=>u(t.currentUser)),K2(t,d=>u(d))}}const o=sT("auth");return o&&C2(t,`http://${o}`),t}function sO(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}v2({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const c=vr("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",sO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eO("Browser");var aO="firebase",oO="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ss(aO,oO,"app");var ab=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var As,$T;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,A){function O(){}O.prototype=A.prototype,P.D=A.prototype,P.prototype=new O,P.prototype.constructor=P,P.C=function(j,U,z){for(var M=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)M[fe-2]=arguments[fe];return A.prototype[U].apply(j,M)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,A,O){O||(O=0);var j=Array(16);if(typeof A=="string")for(var U=0;16>U;++U)j[U]=A.charCodeAt(O++)|A.charCodeAt(O++)<<8|A.charCodeAt(O++)<<16|A.charCodeAt(O++)<<24;else for(U=0;16>U;++U)j[U]=A[O++]|A[O++]<<8|A[O++]<<16|A[O++]<<24;A=P.g[0],O=P.g[1],U=P.g[2];var z=P.g[3],M=A+(z^O&(U^z))+j[0]+3614090360&4294967295;A=O+(M<<7&4294967295|M>>>25),M=z+(U^A&(O^U))+j[1]+3905402710&4294967295,z=A+(M<<12&4294967295|M>>>20),M=U+(O^z&(A^O))+j[2]+606105819&4294967295,U=z+(M<<17&4294967295|M>>>15),M=O+(A^U&(z^A))+j[3]+3250441966&4294967295,O=U+(M<<22&4294967295|M>>>10),M=A+(z^O&(U^z))+j[4]+4118548399&4294967295,A=O+(M<<7&4294967295|M>>>25),M=z+(U^A&(O^U))+j[5]+1200080426&4294967295,z=A+(M<<12&4294967295|M>>>20),M=U+(O^z&(A^O))+j[6]+2821735955&4294967295,U=z+(M<<17&4294967295|M>>>15),M=O+(A^U&(z^A))+j[7]+4249261313&4294967295,O=U+(M<<22&4294967295|M>>>10),M=A+(z^O&(U^z))+j[8]+1770035416&4294967295,A=O+(M<<7&4294967295|M>>>25),M=z+(U^A&(O^U))+j[9]+2336552879&4294967295,z=A+(M<<12&4294967295|M>>>20),M=U+(O^z&(A^O))+j[10]+4294925233&4294967295,U=z+(M<<17&4294967295|M>>>15),M=O+(A^U&(z^A))+j[11]+2304563134&4294967295,O=U+(M<<22&4294967295|M>>>10),M=A+(z^O&(U^z))+j[12]+1804603682&4294967295,A=O+(M<<7&4294967295|M>>>25),M=z+(U^A&(O^U))+j[13]+4254626195&4294967295,z=A+(M<<12&4294967295|M>>>20),M=U+(O^z&(A^O))+j[14]+2792965006&4294967295,U=z+(M<<17&4294967295|M>>>15),M=O+(A^U&(z^A))+j[15]+1236535329&4294967295,O=U+(M<<22&4294967295|M>>>10),M=A+(U^z&(O^U))+j[1]+4129170786&4294967295,A=O+(M<<5&4294967295|M>>>27),M=z+(O^U&(A^O))+j[6]+3225465664&4294967295,z=A+(M<<9&4294967295|M>>>23),M=U+(A^O&(z^A))+j[11]+643717713&4294967295,U=z+(M<<14&4294967295|M>>>18),M=O+(z^A&(U^z))+j[0]+3921069994&4294967295,O=U+(M<<20&4294967295|M>>>12),M=A+(U^z&(O^U))+j[5]+3593408605&4294967295,A=O+(M<<5&4294967295|M>>>27),M=z+(O^U&(A^O))+j[10]+38016083&4294967295,z=A+(M<<9&4294967295|M>>>23),M=U+(A^O&(z^A))+j[15]+3634488961&4294967295,U=z+(M<<14&4294967295|M>>>18),M=O+(z^A&(U^z))+j[4]+3889429448&4294967295,O=U+(M<<20&4294967295|M>>>12),M=A+(U^z&(O^U))+j[9]+568446438&4294967295,A=O+(M<<5&4294967295|M>>>27),M=z+(O^U&(A^O))+j[14]+3275163606&4294967295,z=A+(M<<9&4294967295|M>>>23),M=U+(A^O&(z^A))+j[3]+4107603335&4294967295,U=z+(M<<14&4294967295|M>>>18),M=O+(z^A&(U^z))+j[8]+1163531501&4294967295,O=U+(M<<20&4294967295|M>>>12),M=A+(U^z&(O^U))+j[13]+2850285829&4294967295,A=O+(M<<5&4294967295|M>>>27),M=z+(O^U&(A^O))+j[2]+4243563512&4294967295,z=A+(M<<9&4294967295|M>>>23),M=U+(A^O&(z^A))+j[7]+1735328473&4294967295,U=z+(M<<14&4294967295|M>>>18),M=O+(z^A&(U^z))+j[12]+2368359562&4294967295,O=U+(M<<20&4294967295|M>>>12),M=A+(O^U^z)+j[5]+4294588738&4294967295,A=O+(M<<4&4294967295|M>>>28),M=z+(A^O^U)+j[8]+2272392833&4294967295,z=A+(M<<11&4294967295|M>>>21),M=U+(z^A^O)+j[11]+1839030562&4294967295,U=z+(M<<16&4294967295|M>>>16),M=O+(U^z^A)+j[14]+4259657740&4294967295,O=U+(M<<23&4294967295|M>>>9),M=A+(O^U^z)+j[1]+2763975236&4294967295,A=O+(M<<4&4294967295|M>>>28),M=z+(A^O^U)+j[4]+1272893353&4294967295,z=A+(M<<11&4294967295|M>>>21),M=U+(z^A^O)+j[7]+4139469664&4294967295,U=z+(M<<16&4294967295|M>>>16),M=O+(U^z^A)+j[10]+3200236656&4294967295,O=U+(M<<23&4294967295|M>>>9),M=A+(O^U^z)+j[13]+681279174&4294967295,A=O+(M<<4&4294967295|M>>>28),M=z+(A^O^U)+j[0]+3936430074&4294967295,z=A+(M<<11&4294967295|M>>>21),M=U+(z^A^O)+j[3]+3572445317&4294967295,U=z+(M<<16&4294967295|M>>>16),M=O+(U^z^A)+j[6]+76029189&4294967295,O=U+(M<<23&4294967295|M>>>9),M=A+(O^U^z)+j[9]+3654602809&4294967295,A=O+(M<<4&4294967295|M>>>28),M=z+(A^O^U)+j[12]+3873151461&4294967295,z=A+(M<<11&4294967295|M>>>21),M=U+(z^A^O)+j[15]+530742520&4294967295,U=z+(M<<16&4294967295|M>>>16),M=O+(U^z^A)+j[2]+3299628645&4294967295,O=U+(M<<23&4294967295|M>>>9),M=A+(U^(O|~z))+j[0]+4096336452&4294967295,A=O+(M<<6&4294967295|M>>>26),M=z+(O^(A|~U))+j[7]+1126891415&4294967295,z=A+(M<<10&4294967295|M>>>22),M=U+(A^(z|~O))+j[14]+2878612391&4294967295,U=z+(M<<15&4294967295|M>>>17),M=O+(z^(U|~A))+j[5]+4237533241&4294967295,O=U+(M<<21&4294967295|M>>>11),M=A+(U^(O|~z))+j[12]+1700485571&4294967295,A=O+(M<<6&4294967295|M>>>26),M=z+(O^(A|~U))+j[3]+2399980690&4294967295,z=A+(M<<10&4294967295|M>>>22),M=U+(A^(z|~O))+j[10]+4293915773&4294967295,U=z+(M<<15&4294967295|M>>>17),M=O+(z^(U|~A))+j[1]+2240044497&4294967295,O=U+(M<<21&4294967295|M>>>11),M=A+(U^(O|~z))+j[8]+1873313359&4294967295,A=O+(M<<6&4294967295|M>>>26),M=z+(O^(A|~U))+j[15]+4264355552&4294967295,z=A+(M<<10&4294967295|M>>>22),M=U+(A^(z|~O))+j[6]+2734768916&4294967295,U=z+(M<<15&4294967295|M>>>17),M=O+(z^(U|~A))+j[13]+1309151649&4294967295,O=U+(M<<21&4294967295|M>>>11),M=A+(U^(O|~z))+j[4]+4149444226&4294967295,A=O+(M<<6&4294967295|M>>>26),M=z+(O^(A|~U))+j[11]+3174756917&4294967295,z=A+(M<<10&4294967295|M>>>22),M=U+(A^(z|~O))+j[2]+718787259&4294967295,U=z+(M<<15&4294967295|M>>>17),M=O+(z^(U|~A))+j[9]+3951481745&4294967295,P.g[0]=P.g[0]+A&4294967295,P.g[1]=P.g[1]+(U+(M<<21&4294967295|M>>>11))&4294967295,P.g[2]=P.g[2]+U&4294967295,P.g[3]=P.g[3]+z&4294967295}s.prototype.u=function(P,A){A===void 0&&(A=P.length);for(var O=A-this.blockSize,j=this.B,U=this.h,z=0;z<A;){if(U==0)for(;z<=O;)o(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<A;)if(j[U++]=P.charCodeAt(z++),U==this.blockSize){o(this,j),U=0;break}}else for(;z<A;)if(j[U++]=P[z++],U==this.blockSize){o(this,j),U=0;break}}this.h=U,this.o+=A},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var A=1;A<P.length-8;++A)P[A]=0;var O=8*this.o;for(A=P.length-8;A<P.length;++A)P[A]=O&255,O/=256;for(this.u(P),P=Array(16),A=O=0;4>A;++A)for(var j=0;32>j;j+=8)P[O++]=this.g[A]>>>j&255;return P};function c(P,A){var O=d;return Object.prototype.hasOwnProperty.call(O,P)?O[P]:O[P]=A(P)}function u(P,A){this.h=A;for(var O=[],j=!0,U=P.length-1;0<=U;U--){var z=P[U]|0;j&&z==A||(O[U]=z,j=!1)}this.g=O}var d={};function p(P){return-128<=P&&128>P?c(P,function(A){return new u([A|0],0>A?-1:0)}):new u([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return N(g(-P));for(var A=[],O=1,j=0;P>=O;j++)A[j]=P/O|0,O*=4294967296;return new u(A,0)}function _(P,A){if(P.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(P.charAt(0)=="-")return N(_(P.substring(1),A));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=g(Math.pow(A,8)),j=w,U=0;U<P.length;U+=8){var z=Math.min(8,P.length-U),M=parseInt(P.substring(U,U+z),A);8>z?(z=g(Math.pow(A,z)),j=j.j(z).add(g(M))):(j=j.j(O),j=j.add(g(M)))}return j}var w=p(0),T=p(1),x=p(16777216);r=u.prototype,r.m=function(){if(R(this))return-N(this).m();for(var P=0,A=1,O=0;O<this.g.length;O++){var j=this.i(O);P+=(0<=j?j:4294967296+j)*A,A*=4294967296}return P},r.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(D(this))return"0";if(R(this))return"-"+N(this).toString(P);for(var A=g(Math.pow(P,6)),O=this,j="";;){var U=Z(O,A).g;O=L(O,U.j(A));var z=((0<O.g.length?O.g[0]:O.h)>>>0).toString(P);if(O=U,D(O))return z+j;for(;6>z.length;)z="0"+z;j=z+j}},r.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function D(P){if(P.h!=0)return!1;for(var A=0;A<P.g.length;A++)if(P.g[A]!=0)return!1;return!0}function R(P){return P.h==-1}r.l=function(P){return P=L(this,P),R(P)?-1:D(P)?0:1};function N(P){for(var A=P.g.length,O=[],j=0;j<A;j++)O[j]=~P.g[j];return new u(O,~P.h).add(T)}r.abs=function(){return R(this)?N(this):this},r.add=function(P){for(var A=Math.max(this.g.length,P.g.length),O=[],j=0,U=0;U<=A;U++){var z=j+(this.i(U)&65535)+(P.i(U)&65535),M=(z>>>16)+(this.i(U)>>>16)+(P.i(U)>>>16);j=M>>>16,z&=65535,M&=65535,O[U]=M<<16|z}return new u(O,O[O.length-1]&-2147483648?-1:0)};function L(P,A){return P.add(N(A))}r.j=function(P){if(D(this)||D(P))return w;if(R(this))return R(P)?N(this).j(N(P)):N(N(this).j(P));if(R(P))return N(this.j(N(P)));if(0>this.l(x)&&0>P.l(x))return g(this.m()*P.m());for(var A=this.g.length+P.g.length,O=[],j=0;j<2*A;j++)O[j]=0;for(j=0;j<this.g.length;j++)for(var U=0;U<P.g.length;U++){var z=this.i(j)>>>16,M=this.i(j)&65535,fe=P.i(U)>>>16,ue=P.i(U)&65535;O[2*j+2*U]+=M*ue,B(O,2*j+2*U),O[2*j+2*U+1]+=z*ue,B(O,2*j+2*U+1),O[2*j+2*U+1]+=M*fe,B(O,2*j+2*U+1),O[2*j+2*U+2]+=z*fe,B(O,2*j+2*U+2)}for(j=0;j<A;j++)O[j]=O[2*j+1]<<16|O[2*j];for(j=A;j<2*A;j++)O[j]=0;return new u(O,0)};function B(P,A){for(;(P[A]&65535)!=P[A];)P[A+1]+=P[A]>>>16,P[A]&=65535,A++}function H(P,A){this.g=P,this.h=A}function Z(P,A){if(D(A))throw Error("division by zero");if(D(P))return new H(w,w);if(R(P))return A=Z(N(P),A),new H(N(A.g),N(A.h));if(R(A))return A=Z(P,N(A)),new H(N(A.g),A.h);if(30<P.g.length){if(R(P)||R(A))throw Error("slowDivide_ only works with positive integers.");for(var O=T,j=A;0>=j.l(P);)O=ee(O),j=ee(j);var U=ce(O,1),z=ce(j,1);for(j=ce(j,2),O=ce(O,2);!D(j);){var M=z.add(j);0>=M.l(P)&&(U=U.add(O),z=M),j=ce(j,1),O=ce(O,1)}return A=L(P,U.j(A)),new H(U,A)}for(U=w;0<=P.l(A);){for(O=Math.max(1,Math.floor(P.m()/A.m())),j=Math.ceil(Math.log(O)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),z=g(O),M=z.j(A);R(M)||0<M.l(P);)O-=j,z=g(O),M=z.j(A);D(z)&&(z=T),U=U.add(z),P=L(P,M)}return new H(U,P)}r.A=function(P){return Z(this,P).h},r.and=function(P){for(var A=Math.max(this.g.length,P.g.length),O=[],j=0;j<A;j++)O[j]=this.i(j)&P.i(j);return new u(O,this.h&P.h)},r.or=function(P){for(var A=Math.max(this.g.length,P.g.length),O=[],j=0;j<A;j++)O[j]=this.i(j)|P.i(j);return new u(O,this.h|P.h)},r.xor=function(P){for(var A=Math.max(this.g.length,P.g.length),O=[],j=0;j<A;j++)O[j]=this.i(j)^P.i(j);return new u(O,this.h^P.h)};function ee(P){for(var A=P.g.length+1,O=[],j=0;j<A;j++)O[j]=P.i(j)<<1|P.i(j-1)>>>31;return new u(O,P.h)}function ce(P,A){var O=A>>5;A%=32;for(var j=P.g.length-O,U=[],z=0;z<j;z++)U[z]=0<A?P.i(z+O)>>>A|P.i(z+O+1)<<32-A:P.i(z+O);return new u(U,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,$T=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=_,As=u}).apply(typeof ab<"u"?ab:typeof self<"u"?self:typeof window<"u"?window:{});var Qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XT,Pc,WT,uh,fg,ZT,JT,eS;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,E){return f==Array.prototype||f==Object.prototype||(f[y]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qf=="object"&&Qf];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function o(f,y){if(y)e:{var E=s;f=f.split(".");for(var C=0;C<f.length-1;C++){var K=f[C];if(!(K in E))break e;E=E[K]}f=f[f.length-1],C=E[f],y=y(C),y!=C&&y!=null&&e(E,f,{configurable:!0,writable:!0,value:y})}}function c(f,y){f instanceof String&&(f+="");var E=0,C=!1,K={next:function(){if(!C&&E<f.length){var J=E++;return{value:y(J,f[J]),done:!1}}return C=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}o("Array.prototype.values",function(f){return f||function(){return c(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function p(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function g(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function _(f,y,E){return f.call.apply(f.bind,arguments)}function w(f,y,E){if(!f)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,C),f.apply(y,K)}}return function(){return f.apply(y,arguments)}}function T(f,y,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,T.apply(null,arguments)}function x(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function D(f,y){function E(){}E.prototype=y.prototype,f.aa=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(C,K,J){for(var de=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)de[Ke-2]=arguments[Ke];return y.prototype[K].apply(C,de)}}function R(f){const y=f.length;if(0<y){const E=Array(y);for(let C=0;C<y;C++)E[C]=f[C];return E}return[]}function N(f,y){for(let E=1;E<arguments.length;E++){const C=arguments[E];if(p(C)){const K=f.length||0,J=C.length||0;f.length=K+J;for(let de=0;de<J;de++)f[K+de]=C[de]}else f.push(C)}}class L{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(f){return/^[\s\xa0]*$/.test(f)}function H(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function Z(f){return Z[" "](f),f}Z[" "]=function(){};var ee=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ce(f,y,E){for(const C in f)y.call(E,f[C],C,f)}function P(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function A(f){const y={};for(const E in f)y[E]=f[E];return y}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(f,y){let E,C;for(let K=1;K<arguments.length;K++){C=arguments[K];for(E in C)f[E]=C[E];for(let J=0;J<O.length;J++)E=O[J],Object.prototype.hasOwnProperty.call(C,E)&&(f[E]=C[E])}}function U(f){var y=1;f=f.split(":");const E=[];for(;0<y&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function z(f){d.setTimeout(()=>{throw f},0)}function M(){var f=be;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class fe{constructor(){this.h=this.g=null}add(y,E){const C=ue.get();C.set(y,E),this.h?this.h.next=C:this.g=C,this.h=C}}var ue=new L(()=>new F,f=>f.reset());class F{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,W=!1,be=new fe,V=()=>{const f=d.Promise.resolve(void 0);ie=()=>{f.then(ne)}};var ne=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(E){z(E)}var y=ue;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}W=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};d.addEventListener("test",E,y),d.removeEventListener("test",E,y)}catch{}return f}();function Re(f,y){if(oe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(ee){e:{try{Z(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:we[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Re.aa.h.call(this)}}D(Re,oe);var we={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Xe(f,y,E,C,K){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!C,this.ha=K,this.key=++Se,this.da=this.fa=!1}function je(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Me(f){this.src=f,this.g={},this.h=0}Me.prototype.add=function(f,y,E,C,K){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var de=St(f,y,C,K);return-1<de?(y=f[de],E||(y.fa=!1)):(y=new Xe(y,this.src,J,!!C,K),y.fa=E,f.push(y)),y};function ke(f,y){var E=y.type;if(E in f.g){var C=f.g[E],K=Array.prototype.indexOf.call(C,y,void 0),J;(J=0<=K)&&Array.prototype.splice.call(C,K,1),J&&(je(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function St(f,y,E,C){for(var K=0;K<f.length;++K){var J=f[K];if(!J.da&&J.listener==y&&J.capture==!!E&&J.ha==C)return K}return-1}var Qt="closure_lm_"+(1e6*Math.random()|0),sr={};function Tr(f,y,E,C,K){if(Array.isArray(y)){for(var J=0;J<y.length;J++)Tr(f,y[J],E,C,K);return null}return E=bu(E),f&&f[me]?f.K(y,E,g(C)?!!C.capture:!1,K):$t(f,y,E,!1,C,K)}function $t(f,y,E,C,K,J){if(!y)throw Error("Invalid event type");var de=g(K)?!!K.capture:!!K,Ke=Fa(f);if(Ke||(f[Qt]=Ke=new Me(f)),E=Ke.add(y,E,C,de,J),E.proxy)return E;if(C=El(),E.proxy=C,C.src=f,C.listener=E,f.addEventListener)pe||(K=de),K===void 0&&(K=!1),f.addEventListener(y.toString(),C,K);else if(f.attachEvent)f.attachEvent(Fs(y.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function El(){function f(E){return y.call(f.src,f.listener,E)}const y=wd;return f}function Sr(f,y,E,C,K){if(Array.isArray(y))for(var J=0;J<y.length;J++)Sr(f,y[J],E,C,K);else C=g(C)?!!C.capture:!!C,E=bu(E),f&&f[me]?(f=f.i,y=String(y).toString(),y in f.g&&(J=f.g[y],E=St(J,E,C,K),-1<E&&(je(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete f.g[y],f.h--)))):f&&(f=Fa(f))&&(y=f.g[y.toString()],f=-1,y&&(f=St(y,E,C,K)),(E=-1<f?y[f]:null)&&Ha(E))}function Ha(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[me])ke(y.i,f);else{var E=f.type,C=f.proxy;y.removeEventListener?y.removeEventListener(E,C,f.capture):y.detachEvent?y.detachEvent(Fs(E),C):y.addListener&&y.removeListener&&y.removeListener(C),(E=Fa(y))?(ke(E,f),E.h==0&&(E.src=null,y[Qt]=null)):je(f)}}}function Fs(f){return f in sr?sr[f]:sr[f]="on"+f}function wd(f,y){if(f.da)f=!0;else{y=new Re(y,this);var E=f.listener,C=f.ha||f.src;f.fa&&Ha(f),f=E.call(C,y)}return f}function Fa(f){return f=f[Qt],f instanceof Me?f:null}var bl="__closure_events_fn_"+(1e9*Math.random()>>>0);function bu(f){return typeof f=="function"?f:(f[bl]||(f[bl]=function(y){return f.handleEvent(y)}),f[bl])}function Et(){he.call(this),this.i=new Me(this),this.M=this,this.F=null}D(Et,he),Et.prototype[me]=!0,Et.prototype.removeEventListener=function(f,y,E,C){Sr(this,f,y,E,C)};function rt(f,y){var E,C=f.F;if(C)for(E=[];C;C=C.F)E.push(C);if(f=f.M,C=y.type||y,typeof y=="string")y=new oe(y,f);else if(y instanceof oe)y.target=y.target||f;else{var K=y;y=new oe(C,f),j(y,K)}if(K=!0,E)for(var J=E.length-1;0<=J;J--){var de=y.g=E[J];K=On(de,C,!0,y)&&K}if(de=y.g=f,K=On(de,C,!0,y)&&K,K=On(de,C,!1,y)&&K,E)for(J=0;J<E.length;J++)de=y.g=E[J],K=On(de,C,!1,y)&&K}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var E=f.g[y],C=0;C<E.length;C++)je(E[C]);delete f.g[y],f.h--}}this.F=null},Et.prototype.K=function(f,y,E,C){return this.i.add(String(f),y,!1,E,C)},Et.prototype.L=function(f,y,E,C){return this.i.add(String(f),y,!0,E,C)};function On(f,y,E,C){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,J=0;J<y.length;++J){var de=y[J];if(de&&!de.da&&de.capture==E){var Ke=de.listener,Bt=de.ha||de.src;de.fa&&ke(f.i,de),K=Ke.call(Bt,C)!==!1&&K}}return K&&!C.defaultPrevented}function pn(f,y,E){if(typeof f=="function")E&&(f=T(f,E));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(f,y||0)}function wu(f){f.g=pn(()=>{f.g=null,f.i&&(f.i=!1,wu(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Td extends he{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:wu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(f){he.call(this),this.h=f,this.g={}}D(Gs,he);var Ks=[];function Ys(f){ce(f.g,function(y,E){this.g.hasOwnProperty(E)&&Ha(y)},f),f.g={}}Gs.prototype.N=function(){Gs.aa.N.call(this),Ys(this)},Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=d.JSON.stringify,Ga=d.JSON.parse,Qs=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function wl(){}wl.prototype.h=null;function Tl(f){return f.h||(f.h=f.i())}function Sl(){}var Jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ei(){oe.call(this,"d")}D(ei,oe);function Al(){oe.call(this,"c")}D(Al,oe);var Ar={},xl=null;function Ui(){return xl=xl||new Et}Ar.La="serverreachability";function Ka(f){oe.call(this,Ar.La,f)}D(Ka,oe);function zi(f){const y=Ui();rt(y,new Ka(y))}Ar.STAT_EVENT="statevent";function Tu(f,y){oe.call(this,Ar.STAT_EVENT,f),this.stat=y}D(Tu,oe);function gt(f){const y=Ui();rt(y,new Tu(y,f))}Ar.Ma="timingevent";function zt(f,y){oe.call(this,Ar.Ma,f),this.size=y}D(zt,oe);function Nt(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},y)}function Gn(){this.g=!0}Gn.prototype.xa=function(){this.g=!1};function Rl(f,y,E,C,K,J){f.info(function(){if(f.g)if(J)for(var de="",Ke=J.split("&"),Bt=0;Bt<Ke.length;Bt++){var Ye=Ke[Bt].split("=");if(1<Ye.length){var Wt=Ye[0];Ye=Ye[1];var qt=Wt.split("_");de=2<=qt.length&&qt[1]=="type"?de+(Wt+"="+Ye+"&"):de+(Wt+"=redacted&")}}else de=null;else de=J;return"XMLHTTP REQ ("+C+") [attempt "+K+"]: "+y+`
`+E+`
`+de})}function Sd(f,y,E,C,K,J,de){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+K+"]: "+y+`
`+E+`
`+J+" "+de})}function Bi(f,y,E,C){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+$s(f,E)+(C?" "+C:"")})}function Su(f,y){f.info(function(){return"TIMEOUT: "+y})}Gn.prototype.info=function(){};function $s(f,y){if(!f.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var C=E[f];if(!(2>C.length)){var K=C[1];if(Array.isArray(K)&&!(1>K.length)){var J=K[0];if(J!="noop"&&J!="stop"&&J!="close")for(var de=1;de<K.length;de++)K[de]=""}}}}return ar(E)}catch{return y}}var qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ti={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xr;function Rr(){}D(Rr,wl),Rr.prototype.g=function(){return new XMLHttpRequest},Rr.prototype.i=function(){return{}},xr=new Rr;function Tn(f,y,E,C){this.j=f,this.i=y,this.l=E,this.R=C||1,this.U=new Gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}var Cl={},Ya={};function or(f,y,E){f.L=1,f.v=ea(Pn(y)),f.m=E,f.P=!0,ni(f,null)}function ni(f,y){f.F=Date.now(),Xs(f),f.A=Pn(f.v);var E=f.A,C=f.R;Array.isArray(C)||(C=[String(C)]),Ml(E.i,"t",C),f.C=0,E=f.j.J,f.h=new At,f.g=zu(f.j,E?y:null,!f.m),0<f.O&&(f.M=new Td(T(f.Y,f,f.g),f.O)),y=f.U,E=f.g,C=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(Ks[0]=K.toString()),K=Ks);for(var J=0;J<K.length;J++){var de=Tr(E,K[J],C||y.handleEvent,!1,y.h||y);if(!de)break;y.g[de.key]=de}y=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),zi(),Rl(f.i,f.u,f.A,f.l,f.R,f.m)}Tn.prototype.ca=function(f){f=f.target;const y=this.M;y&&$n(f)==3?y.j():this.Y(f)},Tn.prototype.Y=function(f){try{if(f==this.g)e:{const qt=$n(this.g);var y=this.g.Ba();const ui=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||Ou(this.g)))){this.J||qt!=4||y==7||(y==8||0>=ui?zi(3):zi(2)),Hi(this);var E=this.g.Z();this.X=E;t:if(Au(this)){var C=Ou(this.g);f="";var K=C.length,J=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),Cr(this);var de="";break t}this.h.i=new d.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,f+=this.h.i.decode(C[y],{stream:!(J&&y==K-1)});C.length=0,this.h.g+=f,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=E==200,Sd(this.i,this.u,this.A,this.l,this.R,qt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Bt=this.g;if((Ke=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Ke)){var Ye=Ke;break t}}Ye=null}if(E=Ye)Bi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ws(this,E);else{this.o=!1,this.s=3,gt(12),an(this),Cr(this);break e}}if(this.P){E=!0;let on;for(;!this.J&&this.C<de.length;)if(on=xu(this,de),on==Ya){qt==4&&(this.s=4,gt(14),E=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Cl){this.s=4,gt(15),Bi(this.i,this.l,de,"[Invalid Chunk]"),E=!1;break}else Bi(this.i,this.l,on,null),Ws(this,on);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||de.length!=0||this.h.h||(this.s=1,gt(16),E=!1),this.o=this.o&&E,!E)Bi(this.i,this.l,de,"[Invalid Chunked Response]"),an(this),Cr(this);else if(0<de.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),la(Wt),Wt.M=!0,gt(11))}}else Bi(this.i,this.l,de,null),Ws(this,de);qt==4&&an(this),this.o&&!this.J&&(qt==4?ju(this.j,this):(this.o=!1,Xs(this)))}else Id(this.g),E==400&&0<de.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),an(this),Cr(this)}}}catch{}finally{}};function Au(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function xu(f,y){var E=f.C,C=y.indexOf(`
`,E);return C==-1?Ya:(E=Number(y.substring(E,C)),isNaN(E)?Cl:(C+=1,C+E>y.length?Ya:(y=y.slice(C,C+E),f.C=C+E,y)))}Tn.prototype.cancel=function(){this.J=!0,an(this)};function Xs(f){f.S=Date.now()+f.I,Ru(f,f.I)}function Ru(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Nt(T(f.ba,f),y)}function Hi(f){f.B&&(d.clearTimeout(f.B),f.B=null)}Tn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Su(this.i,this.A),this.L!=2&&(zi(),gt(17)),an(this),this.s=2,Cr(this)):Ru(this,this.S-f)};function Cr(f){f.j.G==0||f.J||ju(f.j,f)}function an(f){Hi(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Ys(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Ws(f,y){try{var E=f.j;if(E.G!=0&&(E.g==f||Il(E.h,f))){if(!f.K&&Il(E.h,f)&&E.G==3){try{var C=E.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var K=C;if(K[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)so(E),ro(E);else break e;Ul(E),gt(18)}}else E.za=K[1],0<E.za-E.T&&37500>K[2]&&E.F&&E.v==0&&!E.C&&(E.C=Nt(T(E.Za,E),6e3));if(1>=$a(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ci(E,11)}else if((f.K||E.g==f)&&so(E),!B(y))for(K=E.Da.g.parse(y),y=0;y<K.length;y++){let Ye=K[y];if(E.T=Ye[0],Ye=Ye[1],E.G==2)if(Ye[0]=="c"){E.K=Ye[1],E.ia=Ye[2];const Wt=Ye[3];Wt!=null&&(E.la=Wt,E.j.info("VER="+E.la));const qt=Ye[4];qt!=null&&(E.Aa=qt,E.j.info("SVER="+E.Aa));const ui=Ye[5];ui!=null&&typeof ui=="number"&&0<ui&&(C=1.5*ui,E.L=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const on=f.g;if(on){const kr=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var J=C.h;J.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Xa(J,J.h),J.h=null))}if(C.D){const Bl=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;Bl&&(C.ya=Bl,at(C.I,C.D,Bl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),C=E;var de=f;if(C.qa=Uu(C,C.J?C.ia:null,C.W),de.K){Sn(C.h,de);var Ke=de,Bt=C.L;Bt&&(Ke.I=Bt),Ke.B&&(Hi(Ke),Xs(Ke)),C.g=de}else ku(C);0<E.i.length&&io(E)}else Ye[0]!="stop"&&Ye[0]!="close"||ci(E,7);else E.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?ci(E,7):jl(E):Ye[0]!="noop"&&E.l&&E.l.ta(Ye),E.v=0)}}zi(4)}catch{}}var Cu=class{constructor(f,y){this.g=f,this.map=y}};function ri(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qa(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function $a(f){return f.h?1:f.g?f.g.size:0}function Il(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Xa(f,y){f.g?f.g.add(y):f.h=y}function Sn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}ri.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Nl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.D);return y}return R(f.i)}function Ad(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var y=[],E=f.length,C=0;C<E;C++)y.push(f[C]);return y}y=[],E=0;for(C in f)y[E++]=f[C];return y}function Wa(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var y=[];f=f.length;for(var E=0;E<f;E++)y.push(E);return y}y=[],E=0;for(const C in f)y[E++]=C;return y}}}function Dl(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var E=Wa(f),C=Ad(f),K=C.length,J=0;J<K;J++)y.call(void 0,C[J],E&&E[J],f)}var Zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xd(f,y){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var C=f[E].indexOf("="),K=null;if(0<=C){var J=f[E].substring(0,C);K=f[E].substring(C+1)}else J=f[E];y(J,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Dt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Dt){this.h=f.h,Js(this,f.j),this.o=f.o,this.g=f.g,Fi(this,f.s),this.l=f.l;var y=f.i,E=new si;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),ii(this,E),this.m=f.m}else f&&(y=String(f).match(Zs))?(this.h=!1,Js(this,y[1]||"",!0),this.o=Kn(y[2]||""),this.g=Kn(y[3]||"",!0),Fi(this,y[4]),this.l=Kn(y[5]||"",!0),ii(this,y[6]||"",!0),this.m=Kn(y[7]||"")):(this.h=!1,this.i=new si(null,this.h))}Dt.prototype.toString=function(){var f=[],y=this.j;y&&f.push(ta(y,Ol,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(ta(y,Ol,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(ta(E,E.charAt(0)=="/"?Rd:Pl,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",ta(E,Za)),f.join("")};function Pn(f){return new Dt(f)}function Js(f,y,E){f.j=E?Kn(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Fi(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function ii(f,y,E){y instanceof si?(f.i=y,Nu(f.i,f.h)):(E||(y=ta(y,Cd)),f.i=new si(y,f.h))}function at(f,y,E){f.i.set(y,E)}function ea(f){return at(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Kn(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ta(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,Iu),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Iu(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ol=/[#\/\?@]/g,Pl=/[#\?:]/g,Rd=/[#\?]/g,Cd=/[#\?@]/g,Za=/#/g;function si(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Yn(f){f.g||(f.g=new Map,f.h=0,f.i&&xd(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=si.prototype,r.add=function(f,y){Yn(this),this.i=null,f=Ir(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function ai(f,y){Yn(f),y=Ir(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function oi(f,y){return Yn(f),y=Ir(f,y),f.g.has(y)}r.forEach=function(f,y){Yn(this),this.g.forEach(function(E,C){E.forEach(function(K){f.call(y,K,C,this)},this)},this)},r.na=function(){Yn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let C=0;C<y.length;C++){const K=f[C];for(let J=0;J<K.length;J++)E.push(y[C])}return E},r.V=function(f){Yn(this);let y=[];if(typeof f=="string")oi(this,f)&&(y=y.concat(this.g.get(Ir(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)y=y.concat(f[E])}return y},r.set=function(f,y){return Yn(this),this.i=null,f=Ir(this,f),oi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},r.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function Ml(f,y,E){ai(f,y),0<E.length&&(f.i=null,f.g.set(Ir(f,y),R(E)),f.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var C=y[E];const J=encodeURIComponent(String(C)),de=this.V(C);for(C=0;C<de.length;C++){var K=J;de[C]!==""&&(K+="="+encodeURIComponent(String(de[C]))),f.push(K)}}return this.i=f.join("&")};function Ir(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Nu(f,y){y&&!f.j&&(Yn(f),f.i=null,f.g.forEach(function(E,C){var K=C.toLowerCase();C!=K&&(ai(this,C),Ml(this,K,E))},f)),f.j=y}function na(f,y){const E=new Gn;if(d.Image){const C=new Image;C.onload=x(Qn,E,"TestLoadImage: loaded",!0,y,C),C.onerror=x(Qn,E,"TestLoadImage: error",!1,y,C),C.onabort=x(Qn,E,"TestLoadImage: abort",!1,y,C),C.ontimeout=x(Qn,E,"TestLoadImage: timeout",!1,y,C),d.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else y(!1)}function lr(f,y){const E=new Gn,C=new AbortController,K=setTimeout(()=>{C.abort(),Qn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:C.signal}).then(J=>{clearTimeout(K),J.ok?Qn(E,"TestPingServer: ok",!0,y):Qn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),Qn(E,"TestPingServer: error",!1,y)})}function Qn(f,y,E,C,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),C(E)}catch{}}function ra(){this.g=new Qs}function Nr(f,y,E){const C=E||"";try{Dl(f,function(K,J){let de=K;g(K)&&(de=ar(K)),y.push(C+J+"="+encodeURIComponent(de))})}catch(K){throw y.push(C+"type="+encodeURIComponent("_badmap")),K}}function Gi(f){this.l=f.Ub||null,this.j=f.eb||!1}D(Gi,wl),Gi.prototype.g=function(){return new li(this.l,this.j)},Gi.prototype.i=function(f){return function(){return f}}({});function li(f,y){Et.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(li,Et),r=li.prototype,r.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,Or(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Or(this)),this.g&&(this.readyState=3,Or(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function kl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Dr(this):Or(this),this.readyState==3&&kl(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,Dr(this))},r.Qa=function(f){this.g&&(this.response=f,Dr(this))},r.ga=function(){this.g&&Dr(this)};function Dr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Or(f)}r.setRequestHeader=function(f,y){this.u.append(f,y)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function Or(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Vl(f){let y="";return ce(f,function(E,C){y+=C,y+=":",y+=E,y+=`\r
`}),y}function Xt(f,y,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=Vl(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):at(f,y,E))}function Je(f){Et.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Je,Et);var Ja=/^https?$/i,ia=["POST","PUT"];r=Je.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,y,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xr.g(),this.v=this.o?Tl(this.o):Tl(xr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(J){Du(this,J);return}if(f=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var K in C)E.set(K,C[K]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const J of C.keys())E.set(J,C.get(J));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),K=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ia,y,void 0))||C||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,de]of E)this.g.setRequestHeader(J,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sa(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){Du(this,J)}};function Du(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,eo(f),Pr(f)}function eo(f){f.A||(f.A=!0,rt(f,"complete"),rt(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,rt(this,"complete"),rt(this,"abort"),Pr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pr(this,!0)),Je.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?to(this):this.bb())},r.bb=function(){to(this)};function to(f){if(f.h&&typeof u<"u"&&(!f.v[1]||$n(f)!=4||f.Z()!=2)){if(f.u&&$n(f)==4)pn(f.Ea,0,f);else if(rt(f,"readystatechange"),$n(f)==4){f.h=!1;try{const de=f.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var C;if(C=de===0){var K=String(f.D).match(Zs)[1]||null;!K&&d.self&&d.self.location&&(K=d.self.location.protocol.slice(0,-1)),C=!Ja.test(K?K.toLowerCase():"")}E=C}if(E)rt(f,"complete"),rt(f,"success");else{f.m=6;try{var J=2<$n(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",eo(f)}}finally{Pr(f)}}}}function Pr(f,y){if(f.g){sa(f);const E=f.g,C=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||rt(f,"ready");try{E.onreadystatechange=C}catch{}}}function sa(f){f.I&&(d.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function $n(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Ga(y)}};function Ou(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Id(f){const y={};f=(f.g&&2<=$n(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(B(f[C]))continue;var E=U(f[C]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=y[K]||[];y[K]=J,J.push(E)}P(y,function(C){return C.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function no(f){this.Aa=0,this.i=[],this.j=new Gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=aa("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=aa("baseRetryDelayMs",5e3,f),this.cb=aa("retryDelaySeedMs",1e4,f),this.Wa=aa("forwardChannelMaxRetries",2,f),this.wa=aa("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ri(f&&f.concurrentRequestLimit),this.Da=new ra,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=no.prototype,r.la=8,r.G=1,r.connect=function(f,y,E,C){gt(0),this.W=f,this.H=y||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.I=Uu(this,null,this.W),io(this)};function jl(f){if(Pu(f),f.G==3){var y=f.U++,E=Pn(f.I);if(at(E,"SID",f.K),at(E,"RID",y),at(E,"TYPE","terminate"),oa(f,E),y=new Tn(f,f.j,y),y.L=2,y.v=ea(Pn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=y.v,E=!0),E||(y.g=zu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Xs(y)}Lu(f)}function ro(f){f.g&&(la(f),f.g.cancel(),f.g=null)}function Pu(f){ro(f),f.u&&(d.clearTimeout(f.u),f.u=null),so(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function io(f){if(!Qa(f.h)&&!f.s){f.s=!0;var y=f.Ga;ie||V(),W||(ie(),W=!0),be.add(y,f),f.B=0}}function Nd(f,y){return $a(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Nt(T(f.Ga,f,y),zl(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new Tn(this,this.j,f);let J=this.o;if(this.S&&(J?(J=A(J),j(J,this.S)):J=this.S),this.m!==null||this.O||(K.H=J,J=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Mu(this,K,y),E=Pn(this.I),at(E,"RID",f),at(E,"CVER",22),this.D&&at(E,"X-HTTP-Session-Id",this.D),oa(this,E),J&&(this.O?y="headers="+encodeURIComponent(String(Vl(J)))+"&"+y:this.m&&Xt(E,this.m,J)),Xa(this.h,K),this.Ua&&at(E,"TYPE","init"),this.P?(at(E,"$req",y),at(E,"SID","null"),K.T=!0,or(K,E,null)):or(K,E,y),this.G=2}}else this.G==3&&(f?Ll(this,f):this.i.length==0||Qa(this.h)||Ll(this))};function Ll(f,y){var E;y?E=y.l:E=f.U++;const C=Pn(f.I);at(C,"SID",f.K),at(C,"RID",E),at(C,"AID",f.T),oa(f,C),f.m&&f.o&&Xt(C,f.m,f.o),E=new Tn(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Mu(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Xa(f.h,E),or(E,C,y)}function oa(f,y){f.H&&ce(f.H,function(E,C){at(y,C,E)}),f.l&&Dl({},function(E,C){at(y,C,E)})}function Mu(f,y,E){E=Math.min(f.i.length,E);var C=f.l?T(f.l.Na,f.l,f):null;e:{var K=f.i;let J=-1;for(;;){const de=["count="+E];J==-1?0<E?(J=K[0].g,de.push("ofs="+J)):J=0:de.push("ofs="+J);let Ke=!0;for(let Bt=0;Bt<E;Bt++){let Ye=K[Bt].g;const Wt=K[Bt].map;if(Ye-=J,0>Ye)J=Math.max(0,K[Bt].g-100),Ke=!1;else try{Nr(Wt,de,"req"+Ye+"_")}catch{C&&C(Wt)}}if(Ke){C=de.join("&");break e}}}return f=f.i.splice(0,E),y.D=f,C}function ku(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;ie||V(),W||(ie(),W=!0),be.add(y,f),f.v=0}}function Ul(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Nt(T(f.Fa,f),zl(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,Vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Nt(T(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),ro(this),Vu(this))};function la(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Vu(f){f.g=new Tn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=Pn(f.qa);at(y,"RID","rpc"),at(y,"SID",f.K),at(y,"AID",f.T),at(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&at(y,"TO",f.ja),at(y,"TYPE","xmlhttp"),oa(f,y),f.m&&f.o&&Xt(y,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=ea(Pn(y)),E.m=null,E.P=!0,ni(E,f)}r.Za=function(){this.C!=null&&(this.C=null,ro(this),Ul(this),gt(19))};function so(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function ju(f,y){var E=null;if(f.g==y){so(f),la(f),f.g=null;var C=2}else if(Il(f.h,y))E=y.D,Sn(f.h,y),C=1;else return;if(f.G!=0){if(y.o)if(C==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var K=f.B;C=Ui(),rt(C,new zt(C,E)),io(f)}else ku(f);else if(K=y.s,K==3||K==0&&0<y.X||!(C==1&&Nd(f,y)||C==2&&Ul(f)))switch(E&&0<E.length&&(y=f.h,y.i=y.i.concat(E)),K){case 1:ci(f,5);break;case 4:ci(f,10);break;case 3:ci(f,6);break;default:ci(f,2)}}}function zl(f,y){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*y}function ci(f,y){if(f.j.info("Error code "+y),y==2){var E=T(f.fb,f),C=f.Xa;const K=!C;C=new Dt(C||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Js(C,"https"),ea(C),K?na(C.toString(),E):lr(C.toString(),E)}else gt(2);f.G=0,f.l&&f.l.sa(y),Lu(f),Pu(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Lu(f){if(f.G=0,f.ka=[],f.l){const y=Nl(f.h);(y.length!=0||f.i.length!=0)&&(N(f.ka,y),N(f.ka,f.i),f.h.i.length=0,R(f.i),f.i.length=0),f.l.ra()}}function Uu(f,y,E){var C=E instanceof Dt?Pn(E):new Dt(E);if(C.g!="")y&&(C.g=y+"."+C.g),Fi(C,C.s);else{var K=d.location;C=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var J=new Dt(null);C&&Js(J,C),y&&(J.g=y),K&&Fi(J,K),E&&(J.l=E),C=J}return E=f.D,y=f.ya,E&&y&&at(C,E,y),at(C,"VER",f.la),oa(f,C),C}function zu(f,y,E){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Je(new Gi({eb:E})):new Je(f.pa),y.Ha(f.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}r=Bu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ao(){}ao.prototype.g=function(f,y){return new An(f,y)};function An(f,y){Et.call(this),this.g=new no(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!B(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!B(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Mr(this)}D(An,Et),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){jl(this.g)},An.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=ar(f),f=E);y.i.push(new Cu(y.Ya++,f)),y.G==3&&io(y)},An.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,An.aa.N.call(this)};function qu(f){ei.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const E in y){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}D(qu,ei);function Hu(){Al.call(this),this.status=1}D(Hu,Al);function Mr(f){this.g=f}D(Mr,Bu),Mr.prototype.ua=function(){rt(this.g,"a")},Mr.prototype.ta=function(f){rt(this.g,new qu(f))},Mr.prototype.sa=function(f){rt(this.g,new Hu)},Mr.prototype.ra=function(){rt(this.g,"b")},ao.prototype.createWebChannel=ao.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,eS=function(){return new ao},JT=function(){return Ui()},ZT=Ar,fg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qi.NO_ERROR=0,qi.TIMEOUT=8,qi.HTTP_ERROR=6,uh=qi,ti.COMPLETE="complete",WT=ti,Sl.EventType=Jr,Jr.OPEN="a",Jr.CLOSE="b",Jr.ERROR="c",Jr.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Pc=Sl,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,XT=Je}).apply(typeof Qf<"u"?Qf:typeof self<"u"?self:typeof window<"u"?window:{});const ob="@firebase/firestore",lb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new Fg("@firebase/firestore");function zo(){return Ma.logLevel}function ye(r,...e){if(Ma.logLevel<=He.DEBUG){const t=e.map(ry);Ma.debug(`Firestore (${hl}): ${r}`,...t)}}function Pi(r,...e){if(Ma.logLevel<=He.ERROR){const t=e.map(ry);Ma.error(`Firestore (${hl}): ${r}`,...t)}}function el(r,...e){if(Ma.logLevel<=He.WARN){const t=e.map(ry);Ma.warn(`Firestore (${hl}): ${r}`,...t)}}function ry(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,tS(r,s,t)}function tS(r,e,t){let s=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Pi(s),new Error(s)}function tt(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||tS(e,o,s)}function Pe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ji{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_n.UNAUTHENTICATED))}shutdown(){}}class cO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class uO{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let c=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xs,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xs)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tt(typeof s.accessToken=="string",31837,{l:s}),new nS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class fO{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hO{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new fO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tt(this.o===void 0,3512);const s=c=>{c.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new cb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=mO(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function Fe(r,e){return r<e?-1:r>e?1:0}function hg(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return Vp(o)===Vp(c)?Fe(o,c):Vp(o)?1:-1}return Fe(r.length,e.length)}const pO=55296,gO=57343;function Vp(r){const e=r.charCodeAt(0);return e>=pO&&e<=gO}function tl(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="__name__";class Br{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ne(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ne(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Br.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Br?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=Br.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return Fe(e.length,t.length)}static compareSegments(e,t){const s=Br.isNumericId(e),o=Br.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Br.extractNumericId(e).compare(Br.extractNumericId(t)):hg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return As.fromString(e.substring(4,e.length-2))}}class dt extends Br{construct(e,t,s){return new dt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new dt(t)}static emptyPath(){return new dt([])}}const yO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Br{construct(e,t,s){return new hn(e,t,s)}static isValidIdentifier(e){return yO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ub}static keyField(){return new hn([ub])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ge(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(s+=d,o++):(c(),o++)}if(c(),u)throw new ge(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(t)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(dt.fromString(e))}static fromName(e){return new Ae(dt.fromString(e).popFirst(5))}static empty(){return new Ae(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(r,e,t){if(!t)throw new ge(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function vO(r,e,t,s){if(e===!0&&s===!0)throw new ge(se.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function fb(r){if(!Ae.isDocumentKey(r))throw new ge(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function hb(r){if(Ae.isDocumentKey(r))throw new ge(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function iS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Qh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ne(12329,{type:typeof r})}function Fr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qh(r);throw new ge(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(r,e){const t={typeString:r};return e&&(t.value=e),t}function hu(r,e){if(!iS(r))throw new ge(se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const u=r[s];if(o&&typeof u!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new ge(se.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=-62135596800,mb=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*mb);return new mt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<db)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mb}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-db;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Lt("string",mt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new mt(0,0))}static max(){return new Oe(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=-1;function _O(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(s===1e9?new mt(t+1,0):new mt(t,s));return new Cs(o,Ae.empty(),e)}function EO(r){return new Cs(r.readTime,r.key,Qc)}class Cs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Cs(Oe.min(),Ae.empty(),Qc)}static max(){return new Cs(Oe.max(),Ae.empty(),Qc)}}function bO(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(r.documentKey,e.documentKey),t!==0?t:Fe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==wO)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,s)=>{t(e)})}static reject(e){return new le((t,s)=>{s(e)})}static waitFor(e){return new le((t,s)=>{let o=0,c=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++c,u&&c===o&&t()},p=>s(p))}),u=!0,c===o&&t()})}static or(e){let t=le.resolve(!1);for(const s of e)t=t.next(o=>o?le.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,c)=>{s.push(t.call(this,o,c))}),this.waitFor(s)}static mapArray(e,t){return new le((s,o)=>{const c=e.length,u=new Array(c);let d=0;for(let p=0;p<c;p++){const g=p;t(e[g]).next(_=>{u[g]=_,++d,d===c&&s(u)},_=>o(_))}})}static doWhile(e,t){return new le((s,o)=>{const c=()=>{e()===!0?t().next(()=>{c()},o):s()};c()})}}function SO(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ml(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$h.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=-1;function Xh(r){return r==null}function Rh(r){return r===0&&1/r==-1/0}function AO(r){return typeof r=="number"&&Number.isInteger(r)&&!Rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="";function xO(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=pb(e)),e=RO(r.get(t),e);return pb(e)}function RO(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":t+="";break;case sS:t+="";break;default:t+=c}}return t}function pb(r){return r+sS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Us(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function aS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $f(this.root,e,this.comparator,!1)}getReverseIterator(){return new $f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $f(this.root,e,this.comparator,!0)}}class $f{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??fn.RED,this.left=o??fn.EMPTY,this.right=c??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new fn(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yb(this.data.getIterator())}getIteratorFrom(e){return new yb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Kt(this.comparator);return t.data=e,t}}class yb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Hn([])}unionWith(e){let t=new Kt(hn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Hn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new oS("Invalid base64 string: "+c):c}}(e);return new dn(t)}static fromUint8Array(e){const t=function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c}(e);return new dn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const CO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(r){if(tt(!!r,39018),typeof r=="string"){let e=0;const t=CO.exec(r);if(tt(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:It(r.seconds),nanos:It(r.nanos)}}function It(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ns(r){return typeof r=="string"?dn.fromBase64String(r):dn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="server_timestamp",cS="__type__",uS="__previous_value__",fS="__local_write_time__";function ay(r){var t,s;return((s=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[cS])==null?void 0:s.stringValue)===lS}function Wh(r){const e=r.mapValue.fields[uS];return ay(e)?Wh(e):e}function $c(r){const e=Is(r.mapValue.fields[fS].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,t,s,o,c,u,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Ch="(default)";class Xc{constructor(e,t){this.projectId=e,this.database=t||Ch}static empty(){return new Xc("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof Xc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="__type__",NO="__max__",Xf={mapValue:{}},dS="__vector__",Ih="value";function Ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ay(r)?4:OO(r)?9007199254740991:DO(r)?10:11:Ne(28295,{value:r})}function Xr(r,e){if(r===e)return!0;const t=Ds(r);if(t!==Ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $c(r).isEqual($c(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Is(o.timestampValue),d=Is(c.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return Ns(o.bytesValue).isEqual(Ns(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return It(o.geoPointValue.latitude)===It(c.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return It(o.integerValue)===It(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=It(o.doubleValue),d=It(c.doubleValue);return u===d?Rh(u)===Rh(d):isNaN(u)&&isNaN(d)}return!1}(r,e);case 9:return tl(r.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return function(o,c){const u=o.mapValue.fields||{},d=c.mapValue.fields||{};if(gb(u)!==gb(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(d[p]===void 0||!Xr(u[p],d[p])))return!1;return!0}(r,e);default:return Ne(52216,{left:r})}}function Wc(r,e){return(r.values||[]).find(t=>Xr(t,e))!==void 0}function nl(r,e){if(r===e)return 0;const t=Ds(r),s=Ds(e);if(t!==s)return Fe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(r.booleanValue,e.booleanValue);case 2:return function(c,u){const d=It(c.integerValue||c.doubleValue),p=It(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return vb(r.timestampValue,e.timestampValue);case 4:return vb($c(r),$c(e));case 5:return hg(r.stringValue,e.stringValue);case 6:return function(c,u){const d=Ns(c),p=Ns(u);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(c,u){const d=c.split("/"),p=u.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=Fe(d[g],p[g]);if(_!==0)return _}return Fe(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,u){const d=Fe(It(c.latitude),It(u.latitude));return d!==0?d:Fe(It(c.longitude),It(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return _b(r.arrayValue,e.arrayValue);case 10:return function(c,u){var T,x,D,R;const d=c.fields||{},p=u.fields||{},g=(T=d[Ih])==null?void 0:T.arrayValue,_=(x=p[Ih])==null?void 0:x.arrayValue,w=Fe(((D=g==null?void 0:g.values)==null?void 0:D.length)||0,((R=_==null?void 0:_.values)==null?void 0:R.length)||0);return w!==0?w:_b(g,_)}(r.mapValue,e.mapValue);case 11:return function(c,u){if(c===Xf.mapValue&&u===Xf.mapValue)return 0;if(c===Xf.mapValue)return 1;if(u===Xf.mapValue)return-1;const d=c.fields||{},p=Object.keys(d),g=u.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let w=0;w<p.length&&w<_.length;++w){const T=hg(p[w],_[w]);if(T!==0)return T;const x=nl(d[p[w]],g[_[w]]);if(x!==0)return x}return Fe(p.length,_.length)}(r.mapValue,e.mapValue);default:throw Ne(23264,{he:t})}}function vb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Fe(r,e);const t=Is(r),s=Is(e),o=Fe(t.seconds,s.seconds);return o!==0?o:Fe(t.nanos,s.nanos)}function _b(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=nl(t[o],s[o]);if(c)return c}return Fe(t.length,s.length)}function rl(r){return dg(r)}function dg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=Is(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ns(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ae.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=dg(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const u of s)c?c=!1:o+=",",o+=`${u}:${dg(t.fields[u])}`;return o+"}"}(r.mapValue):Ne(61005,{value:r})}function fh(r){switch(Ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wh(r);return e?16+fh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+fh(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Us(s.fields,(c,u)=>{o+=c.length+fh(u)}),o}(r.mapValue);default:throw Ne(13486,{value:r})}}function Eb(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function mg(r){return!!r&&"integerValue"in r}function oy(r){return!!r&&"arrayValue"in r}function bb(r){return!!r&&"nullValue"in r}function wb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hh(r){return!!r&&"mapValue"in r}function DO(r){var t,s;return((s=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[hS])==null?void 0:s.stringValue)===dS}function zc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Us(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=zc(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zc(r.arrayValue.values[t]);return e}return{...r}}function OO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===NO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!hh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zc(t)}setAll(e){let t=hn.emptyPath(),s={},o=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}u?s[d.lastSegment()]=zc(u):o.push(d.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());hh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];hh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Us(t,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new Dn(zc(this.value))}}function mS(r){const e=[];return Us(r.fields,(t,s)=>{const o=new hn([t]);if(hh(s)){const c=mS(s.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)}),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,t,s,o,c,u,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=u,this.documentState=d}static newInvalidDocument(e){return new En(e,0,Oe.min(),Oe.min(),Oe.min(),Dn.empty(),0)}static newFoundDocument(e,t,s,o){return new En(e,1,t,Oe.min(),s,o,0)}static newNoDocument(e,t){return new En(e,2,t,Oe.min(),Oe.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new En(e,3,t,Oe.min(),Oe.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t){this.position=e,this.inclusive=t}}function Tb(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],u=r.position[o];if(c.field.isKeyField()?s=Ae.comparator(Ae.fromName(u.referenceValue),t.key):s=nl(u,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Sb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Xr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t="asc"){this.field=e,this.dir=t}}function PO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{}class jt extends pS{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new kO(e,t,s):t==="array-contains"?new LO(e,s):t==="in"?new UO(e,s):t==="not-in"?new zO(e,s):t==="array-contains-any"?new BO(e,s):new jt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new VO(e,s):new jO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(nl(t,this.value)):t!==null&&Ds(this.value)===Ds(t)&&this.matchesComparison(nl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends pS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Er(e,t)}matches(e){return gS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gS(r){return r.op==="and"}function yS(r){return MO(r)&&gS(r)}function MO(r){for(const e of r.filters)if(e instanceof Er)return!1;return!0}function pg(r){if(r instanceof jt)return r.field.canonicalString()+r.op.toString()+rl(r.value);if(yS(r))return r.filters.map(e=>pg(e)).join(",");{const e=r.filters.map(t=>pg(t)).join(",");return`${r.op}(${e})`}}function vS(r,e){return r instanceof jt?function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&Xr(s.value,o.value)}(r,e):r instanceof Er?function(s,o){return o instanceof Er&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,u,d)=>c&&vS(u,o.filters[d]),!0):!1}(r,e):void Ne(19439)}function _S(r){return r instanceof jt?function(t){return`${t.field.canonicalString()} ${t.op} ${rl(t.value)}`}(r):r instanceof Er?function(t){return t.op.toString()+" {"+t.getFilters().map(_S).join(" ,")+"}"}(r):"Filter"}class kO extends jt{constructor(e,t,s){super(e,t,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class VO extends jt{constructor(e,t){super(e,"in",t),this.keys=ES("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jO extends jt{constructor(e,t){super(e,"not-in",t),this.keys=ES("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ES(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(s=>Ae.fromName(s.referenceValue))}class LO extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return oy(t)&&Wc(t.arrayValue,this.value)}}class UO extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wc(this.value.arrayValue,t)}}class zO extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Wc(this.value.arrayValue,t)}}class BO extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!oy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Wc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,t=null,s=[],o=[],c=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=u,this.endAt=d,this.Te=null}}function Ab(r,e=null,t=[],s=[],o=null,c=null,u=null){return new qO(r,e,t,s,o,c,u)}function ly(r){const e=Pe(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>pg(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>rl(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>rl(s)).join(",")),e.Te=t}return e.Te}function cy(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!PO(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!vS(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Sb(r.startAt,e.startAt)&&Sb(r.endAt,e.endAt)}function gg(r){return Ae.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,t=null,s=[],o=[],c=null,u="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=u,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HO(r,e,t,s,o,c,u,d){return new pl(r,e,t,s,o,c,u,d)}function uy(r){return new pl(r)}function xb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function bS(r){return r.collectionGroup!==null}function Bc(r){const e=Pe(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Kt(hn.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Zc(c,s))}),t.has(hn.keyField().canonicalString())||e.Ie.push(new Zc(hn.keyField(),s))}return e.Ie}function Gr(r){const e=Pe(r);return e.Ee||(e.Ee=FO(e,Bc(r))),e.Ee}function FO(r,e){if(r.limitType==="F")return Ab(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Zc(o.field,c)});const t=r.endAt?new Nh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Nh(r.startAt.position,r.startAt.inclusive):null;return Ab(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function yg(r,e){const t=r.filters.concat([e]);return new pl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function vg(r,e,t){return new pl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Zh(r,e){return cy(Gr(r),Gr(e))&&r.limitType===e.limitType}function wS(r){return`${ly(Gr(r))}|lt:${r.limitType}`}function Bo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>_S(o)).join(", ")}]`),Xh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>rl(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>rl(o)).join(",")),`Target(${s})`}(Gr(r))}; limitType=${r.limitType})`}function Jh(r,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ae.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,o){for(const c of Bc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(u,d,p){const g=Tb(u,d,p);return u.inclusive?g<=0:g<0}(s.startAt,Bc(s),o)||s.endAt&&!function(u,d,p){const g=Tb(u,d,p);return u.inclusive?g>=0:g>0}(s.endAt,Bc(s),o))}(r,e)}function GO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function TS(r){return(e,t)=>{let s=!1;for(const o of Bc(r)){const c=KO(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function KO(r,e,t){const s=r.field.isKeyField()?Ae.comparator(e.key,t.key):function(c,u,d){const p=u.data.field(c),g=d.data.field(c);return p!==null&&g!==null?nl(p,g):Ne(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ne(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Us(this.inner,(t,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return aS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new _t(Ae.comparator);function Mi(){return YO}const SS=new _t(Ae.comparator);function Mc(...r){let e=SS;for(const t of r)e=e.insert(t.key,t);return e}function AS(r){let e=SS;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ra(){return qc()}function xS(){return qc()}function qc(){return new za(r=>r.toString(),(r,e)=>r.isEqual(e))}const QO=new _t(Ae.comparator),$O=new Kt(Ae.comparator);function Ge(...r){let e=$O;for(const t of r)e=e.add(t);return e}const XO=new Kt(Fe);function WO(){return XO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function RS(r){return{integerValue:""+r}}function ZO(r,e){return AO(e)?RS(e):fy(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this._=void 0}}function JO(r,e,t){return r instanceof Jc?function(o,c){const u={fields:{[cS]:{stringValue:lS},[fS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&ay(c)&&(c=Wh(c)),c&&(u.fields[uS]=c),{mapValue:u}}(t,e):r instanceof eu?IS(r,e):r instanceof tu?NS(r,e):function(o,c){const u=CS(o,c),d=Rb(u)+Rb(o.Ae);return mg(u)&&mg(o.Ae)?RS(d):fy(o.serializer,d)}(r,e)}function eP(r,e,t){return r instanceof eu?IS(r,e):r instanceof tu?NS(r,e):t}function CS(r,e){return r instanceof Dh?function(s){return mg(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Jc extends ed{}class eu extends ed{constructor(e){super(),this.elements=e}}function IS(r,e){const t=DS(e);for(const s of r.elements)t.some(o=>Xr(o,s))||t.push(s);return{arrayValue:{values:t}}}class tu extends ed{constructor(e){super(),this.elements=e}}function NS(r,e){let t=DS(e);for(const s of r.elements)t=t.filter(o=>!Xr(o,s));return{arrayValue:{values:t}}}class Dh extends ed{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Rb(r){return It(r.integerValue||r.doubleValue)}function DS(r){return oy(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,t){this.field=e,this.transform=t}}function nP(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof eu&&o instanceof eu||s instanceof tu&&o instanceof tu?tl(s.elements,o.elements,Xr):s instanceof Dh&&o instanceof Dh?Xr(s.Ae,o.Ae):s instanceof Jc&&o instanceof Jc}(r.transform,e.transform)}class rP{constructor(e,t){this.version=e,this.transformResults=t}}class _r{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class td{}function OS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new hy(r.key,_r.none()):new du(r.key,r.data,_r.none());{const t=r.data,s=Dn.empty();let o=new Kt(hn.comparator);for(let c of e.fields)if(!o.has(c)){let u=t.field(c);u===null&&c.length>1&&(c=c.popLast(),u=t.field(c)),u===null?s.delete(c):s.set(c,u),o=o.add(c)}return new zs(r.key,s,new Hn(o.toArray()),_r.none())}}function iP(r,e,t){r instanceof du?function(o,c,u){const d=o.value.clone(),p=Ib(o.fieldTransforms,c,u.transformResults);d.setAll(p),c.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(r,e,t):r instanceof zs?function(o,c,u){if(!dh(o.precondition,c))return void c.convertToUnknownDocument(u.version);const d=Ib(o.fieldTransforms,c,u.transformResults),p=c.data;p.setAll(PS(o)),p.setAll(d),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(r,e,t):function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Hc(r,e,t,s){return r instanceof du?function(c,u,d,p){if(!dh(c.precondition,u))return d;const g=c.value.clone(),_=Nb(c.fieldTransforms,p,u);return g.setAll(_),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof zs?function(c,u,d,p){if(!dh(c.precondition,u))return d;const g=Nb(c.fieldTransforms,p,u),_=u.data;return _.setAll(PS(c)),_.setAll(g),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),d===null?null:d.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(r,e,t,s):function(c,u,d){return dh(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(r,e,t)}function sP(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=CS(s.transform,o||null);c!=null&&(t===null&&(t=Dn.empty()),t.set(s.field,c))}return t||null}function Cb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&tl(s,o,(c,u)=>nP(c,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class du extends td{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zs extends td{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function PS(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Ib(r,e,t){const s=new Map;tt(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const c=r[o],u=c.transform,d=e.data.field(c.field);s.set(c.field,eP(u,d,t[o]))}return s}function Nb(r,e,t){const s=new Map;for(const o of r){const c=o.transform,u=t.data.field(o.field);s.set(o.field,JO(c,u,e))}return s}class hy extends td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aP extends td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&iP(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Hc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Hc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=xS();return this.mutations.forEach(o=>{const c=e.get(o.key),u=c.overlayedDocument;let d=this.applyToLocalView(u,c.mutatedFields);d=t.has(o.key)?null:d;const p=OS(u,d);p!==null&&s.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Oe.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ge())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,(t,s)=>Cb(t,s))&&tl(this.baseMutations,e.baseMutations,(t,s)=>Cb(t,s))}}class dy{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){tt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return QO}();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,s[u].version);return new dy(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,$e;function uP(r){switch(r){case se.OK:return Ne(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ne(15467,{code:r})}}function MS(r){if(r===void 0)return Pi("GRPC error has no .code"),se.UNKNOWN;switch(r){case Mt.OK:return se.OK;case Mt.CANCELLED:return se.CANCELLED;case Mt.UNKNOWN:return se.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return se.INTERNAL;case Mt.UNAVAILABLE:return se.UNAVAILABLE;case Mt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Mt.NOT_FOUND:return se.NOT_FOUND;case Mt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Mt.ABORTED:return se.ABORTED;case Mt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Mt.DATA_LOSS:return se.DATA_LOSS;default:return Ne(39323,{code:r})}}($e=Mt||(Mt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=new As([4294967295,4294967295],0);function Db(r){const e=fP().encode(r),t=new $T;return t.update(e),new Uint8Array(t.digest())}function Ob(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new As([t,s],0),new As([o,c],0)]}class my{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new kc(`Invalid padding: ${t}`);if(s<0)throw new kc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new kc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=As.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(As.fromNumber(s)));return o.compare(hP)===1&&(o=new As([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Db(e),[s,o]=Ob(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);if(!this.we(u))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new my(c,o,t);return s.forEach(d=>u.insert(d)),u}insert(e){if(this.ge===0)return;const t=Db(e),[s,o]=Ob(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);this.Se(u)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new nd(Oe.min(),o,new _t(Fe),Mi(),Ge())}}class mu{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new mu(s,t,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class kS{constructor(e,t){this.targetId=e,this.Ce=t}}class VS{constructor(e,t,s=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Pb{constructor(){this.ve=0,this.Fe=Mb(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),t=Ge(),s=Ge();return this.Fe.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ne(38017,{changeType:c})}}),new mu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=Mb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mi(),this.Je=Wf(),this.He=Wf(),this.Ye=new _t(Fe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(gg(c))if(s===0){const u=new Ae(c.path);this.et(t,u,En.newNoDocument(u,Oe.min()))}else tt(s===1,20013,{expectedCount:s});else{const u=this._t(t);if(u!==s){const d=this.ut(e),p=d?this.ct(d,e,u):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let u,d;try{u=Ns(s).toUint8Array()}catch(p){if(p instanceof oS)return el("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new my(u,o,c)}catch(p){return el(p instanceof kc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach(c=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(d)||(this.et(t,c,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((c,u)=>{const d=this.ot(u);if(d){if(c.current&&gg(d.target)){const p=new Ae(d.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,En.newNoDocument(p,e))}c.Be&&(t.set(u,c.ke()),c.qe())}});let s=Ge();this.He.forEach((c,u)=>{let d=!0;u.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(c))}),this.je.forEach((c,u)=>u.setReadTime(e));const o=new nd(e,t,this.Ye,this.je,s);return this.je=Mi(),this.Je=Wf(),this.He=Wf(),this.Ye=new _t(Fe),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Pb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Kt(Fe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Kt(Fe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Pb),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Wf(){return new _t(Ae.comparator)}function Mb(){return new _t(Ae.comparator)}const mP={asc:"ASCENDING",desc:"DESCENDING"},pP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gP={and:"AND",or:"OR"};class yP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _g(r,e){return r.useProto3Json||Xh(e)?e:{value:e}}function Oh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function vP(r,e){return Oh(r,e.toTimestamp())}function Kr(r){return tt(!!r,49232),Oe.fromTimestamp(function(t){const s=Is(t);return new mt(s.seconds,s.nanos)}(r))}function py(r,e){return Eg(r,e).canonicalString()}function Eg(r,e){const t=function(o){return new dt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function LS(r){const e=dt.fromString(r);return tt(HS(e),10190,{key:e.toString()}),e}function bg(r,e){return py(r.databaseId,e.path)}function jp(r,e){const t=LS(e);if(t.get(1)!==r.databaseId.projectId)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ae(zS(t))}function US(r,e){return py(r.databaseId,e)}function _P(r){const e=LS(r);return e.length===4?dt.emptyPath():zS(e)}function wg(r){return new dt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function zS(r){return tt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function kb(r,e,t){return{name:bg(r,e),fields:t.value.mapValue.fields}}function EP(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ne(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(g,_){return g.useProto3Json?(tt(_===void 0||typeof _=="string",58123),dn.fromBase64String(_||"")):(tt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),dn.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(g){const _=g.code===void 0?se.UNKNOWN:MS(g.code);return new ge(_,g.message||"")}(u);t=new VS(s,o,c,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=jp(r,s.document.name),c=Kr(s.document.updateTime),u=s.document.createTime?Kr(s.document.createTime):Oe.min(),d=new Dn({mapValue:{fields:s.document.fields}}),p=En.newFoundDocument(o,c,u,d),g=s.targetIds||[],_=s.removedTargetIds||[];t=new mh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=jp(r,s.document),c=s.readTime?Kr(s.readTime):Oe.min(),u=En.newNoDocument(o,c),d=s.removedTargetIds||[];t=new mh([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=jp(r,s.document),c=s.removedTargetIds||[];t=new mh([],c,o,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,u=new cP(o,c),d=s.targetId;t=new kS(d,u)}}return t}function bP(r,e){let t;if(e instanceof du)t={update:kb(r,e.key,e.value)};else if(e instanceof hy)t={delete:bg(r,e.key)};else if(e instanceof zs)t={update:kb(r,e.key,e.data),updateMask:NP(e.fieldMask)};else{if(!(e instanceof aP))return Ne(16599,{Vt:e.type});t={verify:bg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(c,u){const d=u.transform;if(d instanceof Jc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof eu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof tu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Dh)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ne(20930,{transform:u.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:vP(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ne(27497)}(r,e.precondition)),t}function wP(r,e){return r&&r.length>0?(tt(e!==void 0,14353),r.map(t=>function(o,c){let u=o.updateTime?Kr(o.updateTime):Kr(c);return u.isEqual(Oe.min())&&(u=Kr(c)),new rP(u,o.transformResults||[])}(t,e))):[]}function TP(r,e){return{documents:[US(r,e.path)]}}function SP(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=US(r,o);const c=function(g){if(g.length!==0)return qS(Er.create(g,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const u=function(g){if(g.length!==0)return g.map(_=>function(T){return{field:qo(T.field),direction:RP(T.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=_g(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:o}}function AP(r){let e=_P(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){tt(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];t.where&&(c=function(w){const T=BS(w);return T instanceof Er&&yS(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(T=>function(D){return new Zc(Ho(D.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(w){let T;return T=typeof w=="object"?w.value:w,Xh(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(w){const T=!!w.before,x=w.values||[];return new Nh(x,T)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const T=!w.before,x=w.values||[];return new Nh(x,T)}(t.endAt)),HO(e,o,u,c,d,"F",p,g)}function xP(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function BS(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ho(t.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ho(t.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ho(t.unaryFilter.field);return jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ho(t.unaryFilter.field);return jt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}}(r):r.fieldFilter!==void 0?function(t){return jt.create(Ho(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Er.create(t.compositeFilter.filters.map(s=>BS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}}(t.compositeFilter.op))}(r):Ne(30097,{filter:r})}function RP(r){return mP[r]}function CP(r){return pP[r]}function IP(r){return gP[r]}function qo(r){return{fieldPath:r.canonicalString()}}function Ho(r){return hn.fromServerFormat(r.fieldPath)}function qS(r){return r instanceof jt?function(t){if(t.op==="=="){if(wb(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NAN"}};if(bb(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(wb(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NOT_NAN"}};if(bb(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(t.field),op:CP(t.op),value:t.value}}}(r):r instanceof Er?function(t){const s=t.getFilters().map(o=>qS(o));return s.length===1?s[0]:{compositeFilter:{op:IP(t.op),filters:s}}}(r):Ne(54877,{filter:r})}function NP(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function HS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t,s,o,c=Oe.min(),u=Oe.min(),d=dn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.yt=e}}function OP(r){const e=AP({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?vg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.Cn=new MP}addToCollectionParentIndex(e,t){return this.Cn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Cs.min())}updateCollectionGroup(e,t,s){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class MP{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Kt(dt.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Kt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FS=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(FS,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="LruGarbageCollector",kP=1048576;function Lb([r,e],[t,s]){const o=Fe(r,t);return o===0?Fe(e,s):o}class VP{constructor(e){this.Ir=e,this.buffer=new Kt(Lb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Lb(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jP{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(jb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ml(t)?ye(jb,"Ignoring IndexedDB error during garbage collection: ",t):await dl(t)}await this.Vr(3e5)})}}class LP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return le.resolve($h.ce);const s=new VP(t);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Vb)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vb):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,c,u,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,d=Date.now(),this.removeTargets(e,s,t))).next(w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),zo()<=He.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${c} targets in `+(p-d)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w})))}}function UP(r,e){return new LP(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(){this.changes=new za(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?le.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Hc(s.mutation,o,Hn.empty(),mt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ge()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ge()){const o=Ra();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(c=>{let u=Mc();return c.forEach((d,p)=>{u=u.insert(d,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const s=Ra();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ge()))}populateOverlays(e,t,s){const o=[];return s.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,s,o){let c=Mi();const u=qc(),d=function(){return qc()}();return t.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof zs)?c=c.insert(g.key,g):_!==void 0?(u.set(g.key,_.mutation.getFieldMask()),Hc(_.mutation,g,_.mutation.getFieldMask(),mt.now())):u.set(g.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((g,_)=>u.set(g,_)),t.forEach((g,_)=>d.set(g,new BP(_,u.get(g)??null))),d))}recalculateAndSaveOverlays(e,t){const s=qc();let o=new _t((u,d)=>u-d),c=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||Hn.empty();_=d.applyToLocalView(g,_),s.set(p,_);const w=(o.get(d.batchId)||Ge()).add(p);o=o.insert(d.batchId,w)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,w=xS();_.forEach(T=>{if(!c.has(T)){const x=OS(t.get(T),s.get(T));x!==null&&w.set(T,x),c=c.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,w))}return le.waitFor(u)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(u){return Ae.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):le.resolve(Ra());let d=Qc,p=c;return u.next(g=>le.forEach(g,(_,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),c.get(_)?le.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{p=p.insert(_,T)}))).next(()=>this.populateOverlays(e,g,c)).next(()=>this.computeViews(e,p,g,Ge())).next(_=>({batchId:d,changes:AS(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(s=>{let o=Mc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let u=Mc();return this.indexManager.getCollectionParents(e,c).next(d=>le.forEach(d,p=>{const g=function(w,T){return new pl(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((w,T)=>{u=u.insert(w,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o))).next(u=>{c.forEach((p,g)=>{const _=g.getKey();u.get(_)===null&&(u=u.insert(_,En.newInvalidDocument(_)))});let d=Mc();return u.forEach((p,g)=>{const _=c.get(p);_!==void 0&&Hc(_.mutation,g,Hn.empty(),mt.now()),Jh(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return le.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Kr(o.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:OP(o.bundledQuery),readTime:Kr(o.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(){this.overlays=new _t(Ae.comparator),this.qr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ra();return le.forEach(t,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,c)=>{this.St(e,t,c)}),le.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(s)),le.resolve()}getOverlaysForCollection(e,t,s){const o=Ra(),c=t.length+1,u=new Ae(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new _t((g,_)=>g-_);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=c.get(g.largestBatchId);_===null&&(_=Ra(),c=c.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Ra(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return le.resolve(d)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new lP(t,s));let c=this.qr.get(t);c===void 0&&(c=Ge(),this.qr.set(t,c)),this.qr.set(t,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this.Qr=new Kt(tn.$r),this.Ur=new Kt(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new tn(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new tn(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new Ae(new dt([])),s=new tn(t,e),o=new tn(t,e+1),c=[];return this.Ur.forEachInRange([s,o],u=>{this.Gr(u),c.push(u.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ae(new dt([])),s=new tn(t,e),o=new tn(t,e+1);let c=Ge();return this.Ur.forEachInRange([s,o],u=>{c=c.add(u.key)}),c}containsKey(e){const t=new tn(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class tn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ae.comparator(e.key,t.key)||Fe(e.Yr,t.Yr)}static Kr(e,t){return Fe(e.Yr,t.Yr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(tn.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new oP(c,t,s,o);this.mutationQueue.push(u);for(const d of o)this.Zr=this.Zr.add(new tn(d.key,c)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,t){return le.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),c=o<0?0:o;return le.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?sy:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new tn(t,0),o=new tn(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],u=>{const d=this.Xr(u.Yr);c.push(d)}),le.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Kt(Fe);return t.forEach(o=>{const c=new tn(o,0),u=new tn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],d=>{s=s.add(d.Yr)})}),le.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;Ae.isDocumentKey(c)||(c=c.child(""));const u=new tn(new Ae(c),0);let d=new Kt(Fe);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)},u),le.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){tt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return le.forEach(t.mutations,o=>{const c=new tn(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new tn(t,0),o=this.Zr.firstAfterOrEqual(s);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.ri=e,this.docs=function(){return new _t(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return le.resolve(s?s.document.mutableCopy():En.newInvalidDocument(t))}getEntries(e,t){let s=Mi();return t.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():En.newInvalidDocument(o))}),le.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=Mi();const u=t.path,d=new Ae(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||bO(EO(_),s)<=0||(o.has(_.key)||Jh(t,_))&&(c=c.insert(_.key,_.mutableCopy()))}return le.resolve(c)}getAllFromCollectionGroup(e,t,s,o){Ne(9500)}ii(e,t){return le.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new QP(this)}getSize(e){return le.resolve(this.size)}}class QP extends zP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),le.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.persistence=e,this.si=new za(t=>ly(t),cy),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new gy,this.targetCount=0,this.ai=il.ur()}forEachTarget(e,t){return this.si.forEach((s,o)=>t(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),le.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new il(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Pr(t),le.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.si.forEach((u,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),le.waitFor(c).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return le.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),le.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(u=>{c.push(o.markPotentiallyOrphaned(e,u))}),le.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return le.resolve(s)}containsKey(e,t){return le.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,t){this.ui={},this.overlays={},this.ci=new $h(0),this.li=!1,this.li=!0,this.hi=new GP,this.referenceDelegate=e(this),this.Pi=new $P(this),this.indexManager=new PP,this.remoteDocumentCache=function(o){return new YP(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new DP(t),this.Ii=new HP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new FP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new KP(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ye("MemoryPersistence","Starting transaction:",e);const o=new XP(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(e,t){return le.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class XP extends TO{constructor(e){super(),this.currentSequenceNumber=e}}class yy{constructor(e){this.persistence=e,this.Ri=new gy,this.Vi=null}static mi(e){return new yy(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),le.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,s=>{const o=Ae.fromPath(s);return this.gi(e,o).next(c=>{c||t.removeEntry(o,Oe.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return le.or([()=>le.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ph{constructor(e,t){this.persistence=e,this.pi=new za(s=>xO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=UP(this,t)}static mi(e,t){return new Ph(e,t)}Ei(){}di(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return le.forEach(this.pi,(s,o)=>this.br(e,s,o).next(c=>c?le.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,u=>this.br(e,u,t).next(d=>{d||(s++,c.removeEntry(u,Oe.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fh(e.data.value)),t}br(e,t,s){return le.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return le.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Ge(),o=Ge();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new vy(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return xI()?8:SO(bn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.ys(e,t).next(u=>{c.result=u}).next(()=>{if(!c.result)return this.ws(e,t,o,s).next(u=>{c.result=u})}).next(()=>{if(c.result)return;const u=new WP;return this.Ss(e,t,u).next(d=>{if(c.result=d,this.Vs)return this.bs(e,t,u,d.size)})}).next(()=>c.result)}bs(e,t,s,o){return s.documentReadCount<this.fs?(zo()<=He.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(zo()<=He.DEBUG&&ye("QueryEngine","Query:",Bo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(zo()<=He.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gr(t))):le.resolve())}ys(e,t){if(xb(t))return le.resolve(null);let s=Gr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=vg(t,null,"F"),s=Gr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const u=Ge(...c);return this.ps.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(t,d);return this.Cs(t,g,u,p.readTime)?this.ys(e,vg(t,null,"F")):this.vs(e,g,t,p)}))})))}ws(e,t,s,o){return xb(t)||o.isEqual(Oe.min())?le.resolve(null):this.ps.getDocuments(e,s).next(c=>{const u=this.Ds(t,c);return this.Cs(t,u,s,o)?le.resolve(null):(zo()<=He.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Bo(t)),this.vs(e,u,t,_O(o,Qc)).next(d=>d))})}Ds(e,t){let s=new Kt(TS(e));return t.forEach((o,c)=>{Jh(e,c)&&(s=s.add(c))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,t,s){return zo()<=He.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Bo(t)),this.ps.getDocumentsMatchingQuery(e,t,Cs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(c=>(t.forEach(u=>{c=c.insert(u.key,u)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="LocalStore",JP=3e8;class eM{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new _t(Fe),this.xs=new za(c=>ly(c),cy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function tM(r,e,t,s){return new eM(r,e,t,s)}async function KS(r,e){const t=Pe(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const u=[],d=[];let p=Ge();for(const g of o){u.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of c){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:u,addedBatchIds:d}))})})}function nM(r,e){const t=Pe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,p,g,_){const w=g.batch,T=w.keys();let x=le.resolve();return T.forEach(D=>{x=x.next(()=>_.getEntry(p,D)).next(R=>{const N=g.docVersions.get(D);tt(N!==null,48541),R.version.compareTo(N)<0&&(w.applyToRemoteDocument(R,g),R.isValidDocument()&&(R.setReadTime(g.commitVersion),_.addEntry(R)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(p,w))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Ge();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function YS(r){const e=Pe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function rM(r,e){const t=Pe(r),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach((_,w)=>{const T=o.get(w);if(!T)return;d.push(t.Pi.removeMatchingKeys(c,_.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(c,_.addedDocuments,w)));let x=T.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?x=x.withResumeToken(dn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,s)),o=o.insert(w,x),function(R,N,L){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=JP?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(T,x,_)&&d.push(t.Pi.updateTargetData(c,x))});let p=Mi(),g=Ge();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(c,_))}),d.push(iM(c,u,e.documentUpdates).next(_=>{p=_.ks,g=_.qs})),!s.isEqual(Oe.min())){const _=t.Pi.getLastRemoteSnapshotVersion(c).next(w=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s));d.push(_)}return le.waitFor(d).next(()=>u.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,p,g)).next(()=>p)}).then(c=>(t.Ms=o,c))}function iM(r,e,t){let s=Ge(),o=Ge();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let u=Mi();return t.forEach((d,p)=>{const g=c.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(d,p.readTime),u=u.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(d,p)):ye(_y,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{ks:u,qs:o}})}function sM(r,e){const t=Pe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=sy),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function aM(r,e){const t=Pe(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Pi.getTargetData(s,e).next(c=>c?(o=c,le.resolve(o)):t.Pi.allocateTargetId(s).next(u=>(o=new bs(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function Tg(r,e,t){const s=Pe(r),o=s.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,u=>s.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!ml(u))throw u;ye(_y,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Ub(r,e,t){const s=Pe(r);let o=Oe.min(),c=Ge();return s.persistence.runTransaction("Execute query","readwrite",u=>function(p,g,_){const w=Pe(p),T=w.xs.get(_);return T!==void 0?le.resolve(w.Ms.get(T)):w.Pi.getTargetData(g,_)}(s,u,Gr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,d.targetId).next(p=>{c=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(u,e,t?o:Oe.min(),t?c:Ge())).next(d=>(oM(s,GO(e),d),{documents:d,Qs:c})))}function oM(r,e,t){let s=r.Os.get(e)||Oe.min();t.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Os.set(e,s)}class zb{constructor(){this.activeTargetIds=WO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lM{constructor(){this.Mo=new zb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new zb,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="ConnectivityMonitor";class qb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(Bb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(Bb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf=null;function Sg(){return Zf===null?Zf=function(){return 268435456+Math.round(2147483648*Math.random())}():Zf++,"0x"+Zf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="RestConnection",uM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ch?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,c){const u=Sg(),d=this.zo(e,t.toUriEncodedString());ye(Lp,`Sending RPC '${e}' ${u}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:g}=new URL(d),_=cl(g);return this.Jo(e,d,p,s,_).then(w=>(ye(Lp,`Received RPC '${e}' ${u}: `,w),w),w=>{throw el(Lp,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",s),w})}Ho(e,t,s,o,c,u){return this.Go(e,t,s,o,c)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}zo(e,t){const s=uM[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class dM extends fM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,c){const u=Sg();return new Promise((d,p)=>{const g=new XT;g.setWithCredentials(!0),g.listenOnce(WT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case uh.NO_ERROR:const w=g.getResponseJson();ye(vn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case uh.TIMEOUT:ye(vn,`RPC '${e}' ${u} timed out`),p(new ge(se.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const T=g.getStatus();if(ye(vn,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const D=x==null?void 0:x.error;if(D&&D.status&&D.message){const R=function(L){const B=L.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(B)>=0?B:se.UNKNOWN}(D.status);p(new ge(R,D.message))}else p(new ge(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ge(se.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(vn,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(o);ye(vn,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",_,s,15)})}T_(e,t,s){const o=Sg(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=eS(),d=JT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=c.join("");ye(vn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const w=u.createWebChannel(_,p);this.I_(w);let T=!1,x=!1;const D=new hM({Yo:N=>{x?ye(vn,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(T||(ye(vn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),ye(vn,`RPC '${e}' stream ${o} sending:`,N),w.send(N))},Zo:()=>w.close()}),R=(N,L,B)=>{N.listen(L,H=>{try{B(H)}catch(Z){setTimeout(()=>{throw Z},0)}})};return R(w,Pc.EventType.OPEN,()=>{x||(ye(vn,`RPC '${e}' stream ${o} transport opened.`),D.o_())}),R(w,Pc.EventType.CLOSE,()=>{x||(x=!0,ye(vn,`RPC '${e}' stream ${o} transport closed`),D.a_(),this.E_(w))}),R(w,Pc.EventType.ERROR,N=>{x||(x=!0,el(vn,`RPC '${e}' stream ${o} transport errored. Name:`,N.name,"Message:",N.message),D.a_(new ge(se.UNAVAILABLE,"The operation could not be completed")))}),R(w,Pc.EventType.MESSAGE,N=>{var L;if(!x){const B=N.data[0];tt(!!B,16349);const H=B,Z=(H==null?void 0:H.error)||((L=H[0])==null?void 0:L.error);if(Z){ye(vn,`RPC '${e}' stream ${o} received error:`,Z);const ee=Z.status;let ce=function(O){const j=Mt[O];if(j!==void 0)return MS(j)}(ee),P=Z.message;ce===void 0&&(ce=se.INTERNAL,P="Unknown error status: "+ee+" with message "+Z.message),x=!0,D.a_(new ge(ce,P)),w.close()}else ye(vn,`RPC '${e}' stream ${o} received:`,B),D.u_(B)}}),R(d,ZT.STAT_EVENT,N=>{N.stat===fg.PROXY?ye(vn,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===fg.NOPROXY&&ye(vn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.__()},0),D}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(r){return new yP(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="PersistentStream";class $S{constructor(e,t,s,o,c,u,d,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Pi(t.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===t&&this.G_(s,o)},s=>{e(()=>{const o=new ge(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(Hb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ye(Hb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mM extends $S{constructor(e,t,s,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,u),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=EP(this.serializer,e),s=function(c){if(!("targetChange"in c))return Oe.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?Kr(u.readTime):Oe.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=wg(this.serializer),t.addTarget=function(c,u){let d;const p=u.target;if(d=gg(p)?{documents:TP(c,p)}:{query:SP(c,p).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=jS(c,u.resumeToken);const g=_g(c,u.expectedCount);g!==null&&(d.expectedCount=g)}else if(u.snapshotVersion.compareTo(Oe.min())>0){d.readTime=Oh(c,u.snapshotVersion.toTimestamp());const g=_g(c,u.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=xP(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=wg(this.serializer),t.removeTarget=e,this.q_(t)}}class pM extends $S{constructor(e,t,s,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=wP(e.writeResults,e.commitTime),s=Kr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=wg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>bP(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{}class yM extends gM{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.Go(e,Eg(t,s),o,c,u)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(se.UNKNOWN,c.toString())})}Ho(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Ho(e,Eg(t,s),o,u,d,c)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(se.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class vM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="RemoteStore";class _M{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(u=>{s.enqueueAndForget(async()=>{Ba(this)&&(ye(ka,"Restarting streams for network reachability change."),await async function(p){const g=Pe(p);g.Ea.add(4),await pu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await id(g)}(this))})}),this.Ra=new vM(s,o)}}async function id(r){if(Ba(r))for(const e of r.da)await e(!0)}async function pu(r){for(const e of r.da)await e(!1)}function XS(r,e){const t=Pe(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ty(t)?wy(t):gl(t).O_()&&by(t,e))}function Ey(r,e){const t=Pe(r),s=gl(t);t.Ia.delete(e),s.O_()&&WS(t,e),t.Ia.size===0&&(s.O_()?s.L_():Ba(t)&&t.Ra.set("Unknown"))}function by(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}gl(r).Y_(e)}function WS(r,e){r.Va.Ue(e),gl(r).Z_(e)}function wy(r){r.Va=new dP({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),gl(r).start(),r.Ra.ua()}function Ty(r){return Ba(r)&&!gl(r).x_()&&r.Ia.size>0}function Ba(r){return Pe(r).Ea.size===0}function ZS(r){r.Va=void 0}async function EM(r){r.Ra.set("Online")}async function bM(r){r.Ia.forEach((e,t)=>{by(r,e)})}async function wM(r,e){ZS(r),Ty(r)?(r.Ra.ha(e),wy(r)):r.Ra.set("Unknown")}async function TM(r,e,t){if(r.Ra.set("Online"),e instanceof VS&&e.state===2&&e.cause)try{await async function(o,c){const u=c.cause;for(const d of c.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ia.delete(d),o.Va.removeTarget(d))}(r,e)}catch(s){ye(ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Mh(r,s)}else if(e instanceof mh?r.Va.Ze(e):e instanceof kS?r.Va.st(e):r.Va.tt(e),!t.isEqual(Oe.min()))try{const s=await YS(r.localStore);t.compareTo(s)>=0&&await function(c,u){const d=c.Va.Tt(u);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=c.Ia.get(g);_&&c.Ia.set(g,_.withResumeToken(p.resumeToken,u))}}),d.targetMismatches.forEach((p,g)=>{const _=c.Ia.get(p);if(!_)return;c.Ia.set(p,_.withResumeToken(dn.EMPTY_BYTE_STRING,_.snapshotVersion)),WS(c,p);const w=new bs(_.target,p,g,_.sequenceNumber);by(c,w)}),c.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){ye(ka,"Failed to raise snapshot:",s),await Mh(r,s)}}async function Mh(r,e,t){if(!ml(e))throw e;r.Ea.add(1),await pu(r),r.Ra.set("Offline"),t||(t=()=>YS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ye(ka,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await id(r)})}function JS(r,e){return e().catch(t=>Mh(r,t,e))}async function sd(r){const e=Pe(r),t=Os(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sy;for(;SM(e);)try{const o=await sM(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,AM(e,o)}catch(o){await Mh(e,o)}eA(e)&&tA(e)}function SM(r){return Ba(r)&&r.Ta.length<10}function AM(r,e){r.Ta.push(e);const t=Os(r);t.O_()&&t.X_&&t.ea(e.mutations)}function eA(r){return Ba(r)&&!Os(r).x_()&&r.Ta.length>0}function tA(r){Os(r).start()}async function xM(r){Os(r).ra()}async function RM(r){const e=Os(r);for(const t of r.Ta)e.ea(t.mutations)}async function CM(r,e,t){const s=r.Ta.shift(),o=dy.from(s,e,t);await JS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await sd(r)}async function IM(r,e){e&&Os(r).X_&&await async function(s,o){if(function(u){return uP(u)&&u!==se.ABORTED}(o.code)){const c=s.Ta.shift();Os(s).B_(),await JS(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await sd(s)}}(r,e),eA(r)&&tA(r)}async function Fb(r,e){const t=Pe(r);t.asyncQueue.verifyOperationInProgress(),ye(ka,"RemoteStore received new credentials");const s=Ba(t);t.Ea.add(3),await pu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await id(t)}async function NM(r,e){const t=Pe(r);e?(t.Ea.delete(2),await id(t)):e||(t.Ea.add(2),await pu(t),t.Ra.set("Unknown"))}function gl(r){return r.ma||(r.ma=function(t,s,o){const c=Pe(t);return c.sa(),new mM(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Xo:EM.bind(null,r),t_:bM.bind(null,r),r_:wM.bind(null,r),H_:TM.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),Ty(r)?wy(r):r.Ra.set("Unknown")):(await r.ma.stop(),ZS(r))})),r.ma}function Os(r){return r.fa||(r.fa=function(t,s,o){const c=Pe(t);return c.sa(),new pM(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:xM.bind(null,r),r_:IM.bind(null,r),ta:RM.bind(null,r),na:CM.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await sd(r)):(await r.fa.stop(),r.Ta.length>0&&(ye(ka,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const u=Date.now()+s,d=new Sy(e,t,u,o,c);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ay(r,e){if(Pi("AsyncQueue",`${e}: ${r}`),ml(r))return new ge(se.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{static emptySet(e){return new $o(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ae.comparator(t.key,s.key):(t,s)=>Ae.comparator(t.key,s.key),this.keyedMap=Mc(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $o)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new $o;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.ga=new _t(Ae.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class sl{constructor(e,t,s,o,c,u,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,c){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new sl(e,t,$o.emptySet(t),u,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class OM{constructor(){this.queries=Kb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Pe(t),c=o.queries;o.queries=Kb(),c.forEach((u,d)=>{for(const p of d.Sa)p.onError(s)})})(this,new ge(se.ABORTED,"Firestore shutting down"))}}function Kb(){return new za(r=>wS(r),Zh)}async function nA(r,e){const t=Pe(r);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new DM,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=Ay(u,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&xy(t)}async function rA(r,e){const t=Pe(r),s=e.query;let o=3;const c=t.queries.get(s);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function PM(r,e){const t=Pe(r);let s=!1;for(const o of e){const c=o.query,u=t.queries.get(c);if(u){for(const d of u.Sa)d.Fa(o)&&(s=!0);u.wa=o}}s&&xy(t)}function MM(r,e,t){const s=Pe(r),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(t);s.queries.delete(e)}function xy(r){r.Ca.forEach(e=>{e.next()})}var Ag,Yb;(Yb=Ag||(Ag={})).Ma="default",Yb.Cache="cache";class iA{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new sl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.key=e}}class aA{constructor(e){this.key=e}}class kM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=TS(e),this.tu=new $o(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Gb,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const T=o.get(_),x=Jh(this.query,w)?w:null,D=!!T&&this.mutatedKeys.has(T.key),R=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let N=!1;T&&x?T.data.isEqual(x.data)?D!==R&&(s.track({type:3,doc:x}),N=!0):this.su(T,x)||(s.track({type:2,doc:x}),N=!0,(p&&this.eu(x,p)>0||g&&this.eu(x,g)<0)&&(d=!0)):!T&&x?(s.track({type:0,doc:x}),N=!0):T&&!x&&(s.track({type:1,doc:T}),N=!0,(p||g)&&(d=!0)),N&&(x?(u=u.add(x),c=R?c.add(_):c.delete(_)):(u=u.delete(_),c=c.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),c=c.delete(_.key),s.track({type:1,doc:_})}return{tu:u,iu:s,Cs:d,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((_,w)=>function(x,D){const R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:N})}};return R(x)-R(D)}(_.type,w.type)||this.eu(_.doc,w.doc)),this.ou(s),o=o??!1;const d=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new sl(this.query,e.tu,c,u,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Gb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new aA(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new sA(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ge();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ry="SyncEngine";class VM{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class jM{constructor(e){this.key=e,this.hu=!1}}class LM{constructor(e,t,s,o,c,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new za(d=>wS(d),Zh),this.Iu=new Map,this.Eu=new Set,this.du=new _t(Ae.comparator),this.Au=new Map,this.Ru=new gy,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UM(r,e,t=!0){const s=hA(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await oA(s,e,t,!0),o}async function zM(r,e){const t=hA(r);await oA(t,e,!0,!1)}async function oA(r,e,t,s){const o=await aM(r.localStore,Gr(e)),c=o.targetId,u=r.sharedClientState.addLocalQueryTarget(c,t);let d;return s&&(d=await BM(r,e,c,u==="current",o.resumeToken)),r.isPrimaryClient&&t&&XS(r.remoteStore,o),d}async function BM(r,e,t,s,o){r.pu=(w,T,x)=>async function(R,N,L,B){let H=N.view.ru(L);H.Cs&&(H=await Ub(R.localStore,N.query,!1).then(({documents:P})=>N.view.ru(P,H)));const Z=B&&B.targetChanges.get(N.targetId),ee=B&&B.targetMismatches.get(N.targetId)!=null,ce=N.view.applyChanges(H,R.isPrimaryClient,Z,ee);return $b(R,N.targetId,ce.au),ce.snapshot}(r,w,T,x);const c=await Ub(r.localStore,e,!0),u=new kM(e,c.Qs),d=u.ru(c.documents),p=mu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=u.applyChanges(d,r.isPrimaryClient,p);$b(r,t,g.au);const _=new VM(e,t,u);return r.Tu.set(e,_),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function qM(r,e,t){const s=Pe(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter(u=>!Zh(u,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Tg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Ey(s.remoteStore,o.targetId),xg(s,o.targetId)}).catch(dl)):(xg(s,o.targetId),await Tg(s.localStore,o.targetId,!0))}async function HM(r,e){const t=Pe(r),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Ey(t.remoteStore,s.targetId))}async function FM(r,e,t){const s=WM(r);try{const o=await function(u,d){const p=Pe(u),g=mt.now(),_=d.reduce((x,D)=>x.add(D.key),Ge());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let D=Mi(),R=Ge();return p.Ns.getEntries(x,_).next(N=>{D=N,D.forEach((L,B)=>{B.isValidDocument()||(R=R.add(L))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,D)).next(N=>{w=N;const L=[];for(const B of d){const H=sP(B,w.get(B.key).overlayedDocument);H!=null&&L.push(new zs(B.key,H,mS(H.value.mapValue),_r.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,L,d)}).next(N=>{T=N;const L=N.applyToLocalDocumentSet(w,R);return p.documentOverlayCache.saveOverlays(x,N.batchId,L)})}).then(()=>({batchId:T.batchId,changes:AS(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(u,d,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new _t(Fe)),g=g.insert(d,p),u.Vu[u.currentUser.toKey()]=g}(s,o.batchId,t),await gu(s,o.changes),await sd(s.remoteStore)}catch(o){const c=Ay(o,"Failed to persist write");t.reject(c)}}async function lA(r,e){const t=Pe(r);try{const s=await rM(t.localStore,e);e.targetChanges.forEach((o,c)=>{const u=t.Au.get(c);u&&(tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?tt(u.hu,14607):o.removedDocuments.size>0&&(tt(u.hu,42227),u.hu=!1))}),await gu(t,s,e)}catch(s){await dl(s)}}function Qb(r,e,t){const s=Pe(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach((c,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const p=Pe(u);p.onlineState=d;let g=!1;p.queries.forEach((_,w)=>{for(const T of w.Sa)T.va(d)&&(g=!0)}),g&&xy(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function GM(r,e,t){const s=Pe(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let u=new _t(Ae.comparator);u=u.insert(c,En.newNoDocument(c,Oe.min()));const d=Ge().add(c),p=new nd(Oe.min(),new Map,new _t(Fe),u,d);await lA(s,p),s.du=s.du.remove(c),s.Au.delete(e),Cy(s)}else await Tg(s.localStore,e,!1).then(()=>xg(s,e,t)).catch(dl)}async function KM(r,e){const t=Pe(r),s=e.batch.batchId;try{const o=await nM(t.localStore,e);uA(t,s,null),cA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await gu(t,o)}catch(o){await dl(o)}}async function YM(r,e,t){const s=Pe(r);try{const o=await function(u,d){const p=Pe(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next(w=>(tt(w!==null,37113),_=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);uA(s,e,t),cA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await gu(s,o)}catch(o){await dl(o)}}function cA(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function uA(r,e,t){const s=Pe(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function xg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||fA(r,s)})}function fA(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Ey(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Cy(r))}function $b(r,e,t){for(const s of t)s instanceof sA?(r.Ru.addReference(s.key,e),QM(r,s)):s instanceof aA?(ye(Ry,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||fA(r,s.key)):Ne(19791,{wu:s})}function QM(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Eu.has(s)||(ye(Ry,"New document in limbo: "+t),r.Eu.add(s),Cy(r))}function Cy(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Ae(dt.fromString(e)),s=r.fu.next();r.Au.set(s,new jM(t)),r.du=r.du.insert(t,s),XS(r.remoteStore,new bs(Gr(uy(t.path)),s,"TargetPurposeLimboResolution",$h.ce))}}async function gu(r,e,t){const s=Pe(r),o=[],c=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach((d,p)=>{u.push(s.pu(p,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const w=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=vy.As(p.targetId,g);c.push(w)}}))}),await Promise.all(u),s.Pu.H_(o),await async function(p,g){const _=Pe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>le.forEach(g,T=>le.forEach(T.Es,x=>_.persistence.referenceDelegate.addReference(w,T.targetId,x)).next(()=>le.forEach(T.ds,x=>_.persistence.referenceDelegate.removeReference(w,T.targetId,x)))))}catch(w){if(!ml(w))throw w;ye(_y,"Failed to update sequence numbers: "+w)}for(const w of g){const T=w.targetId;if(!w.fromCache){const x=_.Ms.get(T),D=x.snapshotVersion,R=x.withLastLimboFreeSnapshotVersion(D);_.Ms=_.Ms.insert(T,R)}}}(s.localStore,c))}async function $M(r,e){const t=Pe(r);if(!t.currentUser.isEqual(e)){ye(Ry,"User change. New user:",e.toKey());const s=await KS(t.localStore,e);t.currentUser=e,function(c,u){c.mu.forEach(d=>{d.forEach(p=>{p.reject(new ge(se.CANCELLED,u))})}),c.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gu(t,s.Ls)}}function XM(r,e){const t=Pe(r),s=t.Au.get(e);if(s&&s.hu)return Ge().add(s.key);{let o=Ge();const c=t.Iu.get(e);if(!c)return o;for(const u of c){const d=t.Tu.get(u);o=o.unionWith(d.view.nu)}return o}}function hA(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=lA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GM.bind(null,e),e.Pu.H_=PM.bind(null,e.eventManager),e.Pu.yu=MM.bind(null,e.eventManager),e}function WM(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YM.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return tM(this.persistence,new ZP,e.initialUser,this.serializer)}Cu(e){return new GS(yy.mi,this.serializer)}Du(e){return new lM}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class ZM extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){tt(this.persistence.referenceDelegate instanceof Ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new jP(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new GS(s=>Ph.mi(s,t),this.serializer)}}class Rg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Qb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$M.bind(null,this.syncEngine),await NM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new OM}()}createDatastore(e){const t=rd(e.databaseInfo.databaseId),s=function(c){return new dM(c)}(e.databaseInfo);return function(c,u,d,p){return new yM(c,u,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,c,u,d){return new _M(s,o,c,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Qb(this.syncEngine,t,0),function(){return qb.v()?new qb:new cM}())}createSyncEngine(e,t){return function(o,c,u,d,p,g,_){const w=new LM(o,c,u,d,p,g);return _&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const c=Pe(o);ye(ka,"RemoteStore shutting down."),c.Ea.add(5),await pu(c),c.Aa.shutdown(),c.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Rg.provider={build:()=>new Rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class JM{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=_n.UNAUTHENTICATED,this.clientId=iy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async u=>{ye(Ps,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(s,u=>(ye(Ps,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Ay(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function zp(r,e){r.asyncQueue.verifyOperationInProgress(),ye(Ps,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await KS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Xb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await ek(r);ye(Ps,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>Fb(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Fb(e.remoteStore,o)),r._onlineComponents=e}async function ek(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye(Ps,"Using user provided OfflineComponentProvider");try{await zp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;el("Error using user provided cache. Falling back to memory cache: "+t),await zp(r,new kh)}}else ye(Ps,"Using default OfflineComponentProvider"),await zp(r,new ZM(void 0));return r._offlineComponents}async function mA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye(Ps,"Using user provided OnlineComponentProvider"),await Xb(r,r._uninitializedComponentsProvider._online)):(ye(Ps,"Using default OnlineComponentProvider"),await Xb(r,new Rg))),r._onlineComponents}function tk(r){return mA(r).then(e=>e.syncEngine)}async function Cg(r){const e=await mA(r),t=e.eventManager;return t.onListen=UM.bind(null,e.syncEngine),t.onUnlisten=qM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=zM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=HM.bind(null,e.syncEngine),t}function nk(r,e,t={}){const s=new xs;return r.asyncQueue.enqueueAndForget(async()=>function(c,u,d,p,g){const _=new dA({next:T=>{_.Nu(),u.enqueueAndForget(()=>rA(c,w)),T.fromCache&&p.source==="server"?g.reject(new ge(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new iA(d,_,{includeMetadataChanges:!0,qa:!0});return nA(c,w)}(await Cg(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="firestore.googleapis.com",Zb=!0;class Jb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gA,this.ssl=Zb}else this.host=e.host,this.ssl=e.ssl??Zb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kP)throw new ge(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pA(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ad{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new lO;switch(s.type){case"firstParty":return new hO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Wb.get(t);s&&(ye("ComponentProvider","Removing Datastore"),Wb.delete(t),s.terminate())}(this),Promise.resolve()}}function rk(r,e,t,s={}){var g;r=Fr(r,ad);const o=cl(e),c=r._getSettings(),u={...c,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;o&&(lT(`https://${d}`),cT("Firestore",!0)),c.host!==gA&&c.host!==d&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:d,ssl:o,emulatorOptions:s};if(!Na(p,u)&&(r._setSettings(p),s.mockUserToken)){let _,w;if(typeof s.mockUserToken=="string")_=s.mockUserToken,w=_n.MOCK_USER;else{_=yI(s.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ge(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new _n(T)}r._authCredentials=new cO(new nS(_,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Bs(this.firestore,e,this._query)}}class Ut{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(hu(t,Ut._jsonSchema))return new Ut(e,s||null,new Ae(dt.fromString(t.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Lt("string",Ut._jsonSchemaVersion),referencePath:Lt("string")};class Rs extends Bs{constructor(e,t,s){super(e,t,uy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new Ae(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function ys(r,e,...t){if(r=sn(r),rS("collection","path",e),r instanceof ad){const s=dt.fromString(e,...t);return hb(s),new Rs(r,null,s)}{if(!(r instanceof Ut||r instanceof Rs))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(dt.fromString(e,...t));return hb(s),new Rs(r.firestore,null,s)}}function Vh(r,e,...t){if(r=sn(r),arguments.length===1&&(e=iy.newId()),rS("doc","path",e),r instanceof ad){const s=dt.fromString(e,...t);return fb(s),new Ut(r,null,new Ae(s))}{if(!(r instanceof Ut||r instanceof Rs))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(dt.fromString(e,...t));return fb(s),new Ut(r.firestore,r instanceof Rs?r.converter:null,new Ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="AsyncQueue";class tw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QS(this,"async_queue_retry"),this._c=()=>{const s=Up();s&&ye(ew,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Up();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Up();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new xs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ml(e))throw e;ye(ew,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",nw(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Sy.createAndSchedule(this,e,t,s,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&Ne(47125,{Pc:nw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function nw(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Va extends ad{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new tw,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tw(e),this._firestoreClient=void 0,await e}}}function ik(r,e){const t=typeof r=="object"?r:dT(),s=typeof r=="string"?r:Ch,o=Kg(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=pI("firestore");c&&rk(o,...c)}return o}function Iy(r){if(r._terminated)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||sk(r),r._firestoreClient}function sk(r){var s,o,c;const e=r._freezeSettings(),t=function(d,p,g,_){return new IO(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,pA(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new JM(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rr(dn.fromBase64String(e))}catch(t){throw new ge(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new rr(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:rr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,rr._jsonSchema))return rr.fromBase64String(e.bytes)}}rr._jsonSchemaVersion="firestore/bytes/1.0",rr._jsonSchema={type:Lt("string",rr._jsonSchemaVersion),bytes:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yr._jsonSchemaVersion}}static fromJSON(e){if(hu(e,Yr._jsonSchema))return new Yr(e.latitude,e.longitude)}}Yr._jsonSchemaVersion="firestore/geoPoint/1.0",Yr._jsonSchema={type:Lt("string",Yr._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,Qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Qr(e.vectorValues);throw new ge(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qr._jsonSchemaVersion="firestore/vectorValue/1.0",Qr._jsonSchema={type:Lt("string",Qr._jsonSchemaVersion),vectorValues:Lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=/^__.*__$/;class ok{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new du(e,this.data,t,this.fieldTransforms)}}class yA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new zs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:r})}}class Ny{constructor(e,t,s,o,c,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ny({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vA(this.Ac)&&ak.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lk{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||rd(e)}Cc(e,t,s,o=!1){return new Ny({Ac:e,methodName:t,Dc:s,path:hn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dy(r){const e=r._freezeSettings(),t=rd(r._databaseId);return new lk(r._databaseId,!!e.ignoreUndefinedProperties,t)}function ck(r,e,t,s,o,c={}){const u=r.Cc(c.merge||c.mergeFields?2:0,e,t,o);Py("Data must be an object, but it was:",u,s);const d=_A(s,u);let p,g;if(c.merge)p=new Hn(u.fieldMask),g=u.fieldTransforms;else if(c.mergeFields){const _=[];for(const w of c.mergeFields){const T=Ig(e,w,t);if(!u.contains(T))throw new ge(se.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);bA(_,T)||_.push(T)}p=new Hn(_),g=u.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=u.fieldTransforms;return new ok(new Dn(d),p,g)}class cd extends ld{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cd}}class Oy extends ld{_toFieldTransform(e){return new tP(e.path,new Jc)}isEqual(e){return e instanceof Oy}}function uk(r,e,t,s){const o=r.Cc(1,e,t);Py("Data must be an object, but it was:",o,s);const c=[],u=Dn.empty();Us(s,(p,g)=>{const _=My(e,p,t);g=sn(g);const w=o.yc(_);if(g instanceof cd)c.push(_);else{const T=yu(g,w);T!=null&&(c.push(_),u.set(_,T))}});const d=new Hn(c);return new yA(u,d,o.fieldTransforms)}function fk(r,e,t,s,o,c){const u=r.Cc(1,e,t),d=[Ig(e,s,t)],p=[o];if(c.length%2!=0)throw new ge(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<c.length;T+=2)d.push(Ig(e,c[T])),p.push(c[T+1]);const g=[],_=Dn.empty();for(let T=d.length-1;T>=0;--T)if(!bA(g,d[T])){const x=d[T];let D=p[T];D=sn(D);const R=u.yc(x);if(D instanceof cd)g.push(x);else{const N=yu(D,R);N!=null&&(g.push(x),_.set(x,N))}}const w=new Hn(g);return new yA(_,w,u.fieldTransforms)}function hk(r,e,t,s=!1){return yu(t,r.Cc(s?4:3,e))}function yu(r,e){if(EA(r=sn(r)))return Py("Unsupported field value:",e,r),_A(r,e);if(r instanceof ld)return function(s,o){if(!vA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const c=[];let u=0;for(const d of s){let p=yu(d,o.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),u++}return{arrayValue:{values:c}}}(r,e)}return function(s,o){if((s=sn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ZO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=mt.fromDate(s);return{timestampValue:Oh(o.serializer,c)}}if(s instanceof mt){const c=new mt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Oh(o.serializer,c)}}if(s instanceof Yr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof rr)return{bytesValue:jS(o.serializer,s._byteString)};if(s instanceof Ut){const c=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:py(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Qr)return function(u,d){return{mapValue:{fields:{[hS]:{stringValue:dS},[Ih]:{arrayValue:{values:u.toArray().map(g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return fy(d.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Qh(s)}`)}(r,e)}function _A(r,e){const t={};return aS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Us(r,(s,o)=>{const c=yu(o,e.mc(s));c!=null&&(t[s]=c)}),{mapValue:{fields:t}}}function EA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof mt||r instanceof Yr||r instanceof rr||r instanceof Ut||r instanceof ld||r instanceof Qr)}function Py(r,e,t){if(!EA(t)||!iS(t)){const s=Qh(t);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Ig(r,e,t){if((e=sn(e))instanceof od)return e._internalPath;if(typeof e=="string")return My(r,e);throw jh("Field path arguments must be of type string or ",r,!1,void 0,t)}const dk=new RegExp("[~\\*/\\[\\]]");function My(r,e,t){if(e.search(dk)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new od(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function jh(r,e,t,s,o){const c=s&&!s.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(c||u)&&(p+=" (found",c&&(p+=` in field ${s}`),u&&(p+=` in document ${o}`),p+=")"),new ge(se.INVALID_ARGUMENT,d+r+p)}function bA(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ud("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mk extends wA{data(){return super.data()}}function ud(r,e){return typeof e=="string"?My(r,e):e instanceof od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ky{}class SA extends ky{}function Fo(r,e,...t){let s=[];e instanceof ky&&s.push(e),s=s.concat(t),function(c){const u=c.filter(p=>p instanceof Vy).length,d=c.filter(p=>p instanceof fd).length;if(u>1||u>0&&d>0)throw new ge(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class fd extends SA{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new fd(e,t,s)}_apply(e){const t=this._parse(e);return AA(e._query,t),new Bs(e.firestore,e.converter,yg(e._query,t))}_parse(e){const t=Dy(e.firestore);return function(c,u,d,p,g,_,w){let T;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ge(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){sw(w,_);const D=[];for(const R of w)D.push(iw(p,c,R));T={arrayValue:{values:D}}}else T=iw(p,c,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||sw(w,_),T=hk(d,u,w,_==="in"||_==="not-in");return jt.create(g,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Go(r,e,t){const s=e,o=ud("where",r);return fd._create(o,s,t)}class Vy extends ky{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vy(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,c){let u=o;const d=c.getFlattenedFilters();for(const p of d)AA(u,p),u=yg(u,p)}(e._query,t),new Bs(e.firestore,e.converter,yg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jy extends SA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jy(e,t)}_apply(e){const t=function(o,c,u){if(o.startAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zc(c,u)}(e._query,this._field,this._direction);return new Bs(e.firestore,e.converter,function(o,c){const u=o.explicitOrderBy.concat([c]);return new pl(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Nc(r,e="asc"){const t=e,s=ud("orderBy",r);return jy._create(s,t)}function iw(r,e,t){if(typeof(t=sn(t))=="string"){if(t==="")throw new ge(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bS(e)&&t.indexOf("/")!==-1)throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(dt.fromString(t));if(!Ae.isDocumentKey(s))throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Eb(r,new Ae(s))}if(t instanceof Ut)return Eb(r,t._key);throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(t)}.`)}function sw(r,e){if(!Array.isArray(r)||r.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AA(r,e){const t=function(o,c){for(const u of o)for(const d of u.getFlattenedFilters())if(c.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class pk{convertValue(e,t="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Us(e,(o,c)=>{s[o]=this.convertValue(c,t)}),s}convertVectorValue(e){var s,o,c;const t=(c=(o=(s=e.fields)==null?void 0:s[Ih].arrayValue)==null?void 0:o.values)==null?void 0:c.map(u=>It(u.doubleValue));return new Qr(t)}convertGeoPoint(e){return new Yr(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Wh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp($c(e));default:return null}}convertTimestamp(e){const t=Is(e);return new mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=dt.fromString(e);tt(HS(s),9688,{name:e});const o=new Xc(s.get(1),s.get(3)),c=new Ae(s.popFirst(5));return o.isEqual(t)||Pi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class Vc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ca extends wA{constructor(e,t,s,o,c,u){super(e,t,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(ud("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ca._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ca._jsonSchema={type:Lt("string",Ca._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class ph extends Ca{data(e={}){return super.data(e)}}class Ia{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Vc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new ph(this._firestore,this._userDataWriter,s.key,s,new Vc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>{const p=new ph(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Vc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>c||d.type!==3).map(d=>{const p=new ph(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Vc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),_=u.indexOf(d.doc.key)),{type:yk(d.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ia._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=iy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:r})}}Ia._jsonSchemaVersion="firestore/querySnapshot/1.0",Ia._jsonSchema={type:Lt("string",Ia._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Ly extends pk{constructor(e){super(),this.firestore=e}convertBytes(e){return new rr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,t)}}function Ng(r){r=Fr(r,Bs);const e=Fr(r.firestore,Va),t=Iy(e),s=new Ly(e);return TA(r._query),nk(t,r._query).then(o=>new Ia(e,s,r,o))}function xA(r,e,t,...s){r=Fr(r,Ut);const o=Fr(r.firestore,Va),c=Dy(o);let u;return u=typeof(e=sn(e))=="string"||e instanceof od?fk(c,"updateDoc",r._key,e,t,s):uk(c,"updateDoc",r._key,e),Uy(o,[u.toMutation(r._key,_r.exists(!0))])}function vk(r){return Uy(Fr(r.firestore,Va),[new hy(r._key,_r.none())])}function RA(r,e){const t=Fr(r.firestore,Va),s=Vh(r),o=gk(r.converter,e);return Uy(t,[ck(Dy(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,_r.exists(!1))]).then(()=>s)}function Bp(r,...e){var p,g,_;r=sn(r);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||rw(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(rw(e[s])){const w=e[s];e[s]=(p=w.next)==null?void 0:p.bind(w),e[s+1]=(g=w.error)==null?void 0:g.bind(w),e[s+2]=(_=w.complete)==null?void 0:_.bind(w)}let c,u,d;if(r instanceof Ut)u=Fr(r.firestore,Va),d=uy(r._key.path),c={next:w=>{e[s]&&e[s](_k(u,r,w))},error:e[s+1],complete:e[s+2]};else{const w=Fr(r,Bs);u=Fr(w.firestore,Va),d=w._query;const T=new Ly(u);c={next:x=>{e[s]&&e[s](new Ia(u,T,w,x))},error:e[s+1],complete:e[s+2]},TA(r._query)}return function(T,x,D,R){const N=new dA(R),L=new iA(x,N,D);return T.asyncQueue.enqueueAndForget(async()=>nA(await Cg(T),L)),()=>{N.Nu(),T.asyncQueue.enqueueAndForget(async()=>rA(await Cg(T),L))}}(Iy(u),d,o,c)}function Uy(r,e){return function(s,o){const c=new xs;return s.asyncQueue.enqueueAndForget(async()=>FM(await tk(s),o,c)),c.promise}(Iy(r),e)}function _k(r,e,t){const s=t.docs.get(e._key),o=new Ly(r);return new Ca(r,o,e._key,s,new Vc(t.hasPendingWrites,t.fromCache),e.converter)}function Fc(){return new Oy("serverTimestamp")}(function(e,t=!0){(function(o){hl=o})(ul),Zo(new Da("firestore",(s,{instanceIdentifier:o,options:c})=>{const u=s.getProvider("app").getImmediate(),d=new Va(new uO(s.getProvider("auth-internal")),new dO(u,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xc(g.options.projectId,_)}(u,o),u);return c={useFetchStreams:t,...c},d._setSettings(c),d},"PUBLIC").setMultipleInstances(!0)),Ss(ob,lb,e),Ss(ob,lb,"esm2020")})();const Ek={apiKey:"AIzaSyAmqQtTgvPSSzTGvO3kxhGcF7rqlZl4_L0",authDomain:"uber-rio-pardo.firebaseapp.com",projectId:"uber-rio-pardo",storageBucket:"uber-rio-pardo.firebasestorage.app",messagingSenderId:"128009984359",appId:"1:128009984359:web:ed2c6eee709ec47431f7c2",measurementId:"G-GGGEL6398M"},CA=hT(Ek),zy=iO(CA),dr=ik(CA);function bk({onBack:r,onLogin:e,onRegister:t}){const[s,o]=I.useState(!1),[c,u]=I.useState(""),d=async()=>{o(!0),u("");try{const p=new Ai,_=(await dD(zy,p)).user,w={id:_.uid,name:_.displayName,email:_.email,phone:"",photoURL:_.photoURL,provider:"google",type:"user",createdAt:new Date().toISOString()},T=JSON.parse(localStorage.getItem("users")||"[]"),x=T.findIndex(D=>D.id===w.id);x>=0?T[x]={...T[x],...w}:T.push(w),localStorage.setItem("users",JSON.stringify(T)),localStorage.setItem("currentUser",JSON.stringify(w)),e(w)}catch(p){console.error("Erro no login:",p),u("Erro ao fazer login com Google. Tente novamente.")}finally{o(!1)}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-md",children:[v.jsxs(Vt,{variant:"ghost",onClick:r,className:"mb-4",children:[v.jsx(Hh,{className:"w-4 h-4 mr-2"}),"Voltar"]}),v.jsxs(Tt,{children:[v.jsxs(nn,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(su,{className:"w-8 h-8 text-blue-600"})}),v.jsx(rn,{className:"text-2xl",children:"Login do Passageiro"}),v.jsx(Ni,{children:"Entre com sua conta Google para solicitar corridas"})]}),v.jsxs(kt,{className:"space-y-4",children:[c&&v.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:v.jsx("p",{className:"text-sm text-red-700",children:c})}),v.jsx(Vt,{onClick:d,disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",size:"lg",children:s?v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),v.jsx("span",{children:"Entrando..."})]}):v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[v.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),v.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),v.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),v.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),v.jsx("span",{children:"Entrar com Google"})]})}),v.jsx("div",{className:"text-center",children:v.jsx("p",{className:"text-sm text-gray-600",children:"Ao continuar, você concorda com nossos termos de uso"})})]})]})]})})}function Ct({className:r,type:e,...t}){return v.jsx("input",{type:e,"data-slot":"input",className:Yt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...t})}var vu=kw();const wk=Pw(vu);var Tk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nt=Tk.reduce((r,e)=>{const t=Gc(`Primitive.${e}`),s=I.forwardRef((o,c)=>{const{asChild:u,...d}=o,p=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(p,{...d,ref:c})});return s.displayName=`Primitive.${e}`,{...r,[e]:s}},{});function Sk(r,e){r&&vu.flushSync(()=>r.dispatchEvent(e))}var Ak="Label",IA=I.forwardRef((r,e)=>v.jsx(nt.label,{...r,ref:e,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=r.onMouseDown)==null||o.call(r,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));IA.displayName=Ak;var xk=IA;function ht({className:r,...e}){return v.jsx(xk,{"data-slot":"label",className:Yt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...e})}function Rk({onBack:r,onRegister:e}){const[t,s]=I.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[o,c]=I.useState(!1),u=p=>{s({...t,[p.target.name]:p.target.value})},d=async p=>{if(p.preventDefault(),c(!0),t.password!==t.confirmPassword){alert("As senhas não coincidem!"),c(!1);return}const g=JSON.parse(localStorage.getItem("users")||"[]");if(g.find(w=>w.email===t.email)){alert("Este email já está cadastrado!"),c(!1);return}const _={id:Date.now(),name:t.name,email:t.email,phone:t.phone,password:t.password,type:"user",createdAt:new Date().toISOString()};g.push(_),localStorage.setItem("users",JSON.stringify(g)),localStorage.setItem("currentUser",JSON.stringify(_)),alert("Cadastro realizado com sucesso!"),e(_),c(!1)};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-md",children:[v.jsxs(Vt,{variant:"ghost",onClick:r,className:"mb-4",children:[v.jsx(Hh,{className:"w-4 h-4 mr-2"}),"Voltar"]}),v.jsxs(Tt,{children:[v.jsxs(nn,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(su,{className:"w-8 h-8 text-blue-600"})}),v.jsx(rn,{className:"text-2xl",children:"Cadastro do Passageiro"}),v.jsx(Ni,{children:"Crie sua conta para solicitar corridas"})]}),v.jsx(kt,{children:v.jsxs("form",{onSubmit:d,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"name",children:"Nome completo"}),v.jsx(Ct,{id:"name",name:"name",type:"text",placeholder:"Seu nome completo",value:t.name,onChange:u,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"email",children:"Email"}),v.jsx(Ct,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",value:t.email,onChange:u,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"phone",children:"Telefone"}),v.jsx(Ct,{id:"phone",name:"phone",type:"tel",placeholder:"(51) 99999-9999",value:t.phone,onChange:u,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"password",children:"Senha"}),v.jsx(Ct,{id:"password",name:"password",type:"password",placeholder:"Sua senha",value:t.password,onChange:u,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"confirmPassword",children:"Confirmar senha"}),v.jsx(Ct,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirme sua senha",value:t.confirmPassword,onChange:u,required:!0})]}),v.jsx(Vt,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:o,children:o?"Cadastrando...":"Cadastrar"})]})})]})]})})}function Ck({user:r,onProfileComplete:e}){const[t,s]=I.useState(r.phone||""),[o,c]=I.useState(!1),[u,d]=I.useState(""),p=async g=>{if(g.preventDefault(),c(!0),d(""),!t.trim()){d("Por favor, informe seu telefone."),c(!1);return}try{const _={...r,phone:t.trim()},T=JSON.parse(localStorage.getItem("users")||"[]").map(x=>x.id===r.id?_:x);localStorage.setItem("users",JSON.stringify(T)),localStorage.setItem("currentUser",JSON.stringify(_)),e(_)}catch(_){console.error("Erro ao atualizar perfil:",_),d("Erro ao salvar perfil. Tente novamente.")}finally{c(!1)}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:v.jsx("div",{className:"w-full max-w-md",children:v.jsxs(Tt,{children:[v.jsxs(nn,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:r.photoURL?v.jsx("img",{src:r.photoURL,alt:r.name,className:"w-16 h-16 rounded-full object-cover"}):v.jsx(su,{className:"w-8 h-8 text-blue-600"})}),v.jsx(rn,{className:"text-2xl",children:"Complete seu Perfil"}),v.jsxs(Ni,{children:["Olá, ",r.name,"! Complete suas informações para continuar"]})]}),v.jsxs(kt,{children:[u&&v.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:v.jsx("p",{className:"text-sm text-red-700",children:u})}),v.jsxs("form",{onSubmit:p,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"name",children:"Nome"}),v.jsx(Ct,{id:"name",type:"text",value:r.name,disabled:!0,className:"bg-gray-50"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Nome obtido do Google"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"email",children:"Email"}),v.jsx(Ct,{id:"email",type:"email",value:r.email,disabled:!0,className:"bg-gray-50"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Email obtido do Google"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"phone",children:"Telefone"}),v.jsxs("div",{className:"relative",children:[v.jsx(nI,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),v.jsx(Ct,{id:"phone",type:"tel",placeholder:"(51) 99999-9999",value:t,onChange:g=>s(g.target.value),className:"pl-10",required:!0})]})]}),v.jsx(Vt,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:o,children:o?"Salvando...":"Continuar"})]}),v.jsx("div",{className:"mt-4 text-center",children:v.jsx("p",{className:"text-xs text-gray-500",children:"Suas informações são seguras e utilizadas apenas para melhorar sua experiência"})})]})]})})})}function aw(r,[e,t]){return Math.min(t,Math.max(e,r))}function et(r,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(r==null||r(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function qa(r,e=[]){let t=[];function s(c,u){const d=I.createContext(u),p=t.length;t=[...t,u];const g=w=>{var L;const{scope:T,children:x,...D}=w,R=((L=T==null?void 0:T[r])==null?void 0:L[p])||d,N=I.useMemo(()=>D,Object.values(D));return v.jsx(R.Provider,{value:N,children:x})};g.displayName=c+"Provider";function _(w,T){var R;const x=((R=T==null?void 0:T[r])==null?void 0:R[p])||d,D=I.useContext(x);if(D)return D;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${c}\``)}return[g,_]}const o=()=>{const c=t.map(u=>I.createContext(u));return function(d){const p=(d==null?void 0:d[r])||c;return I.useMemo(()=>({[`__scope${r}`]:{...d,[r]:p}}),[d,p])}};return o.scopeName=r,[s,Ik(o,...e)]}function Ik(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const s=r.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=s.reduce((d,{useScope:p,scopeName:g})=>{const w=p(c)[`__scope${g}`];return{...d,...w}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function NA(r){const e=r+"CollectionProvider",[t,s]=qa(e),[o,c]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=R=>{const{scope:N,children:L}=R,B=ps.useRef(null),H=ps.useRef(new Map).current;return v.jsx(o,{scope:N,itemMap:H,collectionRef:B,children:L})};u.displayName=e;const d=r+"CollectionSlot",p=Gc(d),g=ps.forwardRef((R,N)=>{const{scope:L,children:B}=R,H=c(d,L),Z=pt(N,H.collectionRef);return v.jsx(p,{ref:Z,children:B})});g.displayName=d;const _=r+"CollectionItemSlot",w="data-radix-collection-item",T=Gc(_),x=ps.forwardRef((R,N)=>{const{scope:L,children:B,...H}=R,Z=ps.useRef(null),ee=pt(N,Z),ce=c(_,L);return ps.useEffect(()=>(ce.itemMap.set(Z,{ref:Z,...H}),()=>void ce.itemMap.delete(Z))),v.jsx(T,{[w]:"",ref:ee,children:B})});x.displayName=_;function D(R){const N=c(r+"CollectionConsumer",R);return ps.useCallback(()=>{const B=N.collectionRef.current;if(!B)return[];const H=Array.from(B.querySelectorAll(`[${w}]`));return Array.from(N.itemMap.values()).sort((ce,P)=>H.indexOf(ce.ref.current)-H.indexOf(P.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:u,Slot:g,ItemSlot:x},D,s]}var Nk=I.createContext(void 0);function By(r){const e=I.useContext(Nk);return r||e||"ltr"}function Ms(r){const e=I.useRef(r);return I.useEffect(()=>{e.current=r}),I.useMemo(()=>(...t)=>{var s;return(s=e.current)==null?void 0:s.call(e,...t)},[])}function Dk(r,e=globalThis==null?void 0:globalThis.document){const t=Ms(r);I.useEffect(()=>{const s=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var Ok="DismissableLayer",Dg="dismissableLayer.update",Pk="dismissableLayer.pointerDownOutside",Mk="dismissableLayer.focusOutside",ow,DA=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),OA=I.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:u,onDismiss:d,...p}=r,g=I.useContext(DA),[_,w]=I.useState(null),T=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=I.useState({}),D=pt(e,P=>w(P)),R=Array.from(g.layers),[N]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),L=R.indexOf(N),B=_?R.indexOf(_):-1,H=g.layersWithOutsidePointerEventsDisabled.size>0,Z=B>=L,ee=jk(P=>{const A=P.target,O=[...g.branches].some(j=>j.contains(A));!Z||O||(o==null||o(P),u==null||u(P),P.defaultPrevented||d==null||d())},T),ce=Lk(P=>{const A=P.target;[...g.branches].some(j=>j.contains(A))||(c==null||c(P),u==null||u(P),P.defaultPrevented||d==null||d())},T);return Dk(P=>{B===g.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&d&&(P.preventDefault(),d()))},T),I.useEffect(()=>{if(_)return t&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(ow=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(_)),g.layers.add(_),lw(),()=>{t&&g.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=ow)}},[_,T,t,g]),I.useEffect(()=>()=>{_&&(g.layers.delete(_),g.layersWithOutsidePointerEventsDisabled.delete(_),lw())},[_,g]),I.useEffect(()=>{const P=()=>x({});return document.addEventListener(Dg,P),()=>document.removeEventListener(Dg,P)},[]),v.jsx(nt.div,{...p,ref:D,style:{pointerEvents:H?Z?"auto":"none":void 0,...r.style},onFocusCapture:et(r.onFocusCapture,ce.onFocusCapture),onBlurCapture:et(r.onBlurCapture,ce.onBlurCapture),onPointerDownCapture:et(r.onPointerDownCapture,ee.onPointerDownCapture)})});OA.displayName=Ok;var kk="DismissableLayerBranch",Vk=I.forwardRef((r,e)=>{const t=I.useContext(DA),s=I.useRef(null),o=pt(e,s);return I.useEffect(()=>{const c=s.current;if(c)return t.branches.add(c),()=>{t.branches.delete(c)}},[t.branches]),v.jsx(nt.div,{...r,ref:o})});Vk.displayName=kk;function jk(r,e=globalThis==null?void 0:globalThis.document){const t=Ms(r),s=I.useRef(!1),o=I.useRef(()=>{});return I.useEffect(()=>{const c=d=>{if(d.target&&!s.current){let p=function(){PA(Pk,t,g,{discrete:!0})};const g={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=p,e.addEventListener("click",o.current,{once:!0})):p()}else e.removeEventListener("click",o.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",c),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function Lk(r,e=globalThis==null?void 0:globalThis.document){const t=Ms(r),s=I.useRef(!1);return I.useEffect(()=>{const o=c=>{c.target&&!s.current&&PA(Mk,t,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function lw(){const r=new CustomEvent(Dg);document.dispatchEvent(r)}function PA(r,e,t,{discrete:s}){const o=t.originalEvent.target,c=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(r,e,{once:!0}),s?Sk(o,c):o.dispatchEvent(c)}var qp=0;function Uk(){I.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??cw()),document.body.insertAdjacentElement("beforeend",r[1]??cw()),qp++,()=>{qp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),qp--}},[])}function cw(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var Hp="focusScope.autoFocusOnMount",Fp="focusScope.autoFocusOnUnmount",uw={bubbles:!1,cancelable:!0},zk="FocusScope",MA=I.forwardRef((r,e)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...u}=r,[d,p]=I.useState(null),g=Ms(o),_=Ms(c),w=I.useRef(null),T=pt(e,R=>p(R)),x=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(s){let R=function(H){if(x.paused||!d)return;const Z=H.target;d.contains(Z)?w.current=Z:gs(w.current,{select:!0})},N=function(H){if(x.paused||!d)return;const Z=H.relatedTarget;Z!==null&&(d.contains(Z)||gs(w.current,{select:!0}))},L=function(H){if(document.activeElement===document.body)for(const ee of H)ee.removedNodes.length>0&&gs(d)};document.addEventListener("focusin",R),document.addEventListener("focusout",N);const B=new MutationObserver(L);return d&&B.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",N),B.disconnect()}}},[s,d,x.paused]),I.useEffect(()=>{if(d){hw.add(x);const R=document.activeElement;if(!d.contains(R)){const L=new CustomEvent(Hp,uw);d.addEventListener(Hp,g),d.dispatchEvent(L),L.defaultPrevented||(Bk(Kk(kA(d)),{select:!0}),document.activeElement===R&&gs(d))}return()=>{d.removeEventListener(Hp,g),setTimeout(()=>{const L=new CustomEvent(Fp,uw);d.addEventListener(Fp,_),d.dispatchEvent(L),L.defaultPrevented||gs(R??document.body,{select:!0}),d.removeEventListener(Fp,_),hw.remove(x)},0)}}},[d,g,_,x]);const D=I.useCallback(R=>{if(!t&&!s||x.paused)return;const N=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,L=document.activeElement;if(N&&L){const B=R.currentTarget,[H,Z]=qk(B);H&&Z?!R.shiftKey&&L===Z?(R.preventDefault(),t&&gs(H,{select:!0})):R.shiftKey&&L===H&&(R.preventDefault(),t&&gs(Z,{select:!0})):L===B&&R.preventDefault()}},[t,s,x.paused]);return v.jsx(nt.div,{tabIndex:-1,...u,ref:T,onKeyDown:D})});MA.displayName=zk;function Bk(r,{select:e=!1}={}){const t=document.activeElement;for(const s of r)if(gs(s,{select:e}),document.activeElement!==t)return}function qk(r){const e=kA(r),t=fw(e,r),s=fw(e.reverse(),r);return[t,s]}function kA(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function fw(r,e){for(const t of r)if(!Hk(t,{upTo:e}))return t}function Hk(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function Fk(r){return r instanceof HTMLInputElement&&"select"in r}function gs(r,{select:e=!1}={}){if(r&&r.focus){const t=document.activeElement;r.focus({preventScroll:!0}),r!==t&&Fk(r)&&e&&r.select()}}var hw=Gk();function Gk(){let r=[];return{add(e){const t=r[0];e!==t&&(t==null||t.pause()),r=dw(r,e),r.unshift(e)},remove(e){var t;r=dw(r,e),(t=r[0])==null||t.resume()}}}function dw(r,e){const t=[...r],s=t.indexOf(e);return s!==-1&&t.splice(s,1),t}function Kk(r){return r.filter(e=>e.tagName!=="A")}var wn=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},Yk=Mw[" useId ".trim().toString()]||(()=>{}),Qk=0;function hd(r){const[e,t]=I.useState(Yk());return wn(()=>{t(s=>s??String(Qk++))},[r]),r||(e?`radix-${e}`:"")}const $k=["top","right","bottom","left"],ks=Math.min,Bn=Math.max,Lh=Math.round,Jf=Math.floor,$r=r=>({x:r,y:r}),Xk={left:"right",right:"left",bottom:"top",top:"bottom"},Wk={start:"end",end:"start"};function Og(r,e,t){return Bn(r,ks(e,t))}function ki(r,e){return typeof r=="function"?r(e):r}function Vi(r){return r.split("-")[0]}function yl(r){return r.split("-")[1]}function qy(r){return r==="x"?"y":"x"}function Hy(r){return r==="y"?"height":"width"}function Ii(r){return["top","bottom"].includes(Vi(r))?"y":"x"}function Fy(r){return qy(Ii(r))}function Zk(r,e,t){t===void 0&&(t=!1);const s=yl(r),o=Fy(r),c=Hy(o);let u=o==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(u=Uh(u)),[u,Uh(u)]}function Jk(r){const e=Uh(r);return[Pg(r),e,Pg(e)]}function Pg(r){return r.replace(/start|end/g,e=>Wk[e])}function eV(r,e,t){const s=["left","right"],o=["right","left"],c=["top","bottom"],u=["bottom","top"];switch(r){case"top":case"bottom":return t?e?o:s:e?s:o;case"left":case"right":return e?c:u;default:return[]}}function tV(r,e,t,s){const o=yl(r);let c=eV(Vi(r),t==="start",s);return o&&(c=c.map(u=>u+"-"+o),e&&(c=c.concat(c.map(Pg)))),c}function Uh(r){return r.replace(/left|right|bottom|top/g,e=>Xk[e])}function nV(r){return{top:0,right:0,bottom:0,left:0,...r}}function VA(r){return typeof r!="number"?nV(r):{top:r,right:r,bottom:r,left:r}}function zh(r){const{x:e,y:t,width:s,height:o}=r;return{width:s,height:o,top:t,left:e,right:e+s,bottom:t+o,x:e,y:t}}function mw(r,e,t){let{reference:s,floating:o}=r;const c=Ii(e),u=Fy(e),d=Hy(u),p=Vi(e),g=c==="y",_=s.x+s.width/2-o.width/2,w=s.y+s.height/2-o.height/2,T=s[d]/2-o[d]/2;let x;switch(p){case"top":x={x:_,y:s.y-o.height};break;case"bottom":x={x:_,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y:w};break;case"left":x={x:s.x-o.width,y:w};break;default:x={x:s.x,y:s.y}}switch(yl(e)){case"start":x[u]-=T*(t&&g?-1:1);break;case"end":x[u]+=T*(t&&g?-1:1);break}return x}const rV=async(r,e,t)=>{const{placement:s="bottom",strategy:o="absolute",middleware:c=[],platform:u}=t,d=c.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let g=await u.getElementRects({reference:r,floating:e,strategy:o}),{x:_,y:w}=mw(g,s,p),T=s,x={},D=0;for(let R=0;R<d.length;R++){const{name:N,fn:L}=d[R],{x:B,y:H,data:Z,reset:ee}=await L({x:_,y:w,initialPlacement:s,placement:T,strategy:o,middlewareData:x,rects:g,platform:u,elements:{reference:r,floating:e}});_=B??_,w=H??w,x={...x,[N]:{...x[N],...Z}},ee&&D<=50&&(D++,typeof ee=="object"&&(ee.placement&&(T=ee.placement),ee.rects&&(g=ee.rects===!0?await u.getElementRects({reference:r,floating:e,strategy:o}):ee.rects),{x:_,y:w}=mw(g,T,p)),R=-1)}return{x:_,y:w,placement:T,strategy:o,middlewareData:x}};async function nu(r,e){var t;e===void 0&&(e={});const{x:s,y:o,platform:c,rects:u,elements:d,strategy:p}=r,{boundary:g="clippingAncestors",rootBoundary:_="viewport",elementContext:w="floating",altBoundary:T=!1,padding:x=0}=ki(e,r),D=VA(x),N=d[T?w==="floating"?"reference":"floating":w],L=zh(await c.getClippingRect({element:(t=await(c.isElement==null?void 0:c.isElement(N)))==null||t?N:N.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(d.floating)),boundary:g,rootBoundary:_,strategy:p})),B=w==="floating"?{x:s,y:o,width:u.floating.width,height:u.floating.height}:u.reference,H=await(c.getOffsetParent==null?void 0:c.getOffsetParent(d.floating)),Z=await(c.isElement==null?void 0:c.isElement(H))?await(c.getScale==null?void 0:c.getScale(H))||{x:1,y:1}:{x:1,y:1},ee=zh(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:B,offsetParent:H,strategy:p}):B);return{top:(L.top-ee.top+D.top)/Z.y,bottom:(ee.bottom-L.bottom+D.bottom)/Z.y,left:(L.left-ee.left+D.left)/Z.x,right:(ee.right-L.right+D.right)/Z.x}}const iV=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:s,placement:o,rects:c,platform:u,elements:d,middlewareData:p}=e,{element:g,padding:_=0}=ki(r,e)||{};if(g==null)return{};const w=VA(_),T={x:t,y:s},x=Fy(o),D=Hy(x),R=await u.getDimensions(g),N=x==="y",L=N?"top":"left",B=N?"bottom":"right",H=N?"clientHeight":"clientWidth",Z=c.reference[D]+c.reference[x]-T[x]-c.floating[D],ee=T[x]-c.reference[x],ce=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let P=ce?ce[H]:0;(!P||!await(u.isElement==null?void 0:u.isElement(ce)))&&(P=d.floating[H]||c.floating[D]);const A=Z/2-ee/2,O=P/2-R[D]/2-1,j=ks(w[L],O),U=ks(w[B],O),z=j,M=P-R[D]-U,fe=P/2-R[D]/2+A,ue=Og(z,fe,M),F=!p.arrow&&yl(o)!=null&&fe!==ue&&c.reference[D]/2-(fe<z?j:U)-R[D]/2<0,ie=F?fe<z?fe-z:fe-M:0;return{[x]:T[x]+ie,data:{[x]:ue,centerOffset:fe-ue-ie,...F&&{alignmentOffset:ie}},reset:F}}}),sV=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,s;const{placement:o,middlewareData:c,rects:u,initialPlacement:d,platform:p,elements:g}=e,{mainAxis:_=!0,crossAxis:w=!0,fallbackPlacements:T,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:D="none",flipAlignment:R=!0,...N}=ki(r,e);if((t=c.arrow)!=null&&t.alignmentOffset)return{};const L=Vi(o),B=Ii(d),H=Vi(d)===d,Z=await(p.isRTL==null?void 0:p.isRTL(g.floating)),ee=T||(H||!R?[Uh(d)]:Jk(d)),ce=D!=="none";!T&&ce&&ee.push(...tV(d,R,D,Z));const P=[d,...ee],A=await nu(e,N),O=[];let j=((s=c.flip)==null?void 0:s.overflows)||[];if(_&&O.push(A[L]),w){const ue=Zk(o,u,Z);O.push(A[ue[0]],A[ue[1]])}if(j=[...j,{placement:o,overflows:O}],!O.every(ue=>ue<=0)){var U,z;const ue=(((U=c.flip)==null?void 0:U.index)||0)+1,F=P[ue];if(F){var M;const W=w==="alignment"?B!==Ii(F):!1,be=((M=j[0])==null?void 0:M.overflows[0])>0;if(!W||be)return{data:{index:ue,overflows:j},reset:{placement:F}}}let ie=(z=j.filter(W=>W.overflows[0]<=0).sort((W,be)=>W.overflows[1]-be.overflows[1])[0])==null?void 0:z.placement;if(!ie)switch(x){case"bestFit":{var fe;const W=(fe=j.filter(be=>{if(ce){const V=Ii(be.placement);return V===B||V==="y"}return!0}).map(be=>[be.placement,be.overflows.filter(V=>V>0).reduce((V,ne)=>V+ne,0)]).sort((be,V)=>be[1]-V[1])[0])==null?void 0:fe[0];W&&(ie=W);break}case"initialPlacement":ie=d;break}if(o!==ie)return{reset:{placement:ie}}}return{}}}};function pw(r,e){return{top:r.top-e.height,right:r.right-e.width,bottom:r.bottom-e.height,left:r.left-e.width}}function gw(r){return $k.some(e=>r[e]>=0)}const aV=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...o}=ki(r,e);switch(s){case"referenceHidden":{const c=await nu(e,{...o,elementContext:"reference"}),u=pw(c,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:gw(u)}}}case"escaped":{const c=await nu(e,{...o,altBoundary:!0}),u=pw(c,t.floating);return{data:{escapedOffsets:u,escaped:gw(u)}}}default:return{}}}}};async function oV(r,e){const{placement:t,platform:s,elements:o}=r,c=await(s.isRTL==null?void 0:s.isRTL(o.floating)),u=Vi(t),d=yl(t),p=Ii(t)==="y",g=["left","top"].includes(u)?-1:1,_=c&&p?-1:1,w=ki(e,r);let{mainAxis:T,crossAxis:x,alignmentAxis:D}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return d&&typeof D=="number"&&(x=d==="end"?D*-1:D),p?{x:x*_,y:T*g}:{x:T*g,y:x*_}}const lV=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,s;const{x:o,y:c,placement:u,middlewareData:d}=e,p=await oV(e,r);return u===((t=d.offset)==null?void 0:t.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:o+p.x,y:c+p.y,data:{...p,placement:u}}}}},cV=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:s,placement:o}=e,{mainAxis:c=!0,crossAxis:u=!1,limiter:d={fn:N=>{let{x:L,y:B}=N;return{x:L,y:B}}},...p}=ki(r,e),g={x:t,y:s},_=await nu(e,p),w=Ii(Vi(o)),T=qy(w);let x=g[T],D=g[w];if(c){const N=T==="y"?"top":"left",L=T==="y"?"bottom":"right",B=x+_[N],H=x-_[L];x=Og(B,x,H)}if(u){const N=w==="y"?"top":"left",L=w==="y"?"bottom":"right",B=D+_[N],H=D-_[L];D=Og(B,D,H)}const R=d.fn({...e,[T]:x,[w]:D});return{...R,data:{x:R.x-t,y:R.y-s,enabled:{[T]:c,[w]:u}}}}}},uV=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:t,y:s,placement:o,rects:c,middlewareData:u}=e,{offset:d=0,mainAxis:p=!0,crossAxis:g=!0}=ki(r,e),_={x:t,y:s},w=Ii(o),T=qy(w);let x=_[T],D=_[w];const R=ki(d,e),N=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(p){const H=T==="y"?"height":"width",Z=c.reference[T]-c.floating[H]+N.mainAxis,ee=c.reference[T]+c.reference[H]-N.mainAxis;x<Z?x=Z:x>ee&&(x=ee)}if(g){var L,B;const H=T==="y"?"width":"height",Z=["top","left"].includes(Vi(o)),ee=c.reference[w]-c.floating[H]+(Z&&((L=u.offset)==null?void 0:L[w])||0)+(Z?0:N.crossAxis),ce=c.reference[w]+c.reference[H]+(Z?0:((B=u.offset)==null?void 0:B[w])||0)-(Z?N.crossAxis:0);D<ee?D=ee:D>ce&&(D=ce)}return{[T]:x,[w]:D}}}},fV=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var t,s;const{placement:o,rects:c,platform:u,elements:d}=e,{apply:p=()=>{},...g}=ki(r,e),_=await nu(e,g),w=Vi(o),T=yl(o),x=Ii(o)==="y",{width:D,height:R}=c.floating;let N,L;w==="top"||w==="bottom"?(N=w,L=T===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(L=w,N=T==="end"?"top":"bottom");const B=R-_.top-_.bottom,H=D-_.left-_.right,Z=ks(R-_[N],B),ee=ks(D-_[L],H),ce=!e.middlewareData.shift;let P=Z,A=ee;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=H),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(P=B),ce&&!T){const j=Bn(_.left,0),U=Bn(_.right,0),z=Bn(_.top,0),M=Bn(_.bottom,0);x?A=D-2*(j!==0||U!==0?j+U:Bn(_.left,_.right)):P=R-2*(z!==0||M!==0?z+M:Bn(_.top,_.bottom))}await p({...e,availableWidth:A,availableHeight:P});const O=await u.getDimensions(d.floating);return D!==O.width||R!==O.height?{reset:{rects:!0}}:{}}}};function dd(){return typeof window<"u"}function vl(r){return jA(r)?(r.nodeName||"").toLowerCase():"#document"}function Fn(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Zr(r){var e;return(e=(jA(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function jA(r){return dd()?r instanceof Node||r instanceof Fn(r).Node:!1}function br(r){return dd()?r instanceof Element||r instanceof Fn(r).Element:!1}function Wr(r){return dd()?r instanceof HTMLElement||r instanceof Fn(r).HTMLElement:!1}function yw(r){return!dd()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Fn(r).ShadowRoot}function _u(r){const{overflow:e,overflowX:t,overflowY:s,display:o}=wr(r);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!["inline","contents"].includes(o)}function hV(r){return["table","td","th"].includes(vl(r))}function md(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function Gy(r){const e=Ky(),t=br(r)?wr(r):r;return["transform","translate","scale","rotate","perspective"].some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(t.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(t.contain||"").includes(s))}function dV(r){let e=Vs(r);for(;Wr(e)&&!al(e);){if(Gy(e))return e;if(md(e))return null;e=Vs(e)}return null}function Ky(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function al(r){return["html","body","#document"].includes(vl(r))}function wr(r){return Fn(r).getComputedStyle(r)}function pd(r){return br(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Vs(r){if(vl(r)==="html")return r;const e=r.assignedSlot||r.parentNode||yw(r)&&r.host||Zr(r);return yw(e)?e.host:e}function LA(r){const e=Vs(r);return al(e)?r.ownerDocument?r.ownerDocument.body:r.body:Wr(e)&&_u(e)?e:LA(e)}function ru(r,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=LA(r),c=o===((s=r.ownerDocument)==null?void 0:s.body),u=Fn(o);if(c){const d=Mg(u);return e.concat(u,u.visualViewport||[],_u(o)?o:[],d&&t?ru(d):[])}return e.concat(o,ru(o,[],t))}function Mg(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function UA(r){const e=wr(r);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const o=Wr(r),c=o?r.offsetWidth:t,u=o?r.offsetHeight:s,d=Lh(t)!==c||Lh(s)!==u;return d&&(t=c,s=u),{width:t,height:s,$:d}}function Yy(r){return br(r)?r:r.contextElement}function Xo(r){const e=Yy(r);if(!Wr(e))return $r(1);const t=e.getBoundingClientRect(),{width:s,height:o,$:c}=UA(e);let u=(c?Lh(t.width):t.width)/s,d=(c?Lh(t.height):t.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const mV=$r(0);function zA(r){const e=Fn(r);return!Ky()||!e.visualViewport?mV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pV(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Fn(r)?!1:e}function ja(r,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=r.getBoundingClientRect(),c=Yy(r);let u=$r(1);e&&(s?br(s)&&(u=Xo(s)):u=Xo(r));const d=pV(c,t,s)?zA(c):$r(0);let p=(o.left+d.x)/u.x,g=(o.top+d.y)/u.y,_=o.width/u.x,w=o.height/u.y;if(c){const T=Fn(c),x=s&&br(s)?Fn(s):s;let D=T,R=Mg(D);for(;R&&s&&x!==D;){const N=Xo(R),L=R.getBoundingClientRect(),B=wr(R),H=L.left+(R.clientLeft+parseFloat(B.paddingLeft))*N.x,Z=L.top+(R.clientTop+parseFloat(B.paddingTop))*N.y;p*=N.x,g*=N.y,_*=N.x,w*=N.y,p+=H,g+=Z,D=Fn(R),R=Mg(D)}}return zh({width:_,height:w,x:p,y:g})}function Qy(r,e){const t=pd(r).scrollLeft;return e?e.left+t:ja(Zr(r)).left+t}function BA(r,e,t){t===void 0&&(t=!1);const s=r.getBoundingClientRect(),o=s.left+e.scrollLeft-(t?0:Qy(r,s)),c=s.top+e.scrollTop;return{x:o,y:c}}function gV(r){let{elements:e,rect:t,offsetParent:s,strategy:o}=r;const c=o==="fixed",u=Zr(s),d=e?md(e.floating):!1;if(s===u||d&&c)return t;let p={scrollLeft:0,scrollTop:0},g=$r(1);const _=$r(0),w=Wr(s);if((w||!w&&!c)&&((vl(s)!=="body"||_u(u))&&(p=pd(s)),Wr(s))){const x=ja(s);g=Xo(s),_.x=x.x+s.clientLeft,_.y=x.y+s.clientTop}const T=u&&!w&&!c?BA(u,p,!0):$r(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-p.scrollLeft*g.x+_.x+T.x,y:t.y*g.y-p.scrollTop*g.y+_.y+T.y}}function yV(r){return Array.from(r.getClientRects())}function vV(r){const e=Zr(r),t=pd(r),s=r.ownerDocument.body,o=Bn(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),c=Bn(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-t.scrollLeft+Qy(r);const d=-t.scrollTop;return wr(s).direction==="rtl"&&(u+=Bn(e.clientWidth,s.clientWidth)-o),{width:o,height:c,x:u,y:d}}function _V(r,e){const t=Fn(r),s=Zr(r),o=t.visualViewport;let c=s.clientWidth,u=s.clientHeight,d=0,p=0;if(o){c=o.width,u=o.height;const g=Ky();(!g||g&&e==="fixed")&&(d=o.offsetLeft,p=o.offsetTop)}return{width:c,height:u,x:d,y:p}}function EV(r,e){const t=ja(r,!0,e==="fixed"),s=t.top+r.clientTop,o=t.left+r.clientLeft,c=Wr(r)?Xo(r):$r(1),u=r.clientWidth*c.x,d=r.clientHeight*c.y,p=o*c.x,g=s*c.y;return{width:u,height:d,x:p,y:g}}function vw(r,e,t){let s;if(e==="viewport")s=_V(r,t);else if(e==="document")s=vV(Zr(r));else if(br(e))s=EV(e,t);else{const o=zA(r);s={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return zh(s)}function qA(r,e){const t=Vs(r);return t===e||!br(t)||al(t)?!1:wr(t).position==="fixed"||qA(t,e)}function bV(r,e){const t=e.get(r);if(t)return t;let s=ru(r,[],!1).filter(d=>br(d)&&vl(d)!=="body"),o=null;const c=wr(r).position==="fixed";let u=c?Vs(r):r;for(;br(u)&&!al(u);){const d=wr(u),p=Gy(u);!p&&d.position==="fixed"&&(o=null),(c?!p&&!o:!p&&d.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||_u(u)&&!p&&qA(r,u))?s=s.filter(_=>_!==u):o=d,u=Vs(u)}return e.set(r,s),s}function wV(r){let{element:e,boundary:t,rootBoundary:s,strategy:o}=r;const u=[...t==="clippingAncestors"?md(e)?[]:bV(e,this._c):[].concat(t),s],d=u[0],p=u.reduce((g,_)=>{const w=vw(e,_,o);return g.top=Bn(w.top,g.top),g.right=ks(w.right,g.right),g.bottom=ks(w.bottom,g.bottom),g.left=Bn(w.left,g.left),g},vw(e,d,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function TV(r){const{width:e,height:t}=UA(r);return{width:e,height:t}}function SV(r,e,t){const s=Wr(e),o=Zr(e),c=t==="fixed",u=ja(r,!0,c,e);let d={scrollLeft:0,scrollTop:0};const p=$r(0);function g(){p.x=Qy(o)}if(s||!s&&!c)if((vl(e)!=="body"||_u(o))&&(d=pd(e)),s){const x=ja(e,!0,c,e);p.x=x.x+e.clientLeft,p.y=x.y+e.clientTop}else o&&g();c&&!s&&o&&g();const _=o&&!s&&!c?BA(o,d):$r(0),w=u.left+d.scrollLeft-p.x-_.x,T=u.top+d.scrollTop-p.y-_.y;return{x:w,y:T,width:u.width,height:u.height}}function Gp(r){return wr(r).position==="static"}function _w(r,e){if(!Wr(r)||wr(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Zr(r)===t&&(t=t.ownerDocument.body),t}function HA(r,e){const t=Fn(r);if(md(r))return t;if(!Wr(r)){let o=Vs(r);for(;o&&!al(o);){if(br(o)&&!Gp(o))return o;o=Vs(o)}return t}let s=_w(r,e);for(;s&&hV(s)&&Gp(s);)s=_w(s,e);return s&&al(s)&&Gp(s)&&!Gy(s)?t:s||dV(r)||t}const AV=async function(r){const e=this.getOffsetParent||HA,t=this.getDimensions,s=await t(r.floating);return{reference:SV(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function xV(r){return wr(r).direction==="rtl"}const RV={convertOffsetParentRelativeRectToViewportRelativeRect:gV,getDocumentElement:Zr,getClippingRect:wV,getOffsetParent:HA,getElementRects:AV,getClientRects:yV,getDimensions:TV,getScale:Xo,isElement:br,isRTL:xV};function FA(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function CV(r,e){let t=null,s;const o=Zr(r);function c(){var d;clearTimeout(s),(d=t)==null||d.disconnect(),t=null}function u(d,p){d===void 0&&(d=!1),p===void 0&&(p=1),c();const g=r.getBoundingClientRect(),{left:_,top:w,width:T,height:x}=g;if(d||e(),!T||!x)return;const D=Jf(w),R=Jf(o.clientWidth-(_+T)),N=Jf(o.clientHeight-(w+x)),L=Jf(_),H={rootMargin:-D+"px "+-R+"px "+-N+"px "+-L+"px",threshold:Bn(0,ks(1,p))||1};let Z=!0;function ee(ce){const P=ce[0].intersectionRatio;if(P!==p){if(!Z)return u();P?u(!1,P):s=setTimeout(()=>{u(!1,1e-7)},1e3)}P===1&&!FA(g,r.getBoundingClientRect())&&u(),Z=!1}try{t=new IntersectionObserver(ee,{...H,root:o.ownerDocument})}catch{t=new IntersectionObserver(ee,H)}t.observe(r)}return u(!0),c}function IV(r,e,t,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:p=!1}=s,g=Yy(r),_=o||c?[...g?ru(g):[],...ru(e)]:[];_.forEach(L=>{o&&L.addEventListener("scroll",t,{passive:!0}),c&&L.addEventListener("resize",t)});const w=g&&d?CV(g,t):null;let T=-1,x=null;u&&(x=new ResizeObserver(L=>{let[B]=L;B&&B.target===g&&x&&(x.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var H;(H=x)==null||H.observe(e)})),t()}),g&&!p&&x.observe(g),x.observe(e));let D,R=p?ja(r):null;p&&N();function N(){const L=ja(r);R&&!FA(R,L)&&t(),R=L,D=requestAnimationFrame(N)}return t(),()=>{var L;_.forEach(B=>{o&&B.removeEventListener("scroll",t),c&&B.removeEventListener("resize",t)}),w==null||w(),(L=x)==null||L.disconnect(),x=null,p&&cancelAnimationFrame(D)}}const NV=lV,DV=cV,OV=sV,PV=fV,MV=aV,Ew=iV,kV=uV,VV=(r,e,t)=>{const s=new Map,o={platform:RV,...t},c={...o.platform,_c:s};return rV(r,e,{...o,platform:c})};var gh=typeof document<"u"?I.useLayoutEffect:I.useEffect;function Bh(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,s,o;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!Bh(r[s],e[s]))return!1;return!0}if(o=Object.keys(r),t=o.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,o[s]))return!1;for(s=t;s--!==0;){const c=o[s];if(!(c==="_owner"&&r.$$typeof)&&!Bh(r[c],e[c]))return!1}return!0}return r!==r&&e!==e}function GA(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function bw(r,e){const t=GA(r);return Math.round(e*t)/t}function Kp(r){const e=I.useRef(r);return gh(()=>{e.current=r}),e}function jV(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:o,elements:{reference:c,floating:u}={},transform:d=!0,whileElementsMounted:p,open:g}=r,[_,w]=I.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[T,x]=I.useState(s);Bh(T,s)||x(s);const[D,R]=I.useState(null),[N,L]=I.useState(null),B=I.useCallback(W=>{W!==ce.current&&(ce.current=W,R(W))},[]),H=I.useCallback(W=>{W!==P.current&&(P.current=W,L(W))},[]),Z=c||D,ee=u||N,ce=I.useRef(null),P=I.useRef(null),A=I.useRef(_),O=p!=null,j=Kp(p),U=Kp(o),z=Kp(g),M=I.useCallback(()=>{if(!ce.current||!P.current)return;const W={placement:e,strategy:t,middleware:T};U.current&&(W.platform=U.current),VV(ce.current,P.current,W).then(be=>{const V={...be,isPositioned:z.current!==!1};fe.current&&!Bh(A.current,V)&&(A.current=V,vu.flushSync(()=>{w(V)}))})},[T,e,t,U,z]);gh(()=>{g===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,w(W=>({...W,isPositioned:!1})))},[g]);const fe=I.useRef(!1);gh(()=>(fe.current=!0,()=>{fe.current=!1}),[]),gh(()=>{if(Z&&(ce.current=Z),ee&&(P.current=ee),Z&&ee){if(j.current)return j.current(Z,ee,M);M()}},[Z,ee,M,j,O]);const ue=I.useMemo(()=>({reference:ce,floating:P,setReference:B,setFloating:H}),[B,H]),F=I.useMemo(()=>({reference:Z,floating:ee}),[Z,ee]),ie=I.useMemo(()=>{const W={position:t,left:0,top:0};if(!F.floating)return W;const be=bw(F.floating,_.x),V=bw(F.floating,_.y);return d?{...W,transform:"translate("+be+"px, "+V+"px)",...GA(F.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:be,top:V}},[t,d,F.floating,_.x,_.y]);return I.useMemo(()=>({..._,update:M,refs:ue,elements:F,floatingStyles:ie}),[_,M,ue,F,ie])}const LV=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:s,padding:o}=typeof r=="function"?r(t):r;return s&&e(s)?s.current!=null?Ew({element:s.current,padding:o}).fn(t):{}:s?Ew({element:s,padding:o}).fn(t):{}}}},UV=(r,e)=>({...NV(r),options:[r,e]}),zV=(r,e)=>({...DV(r),options:[r,e]}),BV=(r,e)=>({...kV(r),options:[r,e]}),qV=(r,e)=>({...OV(r),options:[r,e]}),HV=(r,e)=>({...PV(r),options:[r,e]}),FV=(r,e)=>({...MV(r),options:[r,e]}),GV=(r,e)=>({...LV(r),options:[r,e]});var KV="Arrow",KA=I.forwardRef((r,e)=>{const{children:t,width:s=10,height:o=5,...c}=r;return v.jsx(nt.svg,{...c,ref:e,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?t:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});KA.displayName=KV;var YV=KA;function $y(r){const[e,t]=I.useState(void 0);return wn(()=>{if(r){t({width:r.offsetWidth,height:r.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let u,d;if("borderBoxSize"in c){const p=c.borderBoxSize,g=Array.isArray(p)?p[0]:p;u=g.inlineSize,d=g.blockSize}else u=r.offsetWidth,d=r.offsetHeight;t({width:u,height:d})});return s.observe(r,{box:"border-box"}),()=>s.unobserve(r)}else t(void 0)},[r]),e}var Xy="Popper",[YA,QA]=qa(Xy),[QV,$A]=YA(Xy),XA=r=>{const{__scopePopper:e,children:t}=r,[s,o]=I.useState(null);return v.jsx(QV,{scope:e,anchor:s,onAnchorChange:o,children:t})};XA.displayName=Xy;var WA="PopperAnchor",ZA=I.forwardRef((r,e)=>{const{__scopePopper:t,virtualRef:s,...o}=r,c=$A(WA,t),u=I.useRef(null),d=pt(e,u);return I.useEffect(()=>{c.onAnchorChange((s==null?void 0:s.current)||u.current)}),s?null:v.jsx(nt.div,{...o,ref:d})});ZA.displayName=WA;var Wy="PopperContent",[$V,XV]=YA(Wy),JA=I.forwardRef((r,e)=>{var me,Se,Xe,je,Me,ke;const{__scopePopper:t,side:s="bottom",sideOffset:o=0,align:c="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:p=!0,collisionBoundary:g=[],collisionPadding:_=0,sticky:w="partial",hideWhenDetached:T=!1,updatePositionStrategy:x="optimized",onPlaced:D,...R}=r,N=$A(Wy,t),[L,B]=I.useState(null),H=pt(e,St=>B(St)),[Z,ee]=I.useState(null),ce=$y(Z),P=(ce==null?void 0:ce.width)??0,A=(ce==null?void 0:ce.height)??0,O=s+(c!=="center"?"-"+c:""),j=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},U=Array.isArray(g)?g:[g],z=U.length>0,M={padding:j,boundary:U.filter(ZV),altBoundary:z},{refs:fe,floatingStyles:ue,placement:F,isPositioned:ie,middlewareData:W}=jV({strategy:"fixed",placement:O,whileElementsMounted:(...St)=>IV(...St,{animationFrame:x==="always"}),elements:{reference:N.anchor},middleware:[UV({mainAxis:o+A,alignmentAxis:u}),p&&zV({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?BV():void 0,...M}),p&&qV({...M}),HV({...M,apply:({elements:St,rects:Qt,availableWidth:sr,availableHeight:Tr})=>{const{width:$t,height:El}=Qt.reference,Sr=St.floating.style;Sr.setProperty("--radix-popper-available-width",`${sr}px`),Sr.setProperty("--radix-popper-available-height",`${Tr}px`),Sr.setProperty("--radix-popper-anchor-width",`${$t}px`),Sr.setProperty("--radix-popper-anchor-height",`${El}px`)}}),Z&&GV({element:Z,padding:d}),JV({arrowWidth:P,arrowHeight:A}),T&&FV({strategy:"referenceHidden",...M})]}),[be,V]=nx(F),ne=Ms(D);wn(()=>{ie&&(ne==null||ne())},[ie,ne]);const he=(me=W.arrow)==null?void 0:me.x,oe=(Se=W.arrow)==null?void 0:Se.y,pe=((Xe=W.arrow)==null?void 0:Xe.centerOffset)!==0,[Re,we]=I.useState();return wn(()=>{L&&we(window.getComputedStyle(L).zIndex)},[L]),v.jsx("div",{ref:fe.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:ie?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(je=W.transformOrigin)==null?void 0:je.x,(Me=W.transformOrigin)==null?void 0:Me.y].join(" "),...((ke=W.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:v.jsx($V,{scope:t,placedSide:be,onArrowChange:ee,arrowX:he,arrowY:oe,shouldHideArrow:pe,children:v.jsx(nt.div,{"data-side":be,"data-align":V,...R,ref:H,style:{...R.style,animation:ie?void 0:"none"}})})})});JA.displayName=Wy;var ex="PopperArrow",WV={top:"bottom",right:"left",bottom:"top",left:"right"},tx=I.forwardRef(function(e,t){const{__scopePopper:s,...o}=e,c=XV(ex,s),u=WV[c.placedSide];return v.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:v.jsx(YV,{...o,ref:t,style:{...o.style,display:"block"}})})});tx.displayName=ex;function ZV(r){return r!==null}var JV=r=>({name:"transformOrigin",options:r,fn(e){var N,L,B;const{placement:t,rects:s,middlewareData:o}=e,u=((N=o.arrow)==null?void 0:N.centerOffset)!==0,d=u?0:r.arrowWidth,p=u?0:r.arrowHeight,[g,_]=nx(t),w={start:"0%",center:"50%",end:"100%"}[_],T=(((L=o.arrow)==null?void 0:L.x)??0)+d/2,x=(((B=o.arrow)==null?void 0:B.y)??0)+p/2;let D="",R="";return g==="bottom"?(D=u?w:`${T}px`,R=`${-p}px`):g==="top"?(D=u?w:`${T}px`,R=`${s.floating.height+p}px`):g==="right"?(D=`${-p}px`,R=u?w:`${x}px`):g==="left"&&(D=`${s.floating.width+p}px`,R=u?w:`${x}px`),{data:{x:D,y:R}}}});function nx(r){const[e,t="center"]=r.split("-");return[e,t]}var e4=XA,t4=ZA,n4=JA,r4=tx,i4="Portal",rx=I.forwardRef((r,e)=>{var d;const{container:t,...s}=r,[o,c]=I.useState(!1);wn(()=>c(!0),[]);const u=t||o&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?wk.createPortal(v.jsx(nt.div,{...s,ref:e}),u):null});rx.displayName=i4;var s4=Mw[" useInsertionEffect ".trim().toString()]||wn;function iu({prop:r,defaultProp:e,onChange:t=()=>{},caller:s}){const[o,c,u]=a4({defaultProp:e,onChange:t}),d=r!==void 0,p=d?r:o;{const _=I.useRef(r!==void 0);I.useEffect(()=>{const w=_.current;w!==d&&console.warn(`${s} is changing from ${w?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),_.current=d},[d,s])}const g=I.useCallback(_=>{var w;if(d){const T=o4(_)?_(r):_;T!==r&&((w=u.current)==null||w.call(u,T))}else c(_)},[d,r,c,u]);return[p,g]}function a4({defaultProp:r,onChange:e}){const[t,s]=I.useState(r),o=I.useRef(t),c=I.useRef(e);return s4(()=>{c.current=e},[e]),I.useEffect(()=>{var u;o.current!==t&&((u=c.current)==null||u.call(c,t),o.current=t)},[t,o]),[t,s,c]}function o4(r){return typeof r=="function"}function Zy(r){const e=I.useRef({value:r,previous:r});return I.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var ix=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),l4="VisuallyHidden",c4=I.forwardRef((r,e)=>v.jsx(nt.span,{...r,ref:e,style:{...ix,...r.style}}));c4.displayName=l4;var u4=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},jo=new WeakMap,eh=new WeakMap,th={},Yp=0,sx=function(r){return r&&(r.host||sx(r.parentNode))},f4=function(r,e){return e.map(function(t){if(r.contains(t))return t;var s=sx(t);return s&&r.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",r,". Doing nothing"),null)}).filter(function(t){return!!t})},h4=function(r,e,t,s){var o=f4(e,Array.isArray(r)?r:[r]);th[t]||(th[t]=new WeakMap);var c=th[t],u=[],d=new Set,p=new Set(o),g=function(w){!w||d.has(w)||(d.add(w),g(w.parentNode))};o.forEach(g);var _=function(w){!w||p.has(w)||Array.prototype.forEach.call(w.children,function(T){if(d.has(T))_(T);else try{var x=T.getAttribute(s),D=x!==null&&x!=="false",R=(jo.get(T)||0)+1,N=(c.get(T)||0)+1;jo.set(T,R),c.set(T,N),u.push(T),R===1&&D&&eh.set(T,!0),N===1&&T.setAttribute(t,"true"),D||T.setAttribute(s,"true")}catch(L){console.error("aria-hidden: cannot operate on ",T,L)}})};return _(e),d.clear(),Yp++,function(){u.forEach(function(w){var T=jo.get(w)-1,x=c.get(w)-1;jo.set(w,T),c.set(w,x),T||(eh.has(w)||w.removeAttribute(s),eh.delete(w)),x||w.removeAttribute(t)}),Yp--,Yp||(jo=new WeakMap,jo=new WeakMap,eh=new WeakMap,th={})}},d4=function(r,e,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(r)?r:[r]),o=u4(r);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live]"))),h4(s,o,t,"aria-hidden")):function(){return null}},qr=function(){return qr=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},qr.apply(this,arguments)};function ax(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function m4(r,e,t){if(t||arguments.length===2)for(var s=0,o=e.length,c;s<o;s++)(c||!(s in e))&&(c||(c=Array.prototype.slice.call(e,0,s)),c[s]=e[s]);return r.concat(c||Array.prototype.slice.call(e))}var yh="right-scroll-bar-position",vh="width-before-scroll-bar",p4="with-scroll-bars-hidden",g4="--removed-body-scroll-bar-size";function Qp(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function y4(r,e){var t=I.useState(function(){return{value:r,callback:e,facade:{get current(){return t.value},set current(s){var o=t.value;o!==s&&(t.value=s,t.callback(s,o))}}}})[0];return t.callback=e,t.facade}var v4=typeof window<"u"?I.useLayoutEffect:I.useEffect,ww=new WeakMap;function _4(r,e){var t=y4(null,function(s){return r.forEach(function(o){return Qp(o,s)})});return v4(function(){var s=ww.get(t);if(s){var o=new Set(s),c=new Set(r),u=t.current;o.forEach(function(d){c.has(d)||Qp(d,null)}),c.forEach(function(d){o.has(d)||Qp(d,u)})}ww.set(t,r)},[r]),t}function E4(r){return r}function b4(r,e){e===void 0&&(e=E4);var t=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:r},useMedium:function(c){var u=e(c,s);return t.push(u),function(){t=t.filter(function(d){return d!==u})}},assignSyncMedium:function(c){for(s=!0;t.length;){var u=t;t=[],u.forEach(c)}t={push:function(d){return c(d)},filter:function(){return t}}},assignMedium:function(c){s=!0;var u=[];if(t.length){var d=t;t=[],d.forEach(c),u=t}var p=function(){var _=u;u=[],_.forEach(c)},g=function(){return Promise.resolve().then(p)};g(),t={push:function(_){u.push(_),g()},filter:function(_){return u=u.filter(_),t}}}};return o}function w4(r){r===void 0&&(r={});var e=b4(null);return e.options=qr({async:!0,ssr:!1},r),e}var ox=function(r){var e=r.sideCar,t=ax(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return I.createElement(s,qr({},t))};ox.isSideCarExport=!0;function T4(r,e){return r.useMedium(e),ox}var lx=w4(),$p=function(){},gd=I.forwardRef(function(r,e){var t=I.useRef(null),s=I.useState({onScrollCapture:$p,onWheelCapture:$p,onTouchMoveCapture:$p}),o=s[0],c=s[1],u=r.forwardProps,d=r.children,p=r.className,g=r.removeScrollBar,_=r.enabled,w=r.shards,T=r.sideCar,x=r.noIsolation,D=r.inert,R=r.allowPinchZoom,N=r.as,L=N===void 0?"div":N,B=r.gapMode,H=ax(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),Z=T,ee=_4([t,e]),ce=qr(qr({},H),o);return I.createElement(I.Fragment,null,_&&I.createElement(Z,{sideCar:lx,removeScrollBar:g,shards:w,noIsolation:x,inert:D,setCallbacks:c,allowPinchZoom:!!R,lockRef:t,gapMode:B}),u?I.cloneElement(I.Children.only(d),qr(qr({},ce),{ref:ee})):I.createElement(L,qr({},ce,{className:p,ref:ee}),d))});gd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gd.classNames={fullWidth:vh,zeroRight:yh};var S4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function A4(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=S4();return e&&r.setAttribute("nonce",e),r}function x4(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function R4(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var C4=function(){var r=0,e=null;return{add:function(t){r==0&&(e=A4())&&(x4(e,t),R4(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},I4=function(){var r=C4();return function(e,t){I.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])}},cx=function(){var r=I4(),e=function(t){var s=t.styles,o=t.dynamic;return r(s,o),null};return e},N4={left:0,top:0,right:0,gap:0},Xp=function(r){return parseInt(r||"",10)||0},D4=function(r){var e=window.getComputedStyle(document.body),t=e[r==="padding"?"paddingLeft":"marginLeft"],s=e[r==="padding"?"paddingTop":"marginTop"],o=e[r==="padding"?"paddingRight":"marginRight"];return[Xp(t),Xp(s),Xp(o)]},O4=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return N4;var e=D4(r),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-t+e[2]-e[0])}},P4=cx(),Wo="data-scroll-locked",M4=function(r,e,t,s){var o=r.left,c=r.top,u=r.right,d=r.gap;return t===void 0&&(t="margin"),`
  .`.concat(p4,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(Wo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yh,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(vh,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(yh," .").concat(yh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(vh," .").concat(vh,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Wo,`] {
    `).concat(g4,": ").concat(d,`px;
  }
`)},Tw=function(){var r=parseInt(document.body.getAttribute(Wo)||"0",10);return isFinite(r)?r:0},k4=function(){I.useEffect(function(){return document.body.setAttribute(Wo,(Tw()+1).toString()),function(){var r=Tw()-1;r<=0?document.body.removeAttribute(Wo):document.body.setAttribute(Wo,r.toString())}},[])},V4=function(r){var e=r.noRelative,t=r.noImportant,s=r.gapMode,o=s===void 0?"margin":s;k4();var c=I.useMemo(function(){return O4(o)},[o]);return I.createElement(P4,{styles:M4(c,!e,o,t?"":"!important")})},kg=!1;if(typeof window<"u")try{var nh=Object.defineProperty({},"passive",{get:function(){return kg=!0,!0}});window.addEventListener("test",nh,nh),window.removeEventListener("test",nh,nh)}catch{kg=!1}var Lo=kg?{passive:!1}:!1,j4=function(r){return r.tagName==="TEXTAREA"},ux=function(r,e){if(!(r instanceof Element))return!1;var t=window.getComputedStyle(r);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!j4(r)&&t[e]==="visible")},L4=function(r){return ux(r,"overflowY")},U4=function(r){return ux(r,"overflowX")},Sw=function(r,e){var t=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=fx(r,s);if(o){var c=hx(r,s),u=c[1],d=c[2];if(u>d)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},z4=function(r){var e=r.scrollTop,t=r.scrollHeight,s=r.clientHeight;return[e,t,s]},B4=function(r){var e=r.scrollLeft,t=r.scrollWidth,s=r.clientWidth;return[e,t,s]},fx=function(r,e){return r==="v"?L4(e):U4(e)},hx=function(r,e){return r==="v"?z4(e):B4(e)},q4=function(r,e){return r==="h"&&e==="rtl"?-1:1},H4=function(r,e,t,s,o){var c=q4(r,window.getComputedStyle(e).direction),u=c*s,d=t.target,p=e.contains(d),g=!1,_=u>0,w=0,T=0;do{var x=hx(r,d),D=x[0],R=x[1],N=x[2],L=R-N-c*D;(D||L)&&fx(r,d)&&(w+=L,T+=D),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!p&&d!==document.body||p&&(e.contains(d)||e===d));return(_&&Math.abs(w)<1||!_&&Math.abs(T)<1)&&(g=!0),g},rh=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},Aw=function(r){return[r.deltaX,r.deltaY]},xw=function(r){return r&&"current"in r?r.current:r},F4=function(r,e){return r[0]===e[0]&&r[1]===e[1]},G4=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},K4=0,Uo=[];function Y4(r){var e=I.useRef([]),t=I.useRef([0,0]),s=I.useRef(),o=I.useState(K4++)[0],c=I.useState(cx)[0],u=I.useRef(r);I.useEffect(function(){u.current=r},[r]),I.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(o));var R=m4([r.lockRef.current],(r.shards||[]).map(xw),!0).filter(Boolean);return R.forEach(function(N){return N.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),R.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(o))})}}},[r.inert,r.lockRef.current,r.shards]);var d=I.useCallback(function(R,N){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!u.current.allowPinchZoom;var L=rh(R),B=t.current,H="deltaX"in R?R.deltaX:B[0]-L[0],Z="deltaY"in R?R.deltaY:B[1]-L[1],ee,ce=R.target,P=Math.abs(H)>Math.abs(Z)?"h":"v";if("touches"in R&&P==="h"&&ce.type==="range")return!1;var A=Sw(P,ce);if(!A)return!0;if(A?ee=P:(ee=P==="v"?"h":"v",A=Sw(P,ce)),!A)return!1;if(!s.current&&"changedTouches"in R&&(H||Z)&&(s.current=ee),!ee)return!0;var O=s.current||ee;return H4(O,N,R,O==="h"?H:Z)},[]),p=I.useCallback(function(R){var N=R;if(!(!Uo.length||Uo[Uo.length-1]!==c)){var L="deltaY"in N?Aw(N):rh(N),B=e.current.filter(function(ee){return ee.name===N.type&&(ee.target===N.target||N.target===ee.shadowParent)&&F4(ee.delta,L)})[0];if(B&&B.should){N.cancelable&&N.preventDefault();return}if(!B){var H=(u.current.shards||[]).map(xw).filter(Boolean).filter(function(ee){return ee.contains(N.target)}),Z=H.length>0?d(N,H[0]):!u.current.noIsolation;Z&&N.cancelable&&N.preventDefault()}}},[]),g=I.useCallback(function(R,N,L,B){var H={name:R,delta:N,target:L,should:B,shadowParent:Q4(L)};e.current.push(H),setTimeout(function(){e.current=e.current.filter(function(Z){return Z!==H})},1)},[]),_=I.useCallback(function(R){t.current=rh(R),s.current=void 0},[]),w=I.useCallback(function(R){g(R.type,Aw(R),R.target,d(R,r.lockRef.current))},[]),T=I.useCallback(function(R){g(R.type,rh(R),R.target,d(R,r.lockRef.current))},[]);I.useEffect(function(){return Uo.push(c),r.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:T}),document.addEventListener("wheel",p,Lo),document.addEventListener("touchmove",p,Lo),document.addEventListener("touchstart",_,Lo),function(){Uo=Uo.filter(function(R){return R!==c}),document.removeEventListener("wheel",p,Lo),document.removeEventListener("touchmove",p,Lo),document.removeEventListener("touchstart",_,Lo)}},[]);var x=r.removeScrollBar,D=r.inert;return I.createElement(I.Fragment,null,D?I.createElement(c,{styles:G4(o)}):null,x?I.createElement(V4,{gapMode:r.gapMode}):null)}function Q4(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const $4=T4(lx,Y4);var dx=I.forwardRef(function(r,e){return I.createElement(gd,qr({},r,{ref:e,sideCar:$4}))});dx.classNames=gd.classNames;var X4=[" ","Enter","ArrowUp","ArrowDown"],W4=[" ","Enter"],La="Select",[yd,vd,Z4]=NA(La),[_l,w3]=qa(La,[Z4,QA]),_d=QA(),[J4,qs]=_l(La),[e6,t6]=_l(La),mx=r=>{const{__scopeSelect:e,children:t,open:s,defaultOpen:o,onOpenChange:c,value:u,defaultValue:d,onValueChange:p,dir:g,name:_,autoComplete:w,disabled:T,required:x,form:D}=r,R=_d(e),[N,L]=I.useState(null),[B,H]=I.useState(null),[Z,ee]=I.useState(!1),ce=By(g),[P,A]=iu({prop:s,defaultProp:o??!1,onChange:c,caller:La}),[O,j]=iu({prop:u,defaultProp:d,onChange:p,caller:La}),U=I.useRef(null),z=N?D||!!N.closest("form"):!0,[M,fe]=I.useState(new Set),ue=Array.from(M).map(F=>F.props.value).join(";");return v.jsx(e4,{...R,children:v.jsxs(J4,{required:x,scope:e,trigger:N,onTriggerChange:L,valueNode:B,onValueNodeChange:H,valueNodeHasChildren:Z,onValueNodeHasChildrenChange:ee,contentId:hd(),value:O,onValueChange:j,open:P,onOpenChange:A,dir:ce,triggerPointerDownPosRef:U,disabled:T,children:[v.jsx(yd.Provider,{scope:e,children:v.jsx(e6,{scope:r.__scopeSelect,onNativeOptionAdd:I.useCallback(F=>{fe(ie=>new Set(ie).add(F))},[]),onNativeOptionRemove:I.useCallback(F=>{fe(ie=>{const W=new Set(ie);return W.delete(F),W})},[]),children:t})}),z?v.jsxs(Vx,{"aria-hidden":!0,required:x,tabIndex:-1,name:_,autoComplete:w,value:O,onChange:F=>j(F.target.value),disabled:T,form:D,children:[O===void 0?v.jsx("option",{value:""}):null,Array.from(M)]},ue):null]})})};mx.displayName=La;var px="SelectTrigger",gx=I.forwardRef((r,e)=>{const{__scopeSelect:t,disabled:s=!1,...o}=r,c=_d(t),u=qs(px,t),d=u.disabled||s,p=pt(e,u.onTriggerChange),g=vd(t),_=I.useRef("touch"),[w,T,x]=Lx(R=>{const N=g().filter(H=>!H.disabled),L=N.find(H=>H.value===u.value),B=Ux(N,R,L);B!==void 0&&u.onValueChange(B.value)}),D=R=>{d||(u.onOpenChange(!0),x()),R&&(u.triggerPointerDownPosRef.current={x:Math.round(R.pageX),y:Math.round(R.pageY)})};return v.jsx(t4,{asChild:!0,...c,children:v.jsx(nt.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":jx(u.value)?"":void 0,...o,ref:p,onClick:et(o.onClick,R=>{R.currentTarget.focus(),_.current!=="mouse"&&D(R)}),onPointerDown:et(o.onPointerDown,R=>{_.current=R.pointerType;const N=R.target;N.hasPointerCapture(R.pointerId)&&N.releasePointerCapture(R.pointerId),R.button===0&&R.ctrlKey===!1&&R.pointerType==="mouse"&&(D(R),R.preventDefault())}),onKeyDown:et(o.onKeyDown,R=>{const N=w.current!=="";!(R.ctrlKey||R.altKey||R.metaKey)&&R.key.length===1&&T(R.key),!(N&&R.key===" ")&&X4.includes(R.key)&&(D(),R.preventDefault())})})})});gx.displayName=px;var yx="SelectValue",vx=I.forwardRef((r,e)=>{const{__scopeSelect:t,className:s,style:o,children:c,placeholder:u="",...d}=r,p=qs(yx,t),{onValueNodeHasChildrenChange:g}=p,_=c!==void 0,w=pt(e,p.onValueNodeChange);return wn(()=>{g(_)},[g,_]),v.jsx(nt.span,{...d,ref:w,style:{pointerEvents:"none"},children:jx(p.value)?v.jsx(v.Fragment,{children:u}):c})});vx.displayName=yx;var n6="SelectIcon",_x=I.forwardRef((r,e)=>{const{__scopeSelect:t,children:s,...o}=r;return v.jsx(nt.span,{"aria-hidden":!0,...o,ref:e,children:s||"▼"})});_x.displayName=n6;var r6="SelectPortal",Ex=r=>v.jsx(rx,{asChild:!0,...r});Ex.displayName=r6;var Ua="SelectContent",bx=I.forwardRef((r,e)=>{const t=qs(Ua,r.__scopeSelect),[s,o]=I.useState();if(wn(()=>{o(new DocumentFragment)},[]),!t.open){const c=s;return c?vu.createPortal(v.jsx(wx,{scope:r.__scopeSelect,children:v.jsx(yd.Slot,{scope:r.__scopeSelect,children:v.jsx("div",{children:r.children})})}),c):null}return v.jsx(Tx,{...r,ref:e})});bx.displayName=Ua;var hr=10,[wx,Hs]=_l(Ua),i6="SelectContentImpl",s6=Gc("SelectContent.RemoveScroll"),Tx=I.forwardRef((r,e)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:c,onPointerDownOutside:u,side:d,sideOffset:p,align:g,alignOffset:_,arrowPadding:w,collisionBoundary:T,collisionPadding:x,sticky:D,hideWhenDetached:R,avoidCollisions:N,...L}=r,B=qs(Ua,t),[H,Z]=I.useState(null),[ee,ce]=I.useState(null),P=pt(e,me=>Z(me)),[A,O]=I.useState(null),[j,U]=I.useState(null),z=vd(t),[M,fe]=I.useState(!1),ue=I.useRef(!1);I.useEffect(()=>{if(H)return d4(H)},[H]),Uk();const F=I.useCallback(me=>{const[Se,...Xe]=z().map(ke=>ke.ref.current),[je]=Xe.slice(-1),Me=document.activeElement;for(const ke of me)if(ke===Me||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===Se&&ee&&(ee.scrollTop=0),ke===je&&ee&&(ee.scrollTop=ee.scrollHeight),ke==null||ke.focus(),document.activeElement!==Me))return},[z,ee]),ie=I.useCallback(()=>F([A,H]),[F,A,H]);I.useEffect(()=>{M&&ie()},[M,ie]);const{onOpenChange:W,triggerPointerDownPosRef:be}=B;I.useEffect(()=>{if(H){let me={x:0,y:0};const Se=je=>{var Me,ke;me={x:Math.abs(Math.round(je.pageX)-(((Me=be.current)==null?void 0:Me.x)??0)),y:Math.abs(Math.round(je.pageY)-(((ke=be.current)==null?void 0:ke.y)??0))}},Xe=je=>{me.x<=10&&me.y<=10?je.preventDefault():H.contains(je.target)||W(!1),document.removeEventListener("pointermove",Se),be.current=null};return be.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",Xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",Xe,{capture:!0})}}},[H,W,be]),I.useEffect(()=>{const me=()=>W(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[W]);const[V,ne]=Lx(me=>{const Se=z().filter(Me=>!Me.disabled),Xe=Se.find(Me=>Me.ref.current===document.activeElement),je=Ux(Se,me,Xe);je&&setTimeout(()=>je.ref.current.focus())}),he=I.useCallback((me,Se,Xe)=>{const je=!ue.current&&!Xe;(B.value!==void 0&&B.value===Se||je)&&(O(me),je&&(ue.current=!0))},[B.value]),oe=I.useCallback(()=>H==null?void 0:H.focus(),[H]),pe=I.useCallback((me,Se,Xe)=>{const je=!ue.current&&!Xe;(B.value!==void 0&&B.value===Se||je)&&U(me)},[B.value]),Re=s==="popper"?Vg:Sx,we=Re===Vg?{side:d,sideOffset:p,align:g,alignOffset:_,arrowPadding:w,collisionBoundary:T,collisionPadding:x,sticky:D,hideWhenDetached:R,avoidCollisions:N}:{};return v.jsx(wx,{scope:t,content:H,viewport:ee,onViewportChange:ce,itemRefCallback:he,selectedItem:A,onItemLeave:oe,itemTextRefCallback:pe,focusSelectedItem:ie,selectedItemText:j,position:s,isPositioned:M,searchRef:V,children:v.jsx(dx,{as:s6,allowPinchZoom:!0,children:v.jsx(MA,{asChild:!0,trapped:B.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:et(o,me=>{var Se;(Se=B.trigger)==null||Se.focus({preventScroll:!0}),me.preventDefault()}),children:v.jsx(OA,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>B.onOpenChange(!1),children:v.jsx(Re,{role:"listbox",id:B.contentId,"data-state":B.open?"open":"closed",dir:B.dir,onContextMenu:me=>me.preventDefault(),...L,...we,onPlaced:()=>fe(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...L.style},onKeyDown:et(L.onKeyDown,me=>{const Se=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Se&&me.key.length===1&&ne(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let je=z().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(me.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const Me=me.target,ke=je.indexOf(Me);je=je.slice(ke+1)}setTimeout(()=>F(je)),me.preventDefault()}})})})})})})});Tx.displayName=i6;var a6="SelectItemAlignedPosition",Sx=I.forwardRef((r,e)=>{const{__scopeSelect:t,onPlaced:s,...o}=r,c=qs(Ua,t),u=Hs(Ua,t),[d,p]=I.useState(null),[g,_]=I.useState(null),w=pt(e,P=>_(P)),T=vd(t),x=I.useRef(!1),D=I.useRef(!0),{viewport:R,selectedItem:N,selectedItemText:L,focusSelectedItem:B}=u,H=I.useCallback(()=>{if(c.trigger&&c.valueNode&&d&&g&&R&&N&&L){const P=c.trigger.getBoundingClientRect(),A=g.getBoundingClientRect(),O=c.valueNode.getBoundingClientRect(),j=L.getBoundingClientRect();if(c.dir!=="rtl"){const Me=j.left-A.left,ke=O.left-Me,St=P.left-ke,Qt=P.width+St,sr=Math.max(Qt,A.width),Tr=window.innerWidth-hr,$t=aw(ke,[hr,Math.max(hr,Tr-sr)]);d.style.minWidth=Qt+"px",d.style.left=$t+"px"}else{const Me=A.right-j.right,ke=window.innerWidth-O.right-Me,St=window.innerWidth-P.right-ke,Qt=P.width+St,sr=Math.max(Qt,A.width),Tr=window.innerWidth-hr,$t=aw(ke,[hr,Math.max(hr,Tr-sr)]);d.style.minWidth=Qt+"px",d.style.right=$t+"px"}const U=T(),z=window.innerHeight-hr*2,M=R.scrollHeight,fe=window.getComputedStyle(g),ue=parseInt(fe.borderTopWidth,10),F=parseInt(fe.paddingTop,10),ie=parseInt(fe.borderBottomWidth,10),W=parseInt(fe.paddingBottom,10),be=ue+F+M+W+ie,V=Math.min(N.offsetHeight*5,be),ne=window.getComputedStyle(R),he=parseInt(ne.paddingTop,10),oe=parseInt(ne.paddingBottom,10),pe=P.top+P.height/2-hr,Re=z-pe,we=N.offsetHeight/2,me=N.offsetTop+we,Se=ue+F+me,Xe=be-Se;if(Se<=pe){const Me=U.length>0&&N===U[U.length-1].ref.current;d.style.bottom="0px";const ke=g.clientHeight-R.offsetTop-R.offsetHeight,St=Math.max(Re,we+(Me?oe:0)+ke+ie),Qt=Se+St;d.style.height=Qt+"px"}else{const Me=U.length>0&&N===U[0].ref.current;d.style.top="0px";const St=Math.max(pe,ue+R.offsetTop+(Me?he:0)+we)+Xe;d.style.height=St+"px",R.scrollTop=Se-pe+R.offsetTop}d.style.margin=`${hr}px 0`,d.style.minHeight=V+"px",d.style.maxHeight=z+"px",s==null||s(),requestAnimationFrame(()=>x.current=!0)}},[T,c.trigger,c.valueNode,d,g,R,N,L,c.dir,s]);wn(()=>H(),[H]);const[Z,ee]=I.useState();wn(()=>{g&&ee(window.getComputedStyle(g).zIndex)},[g]);const ce=I.useCallback(P=>{P&&D.current===!0&&(H(),B==null||B(),D.current=!1)},[H,B]);return v.jsx(l6,{scope:t,contentWrapper:d,shouldExpandOnScrollRef:x,onScrollButtonChange:ce,children:v.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Z},children:v.jsx(nt.div,{...o,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Sx.displayName=a6;var o6="SelectPopperPosition",Vg=I.forwardRef((r,e)=>{const{__scopeSelect:t,align:s="start",collisionPadding:o=hr,...c}=r,u=_d(t);return v.jsx(n4,{...u,...c,ref:e,align:s,collisionPadding:o,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Vg.displayName=o6;var[l6,Jy]=_l(Ua,{}),jg="SelectViewport",Ax=I.forwardRef((r,e)=>{const{__scopeSelect:t,nonce:s,...o}=r,c=Hs(jg,t),u=Jy(jg,t),d=pt(e,c.onViewportChange),p=I.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),v.jsx(yd.Slot,{scope:t,children:v.jsx(nt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:et(o.onScroll,g=>{const _=g.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:T}=u;if(T!=null&&T.current&&w){const x=Math.abs(p.current-_.scrollTop);if(x>0){const D=window.innerHeight-hr*2,R=parseFloat(w.style.minHeight),N=parseFloat(w.style.height),L=Math.max(R,N);if(L<D){const B=L+x,H=Math.min(D,B),Z=B-H;w.style.height=H+"px",w.style.bottom==="0px"&&(_.scrollTop=Z>0?Z:0,w.style.justifyContent="flex-end")}}}p.current=_.scrollTop})})})]})});Ax.displayName=jg;var xx="SelectGroup",[c6,u6]=_l(xx),f6=I.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r,o=hd();return v.jsx(c6,{scope:t,id:o,children:v.jsx(nt.div,{role:"group","aria-labelledby":o,...s,ref:e})})});f6.displayName=xx;var Rx="SelectLabel",h6=I.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r,o=u6(Rx,t);return v.jsx(nt.div,{id:o.id,...s,ref:e})});h6.displayName=Rx;var qh="SelectItem",[d6,Cx]=_l(qh),Ix=I.forwardRef((r,e)=>{const{__scopeSelect:t,value:s,disabled:o=!1,textValue:c,...u}=r,d=qs(qh,t),p=Hs(qh,t),g=d.value===s,[_,w]=I.useState(c??""),[T,x]=I.useState(!1),D=pt(e,B=>{var H;return(H=p.itemRefCallback)==null?void 0:H.call(p,B,s,o)}),R=hd(),N=I.useRef("touch"),L=()=>{o||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(d6,{scope:t,value:s,disabled:o,textId:R,isSelected:g,onItemTextChange:I.useCallback(B=>{w(H=>H||((B==null?void 0:B.textContent)??"").trim())},[]),children:v.jsx(yd.ItemSlot,{scope:t,value:s,disabled:o,textValue:_,children:v.jsx(nt.div,{role:"option","aria-labelledby":R,"data-highlighted":T?"":void 0,"aria-selected":g&&T,"data-state":g?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:D,onFocus:et(u.onFocus,()=>x(!0)),onBlur:et(u.onBlur,()=>x(!1)),onClick:et(u.onClick,()=>{N.current!=="mouse"&&L()}),onPointerUp:et(u.onPointerUp,()=>{N.current==="mouse"&&L()}),onPointerDown:et(u.onPointerDown,B=>{N.current=B.pointerType}),onPointerMove:et(u.onPointerMove,B=>{var H;N.current=B.pointerType,o?(H=p.onItemLeave)==null||H.call(p):N.current==="mouse"&&B.currentTarget.focus({preventScroll:!0})}),onPointerLeave:et(u.onPointerLeave,B=>{var H;B.currentTarget===document.activeElement&&((H=p.onItemLeave)==null||H.call(p))}),onKeyDown:et(u.onKeyDown,B=>{var Z;((Z=p.searchRef)==null?void 0:Z.current)!==""&&B.key===" "||(W4.includes(B.key)&&L(),B.key===" "&&B.preventDefault())})})})})});Ix.displayName=qh;var jc="SelectItemText",Nx=I.forwardRef((r,e)=>{const{__scopeSelect:t,className:s,style:o,...c}=r,u=qs(jc,t),d=Hs(jc,t),p=Cx(jc,t),g=t6(jc,t),[_,w]=I.useState(null),T=pt(e,L=>w(L),p.onItemTextChange,L=>{var B;return(B=d.itemTextRefCallback)==null?void 0:B.call(d,L,p.value,p.disabled)}),x=_==null?void 0:_.textContent,D=I.useMemo(()=>v.jsx("option",{value:p.value,disabled:p.disabled,children:x},p.value),[p.disabled,p.value,x]),{onNativeOptionAdd:R,onNativeOptionRemove:N}=g;return wn(()=>(R(D),()=>N(D)),[R,N,D]),v.jsxs(v.Fragment,{children:[v.jsx(nt.span,{id:p.textId,...c,ref:T}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?vu.createPortal(c.children,u.valueNode):null]})});Nx.displayName=jc;var Dx="SelectItemIndicator",Ox=I.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r;return Cx(Dx,t).isSelected?v.jsx(nt.span,{"aria-hidden":!0,...s,ref:e}):null});Ox.displayName=Dx;var Lg="SelectScrollUpButton",Px=I.forwardRef((r,e)=>{const t=Hs(Lg,r.__scopeSelect),s=Jy(Lg,r.__scopeSelect),[o,c]=I.useState(!1),u=pt(e,s.onScrollButtonChange);return wn(()=>{if(t.viewport&&t.isPositioned){let d=function(){const g=p.scrollTop>0;c(g)};const p=t.viewport;return d(),p.addEventListener("scroll",d),()=>p.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),o?v.jsx(kx,{...r,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:p}=t;d&&p&&(d.scrollTop=d.scrollTop-p.offsetHeight)}}):null});Px.displayName=Lg;var Ug="SelectScrollDownButton",Mx=I.forwardRef((r,e)=>{const t=Hs(Ug,r.__scopeSelect),s=Jy(Ug,r.__scopeSelect),[o,c]=I.useState(!1),u=pt(e,s.onScrollButtonChange);return wn(()=>{if(t.viewport&&t.isPositioned){let d=function(){const g=p.scrollHeight-p.clientHeight,_=Math.ceil(p.scrollTop)<g;c(_)};const p=t.viewport;return d(),p.addEventListener("scroll",d),()=>p.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),o?v.jsx(kx,{...r,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:p}=t;d&&p&&(d.scrollTop=d.scrollTop+p.offsetHeight)}}):null});Mx.displayName=Ug;var kx=I.forwardRef((r,e)=>{const{__scopeSelect:t,onAutoScroll:s,...o}=r,c=Hs("SelectScrollButton",t),u=I.useRef(null),d=vd(t),p=I.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return I.useEffect(()=>()=>p(),[p]),wn(()=>{var _;const g=d().find(w=>w.ref.current===document.activeElement);(_=g==null?void 0:g.ref.current)==null||_.scrollIntoView({block:"nearest"})},[d]),v.jsx(nt.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:et(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(s,50))}),onPointerMove:et(o.onPointerMove,()=>{var g;(g=c.onItemLeave)==null||g.call(c),u.current===null&&(u.current=window.setInterval(s,50))}),onPointerLeave:et(o.onPointerLeave,()=>{p()})})}),m6="SelectSeparator",p6=I.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r;return v.jsx(nt.div,{"aria-hidden":!0,...s,ref:e})});p6.displayName=m6;var zg="SelectArrow",g6=I.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r,o=_d(t),c=qs(zg,t),u=Hs(zg,t);return c.open&&u.position==="popper"?v.jsx(r4,{...o,...s,ref:e}):null});g6.displayName=zg;var y6="SelectBubbleInput",Vx=I.forwardRef(({__scopeSelect:r,value:e,...t},s)=>{const o=I.useRef(null),c=pt(s,o),u=Zy(e);return I.useEffect(()=>{const d=o.current;if(!d)return;const p=window.HTMLSelectElement.prototype,_=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==e&&_){const w=new Event("change",{bubbles:!0});_.call(d,e),d.dispatchEvent(w)}},[u,e]),v.jsx(nt.select,{...t,style:{...ix,...t.style},ref:c,defaultValue:e})});Vx.displayName=y6;function jx(r){return r===""||r===void 0}function Lx(r){const e=Ms(r),t=I.useRef(""),s=I.useRef(0),o=I.useCallback(u=>{const d=t.current+u;e(d),function p(g){t.current=g,window.clearTimeout(s.current),g!==""&&(s.current=window.setTimeout(()=>p(""),1e3))}(d)},[e]),c=I.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return I.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,o,c]}function Ux(r,e,t){const o=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,c=t?r.indexOf(t):-1;let u=v6(r,Math.max(c,0));o.length===1&&(u=u.filter(g=>g!==t));const p=u.find(g=>g.textValue.toLowerCase().startsWith(o.toLowerCase()));return p!==t?p:void 0}function v6(r,e){return r.map((t,s)=>r[(e+s)%r.length])}var _6=mx,E6=gx,b6=vx,w6=_x,T6=Ex,S6=bx,A6=Ax,x6=Ix,R6=Nx,C6=Ox,I6=Px,N6=Mx;function Rw({...r}){return v.jsx(_6,{"data-slot":"select",...r})}function Cw({...r}){return v.jsx(b6,{"data-slot":"select-value",...r})}function Iw({className:r,size:e="default",children:t,...s}){return v.jsxs(E6,{"data-slot":"select-trigger","data-size":e,className:Yt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...s,children:[t,v.jsx(w6,{asChild:!0,children:v.jsx(Ww,{className:"size-4 opacity-50"})})]})}function Nw({className:r,children:e,position:t="popper",...s}){return v.jsx(T6,{children:v.jsxs(S6,{"data-slot":"select-content",className:Yt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:t,...s,children:[v.jsx(D6,{}),v.jsx(A6,{className:Yt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),v.jsx(O6,{})]})})}function Dw({className:r,children:e,...t}){return v.jsxs(x6,{"data-slot":"select-item",className:Yt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...t,children:[v.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:v.jsx(C6,{children:v.jsx(zC,{className:"size-4"})})}),v.jsx(R6,{children:e})]})}function D6({className:r,...e}){return v.jsx(I6,{"data-slot":"select-scroll-up-button",className:Yt("flex cursor-default items-center justify-center py-1",r),...e,children:v.jsx(HC,{className:"size-4"})})}function O6({className:r,...e}){return v.jsx(N6,{"data-slot":"select-scroll-down-button",className:Yt("flex cursor-default items-center justify-center py-1",r),...e,children:v.jsx(Ww,{className:"size-4"})})}var Wp="rovingFocusGroup.onEntryFocus",P6={bubbles:!1,cancelable:!0},Eu="RovingFocusGroup",[Bg,zx,M6]=NA(Eu),[k6,Bx]=qa(Eu,[M6]),[V6,j6]=k6(Eu),qx=I.forwardRef((r,e)=>v.jsx(Bg.Provider,{scope:r.__scopeRovingFocusGroup,children:v.jsx(Bg.Slot,{scope:r.__scopeRovingFocusGroup,children:v.jsx(L6,{...r,ref:e})})}));qx.displayName=Eu;var L6=I.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,orientation:s,loop:o=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:p,onEntryFocus:g,preventScrollOnEntryFocus:_=!1,...w}=r,T=I.useRef(null),x=pt(e,T),D=By(c),[R,N]=iu({prop:u,defaultProp:d??null,onChange:p,caller:Eu}),[L,B]=I.useState(!1),H=Ms(g),Z=zx(t),ee=I.useRef(!1),[ce,P]=I.useState(0);return I.useEffect(()=>{const A=T.current;if(A)return A.addEventListener(Wp,H),()=>A.removeEventListener(Wp,H)},[H]),v.jsx(V6,{scope:t,orientation:s,dir:D,loop:o,currentTabStopId:R,onItemFocus:I.useCallback(A=>N(A),[N]),onItemShiftTab:I.useCallback(()=>B(!0),[]),onFocusableItemAdd:I.useCallback(()=>P(A=>A+1),[]),onFocusableItemRemove:I.useCallback(()=>P(A=>A-1),[]),children:v.jsx(nt.div,{tabIndex:L||ce===0?-1:0,"data-orientation":s,...w,ref:x,style:{outline:"none",...r.style},onMouseDown:et(r.onMouseDown,()=>{ee.current=!0}),onFocus:et(r.onFocus,A=>{const O=!ee.current;if(A.target===A.currentTarget&&O&&!L){const j=new CustomEvent(Wp,P6);if(A.currentTarget.dispatchEvent(j),!j.defaultPrevented){const U=Z().filter(F=>F.focusable),z=U.find(F=>F.active),M=U.find(F=>F.id===R),ue=[z,M,...U].filter(Boolean).map(F=>F.ref.current);Gx(ue,_)}}ee.current=!1}),onBlur:et(r.onBlur,()=>B(!1))})})}),Hx="RovingFocusGroupItem",Fx=I.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,focusable:s=!0,active:o=!1,tabStopId:c,children:u,...d}=r,p=hd(),g=c||p,_=j6(Hx,t),w=_.currentTabStopId===g,T=zx(t),{onFocusableItemAdd:x,onFocusableItemRemove:D,currentTabStopId:R}=_;return I.useEffect(()=>{if(s)return x(),()=>D()},[s,x,D]),v.jsx(Bg.ItemSlot,{scope:t,id:g,focusable:s,active:o,children:v.jsx(nt.span,{tabIndex:w?0:-1,"data-orientation":_.orientation,...d,ref:e,onMouseDown:et(r.onMouseDown,N=>{s?_.onItemFocus(g):N.preventDefault()}),onFocus:et(r.onFocus,()=>_.onItemFocus(g)),onKeyDown:et(r.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){_.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const L=B6(N,_.orientation,_.dir);if(L!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let H=T().filter(Z=>Z.focusable).map(Z=>Z.ref.current);if(L==="last")H.reverse();else if(L==="prev"||L==="next"){L==="prev"&&H.reverse();const Z=H.indexOf(N.currentTarget);H=_.loop?q6(H,Z+1):H.slice(Z+1)}setTimeout(()=>Gx(H))}}),children:typeof u=="function"?u({isCurrentTabStop:w,hasTabStop:R!=null}):u})})});Fx.displayName=Hx;var U6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function z6(r,e){return e!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function B6(r,e,t){const s=z6(r.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return U6[s]}function Gx(r,e=!1){const t=document.activeElement;for(const s of r)if(s===t||(s.focus({preventScroll:e}),document.activeElement!==t))return}function q6(r,e){return r.map((t,s)=>r[(e+s)%r.length])}var H6=qx,F6=Fx;function G6(r,e){return I.useReducer((t,s)=>e[t][s]??t,r)}var Kx=r=>{const{present:e,children:t}=r,s=K6(e),o=typeof t=="function"?t({present:s.isPresent}):I.Children.only(t),c=pt(s.ref,Y6(o));return typeof t=="function"||s.isPresent?I.cloneElement(o,{ref:c}):null};Kx.displayName="Presence";function K6(r){const[e,t]=I.useState(),s=I.useRef(null),o=I.useRef(r),c=I.useRef("none"),u=r?"mounted":"unmounted",[d,p]=G6(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const g=ih(s.current);c.current=d==="mounted"?g:"none"},[d]),wn(()=>{const g=s.current,_=o.current;if(_!==r){const T=c.current,x=ih(g);r?p("MOUNT"):x==="none"||(g==null?void 0:g.display)==="none"?p("UNMOUNT"):p(_&&T!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=r}},[r,p]),wn(()=>{if(e){let g;const _=e.ownerDocument.defaultView??window,w=x=>{const R=ih(s.current).includes(x.animationName);if(x.target===e&&R&&(p("ANIMATION_END"),!o.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",g=_.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},T=x=>{x.target===e&&(c.current=ih(s.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{_.clearTimeout(g),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:I.useCallback(g=>{s.current=g?getComputedStyle(g):null,t(g)},[])}}function ih(r){return(r==null?void 0:r.animationName)||"none"}function Y6(r){var s,o;let e=(s=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var ev="Radio",[Q6,Yx]=qa(ev),[$6,X6]=Q6(ev),Qx=I.forwardRef((r,e)=>{const{__scopeRadio:t,name:s,checked:o=!1,required:c,disabled:u,value:d="on",onCheck:p,form:g,..._}=r,[w,T]=I.useState(null),x=pt(e,N=>T(N)),D=I.useRef(!1),R=w?g||!!w.closest("form"):!0;return v.jsxs($6,{scope:t,checked:o,disabled:u,children:[v.jsx(nt.button,{type:"button",role:"radio","aria-checked":o,"data-state":Zx(o),"data-disabled":u?"":void 0,disabled:u,value:d,..._,ref:x,onClick:et(r.onClick,N=>{o||p==null||p(),R&&(D.current=N.isPropagationStopped(),D.current||N.stopPropagation())})}),R&&v.jsx(Wx,{control:w,bubbles:!D.current,name:s,value:d,checked:o,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});Qx.displayName=ev;var $x="RadioIndicator",Xx=I.forwardRef((r,e)=>{const{__scopeRadio:t,forceMount:s,...o}=r,c=X6($x,t);return v.jsx(Kx,{present:s||c.checked,children:v.jsx(nt.span,{"data-state":Zx(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:e})})});Xx.displayName=$x;var W6="RadioBubbleInput",Wx=I.forwardRef(({__scopeRadio:r,control:e,checked:t,bubbles:s=!0,...o},c)=>{const u=I.useRef(null),d=pt(u,c),p=Zy(t),g=$y(e);return I.useEffect(()=>{const _=u.current;if(!_)return;const w=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(w,"checked").set;if(p!==t&&x){const D=new Event("click",{bubbles:s});x.call(_,t),_.dispatchEvent(D)}},[p,t,s]),v.jsx(nt.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:d,style:{...o.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Wx.displayName=W6;function Zx(r){return r?"checked":"unchecked"}var Z6=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ed="RadioGroup",[J6,T3]=qa(Ed,[Bx,Yx]),Jx=Bx(),e1=Yx(),[e3,t3]=J6(Ed),t1=I.forwardRef((r,e)=>{const{__scopeRadioGroup:t,name:s,defaultValue:o,value:c,required:u=!1,disabled:d=!1,orientation:p,dir:g,loop:_=!0,onValueChange:w,...T}=r,x=Jx(t),D=By(g),[R,N]=iu({prop:c,defaultProp:o??null,onChange:w,caller:Ed});return v.jsx(e3,{scope:t,name:s,required:u,disabled:d,value:R,onValueChange:N,children:v.jsx(H6,{asChild:!0,...x,orientation:p,dir:D,loop:_,children:v.jsx(nt.div,{role:"radiogroup","aria-required":u,"aria-orientation":p,"data-disabled":d?"":void 0,dir:D,...T,ref:e})})})});t1.displayName=Ed;var n1="RadioGroupItem",r1=I.forwardRef((r,e)=>{const{__scopeRadioGroup:t,disabled:s,...o}=r,c=t3(n1,t),u=c.disabled||s,d=Jx(t),p=e1(t),g=I.useRef(null),_=pt(e,g),w=c.value===o.value,T=I.useRef(!1);return I.useEffect(()=>{const x=R=>{Z6.includes(R.key)&&(T.current=!0)},D=()=>T.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",D),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",D)}},[]),v.jsx(F6,{asChild:!0,...d,focusable:!u,active:w,children:v.jsx(Qx,{disabled:u,required:c.required,checked:w,...p,...o,name:c.name,ref:_,onCheck:()=>c.onValueChange(o.value),onKeyDown:et(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:et(o.onFocus,()=>{var x;T.current&&((x=g.current)==null||x.click())})})})});r1.displayName=n1;var n3="RadioGroupIndicator",i1=I.forwardRef((r,e)=>{const{__scopeRadioGroup:t,...s}=r,o=e1(t);return v.jsx(Xx,{...o,...s,ref:e})});i1.displayName=n3;var r3=t1,i3=r1,s3=i1;function a3({className:r,...e}){return v.jsx(r3,{"data-slot":"radio-group",className:Yt("grid gap-3",r),...e})}function Ow({className:r,...e}){return v.jsx(i3,{"data-slot":"radio-group-item",className:Yt("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...e,children:v.jsx(s3,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:v.jsx(QC,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const mr={RIDE_REQUESTS:"rideRequests",USERS:"users",DRIVERS:"drivers"},pr={async create(r){try{return(await RA(ys(dr,mr.RIDE_REQUESTS),{...r,createdAt:Fc(),updatedAt:Fc()})).id}catch(e){throw console.error("Erro ao criar solicitação:",e),e}},async update(r,e){try{const t=Vh(dr,mr.RIDE_REQUESTS,r);await xA(t,{...e,updatedAt:Fc()})}catch(t){throw console.error("Erro ao atualizar solicitação:",t),t}},async delete(r){try{await vk(Vh(dr,mr.RIDE_REQUESTS,r))}catch(e){throw console.error("Erro ao deletar solicitação:",e),e}},async getByDriver(r){try{const e=Fo(ys(dr,mr.RIDE_REQUESTS),Go("driverId","==",r),Nc("createdAt","desc"));return(await Ng(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Erro ao buscar solicitações do motorista:",e),e}},async getByUser(r){try{const e=Fo(ys(dr,mr.RIDE_REQUESTS),Go("userId","==",r),Nc("createdAt","desc"));return(await Ng(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Erro ao buscar solicitações do usuário:",e),e}},onDriverRequestsChange(r,e){const t=Fo(ys(dr,mr.RIDE_REQUESTS),Go("driverId","==",r),Nc("createdAt","desc"));return Bp(t,s=>{const o=s.docs.map(c=>({id:c.id,...c.data()}));e(o)})},onUserRequestsChange(r,e){const t=Fo(ys(dr,mr.RIDE_REQUESTS),Go("userId","==",r),Nc("createdAt","desc"));return Bp(t,s=>{const o=s.docs.map(c=>({id:c.id,...c.data()}));e(o)})},onPendingRequestsChange(r){const e=Fo(ys(dr,mr.RIDE_REQUESTS),Go("status","in",["pending","waitingPrice"]),Nc("createdAt","desc"));return Bp(e,t=>{const s=t.docs.map(o=>({id:o.id,...o.data()}));r(s)})}},s1={async create(r){try{return(await RA(ys(dr,mr.DRIVERS),{...r,createdAt:Fc()})).id}catch(e){throw console.error("Erro ao criar motorista:",e),e}},async update(r,e){try{const t=Vh(dr,mr.DRIVERS,r);await xA(t,{...e,updatedAt:Fc()})}catch(t){throw console.error("Erro ao atualizar motorista:",t),t}},async getAvailable(){try{const r=Fo(ys(dr,mr.DRIVERS),Go("available","==",!0));return(await Ng(r)).docs.map(t=>({id:t.id,...t.data()}))}catch(r){throw console.error("Erro ao buscar motoristas disponíveis:",r),r}}};function o3({user:r,onLogout:e}){const[t,s]=I.useState(null),[o,c]=I.useState(""),[u,d]=I.useState(""),[p,g]=I.useState("idle"),[_,w]=I.useState([]),[T,x]=I.useState(null),[D,R]=I.useState(null),[N,L]=I.useState(""),[B,H]=I.useState(!1),[Z,ee]=I.useState([]),ce=["Rua Júlio de Castilhos (Rua da Ladeira)","Rua Andrade Neves","Rua General Osório","Rua Barão do Rio Branco","Rua Marechal Deodoro","Rua Coronel Vicente","Rua Voluntários da Pátria","Rua Tiradentes","Rua Benjamin Constant","Avenida Independência"];I.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(ue=>{s({lat:ue.coords.latitude,lng:ue.coords.longitude})},ue=>{console.error("Erro ao obter localização:",ue),s({lat:-29.9897,lng:-52.3789})}):s({lat:-29.9897,lng:-52.3789});let fe=null;return r!=null&&r.id&&(fe=pr.onUserRequestsChange(r.id,ue=>{ee(ue);const F=ue.find(ie=>ie.status==="priceProposed");F&&p==="waitingPrice"&&(R(F.proposedPrice),x(F.driver),g("priceReceived"))})),()=>{fe&&fe()}},[r==null?void 0:r.id,p]);const P=async()=>{if(!o.trim()||!u.trim()){alert("Por favor, selecione a rua de origem e destino!");return}if(o===u){alert("A rua de origem e destino não podem ser iguais!");return}H(!0),g("requesting");try{const fe=await s1.getAvailable();if(fe.length===0)w([{id:"mock_1",name:"Carlos Silva",vehicle:"Honda Civic Branco",plate:"ABC-1234",pixKey:"carlos.silva@email.com",distance:"2.1 km",eta:"5 min",rating:"4.8",available:!0},{id:"mock_2",name:"Maria Santos",vehicle:"Toyota Corolla Prata",plate:"DEF-5678",pixKey:"(51) 99999-9999",distance:"1.5 km",eta:"3 min",rating:"4.9",available:!0},{id:"mock_3",name:"João Oliveira",vehicle:"Chevrolet Onix Azul",plate:"GHI-9012",pixKey:"joao.oliveira@pix.com",distance:"3.2 km",eta:"7 min",rating:"4.7",available:!0}]);else{const ue=fe.map(F=>({...F,distance:`${(Math.random()*5+.5).toFixed(1)} km`,eta:`${Math.floor(Math.random()*10+2)} min`,rating:F.rating||(Math.random()*1+4).toFixed(1)}));w(ue)}H(!1)}catch(fe){console.error("Erro ao buscar motoristas:",fe),alert("Erro ao buscar motoristas. Tente novamente."),H(!1),g("idle")}},A=async fe=>{x(fe),g("waitingPrice");try{const ue={userId:r.id,userName:r.name,userPhone:r.phone,driverId:fe.id,driver:fe,origin:o,destination:u,status:"waitingPrice"};await pr.create(ue)}catch(ue){console.error("Erro ao criar solicitação:",ue),alert("Erro ao enviar solicitação. Tente novamente."),g("requesting")}},O=async()=>{if(!N){alert("Por favor, selecione uma forma de pagamento!");return}try{g("matched");const ue=(await pr.getByUser(r.id)).find(F=>F.status==="priceProposed");ue&&await pr.update(ue.id,{status:"accepted",paymentMethod:N,acceptedPrice:D})}catch(fe){console.error("Erro ao aceitar preço:",fe),alert("Erro ao aceitar preço. Tente novamente."),g("priceReceived")}},j=async()=>{try{const ue=(await pr.getByUser(r.id)).find(F=>F.status==="priceProposed");ue&&await pr.update(ue.id,{status:"rejected"}),g("requesting"),x(null),R(null),L("")}catch(fe){console.error("Erro ao rejeitar preço:",fe),alert("Erro ao rejeitar preço. Tente novamente.")}},U=()=>{g("inProgress");const ue=JSON.parse(localStorage.getItem("rides")||"[]").map(F=>F.userId===r.id&&F.status==="accepted"?{...F,status:"inProgress"}:F);localStorage.setItem("rides",JSON.stringify(ue))},z=()=>{const ue=JSON.parse(localStorage.getItem("rideRequests")||"[]").map(F=>F.userId===r.id&&(F.status==="waitingPrice"||F.status==="priceProposed")?{...F,status:"cancelled"}:F);localStorage.setItem("rideRequests",JSON.stringify(ue)),g("idle"),x(null),w([]),R(null),L(""),c(""),d("")},M=()=>{switch(p){case"requesting":return"Procurando motoristas...";case"waitingPrice":return`Aguardando proposta de preço de ${T==null?void 0:T.name}...`;case"priceReceived":return`${T==null?void 0:T.name} enviou uma proposta de preço`;case"matched":return`Corrida confirmada com ${T==null?void 0:T.name}`;case"inProgress":return"Corrida em andamento";default:return"Solicitar corrida"}};return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("div",{className:"bg-white shadow-sm border-b",children:v.jsxs("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:v.jsx(su,{className:"w-5 h-5 text-blue-600"})}),v.jsxs("div",{children:[v.jsxs("h1",{className:"font-semibold text-gray-900",children:["Olá, ",r.name]}),v.jsx("p",{className:"text-sm text-gray-500",children:"Rio Pardo-RS"})]})]}),v.jsx(Vt,{variant:"ghost",size:"sm",onClick:e,children:v.jsx(tT,{className:"w-4 h-4"})})]})}),v.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-4",children:[v.jsxs(Tt,{children:[v.jsx(nn,{children:v.jsxs(rn,{className:"flex items-center space-x-2",children:[v.jsx(tg,{className:"w-5 h-5"}),v.jsx("span",{children:"Sua localização"})]})}),v.jsx(kt,{children:v.jsxs("div",{className:"bg-gradient-to-br from-blue-100 to-green-100 rounded-lg h-48 flex items-center justify-center relative",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-4xl mb-2",children:"🗺️"}),v.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Rio Pardo - RS"}),t&&v.jsxs("div",{className:"mt-2",children:[v.jsx("p",{className:"text-xs text-green-600",children:"📍 GPS Ativo"}),v.jsxs("p",{className:"text-xs text-gray-500",children:[t.lat.toFixed(4),", ",t.lng.toFixed(4)]})]})]}),t&&v.jsx("div",{className:"absolute top-2 right-2 bg-white px-2 py-1 rounded text-xs shadow",children:"GPS ON"})]})})]}),v.jsxs(Tt,{children:[v.jsx(nn,{children:v.jsxs(rn,{className:"flex items-center space-x-2",children:[v.jsx(eI,{className:"w-5 h-5"}),v.jsx("span",{children:"Solicitar corrida"})]})}),v.jsxs(kt,{className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"origin",children:"De onde você está?"}),v.jsxs(Rw,{value:o,onValueChange:c,disabled:p!=="idle",children:[v.jsx(Iw,{children:v.jsx(Cw,{placeholder:"Selecione sua rua atual"})}),v.jsx(Nw,{children:ce.map((fe,ue)=>v.jsx(Dw,{value:fe,children:fe},ue))})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"destination",children:"Para onde você quer ir?"}),v.jsxs(Rw,{value:u,onValueChange:d,disabled:p!=="idle",children:[v.jsx(Iw,{children:v.jsx(Cw,{placeholder:"Selecione o destino"})}),v.jsx(Nw,{children:ce.filter(fe=>fe!==o).map((fe,ue)=>v.jsx(Dw,{value:fe,children:fe},ue))})]})]}),p==="idle"&&v.jsx(Vt,{onClick:P,className:"w-full bg-blue-600 hover:bg-blue-700",disabled:B||!o.trim()||!u.trim(),children:B?"Procurando...":"Buscar Motoristas"}),p!=="idle"&&p!=="inProgress"&&v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[v.jsx(Jw,{className:"w-4 h-4 text-blue-600"}),v.jsx("span",{children:M()})]}),v.jsx(Vt,{onClick:z,variant:"outline",className:"w-full",children:"Cancelar corrida"})]})]})]}),p==="requesting"&&_.length>0&&v.jsxs(Tt,{children:[v.jsxs(nn,{children:[v.jsx(rn,{children:"Motoristas Disponíveis"}),v.jsx(Ni,{children:"Selecione um motorista para solicitar o preço da corrida"})]}),v.jsx(kt,{className:"space-y-3",children:_.map(fe=>v.jsx("div",{onClick:()=>A(fe),className:"p-3 border border-gray-200 rounded-lg hover:bg-blue-50 cursor-pointer transition-colors",children:v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:v.jsx(gr,{className:"w-5 h-5 text-gray-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold text-gray-900",children:fe.name}),v.jsx("p",{className:"text-sm text-gray-600",children:fe.vehicle}),v.jsxs("p",{className:"text-sm text-gray-500",children:["Placa: ",fe.plate]}),v.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[v.jsx(sh,{className:"w-3 h-3 text-yellow-500 fill-current"}),v.jsx("span",{className:"text-xs text-gray-600",children:fe.rating})]})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-sm font-semibold text-blue-600",children:fe.distance}),v.jsx("p",{className:"text-xs text-gray-500",children:fe.eta})]})]})},fe.id))})]}),p==="waitingPrice"&&T&&v.jsxs(Tt,{className:"border-yellow-200 bg-yellow-50",children:[v.jsx(nn,{children:v.jsx(rn,{className:"text-yellow-900",children:"Aguardando Proposta"})}),v.jsxs(kt,{className:"space-y-3",children:[v.jsx("div",{className:"p-3 bg-white border border-yellow-200 rounded-lg",children:v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:v.jsx(gr,{className:"w-5 h-5 text-yellow-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold text-yellow-900",children:T.name}),v.jsx("p",{className:"text-sm text-yellow-700",children:T.vehicle}),v.jsxs("p",{className:"text-sm text-yellow-600",children:["Placa: ",T.plate]})]})]})}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl mb-2",children:"⏳"}),v.jsx("p",{className:"text-sm text-yellow-700",children:"O motorista está analisando sua solicitação e enviará o preço em breve"}),v.jsxs("p",{className:"text-xs text-yellow-600 mt-1",children:["De: ",o]}),v.jsxs("p",{className:"text-xs text-yellow-600",children:["Para: ",u]})]})]})]}),p==="priceReceived"&&T&&D&&v.jsxs(Tt,{className:"border-green-200 bg-green-50",children:[v.jsx(nn,{children:v.jsx(rn,{className:"text-green-900",children:"Proposta de Preço Recebida"})}),v.jsxs(kt,{className:"space-y-4",children:[v.jsx("div",{className:"p-3 bg-white border border-green-200 rounded-lg",children:v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:v.jsx(gr,{className:"w-5 h-5 text-green-600"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"font-semibold text-green-900",children:T.name}),v.jsx("p",{className:"text-sm text-green-700",children:T.vehicle}),v.jsxs("p",{className:"text-sm text-green-600",children:["Placa: ",T.plate]}),v.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[v.jsx(sh,{className:"w-3 h-3 text-yellow-500 fill-current"}),v.jsx("span",{className:"text-xs text-green-600",children:T.rating})]})]})]})}),v.jsxs("div",{className:"p-4 bg-white border-2 border-green-300 rounded-lg text-center",children:[v.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[v.jsx(eT,{className:"w-6 h-6 text-green-600"}),v.jsxs("span",{className:"text-3xl font-bold text-green-900",children:["R$ ",D]})]}),v.jsx("p",{className:"text-sm text-green-700",children:"Preço proposto para a corrida"}),v.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["De: ",o]}),v.jsxs("p",{className:"text-xs text-green-600",children:["Para: ",u]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx(ht,{children:"Forma de Pagamento:"}),v.jsxs(a3,{value:N,onValueChange:L,children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Ow,{value:"pix",id:"pix"}),v.jsx(ht,{htmlFor:"pix",className:"flex-1",children:v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:"PIX"}),v.jsx("p",{className:"text-sm text-gray-600",children:T.pixKey})]})})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Ow,{value:"dinheiro",id:"dinheiro"}),v.jsx(ht,{htmlFor:"dinheiro",children:"Dinheiro"})]})]})]}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsxs(Vt,{onClick:O,disabled:!N,className:"flex-1 bg-green-600 hover:bg-green-700",children:[v.jsx(Zw,{className:"w-4 h-4 mr-2"}),"Aceitar R$ ",D]}),v.jsxs(Vt,{onClick:j,variant:"outline",className:"flex-1 border-red-300 text-red-700 hover:bg-red-50",children:[v.jsx(KC,{className:"w-4 h-4 mr-2"}),"Recusar"]})]})]})]}),p==="matched"&&T&&v.jsxs(Tt,{className:"border-blue-200 bg-blue-50",children:[v.jsx(nn,{children:v.jsx(rn,{className:"text-blue-900",children:"Corrida Confirmada"})}),v.jsxs(kt,{className:"space-y-4",children:[v.jsx("div",{className:"p-3 bg-white border border-blue-200 rounded-lg",children:v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:v.jsx(gr,{className:"w-5 h-5 text-blue-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold text-blue-900",children:T.name}),v.jsx("p",{className:"text-sm text-blue-700",children:T.vehicle}),v.jsxs("p",{className:"text-sm text-blue-600",children:["Placa: ",T.plate]}),v.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[v.jsx(sh,{className:"w-3 h-3 text-yellow-500 fill-current"}),v.jsx("span",{className:"text-xs text-blue-600",children:T.rating})]})]})]})}),v.jsxs("div",{className:"p-3 bg-white border border-blue-200 rounded-lg",children:[v.jsxs("p",{className:"text-sm text-blue-700",children:[v.jsx("strong",{children:"Preço acordado:"})," R$ ",D]}),v.jsxs("p",{className:"text-sm text-blue-700",children:[v.jsx("strong",{children:"Pagamento:"})," ",N==="pix"?`PIX - ${T.pixKey}`:"Dinheiro"]}),v.jsxs("p",{className:"text-sm text-blue-700",children:[v.jsx("strong",{children:"De:"})," ",o]}),v.jsxs("p",{className:"text-sm text-blue-700",children:[v.jsx("strong",{children:"Para:"})," ",u]})]}),v.jsx(Vt,{onClick:U,className:"w-full bg-blue-600 hover:bg-blue-700",children:"Iniciar Corrida"})]})]}),p==="inProgress"&&T&&v.jsxs(Tt,{children:[v.jsx(nn,{children:v.jsx(rn,{className:"text-green-700",children:"Corrida em Andamento"})}),v.jsxs(kt,{className:"space-y-3",children:[v.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[v.jsxs("p",{className:"text-sm text-green-700",children:[v.jsx("strong",{children:"Preço:"})," R$ ",D]}),v.jsxs("p",{className:"text-sm text-green-700",children:[v.jsx("strong",{children:"Destino:"})," ",u]}),v.jsxs("p",{className:"text-sm text-green-700",children:[v.jsx("strong",{children:"Motorista:"})," ",T.name]}),v.jsxs("p",{className:"text-sm text-green-700",children:[v.jsx("strong",{children:"Pagamento:"})," ",N==="pix"?`PIX - ${T.pixKey}`:"Dinheiro"]})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl mb-2",children:"🚗💨"}),v.jsx("p",{className:"text-sm text-gray-600",children:"O motorista está a caminho do destino"})]})]})]})]})]})}function l3({onBack:r,onLogin:e,onRegister:t}){const[s,o]=I.useState(""),[c,u]=I.useState(""),[d,p]=I.useState(!1),[g,_]=I.useState(""),w=async T=>{T.preventDefault(),p(!0),_("");try{const D=(await H2(zy,s,c)).user,R=JSON.parse(localStorage.getItem("drivers")||"[]");let N=R.find(L=>L.email===s);if(!N)N={id:D.uid,name:D.displayName||"Motorista",email:D.email,phone:"",vehicle:"",plate:"",cnh:"",year:"",pixKey:"",provider:"firebase",type:"driver",available:!1,trips:0,rating:"5.0",createdAt:new Date().toISOString()},R.push(N),localStorage.setItem("drivers",JSON.stringify(R));else{N={...N,id:D.uid,email:D.email,provider:"firebase"};const L=R.map(B=>B.email===s?N:B);localStorage.setItem("drivers",JSON.stringify(L))}localStorage.setItem("currentDriver",JSON.stringify(N)),e(N)}catch(x){console.error("Erro no login:",x);let D="Erro ao fazer login. Tente novamente.";switch(x.code){case"auth/user-not-found":D="Usuário não encontrado. Verifique o e-mail.";break;case"auth/wrong-password":D="Senha incorreta.";break;case"auth/invalid-email":D="E-mail inválido.";break;case"auth/too-many-requests":D="Muitas tentativas. Tente novamente mais tarde.";break}_(D)}finally{p(!1)}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-md",children:[v.jsxs(Vt,{variant:"ghost",onClick:r,className:"mb-4",children:[v.jsx(Hh,{className:"w-4 h-4 mr-2"}),"Voltar"]}),v.jsxs(Tt,{children:[v.jsxs(nn,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(gr,{className:"w-8 h-8 text-green-600"})}),v.jsx(rn,{className:"text-2xl",children:"Login do Motorista"}),v.jsx(Ni,{children:"Entre com sua conta para aceitar corridas"})]}),v.jsxs(kt,{children:[g&&v.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:v.jsx("p",{className:"text-sm text-red-700",children:g})}),v.jsxs("form",{onSubmit:w,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"email",children:"Email"}),v.jsx(Ct,{id:"email",type:"email",placeholder:"seu@email.com",value:s,onChange:T=>o(T.target.value),required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"password",children:"Senha"}),v.jsx(Ct,{id:"password",type:"password",placeholder:"Sua senha",value:c,onChange:T=>u(T.target.value),required:!0})]}),v.jsx(Vt,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:d,children:d?"Entrando...":"Entrar"})]}),v.jsx("div",{className:"mt-6 text-center",children:v.jsxs("p",{className:"text-sm text-gray-600",children:["Não tem uma conta?"," ",v.jsx("button",{onClick:t,className:"text-green-600 hover:underline font-medium",children:"Cadastre-se"})]})})]})]})]})})}function c3({onBack:r,onRegister:e}){const[t,s]=I.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",cnh:"",vehicle:"",plate:"",year:"",pixKey:""}),[o,c]=I.useState(!1),[u,d]=I.useState(""),p=_=>{s({...t,[_.target.name]:_.target.value})},g=async _=>{if(_.preventDefault(),c(!0),d(""),t.password!==t.confirmPassword){d("As senhas não coincidem!"),c(!1);return}if(t.password.length<6){d("A senha deve ter pelo menos 6 caracteres!"),c(!1);return}try{const T=(await q2(zy,t.email,t.password)).user;await G2(T,{displayName:t.name});const x={id:T.uid,name:t.name,email:t.email,phone:t.phone,cnh:t.cnh,vehicle:t.vehicle,plate:t.plate,year:t.year,pixKey:t.pixKey,provider:"firebase",type:"driver",available:!1,trips:0,rating:"5.0",createdAt:new Date().toISOString()},D=JSON.parse(localStorage.getItem("drivers")||"[]");D.push(x),localStorage.setItem("drivers",JSON.stringify(D)),localStorage.setItem("currentDriver",JSON.stringify(x)),e(x)}catch(w){console.error("Erro no cadastro:",w);let T="Erro ao criar conta. Tente novamente.";switch(w.code){case"auth/email-already-in-use":T="Este e-mail já está em uso.";break;case"auth/invalid-email":T="E-mail inválido.";break;case"auth/weak-password":T="A senha é muito fraca.";break}d(T)}finally{c(!1)}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-md",children:[v.jsxs(Vt,{variant:"ghost",onClick:r,className:"mb-4",children:[v.jsx(Hh,{className:"w-4 h-4 mr-2"}),"Voltar"]}),v.jsxs(Tt,{children:[v.jsxs(nn,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(gr,{className:"w-8 h-8 text-green-600"})}),v.jsx(rn,{className:"text-2xl",children:"Cadastro do Motorista"}),v.jsx(Ni,{children:"Crie sua conta para aceitar corridas"})]}),v.jsxs(kt,{children:[u&&v.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:v.jsx("p",{className:"text-sm text-red-700",children:u})}),v.jsxs("form",{onSubmit:g,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"name",children:"Nome completo"}),v.jsx(Ct,{id:"name",name:"name",type:"text",placeholder:"Seu nome completo",value:t.name,onChange:p,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"email",children:"Email"}),v.jsx(Ct,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",value:t.email,onChange:p,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"phone",children:"Telefone"}),v.jsx(Ct,{id:"phone",name:"phone",type:"tel",placeholder:"(51) 99999-9999",value:t.phone,onChange:p,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"cnh",children:"CNH"}),v.jsx(Ct,{id:"cnh",name:"cnh",type:"text",placeholder:"Número da CNH",value:t.cnh,onChange:p,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"vehicle",children:"Veículo"}),v.jsx(Ct,{id:"vehicle",name:"vehicle",type:"text",placeholder:"Ex: Honda Civic",value:t.vehicle,onChange:p,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"plate",children:"Placa"}),v.jsx(Ct,{id:"plate",name:"plate",type:"text",placeholder:"ABC-1234",value:t.plate,onChange:p,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"year",children:"Ano do veículo"}),v.jsx(Ct,{id:"year",name:"year",type:"number",placeholder:"2020",value:t.year,onChange:p,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"pixKey",children:"Chave PIX"}),v.jsx(Ct,{id:"pixKey",name:"pixKey",type:"text",placeholder:"Email, telefone ou chave aleatória",value:t.pixKey,onChange:p,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"password",children:"Senha"}),v.jsx(Ct,{id:"password",name:"password",type:"password",placeholder:"Sua senha",value:t.password,onChange:p,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:"confirmPassword",children:"Confirmar senha"}),v.jsx(Ct,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirme sua senha",value:t.confirmPassword,onChange:p,required:!0})]}),v.jsx(Vt,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:o,children:o?"Cadastrando...":"Cadastrar"})]})]})]})]})})}const u3=Uw("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function f3({className:r,variant:e,asChild:t=!1,...s}){const o=t?Vw:"span";return v.jsx(o,{"data-slot":"badge",className:Yt(u3({variant:e}),r),...s})}var bd="Switch",[h3,S3]=qa(bd),[d3,m3]=h3(bd),a1=I.forwardRef((r,e)=>{const{__scopeSwitch:t,name:s,checked:o,defaultChecked:c,required:u,disabled:d,value:p="on",onCheckedChange:g,form:_,...w}=r,[T,x]=I.useState(null),D=pt(e,H=>x(H)),R=I.useRef(!1),N=T?_||!!T.closest("form"):!0,[L,B]=iu({prop:o,defaultProp:c??!1,onChange:g,caller:bd});return v.jsxs(d3,{scope:t,checked:L,disabled:d,children:[v.jsx(nt.button,{type:"button",role:"switch","aria-checked":L,"aria-required":u,"data-state":u1(L),"data-disabled":d?"":void 0,disabled:d,value:p,...w,ref:D,onClick:et(r.onClick,H=>{B(Z=>!Z),N&&(R.current=H.isPropagationStopped(),R.current||H.stopPropagation())})}),N&&v.jsx(c1,{control:T,bubbles:!R.current,name:s,value:p,checked:L,required:u,disabled:d,form:_,style:{transform:"translateX(-100%)"}})]})});a1.displayName=bd;var o1="SwitchThumb",l1=I.forwardRef((r,e)=>{const{__scopeSwitch:t,...s}=r,o=m3(o1,t);return v.jsx(nt.span,{"data-state":u1(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e})});l1.displayName=o1;var p3="SwitchBubbleInput",c1=I.forwardRef(({__scopeSwitch:r,control:e,checked:t,bubbles:s=!0,...o},c)=>{const u=I.useRef(null),d=pt(u,c),p=Zy(t),g=$y(e);return I.useEffect(()=>{const _=u.current;if(!_)return;const w=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(w,"checked").set;if(p!==t&&x){const D=new Event("click",{bubbles:s});x.call(_,t),_.dispatchEvent(D)}},[p,t,s]),v.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:d,style:{...o.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});c1.displayName=p3;function u1(r){return r?"checked":"unchecked"}var g3=a1,y3=l1;function v3({className:r,...e}){return v.jsx(g3,{"data-slot":"switch",className:Yt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...e,children:v.jsx(y3,{"data-slot":"switch-thumb",className:Yt("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function _3({driver:r,onLogout:e}){const[t,s]=I.useState(r.available||!1),[o,c]=I.useState([]),[u,d]=I.useState(null),[p,g]=I.useState(0),[_,w]=I.useState({});I.useEffect(()=>{(async()=>{try{await s1.update(r.id,{available:t})}catch(H){console.error("Erro ao atualizar disponibilidade:",H)}})();let B=null;return t&&(r!=null&&r.id)&&(B=pr.onDriverRequestsChange(r.id,H=>{const Z=H.filter(ce=>ce.status==="waitingPrice");c(Z);const ee=H.filter(ce=>ce.status==="accepted");ee.length>0&&!u&&d(ee[0])})),()=>{B&&B()}},[t,r==null?void 0:r.id,u]);const T=(L,B)=>{w(H=>({...H,[L]:B}))},x=async L=>{const B=_[L.id];if(!B||B<=0){alert("Por favor, insira um preço válido!");return}try{await pr.update(L.id,{status:"priceProposed",proposedPrice:parseFloat(B)}),w(H=>{const Z={...H};return delete Z[L.id],Z}),alert(`Proposta de R$ ${B} enviada para ${L.userName}!`)}catch(H){console.error("Erro ao enviar proposta:",H),alert("Erro ao enviar proposta. Tente novamente.")}},D=async L=>{try{await pr.update(L,{status:"rejected"})}catch(B){console.error("Erro ao rejeitar corrida:",B),alert("Erro ao rejeitar corrida. Tente novamente.")}},R=async()=>{if(u)try{await pr.update(u.id,{status:"inProgress"}),d(L=>({...L,status:"inProgress"}))}catch(L){console.error("Erro ao iniciar corrida:",L),alert("Erro ao iniciar corrida. Tente novamente.")}},N=async()=>{if(u)try{const L=u.acceptedPrice||u.proposedPrice||0;g(B=>B+L),await pr.update(u.id,{status:"completed"}),d(null),alert(`Corrida finalizada! Você ganhou R$ ${L.toFixed(2)}`)}catch(L){console.error("Erro ao finalizar corrida:",L),alert("Erro ao finalizar corrida. Tente novamente.")}};return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("div",{className:"bg-white shadow-sm border-b",children:v.jsxs("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:v.jsx(gr,{className:"w-5 h-5 text-green-600"})}),v.jsxs("div",{children:[v.jsxs("h1",{className:"font-semibold text-gray-900",children:["Olá, ",r.name]}),v.jsxs("p",{className:"text-sm text-gray-500",children:[r.vehicle," - ",r.plate]})]})]}),v.jsx(Vt,{variant:"ghost",size:"sm",onClick:e,children:v.jsx(tT,{className:"w-4 h-4"})})]})}),v.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-4",children:[v.jsxs(Tt,{children:[v.jsx(nn,{children:v.jsxs(rn,{className:"flex items-center justify-between",children:[v.jsx("span",{children:"Status"}),v.jsx(f3,{variant:t?"default":"secondary",children:t?"Disponível":"Indisponível"})]})}),v.jsx(kt,{children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(v3,{checked:t,onCheckedChange:s}),v.jsx("span",{className:"text-sm",children:t?"Você está online e pode receber corridas":"Você está offline"})]})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx(Tt,{children:v.jsx(kt,{className:"pt-6",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(sh,{className:"w-4 h-4 text-yellow-500"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-2xl font-bold",children:r.rating||"4.8"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Avaliação"})]})]})})}),v.jsx(Tt,{children:v.jsx(kt,{className:"pt-6",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(gr,{className:"w-4 h-4 text-blue-500"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-2xl font-bold",children:r.trips||0}),v.jsx("p",{className:"text-xs text-gray-500",children:"Corridas"})]})]})})})]}),v.jsxs(Tt,{children:[v.jsx(nn,{children:v.jsxs(rn,{className:"flex items-center space-x-2",children:[v.jsx(eT,{className:"w-5 h-5"}),v.jsx("span",{children:"Ganhos de hoje"})]})}),v.jsx(kt,{children:v.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["R$ ",p.toFixed(2)]})})]}),u&&v.jsxs(Tt,{className:"border-blue-200 bg-blue-50",children:[v.jsx(nn,{children:v.jsx(rn,{className:"text-blue-900",children:u.status==="inProgress"?"Corrida em andamento":"Corrida aceita"})}),v.jsxs(kt,{className:"space-y-3",children:[v.jsx("div",{className:"p-3 bg-white border border-blue-200 rounded-lg",children:v.jsxs("div",{className:"flex items-start space-x-2",children:[v.jsx(tg,{className:"w-4 h-4 text-blue-600 mt-1"}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("p",{className:"font-medium text-blue-900",children:["Passageiro: ",u.userName]}),v.jsxs("p",{className:"text-sm text-blue-700",children:["Telefone: ",u.userPhone]}),v.jsxs("p",{className:"text-sm text-blue-700",children:["De: ",u.origin]}),v.jsxs("p",{className:"text-sm text-blue-700",children:["Para: ",u.destination]}),v.jsxs("p",{className:"text-sm font-semibold text-green-700",children:["Preço: R$ ",(u.acceptedPrice||u.proposedPrice||0).toFixed(2)]}),v.jsxs("p",{className:"text-sm text-blue-600",children:["Pagamento: ",u.paymentMethod==="pix"?"PIX":"Dinheiro"]})]})]})}),u.status==="accepted"&&v.jsx(Vt,{onClick:R,className:"w-full bg-blue-600 hover:bg-blue-700",children:"Iniciar corrida"}),u.status==="inProgress"&&v.jsxs(Vt,{onClick:N,className:"w-full bg-green-600 hover:bg-green-700",children:[v.jsx(Zw,{className:"w-4 h-4 mr-2"}),"Finalizar corrida"]})]})]}),t&&o.length>0&&v.jsxs(Tt,{className:"border-orange-200 bg-orange-50",children:[v.jsxs(nn,{children:[v.jsx(rn,{className:"text-orange-900",children:"Solicitações de Corrida"}),v.jsx(Ni,{className:"text-orange-700",children:"Analise as solicitações e envie sua proposta de preço"})]}),v.jsx(kt,{className:"space-y-4",children:o.map(L=>v.jsxs("div",{className:"space-y-3 p-4 bg-white rounded-lg border border-orange-200",children:[v.jsxs("div",{className:"flex items-start space-x-2",children:[v.jsx(tg,{className:"w-4 h-4 text-orange-600 mt-1"}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("p",{className:"font-medium text-orange-900",children:["Passageiro: ",L.userName]}),v.jsxs("p",{className:"text-sm text-orange-700",children:["Telefone: ",L.userPhone]}),v.jsxs("p",{className:"text-sm text-orange-700",children:[v.jsx("strong",{children:"De:"})," ",L.origin]}),v.jsxs("p",{className:"text-sm text-orange-700",children:[v.jsx("strong",{children:"Para:"})," ",L.destination]})]})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Jw,{className:"w-4 h-4 text-orange-600"}),v.jsxs("p",{className:"text-sm text-orange-700",children:["Solicitado há ",Math.floor((Date.now()-new Date(L.createdAt).getTime())/6e4)," min"]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(ht,{htmlFor:`price-${L.id}`,className:"text-orange-900",children:"Qual o preço da corrida?"}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("span",{className:"text-lg font-semibold text-orange-900",children:"R$"}),v.jsx(Ct,{id:`price-${L.id}`,type:"number",step:"0.01",min:"1",placeholder:"0,00",value:_[L.id]||"",onChange:B=>T(L.id,B.target.value),className:"flex-1"})]})]}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsxs(Vt,{onClick:()=>x(L),disabled:!_[L.id]||_[L.id]<=0,className:"flex-1 bg-orange-600 hover:bg-orange-700",children:[v.jsx(iI,{className:"w-4 h-4 mr-2"}),"Enviar Proposta"]}),v.jsx(Vt,{onClick:()=>D(L.id),variant:"outline",className:"flex-1 border-red-300 text-red-700 hover:bg-red-50",children:"Recusar"})]})]},L.id))})]}),t&&o.length===0&&!u&&v.jsx(Tt,{children:v.jsx(kt,{className:"pt-6",children:v.jsxs("div",{className:"text-center text-gray-500",children:[v.jsx(gr,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),v.jsx("p",{className:"text-sm",children:"Aguardando solicitações de corrida..."}),v.jsx("p",{className:"text-xs mt-1",children:"Mantenha-se próximo ao centro da cidade"})]})})}),!t&&v.jsx(Tt,{children:v.jsx(kt,{className:"pt-6",children:v.jsxs("div",{className:"text-center text-gray-500",children:[v.jsx(gr,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),v.jsx("p",{className:"text-sm",children:"Você está offline"}),v.jsx("p",{className:"text-xs mt-1",children:"Ative seu status para receber corridas"})]})})})]})]})}function E3(){const[r,e]=I.useState("profile-selection"),[t,s]=I.useState(null),[o,c]=I.useState(null);I.useEffect(()=>{const R=localStorage.getItem("currentUser"),N=localStorage.getItem("currentDriver");if(R){const L=JSON.parse(R);s(L),e("user-dashboard")}else if(N){const L=JSON.parse(N);c(L),e("driver-dashboard")}},[]);const u=R=>{e(R==="user"?"user-login":"driver-login")},d=R=>{s(R),R.provider==="google"&&!R.phone?e("user-profile"):e("user-dashboard")},p=R=>{c(R),e("driver-dashboard")},g=R=>{s(R),e("user-dashboard")},_=R=>{c(R),e("driver-dashboard")},w=R=>{s(R),e("user-dashboard")},T=()=>{localStorage.removeItem("currentUser"),s(null),e("profile-selection")},x=()=>{localStorage.removeItem("currentDriver"),c(null),e("profile-selection")},D=()=>{e("profile-selection")};switch(r){case"profile-selection":return v.jsx(IE,{onProfileSelect:u});case"user-login":return v.jsx(bk,{onBack:D,onLogin:d,onRegister:()=>e("user-register")});case"user-register":return v.jsx(Rk,{onBack:()=>e("user-login"),onRegister:g});case"user-profile":return v.jsx(Ck,{user:t,onProfileComplete:w});case"user-dashboard":return v.jsx(o3,{user:t,onLogout:T});case"driver-login":return v.jsx(l3,{onBack:D,onLogin:p,onRegister:()=>e("driver-register")});case"driver-register":return v.jsx(c3,{onBack:()=>e("driver-login"),onRegister:_});case"driver-dashboard":return v.jsx(_3,{driver:o,onLogout:x});default:return v.jsx(IE,{onProfileSelect:u})}}FR.createRoot(document.getElementById("root")).render(v.jsx(I.StrictMode,{children:v.jsx(E3,{})}));
