function OR(r,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const c=Object.getOwnPropertyDescriptor(s,o);c&&Object.defineProperty(r,o,c.get?c:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function Mw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bp={exports:{}},xc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function MR(){if(fb)return xc;fb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:u,ref:o!==void 0?o:null,props:c}}return xc.Fragment=e,xc.jsx=t,xc.jsxs=t,xc}var hb;function PR(){return hb||(hb=1,bp.exports=MR()),bp.exports}var _=PR(),Ep={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function kR(){if(db)return Ve;db=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function T(L){return L===null||typeof L!="object"?null:(L=E&&L[E]||L["@@iterator"],typeof L=="function"?L:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,R={};function N(L,re,fe){this.props=L,this.context=re,this.refs=R,this.updater=fe||C}N.prototype.isReactComponent={},N.prototype.setState=function(L,re){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,re,"setState")},N.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function F(){}F.prototype=N.prototype;function V(L,re,fe){this.props=L,this.context=re,this.refs=R,this.updater=fe||C}var z=V.prototype=new F;z.constructor=V,P(z,N.prototype),z.isPureReactComponent=!0;var Z=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function D(L,re,fe,oe,pe,Re){return fe=Re.ref,{$$typeof:r,type:L,key:re,ref:fe!==void 0?fe:null,props:Re}}function A(L,re){return D(L.type,re,void 0,void 0,void 0,L.props)}function O(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function j(L){var re={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(fe){return re[fe]})}var U=/\/+/g;function B(L,re){return typeof L=="object"&&L!==null&&L.key!=null?j(""+L.key):re.toString(36)}function M(){}function ue(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(M,M):(L.status="pending",L.then(function(re){L.status==="pending"&&(L.status="fulfilled",L.value=re)},function(re){L.status==="pending"&&(L.status="rejected",L.reason=re)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function me(L,re,fe,oe,pe){var Re=typeof L;(Re==="undefined"||Re==="boolean")&&(L=null);var we=!1;if(L===null)we=!0;else switch(Re){case"bigint":case"string":case"number":we=!0;break;case"object":switch(L.$$typeof){case r:case e:we=!0;break;case v:return we=L._init,me(we(L._payload),re,fe,oe,pe)}}if(we)return pe=pe(L),we=oe===""?"."+B(L,0):oe,Z(pe)?(fe="",we!=null&&(fe=we.replace(U,"$&/")+"/"),me(pe,re,fe,"",function(Xe){return Xe})):pe!=null&&(O(pe)&&(pe=A(pe,fe+(pe.key==null||L&&L.key===pe.key?"":(""+pe.key).replace(U,"$&/")+"/")+we)),re.push(pe)),1;we=0;var de=oe===""?".":oe+":";if(Z(L))for(var Se=0;Se<L.length;Se++)oe=L[Se],Re=de+B(oe,Se),we+=me(oe,re,fe,Re,pe);else if(Se=T(L),typeof Se=="function")for(L=Se.call(L),Se=0;!(oe=L.next()).done;)oe=oe.value,Re=de+B(oe,Se++),we+=me(oe,re,fe,Re,pe);else if(Re==="object"){if(typeof L.then=="function")return me(ue(L),re,fe,oe,pe);throw re=String(L),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return we}function q(L,re,fe){if(L==null)return L;var oe=[],pe=0;return me(L,oe,"","",function(Re){return re.call(fe,Re,pe++)}),oe}function ne(L){if(L._status===-1){var re=L._result;re=re(),re.then(function(fe){(L._status===0||L._status===-1)&&(L._status=1,L._result=fe)},function(fe){(L._status===0||L._status===-1)&&(L._status=2,L._result=fe)}),L._status===-1&&(L._status=0,L._result=re)}if(L._status===1)return L._result.default;throw L._result}var X=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Ee(){}return Ve.Children={map:q,forEach:function(L,re,fe){q(L,function(){re.apply(this,arguments)},fe)},count:function(L){var re=0;return q(L,function(){re++}),re},toArray:function(L){return q(L,function(re){return re})||[]},only:function(L){if(!O(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ve.Component=N,Ve.Fragment=t,Ve.Profiler=o,Ve.PureComponent=V,Ve.StrictMode=s,Ve.Suspense=p,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(L){return ee.H.useMemoCache(L)}},Ve.cache=function(L){return function(){return L.apply(null,arguments)}},Ve.cloneElement=function(L,re,fe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var oe=P({},L.props),pe=L.key,Re=void 0;if(re!=null)for(we in re.ref!==void 0&&(Re=void 0),re.key!==void 0&&(pe=""+re.key),re)!ce.call(re,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&re.ref===void 0||(oe[we]=re[we]);var we=arguments.length-2;if(we===1)oe.children=fe;else if(1<we){for(var de=Array(we),Se=0;Se<we;Se++)de[Se]=arguments[Se+2];oe.children=de}return D(L.type,pe,void 0,void 0,Re,oe)},Ve.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:c,_context:L},L},Ve.createElement=function(L,re,fe){var oe,pe={},Re=null;if(re!=null)for(oe in re.key!==void 0&&(Re=""+re.key),re)ce.call(re,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(pe[oe]=re[oe]);var we=arguments.length-2;if(we===1)pe.children=fe;else if(1<we){for(var de=Array(we),Se=0;Se<we;Se++)de[Se]=arguments[Se+2];pe.children=de}if(L&&L.defaultProps)for(oe in we=L.defaultProps,we)pe[oe]===void 0&&(pe[oe]=we[oe]);return D(L,Re,void 0,void 0,null,pe)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(L){return{$$typeof:d,render:L}},Ve.isValidElement=O,Ve.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:ne}},Ve.memo=function(L,re){return{$$typeof:g,type:L,compare:re===void 0?null:re}},Ve.startTransition=function(L){var re=ee.T,fe={};ee.T=fe;try{var oe=L(),pe=ee.S;pe!==null&&pe(fe,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Ee,X)}catch(Re){X(Re)}finally{ee.T=re}},Ve.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Ve.use=function(L){return ee.H.use(L)},Ve.useActionState=function(L,re,fe){return ee.H.useActionState(L,re,fe)},Ve.useCallback=function(L,re){return ee.H.useCallback(L,re)},Ve.useContext=function(L){return ee.H.useContext(L)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(L,re){return ee.H.useDeferredValue(L,re)},Ve.useEffect=function(L,re,fe){var oe=ee.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(L,re)},Ve.useId=function(){return ee.H.useId()},Ve.useImperativeHandle=function(L,re,fe){return ee.H.useImperativeHandle(L,re,fe)},Ve.useInsertionEffect=function(L,re){return ee.H.useInsertionEffect(L,re)},Ve.useLayoutEffect=function(L,re){return ee.H.useLayoutEffect(L,re)},Ve.useMemo=function(L,re){return ee.H.useMemo(L,re)},Ve.useOptimistic=function(L,re){return ee.H.useOptimistic(L,re)},Ve.useReducer=function(L,re,fe){return ee.H.useReducer(L,re,fe)},Ve.useRef=function(L){return ee.H.useRef(L)},Ve.useState=function(L){return ee.H.useState(L)},Ve.useSyncExternalStore=function(L,re,fe){return ee.H.useSyncExternalStore(L,re,fe)},Ve.useTransition=function(){return ee.H.useTransition()},Ve.version="19.1.1",Ve}var mb;function zg(){return mb||(mb=1,Ep.exports=kR()),Ep.exports}var I=zg();const ys=Mw(I),Pw=OR({__proto__:null,default:ys},[I]);var wp={exports:{}},Rc={},Tp={exports:{}},Sp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb;function VR(){return pb||(pb=1,function(r){function e(q,ne){var X=q.length;q.push(ne);e:for(;0<X;){var Ee=X-1>>>1,L=q[Ee];if(0<o(L,ne))q[Ee]=ne,q[X]=L,X=Ee;else break e}}function t(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var ne=q[0],X=q.pop();if(X!==ne){q[0]=X;e:for(var Ee=0,L=q.length,re=L>>>1;Ee<re;){var fe=2*(Ee+1)-1,oe=q[fe],pe=fe+1,Re=q[pe];if(0>o(oe,X))pe<L&&0>o(Re,oe)?(q[Ee]=Re,q[pe]=X,Ee=pe):(q[Ee]=oe,q[fe]=X,Ee=fe);else if(pe<L&&0>o(Re,X))q[Ee]=Re,q[pe]=X,Ee=pe;else break e}}return ne}function o(q,ne){var X=q.sortIndex-ne.sortIndex;return X!==0?X:q.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var u=Date,d=u.now();r.unstable_now=function(){return u.now()-d}}var p=[],g=[],v=1,E=null,T=3,C=!1,P=!1,R=!1,N=!1,F=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function Z(q){for(var ne=t(g);ne!==null;){if(ne.callback===null)s(g);else if(ne.startTime<=q)s(g),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=t(g)}}function ee(q){if(R=!1,Z(q),!P)if(t(p)!==null)P=!0,ce||(ce=!0,B());else{var ne=t(g);ne!==null&&me(ee,ne.startTime-q)}}var ce=!1,D=-1,A=5,O=-1;function j(){return N?!0:!(r.unstable_now()-O<A)}function U(){if(N=!1,ce){var q=r.unstable_now();O=q;var ne=!0;try{e:{P=!1,R&&(R=!1,V(D),D=-1),C=!0;var X=T;try{t:{for(Z(q),E=t(p);E!==null&&!(E.expirationTime>q&&j());){var Ee=E.callback;if(typeof Ee=="function"){E.callback=null,T=E.priorityLevel;var L=Ee(E.expirationTime<=q);if(q=r.unstable_now(),typeof L=="function"){E.callback=L,Z(q),ne=!0;break t}E===t(p)&&s(p),Z(q)}else s(p);E=t(p)}if(E!==null)ne=!0;else{var re=t(g);re!==null&&me(ee,re.startTime-q),ne=!1}}break e}finally{E=null,T=X,C=!1}ne=void 0}}finally{ne?B():ce=!1}}}var B;if(typeof z=="function")B=function(){z(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ue=M.port2;M.port1.onmessage=U,B=function(){ue.postMessage(null)}}else B=function(){F(U,0)};function me(q,ne){D=F(function(){q(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(q){switch(T){case 1:case 2:case 3:var ne=3;break;default:ne=T}var X=T;T=ne;try{return q()}finally{T=X}},r.unstable_requestPaint=function(){N=!0},r.unstable_runWithPriority=function(q,ne){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var X=T;T=q;try{return ne()}finally{T=X}},r.unstable_scheduleCallback=function(q,ne,X){var Ee=r.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Ee+X:Ee):X=Ee,q){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=X+L,q={id:v++,callback:ne,priorityLevel:q,startTime:X,expirationTime:L,sortIndex:-1},X>Ee?(q.sortIndex=X,e(g,q),t(p)===null&&q===t(g)&&(R?(V(D),D=-1):R=!0,me(ee,X-Ee))):(q.sortIndex=L,e(p,q),P||C||(P=!0,ce||(ce=!0,B()))),q},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(q){var ne=T;return function(){var X=T;T=ne;try{return q.apply(this,arguments)}finally{T=X}}}}(Sp)),Sp}var gb;function jR(){return gb||(gb=1,Tp.exports=VR()),Tp.exports}var Ap={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb;function LR(){if(yb)return mn;yb=1;var r=zg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(p,g,null,v)},mn.flushSync=function(p){var g=u.T,v=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=g,s.p=v,s.d.f()}},mn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},mn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},mn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:C}):v==="script"&&s.d.X(p,{crossOrigin:E,integrity:T,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},mn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},mn.requestFormReset=function(p){s.d.r(p)},mn.unstable_batchedUpdates=function(p,g){return p(g)},mn.useFormState=function(p,g,v){return u.H.useFormState(p,g,v)},mn.useFormStatus=function(){return u.H.useHostTransitionStatus()},mn.version="19.1.1",mn}var vb;function kw(){if(vb)return Ap.exports;vb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ap.exports=LR(),Ap.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function UR(){if(_b)return Rc;_b=1;var r=jR(),e=zg(),t=kw();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(c(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return d(h),n;if(m===l)return d(h),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=m;else{for(var w=!1,S=h.child;S;){if(S===a){w=!0,a=h,l=m;break}if(S===l){w=!0,l=h,a=m;break}S=S.sibling}if(!w){for(S=m.child;S;){if(S===a){w=!0,a=m,l=h;break}if(S===l){w=!0,l=m,a=h;break}S=S.sibling}if(!w)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),z=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function ue(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case N:return"Profiler";case R:return"StrictMode";case ee:return"Suspense";case ce:return"SuspenseList";case O:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case z:return(n.displayName||"Context")+".Provider";case V:return(n._context.displayName||"Context")+".Consumer";case Z:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return i=n.displayName||null,i!==null?i:ue(n.type)||"Memo";case A:i=n._payload,n=n._init;try{return ue(n(i))}catch{}}return null}var me=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},Ee=[],L=-1;function re(n){return{current:n}}function fe(n){0>L||(n.current=Ee[L],Ee[L]=null,L--)}function oe(n,i){L++,Ee[L]=n.current,n.current=i}var pe=re(null),Re=re(null),we=re(null),de=re(null);function Se(n,i){switch(oe(we,i),oe(Re,n),oe(pe,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?U0(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=U0(i),n=z0(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}fe(pe),oe(pe,n)}function Xe(){fe(pe),fe(Re),fe(we)}function je(n){n.memoizedState!==null&&oe(de,n);var i=pe.current,a=z0(i,n.type);i!==a&&(oe(Re,n),oe(pe,a))}function Pe(n){Re.current===n&&(fe(pe),fe(Re)),de.current===n&&(fe(de),Ec._currentValue=X)}var ke=Object.prototype.hasOwnProperty,St=r.unstable_scheduleCallback,Kt=r.unstable_cancelCallback,ar=r.unstable_shouldYield,wr=r.unstable_requestPaint,Qt=r.unstable_now,_l=r.unstable_getCurrentPriorityLevel,Tr=r.unstable_ImmediatePriority,qa=r.unstable_UserBlockingPriority,qs=r.unstable_NormalPriority,Ed=r.unstable_LowPriority,Ha=r.unstable_IdlePriority,bl=r.log,gu=r.unstable_setDisableYieldValue,_t=null,rt=null;function Pn(n){if(typeof bl=="function"&&gu(n),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(_t,n)}catch{}}var hn=Math.clz32?Math.clz32:Hs,yu=Math.log,wd=Math.LN2;function Hs(n){return n>>>=0,n===0?32:31-(yu(n)/wd|0)|0}var Fs=256,Gs=4194304;function or(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Fa(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,m=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?h=or(l):(w&=S,w!==0?h=or(w):a||(a=S&~n,a!==0&&(h=or(a))))):(S=l&~m,S!==0?h=or(S):w!==0?h=or(w):a||(a=l&~n,a!==0&&(h=or(a)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:h}function Ks(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function El(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wl(){var n=Fs;return Fs<<=1,(Fs&4194048)===0&&(Fs=256),n}function Tl(){var n=Gs;return Gs<<=1,(Gs&62914560)===0&&(Gs=4194304),n}function ei(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function ti(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Sl(n,i,a,l,h,m){var w=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,k=n.expirationTimes,Y=n.hiddenUpdates;for(a=w&~a;0<a;){var te=31-hn(a),ae=1<<te;S[te]=0,k[te]=-1;var $=Y[te];if($!==null)for(Y[te]=null,te=0;te<$.length;te++){var W=$[te];W!==null&&(W.lane&=-536870913)}a&=~ae}l!==0&&Sr(n,l,0),m!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=m&~(w&~i))}function Sr(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-hn(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Al(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-hn(a),h=1<<l;h&i|n[l]&i&&(n[l]|=i),a&=~h}}function Bi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ga(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function qi(){var n=ne.p;return n!==0?n:(n=window.event,n===void 0?32:sb(n.type))}function vu(n,i){var a=ne.p;try{return ne.p=n,i()}finally{ne.p=a}}var mt=Math.random().toString(36).slice(2),Lt="__reactFiber$"+mt,It="__reactProps$"+mt,Kn="__reactContainer$"+mt,xl="__reactEvents$"+mt,Td="__reactListeners$"+mt,Hi="__reactHandles$"+mt,_u="__reactResources$"+mt,Qs="__reactMarker$"+mt;function Fi(n){delete n[Lt],delete n[It],delete n[xl],delete n[Td],delete n[Hi]}function ni(n){var i=n[Lt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Kn]||a[Lt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=F0(n);n!==null;){if(a=n[Lt])return a;n=F0(n)}return i}n=a,a=n.parentNode}return null}function Ar(n){if(n=n[Lt]||n[Kn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function xr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function En(n){var i=n[_u];return i||(i=n[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(n){n[Qs]=!0}var Rl=new Set,Ka={};function lr(n,i){ri(n,i),ri(n+"Capture",i)}function ri(n,i){for(Ka[n]=i,n=0;n<i.length;n++)Rl.add(i[n])}var bu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eu={},Ys={};function wu(n){return ke.call(Ys,n)?!0:ke.call(Eu,n)?!1:bu.test(n)?Ys[n]=!0:(Eu[n]=!0,!1)}function Gi(n,i,a){if(wu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Rr(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function nn(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var $s,Tu;function ii(n){if($s===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);$s=i&&i[1]||"",Tu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$s+n+Tu}var Qa=!1;function Ya(n,i){if(!n||Qa)return"";Qa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(W){var $=W}Reflect.construct(n,[],ae)}else{try{ae.call()}catch(W){$=W}n.call(ae.prototype)}}else{try{throw Error()}catch(W){$=W}(ae=n())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(W){if(W&&$&&typeof W.stack=="string")return[W.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),w=m[0],S=m[1];if(w&&S){var k=w.split(`
`),Y=S.split(`
`);for(h=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Y.length&&!Y[h].includes("DetermineComponentFrameRoot");)h++;if(l===k.length||h===Y.length)for(l=k.length-1,h=Y.length-1;1<=l&&0<=h&&k[l]!==Y[h];)h--;for(;1<=l&&0<=h;l--,h--)if(k[l]!==Y[h]){if(l!==1||h!==1)do if(l--,h--,0>h||k[l]!==Y[h]){var te=`
`+k[l].replace(" at new "," at ");return n.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",n.displayName)),te}while(1<=l&&0<=h);break}}}finally{Qa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?ii(a):""}function Cl(n){switch(n.tag){case 26:case 27:case 5:return ii(n.type);case 16:return ii("Lazy");case 13:return ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return Ya(n.type,!1);case 11:return Ya(n.type.render,!1);case 1:return Ya(n.type,!0);case 31:return ii("Activity");default:return""}}function $a(n){try{var i="";do i+=Cl(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function wn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Il(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Sd(n){var i=Il(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(w){l=""+w,m.call(this,w)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Xa(n){n._valueTracker||(n._valueTracker=Sd(n))}function Nl(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Il(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function Xs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ad=/[\n"\\]/g;function Nt(n){return n.replace(Ad,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function kn(n,i,a,l,h,m,w,S){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),i!=null?w==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+wn(i)):n.value!==""+wn(i)&&(n.value=""+wn(i)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),i!=null?Ki(n,w,wn(i)):a!=null?Ki(n,w,wn(a)):l!=null&&n.removeAttribute("value"),h==null&&m!=null&&(n.defaultChecked=!!m),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+wn(S):n.removeAttribute("name")}function Ws(n,i,a,l,h,m,w,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+wn(a):"",i=i!=null?""+wn(i):a,S||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w)}function Ki(n,i,a){i==="number"&&Xs(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function si(n,i,a,l){if(n=n.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=i.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+wn(a),i=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function at(n,i,a){if(i!=null&&(i=""+wn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+wn(a):""}function Zs(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(me(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=wn(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Qn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Js=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||Js.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Dl(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Su(n,h,l)}else for(var m in i)i.hasOwnProperty(m)&&Su(n,m,i[m])}function Ol(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wa(n){return Rd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ai=null;function Yn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var oi=null,li=null;function Ml(n){var i=Ar(n);if(i&&(n=i.stateNode)){var a=n[It]||null;e:switch(n=i.stateNode,i.type){case"input":if(kn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Nt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var h=l[It]||null;if(!h)throw Error(s(90));kn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Nl(l)}break e;case"textarea":at(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&si(n,!!a.multiple,i,!1)}}}var Cr=!1;function Au(n,i,a){if(Cr)return n(i,a);Cr=!0;try{var l=n(i);return l}finally{if(Cr=!1,(oi!==null||li!==null)&&(_f(),oi&&(i=oi,n=li,li=oi=null,Ml(i),n)))for(i=0;i<n.length;i++)Ml(n[i])}}function ea(n,i){var a=n.stateNode;if(a===null)return null;var l=a[It]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$n=!1;if(cr)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){$n=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{$n=!1}var Ir=null,Qi=null,ci=null;function Pl(){if(ci)return ci;var n,i=Qi,a=i.length,l,h="value"in Ir?Ir.value:Ir.textContent,m=h.length;for(n=0;n<a&&i[n]===h[n];n++);var w=a-n;for(l=1;l<=w&&i[a-l]===h[m-l];l++);return ci=h.slice(n,1<l?1-l:void 0)}function Nr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Dr(){return!0}function kl(){return!1}function Yt(n){function i(a,l,h,m,w){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Dr:kl,this.isPropagationStopped=kl,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),i}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Za=Yt(Je),na=v({},Je,{view:0,detail:0}),xu=Yt(na),Ja,eo,Or,ra=v({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Or&&(Or&&n.type==="mousemove"?(Ja=n.screenX-Or.screenX,eo=n.screenY-Or.screenY):eo=Ja=0,Or=n),Ja)},movementY:function(n){return"movementY"in n?n.movementY:eo}}),Xn=Yt(ra),Ru=v({},ra,{dataTransfer:0}),Cd=Yt(Ru),ia=v({},na,{relatedTarget:0}),to=Yt(ia),Vl=v({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),no=Yt(Vl),Cu=v({},Je,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ro=Yt(Cu),Id=v({},Je,{data:0}),jl=Yt(Id),sa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ll(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Nu[n])?!!i[n]:!1}function aa(){return Ll}var Du=v({},na,{key:function(n){if(n.key){var i=sa[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Nr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Iu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aa,charCode:function(n){return n.type==="keypress"?Nr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Nr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),io=Yt(Du),Ou=v({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ul=Yt(Ou),ui=v({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aa}),Mu=Yt(ui),Pu=v({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),ku=Yt(Pu),Vu=v({},ra,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),so=Yt(Vu),Tn=v({},Je,{newState:0,oldState:0}),ju=Yt(Tn),Lu=[9,13,27,32],Mr=cr&&"CompositionEvent"in window,f=null;cr&&"documentMode"in document&&(f=document.documentMode);var y=cr&&"TextEvent"in window&&!f,b=cr&&(!Mr||f&&8<f&&11>=f),x=" ",K=!1;function J(n,i){switch(n){case"keyup":return Lu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ke=!1;function Ut(n,i){switch(n){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(K=!0,x);case"textInput":return n=i.data,n===x&&K?null:n;default:return null}}function Qe(n,i){if(Ke)return n==="compositionend"||!Mr&&J(n,i)?(n=Pl(),ci=Qi=Ir=null,Ke=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return b&&i.locale!=="ko"?null:i.data;default:return null}}var $t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!$t[n.type]:i==="textarea"}function fi(n,i,a,l){oi?li?li.push(l):li=[l]:oi=l,i=Af(i,"onChange"),0<i.length&&(a=new Za("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var rn=null,Pr=null;function zl(n){P0(n,0)}function Uu(n){var i=xr(n);if(Nl(i))return n}function tv(n,i){if(n==="change")return i}var nv=!1;if(cr){var Nd;if(cr){var Dd="oninput"in document;if(!Dd){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),Dd=typeof rv.oninput=="function"}Nd=Dd}else Nd=!1;nv=Nd&&(!document.documentMode||9<document.documentMode)}function iv(){rn&&(rn.detachEvent("onpropertychange",sv),Pr=rn=null)}function sv(n){if(n.propertyName==="value"&&Uu(Pr)){var i=[];fi(i,Pr,n,Yn(n)),Au(zl,i)}}function l1(n,i,a){n==="focusin"?(iv(),rn=i,Pr=a,rn.attachEvent("onpropertychange",sv)):n==="focusout"&&iv()}function c1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Uu(Pr)}function u1(n,i){if(n==="click")return Uu(i)}function f1(n,i){if(n==="input"||n==="change")return Uu(i)}function h1(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Vn=typeof Object.is=="function"?Object.is:h1;function Bl(n,i){if(Vn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ke.call(i,h)||!Vn(n[h],i[h]))return!1}return!0}function av(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ov(n,i){var a=av(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=av(a)}}function lv(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?lv(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function cv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Xs(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Xs(n.document)}return i}function Od(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var d1=cr&&"documentMode"in document&&11>=document.documentMode,ao=null,Md=null,ql=null,Pd=!1;function uv(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pd||ao==null||ao!==Xs(l)||(l=ao,"selectionStart"in l&&Od(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ql&&Bl(ql,l)||(ql=l,l=Af(Md,"onSelect"),0<l.length&&(i=new Za("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=ao)))}function oa(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var oo={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},kd={},fv={};cr&&(fv=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function la(n){if(kd[n])return kd[n];if(!oo[n])return n;var i=oo[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in fv)return kd[n]=i[a];return n}var hv=la("animationend"),dv=la("animationiteration"),mv=la("animationstart"),m1=la("transitionrun"),p1=la("transitionstart"),g1=la("transitioncancel"),pv=la("transitionend"),gv=new Map,Vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vd.push("scrollEnd");function ur(n,i){gv.set(n,i),lr(i,[n])}var yv=new WeakMap;function Wn(n,i){if(typeof n=="object"&&n!==null){var a=yv.get(n);return a!==void 0?a:(i={value:n,source:i,stack:$a(i)},yv.set(n,i),i)}return{value:n,source:i,stack:$a(i)}}var Zn=[],lo=0,jd=0;function zu(){for(var n=lo,i=jd=lo=0;i<n;){var a=Zn[i];Zn[i++]=null;var l=Zn[i];Zn[i++]=null;var h=Zn[i];Zn[i++]=null;var m=Zn[i];if(Zn[i++]=null,l!==null&&h!==null){var w=l.pending;w===null?h.next=h:(h.next=w.next,w.next=h),l.pending=h}m!==0&&vv(a,h,m)}}function Bu(n,i,a,l){Zn[lo++]=n,Zn[lo++]=i,Zn[lo++]=a,Zn[lo++]=l,jd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Ld(n,i,a,l){return Bu(n,i,a,l),qu(n)}function co(n,i){return Bu(n,null,null,i),qu(n)}function vv(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(h=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,h&&i!==null&&(h=31-hn(a),n=m.hiddenUpdates,l=n[h],l===null?n[h]=[i]:l.push(i),i.lane=a|536870912),m):null}function qu(n){if(50<dc)throw dc=0,Fm=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var uo={};function y1(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(n,i,a,l){return new y1(n,i,a,l)}function Ud(n){return n=n.prototype,!(!n||!n.isReactComponent)}function hi(n,i){var a=n.alternate;return a===null?(a=jn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function _v(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Hu(n,i,a,l,h,m){var w=0;if(l=n,typeof n=="function")Ud(n)&&(w=1);else if(typeof n=="string")w=_R(n,a,pe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case O:return n=jn(31,a,i,h),n.elementType=O,n.lanes=m,n;case P:return ca(a.children,h,m,i);case R:w=8,h|=24;break;case N:return n=jn(12,a,i,h|2),n.elementType=N,n.lanes=m,n;case ee:return n=jn(13,a,i,h),n.elementType=ee,n.lanes=m,n;case ce:return n=jn(19,a,i,h),n.elementType=ce,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F:case z:w=10;break e;case V:w=9;break e;case Z:w=11;break e;case D:w=14;break e;case A:w=16,l=null;break e}w=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=jn(w,a,i,h),i.elementType=n,i.type=l,i.lanes=m,i}function ca(n,i,a,l){return n=jn(7,n,l,i),n.lanes=a,n}function zd(n,i,a){return n=jn(6,n,null,i),n.lanes=a,n}function Bd(n,i,a){return i=jn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var fo=[],ho=0,Fu=null,Gu=0,Jn=[],er=0,ua=null,di=1,mi="";function fa(n,i){fo[ho++]=Gu,fo[ho++]=Fu,Fu=n,Gu=i}function bv(n,i,a){Jn[er++]=di,Jn[er++]=mi,Jn[er++]=ua,ua=n;var l=di;n=mi;var h=32-hn(l)-1;l&=~(1<<h),a+=1;var m=32-hn(i)+h;if(30<m){var w=h-h%5;m=(l&(1<<w)-1).toString(32),l>>=w,h-=w,di=1<<32-hn(i)+h|a<<h|l,mi=m+n}else di=1<<m|a<<h|l,mi=n}function qd(n){n.return!==null&&(fa(n,1),bv(n,1,0))}function Hd(n){for(;n===Fu;)Fu=fo[--ho],fo[ho]=null,Gu=fo[--ho],fo[ho]=null;for(;n===ua;)ua=Jn[--er],Jn[er]=null,mi=Jn[--er],Jn[er]=null,di=Jn[--er],Jn[er]=null}var Sn=null,bt=null,Ze=!1,ha=null,kr=!1,Fd=Error(s(519));function da(n){var i=Error(s(418,""));throw Gl(Wn(i,n)),Fd}function Ev(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[Lt]=n,i[It]=l,a){case"dialog":qe("cancel",i),qe("close",i);break;case"iframe":case"object":case"embed":qe("load",i);break;case"video":case"audio":for(a=0;a<pc.length;a++)qe(pc[a],i);break;case"source":qe("error",i);break;case"img":case"image":case"link":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"input":qe("invalid",i),Ws(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Xa(i);break;case"select":qe("invalid",i);break;case"textarea":qe("invalid",i),Zs(i,l.value,l.defaultValue,l.children),Xa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||L0(i.textContent,a)?(l.popover!=null&&(qe("beforetoggle",i),qe("toggle",i)),l.onScroll!=null&&qe("scroll",i),l.onScrollEnd!=null&&qe("scrollend",i),l.onClick!=null&&(i.onclick=xf),i=!0):i=!1,i||da(n)}function wv(n){for(Sn=n.return;Sn;)switch(Sn.tag){case 5:case 13:kr=!1;return;case 27:case 3:kr=!0;return;default:Sn=Sn.return}}function Hl(n){if(n!==Sn)return!1;if(!Ze)return wv(n),Ze=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||ap(n.type,n.memoizedProps)),a=!a),a&&bt&&da(n),wv(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){bt=hr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}bt=null}}else i===27?(i=bt,cs(n.type)?(n=up,up=null,bt=n):bt=i):bt=Sn?hr(n.stateNode.nextSibling):null;return!0}function Fl(){bt=Sn=null,Ze=!1}function Tv(){var n=ha;return n!==null&&(In===null?In=n:In.push.apply(In,n),ha=null),n}function Gl(n){ha===null?ha=[n]:ha.push(n)}var Gd=re(null),ma=null,pi=null;function Yi(n,i,a){oe(Gd,i._currentValue),i._currentValue=a}function gi(n){n._currentValue=Gd.current,fe(Gd)}function Kd(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Qd(n,i,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){var w=h.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=h;for(var k=0;k<i.length;k++)if(S.context===i[k]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),Kd(m.return,a,n),l||(w=null);break e}m=S.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(s(341));w.lanes|=a,m=w.alternate,m!==null&&(m.lanes|=a),Kd(w,a,n),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===n){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function Kl(n,i,a,l){n=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var S=h.type;Vn(h.pendingProps.value,w.value)||(n!==null?n.push(S):n=[S])}}else if(h===de.current){if(w=h.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Ec):n=[Ec])}h=h.return}n!==null&&Qd(i,n,a,l),i.flags|=262144}function Ku(n){for(n=n.firstContext;n!==null;){if(!Vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function pa(n){ma=n,pi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function dn(n){return Sv(ma,n)}function Qu(n,i){return ma===null&&pa(n),Sv(n,i)}function Sv(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},pi===null){if(n===null)throw Error(s(308));pi=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else pi=pi.next=i;return a}var v1=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},_1=r.unstable_scheduleCallback,b1=r.unstable_NormalPriority,Bt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yd(){return{controller:new v1,data:new Map,refCount:0}}function Ql(n){n.refCount--,n.refCount===0&&_1(b1,function(){n.controller.abort()})}var Yl=null,$d=0,mo=0,po=null;function E1(n,i){if(Yl===null){var a=Yl=[];$d=0,mo=Wm(),po={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $d++,i.then(Av,Av),i}function Av(){if(--$d===0&&Yl!==null){po!==null&&(po.status="fulfilled");var n=Yl;Yl=null,mo=0,po=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function w1(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var xv=q.S;q.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&E1(n,i),xv!==null&&xv(n,i)};var ga=re(null);function Xd(){var n=ga.current;return n!==null?n:ft.pooledCache}function Yu(n,i){i===null?oe(ga,ga.current):oe(ga,i.pool)}function Rv(){var n=Xd();return n===null?null:{parent:Bt._currentValue,pool:n}}var $l=Error(s(460)),Cv=Error(s(474)),$u=Error(s(542)),Wd={then:function(){}};function Iv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Xu(){}function Nv(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Xu,Xu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ov(n),n;default:if(typeof i.status=="string")i.then(Xu,Xu);else{if(n=ft,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ov(n),n}throw Xl=i,$l}}var Xl=null;function Dv(){if(Xl===null)throw Error(s(459));var n=Xl;return Xl=null,n}function Ov(n){if(n===$l||n===$u)throw Error(s(483))}var $i=!1;function Zd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Xi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Wi(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=qu(n),vv(n,null,a),i}return Bu(n,l,i,a),qu(n)}function Wl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Al(n,a)}}function em(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=w:m=m.next=w,a=a.next}while(a!==null);m===null?h=m=i:m=m.next=i}else h=m=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var tm=!1;function Zl(){if(tm){var n=po;if(n!==null)throw n}}function Jl(n,i,a,l){tm=!1;var h=n.updateQueue;$i=!1;var m=h.firstBaseUpdate,w=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var k=S,Y=k.next;k.next=null,w===null?m=Y:w.next=Y,w=k;var te=n.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==w&&(S===null?te.firstBaseUpdate=Y:S.next=Y,te.lastBaseUpdate=k))}if(m!==null){var ae=h.baseState;w=0,te=Y=k=null,S=m;do{var $=S.lane&-536870913,W=$!==S.lane;if(W?(Ye&$)===$:(l&$)===$){$!==0&&$===mo&&(tm=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ne=n,xe=S;$=i;var ct=a;switch(xe.tag){case 1:if(Ne=xe.payload,typeof Ne=="function"){ae=Ne.call(ct,ae,$);break e}ae=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=xe.payload,$=typeof Ne=="function"?Ne.call(ct,ae,$):Ne,$==null)break e;ae=v({},ae,$);break e;case 2:$i=!0}}$=S.callback,$!==null&&(n.flags|=64,W&&(n.flags|=8192),W=h.callbacks,W===null?h.callbacks=[$]:W.push($))}else W={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(Y=te=W,k=ae):te=te.next=W,w|=$;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;W=S,S=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);te===null&&(k=ae),h.baseState=k,h.firstBaseUpdate=Y,h.lastBaseUpdate=te,m===null&&(h.shared.lanes=0),ss|=w,n.lanes=w,n.memoizedState=ae}}function Mv(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Pv(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Mv(a[n],i)}var go=re(null),Wu=re(0);function kv(n,i){n=Ti,oe(Wu,n),oe(go,i),Ti=n|i.baseLanes}function nm(){oe(Wu,Ti),oe(go,go.current)}function rm(){Ti=Wu.current,fe(go),fe(Wu)}var Zi=0,Le=null,ot=null,Dt=null,Zu=!1,yo=!1,ya=!1,Ju=0,ec=0,vo=null,T1=0;function xt(){throw Error(s(321))}function im(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Vn(n[a],i[a]))return!1;return!0}function sm(n,i,a,l,h,m){return Zi=m,Le=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=n===null||n.memoizedState===null?v_:__,ya=!1,m=a(l,h),ya=!1,yo&&(m=jv(i,a,l,h)),Vv(n),m}function Vv(n){q.H=af;var i=ot!==null&&ot.next!==null;if(Zi=0,Dt=ot=Le=null,Zu=!1,ec=0,vo=null,i)throw Error(s(300));n===null||Xt||(n=n.dependencies,n!==null&&Ku(n)&&(Xt=!0))}function jv(n,i,a,l){Le=n;var h=0;do{if(yo&&(vo=null),ec=0,yo=!1,25<=h)throw Error(s(301));if(h+=1,Dt=ot=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}q.H=N1,m=i(a,l)}while(yo);return m}function S1(){var n=q.H,i=n.useState()[0];return i=typeof i.then=="function"?tc(i):i,n=n.useState()[0],(ot!==null?ot.memoizedState:null)!==n&&(Le.flags|=1024),i}function am(){var n=Ju!==0;return Ju=0,n}function om(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function lm(n){if(Zu){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Zu=!1}Zi=0,Dt=ot=Le=null,yo=!1,ec=Ju=0,vo=null}function Rn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Le.memoizedState=Dt=n:Dt=Dt.next=n,Dt}function Ot(){if(ot===null){var n=Le.alternate;n=n!==null?n.memoizedState:null}else n=ot.next;var i=Dt===null?Le.memoizedState:Dt.next;if(i!==null)Dt=i,ot=n;else{if(n===null)throw Le.alternate===null?Error(s(467)):Error(s(310));ot=n,n={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Dt===null?Le.memoizedState=Dt=n:Dt=Dt.next=n}return Dt}function cm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(n){var i=ec;return ec+=1,vo===null&&(vo=[]),n=Nv(vo,n,i),i=Le,(Dt===null?i.memoizedState:Dt.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?v_:__),n}function ef(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return tc(n);if(n.$$typeof===z)return dn(n)}throw Error(s(438,String(n)))}function um(n){var i=null,a=Le.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=cm(),Le.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=j;return i.index++,a}function yi(n,i){return typeof i=="function"?i(n):i}function tf(n){var i=Ot();return fm(i,ot,n)}function fm(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,m=l.pending;if(m!==null){if(h!==null){var w=h.next;h.next=m.next,m.next=w}i.baseQueue=h=m,l.pending=null}if(m=n.baseState,h===null)n.memoizedState=m;else{i=h.next;var S=w=null,k=null,Y=i,te=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(Ye&ae)===ae:(Zi&ae)===ae){var $=Y.revertLane;if($===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===mo&&(te=!0);else if((Zi&$)===$){Y=Y.next,$===mo&&(te=!0);continue}else ae={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(S=k=ae,w=m):k=k.next=ae,Le.lanes|=$,ss|=$;ae=Y.action,ya&&a(m,ae),m=Y.hasEagerState?Y.eagerState:a(m,ae)}else $={lane:ae,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(S=k=$,w=m):k=k.next=$,Le.lanes|=ae,ss|=ae;Y=Y.next}while(Y!==null&&Y!==i);if(k===null?w=m:k.next=S,!Vn(m,n.memoizedState)&&(Xt=!0,te&&(a=po,a!==null)))throw a;n.memoizedState=m,n.baseState=w,n.baseQueue=k,l.lastRenderedState=m}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function hm(n){var i=Ot(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,m=i.memoizedState;if(h!==null){a.pending=null;var w=h=h.next;do m=n(m,w.action),w=w.next;while(w!==h);Vn(m,i.memoizedState)||(Xt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function Lv(n,i,a){var l=Le,h=Ot(),m=Ze;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var w=!Vn((ot||h).memoizedState,a);w&&(h.memoizedState=a,Xt=!0),h=h.queue;var S=Bv.bind(null,l,h,n);if(nc(2048,8,S,[n]),h.getSnapshot!==i||w||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,_o(9,nf(),zv.bind(null,l,h,a,i),null),ft===null)throw Error(s(349));m||(Zi&124)!==0||Uv(l,i,a)}return a}function Uv(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Le.updateQueue,i===null?(i=cm(),Le.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function zv(n,i,a,l){i.value=a,i.getSnapshot=l,qv(i)&&Hv(n)}function Bv(n,i,a){return a(function(){qv(i)&&Hv(n)})}function qv(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Vn(n,a)}catch{return!0}}function Hv(n){var i=co(n,2);i!==null&&qn(i,n,2)}function dm(n){var i=Rn();if(typeof n=="function"){var a=n;if(n=a(),ya){Pn(!0);try{a()}finally{Pn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:n},i}function Fv(n,i,a,l){return n.baseState=a,fm(n,ot,typeof l=="function"?l:yi)}function A1(n,i,a,l,h){if(sf(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};q.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,Gv(i,m)):(m.next=a.next,i.pending=a.next=m)}}function Gv(n,i){var a=i.action,l=i.payload,h=n.state;if(i.isTransition){var m=q.T,w={};q.T=w;try{var S=a(h,l),k=q.S;k!==null&&k(w,S),Kv(n,i,S)}catch(Y){mm(n,i,Y)}finally{q.T=m}}else try{m=a(h,l),Kv(n,i,m)}catch(Y){mm(n,i,Y)}}function Kv(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qv(n,i,l)},function(l){return mm(n,i,l)}):Qv(n,i,a)}function Qv(n,i,a){i.status="fulfilled",i.value=a,Yv(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Gv(n,a)))}function mm(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Yv(i),i=i.next;while(i!==l)}n.action=null}function Yv(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function $v(n,i){return i}function Xv(n,i){if(Ze){var a=ft.formState;if(a!==null){e:{var l=Le;if(Ze){if(bt){t:{for(var h=bt,m=kr;h.nodeType!==8;){if(!m){h=null;break t}if(h=hr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){bt=hr(h.nextSibling),l=h.data==="F!";break e}}da(l)}l=!1}l&&(i=a[0])}}return a=Rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$v,lastRenderedState:i},a.queue=l,a=p_.bind(null,Le,l),l.dispatch=a,l=dm(!1),m=_m.bind(null,Le,!1,l.queue),l=Rn(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,a=A1.bind(null,Le,h,m,a),h.dispatch=a,l.memoizedState=n,[i,a,!1]}function Wv(n){var i=Ot();return Zv(i,ot,n)}function Zv(n,i,a){if(i=fm(n,i,$v)[0],n=tf(yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=tc(i)}catch(w){throw w===$l?$u:w}else l=i;i=Ot();var h=i.queue,m=h.dispatch;return a!==i.memoizedState&&(Le.flags|=2048,_o(9,nf(),x1.bind(null,h,a),null)),[l,m,n]}function x1(n,i){n.action=i}function Jv(n){var i=Ot(),a=ot;if(a!==null)return Zv(i,a,n);Ot(),i=i.memoizedState,a=Ot();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function _o(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Le.updateQueue,i===null&&(i=cm(),Le.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function nf(){return{destroy:void 0,resource:void 0}}function e_(){return Ot().memoizedState}function rf(n,i,a,l){var h=Rn();l=l===void 0?null:l,Le.flags|=n,h.memoizedState=_o(1|i,nf(),a,l)}function nc(n,i,a,l){var h=Ot();l=l===void 0?null:l;var m=h.memoizedState.inst;ot!==null&&l!==null&&im(l,ot.memoizedState.deps)?h.memoizedState=_o(i,m,a,l):(Le.flags|=n,h.memoizedState=_o(1|i,m,a,l))}function t_(n,i){rf(8390656,8,n,i)}function n_(n,i){nc(2048,8,n,i)}function r_(n,i){return nc(4,2,n,i)}function i_(n,i){return nc(4,4,n,i)}function s_(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function a_(n,i,a){a=a!=null?a.concat([n]):null,nc(4,4,s_.bind(null,i,n),a)}function pm(){}function o_(n,i){var a=Ot();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&im(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function l_(n,i){var a=Ot();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&im(i,l[1]))return l[0];if(l=n(),ya){Pn(!0);try{n()}finally{Pn(!1)}}return a.memoizedState=[l,i],l}function gm(n,i,a){return a===void 0||(Zi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=f0(),Le.lanes|=n,ss|=n,a)}function c_(n,i,a,l){return Vn(a,i)?a:go.current!==null?(n=gm(n,a,l),Vn(n,i)||(Xt=!0),n):(Zi&42)===0?(Xt=!0,n.memoizedState=a):(n=f0(),Le.lanes|=n,ss|=n,i)}function u_(n,i,a,l,h){var m=ne.p;ne.p=m!==0&&8>m?m:8;var w=q.T,S={};q.T=S,_m(n,!1,i,a);try{var k=h(),Y=q.S;if(Y!==null&&Y(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var te=w1(k,l);rc(n,i,te,Bn(n))}else rc(n,i,l,Bn(n))}catch(ae){rc(n,i,{then:function(){},status:"rejected",reason:ae},Bn())}finally{ne.p=m,q.T=w}}function R1(){}function ym(n,i,a,l){if(n.tag!==5)throw Error(s(476));var h=f_(n).queue;u_(n,h,i,X,a===null?R1:function(){return h_(n),a(l)})}function f_(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:X},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function h_(n){var i=f_(n).next.queue;rc(n,i,{},Bn())}function vm(){return dn(Ec)}function d_(){return Ot().memoizedState}function m_(){return Ot().memoizedState}function C1(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Bn();n=Xi(a);var l=Wi(i,n,a);l!==null&&(qn(l,i,a),Wl(l,i,a)),i={cache:Yd()},n.payload=i;return}i=i.return}}function I1(n,i,a){var l=Bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},sf(n)?g_(i,a):(a=Ld(n,i,a,l),a!==null&&(qn(a,n,l),y_(a,i,l)))}function p_(n,i,a){var l=Bn();rc(n,i,a,l)}function rc(n,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(sf(n))g_(i,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var w=i.lastRenderedState,S=m(w,a);if(h.hasEagerState=!0,h.eagerState=S,Vn(S,w))return Bu(n,i,h,0),ft===null&&zu(),!1}catch{}finally{}if(a=Ld(n,i,h,l),a!==null)return qn(a,n,l),y_(a,i,l),!0}return!1}function _m(n,i,a,l){if(l={lane:2,revertLane:Wm(),action:l,hasEagerState:!1,eagerState:null,next:null},sf(n)){if(i)throw Error(s(479))}else i=Ld(n,a,l,2),i!==null&&qn(i,n,2)}function sf(n){var i=n.alternate;return n===Le||i!==null&&i===Le}function g_(n,i){yo=Zu=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function y_(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Al(n,a)}}var af={readContext:dn,use:ef,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},v_={readContext:dn,use:ef,useCallback:function(n,i){return Rn().memoizedState=[n,i===void 0?null:i],n},useContext:dn,useEffect:t_,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,rf(4194308,4,s_.bind(null,i,n),a)},useLayoutEffect:function(n,i){return rf(4194308,4,n,i)},useInsertionEffect:function(n,i){rf(4,2,n,i)},useMemo:function(n,i){var a=Rn();i=i===void 0?null:i;var l=n();if(ya){Pn(!0);try{n()}finally{Pn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=Rn();if(a!==void 0){var h=a(i);if(ya){Pn(!0);try{a(i)}finally{Pn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=I1.bind(null,Le,n),[l.memoizedState,n]},useRef:function(n){var i=Rn();return n={current:n},i.memoizedState=n},useState:function(n){n=dm(n);var i=n.queue,a=p_.bind(null,Le,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:pm,useDeferredValue:function(n,i){var a=Rn();return gm(a,n,i)},useTransition:function(){var n=dm(!1);return n=u_.bind(null,Le,n.queue,!0,!1),Rn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Le,h=Rn();if(Ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ft===null)throw Error(s(349));(Ye&124)!==0||Uv(l,i,a)}h.memoizedState=a;var m={value:a,getSnapshot:i};return h.queue=m,t_(Bv.bind(null,l,m,n),[n]),l.flags|=2048,_o(9,nf(),zv.bind(null,l,m,a,i),null),a},useId:function(){var n=Rn(),i=ft.identifierPrefix;if(Ze){var a=mi,l=di;a=(l&~(1<<32-hn(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Ju++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=T1++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:vm,useFormState:Xv,useActionState:Xv,useOptimistic:function(n){var i=Rn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=_m.bind(null,Le,!0,a),a.dispatch=i,[n,i]},useMemoCache:um,useCacheRefresh:function(){return Rn().memoizedState=C1.bind(null,Le)}},__={readContext:dn,use:ef,useCallback:o_,useContext:dn,useEffect:n_,useImperativeHandle:a_,useInsertionEffect:r_,useLayoutEffect:i_,useMemo:l_,useReducer:tf,useRef:e_,useState:function(){return tf(yi)},useDebugValue:pm,useDeferredValue:function(n,i){var a=Ot();return c_(a,ot.memoizedState,n,i)},useTransition:function(){var n=tf(yi)[0],i=Ot().memoizedState;return[typeof n=="boolean"?n:tc(n),i]},useSyncExternalStore:Lv,useId:d_,useHostTransitionStatus:vm,useFormState:Wv,useActionState:Wv,useOptimistic:function(n,i){var a=Ot();return Fv(a,ot,n,i)},useMemoCache:um,useCacheRefresh:m_},N1={readContext:dn,use:ef,useCallback:o_,useContext:dn,useEffect:n_,useImperativeHandle:a_,useInsertionEffect:r_,useLayoutEffect:i_,useMemo:l_,useReducer:hm,useRef:e_,useState:function(){return hm(yi)},useDebugValue:pm,useDeferredValue:function(n,i){var a=Ot();return ot===null?gm(a,n,i):c_(a,ot.memoizedState,n,i)},useTransition:function(){var n=hm(yi)[0],i=Ot().memoizedState;return[typeof n=="boolean"?n:tc(n),i]},useSyncExternalStore:Lv,useId:d_,useHostTransitionStatus:vm,useFormState:Jv,useActionState:Jv,useOptimistic:function(n,i){var a=Ot();return ot!==null?Fv(a,ot,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:um,useCacheRefresh:m_},bo=null,ic=0;function of(n){var i=ic;return ic+=1,bo===null&&(bo=[]),Nv(bo,n,i)}function sc(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function lf(n,i){throw i.$$typeof===E?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function b_(n){var i=n._init;return i(n._payload)}function E_(n){function i(G,H){if(n){var Q=G.deletions;Q===null?(G.deletions=[H],G.flags|=16):Q.push(H)}}function a(G,H){if(!n)return null;for(;H!==null;)i(G,H),H=H.sibling;return null}function l(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function h(G,H){return G=hi(G,H),G.index=0,G.sibling=null,G}function m(G,H,Q){return G.index=Q,n?(Q=G.alternate,Q!==null?(Q=Q.index,Q<H?(G.flags|=67108866,H):Q):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function w(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function S(G,H,Q,ie){return H===null||H.tag!==6?(H=zd(Q,G.mode,ie),H.return=G,H):(H=h(H,Q),H.return=G,H)}function k(G,H,Q,ie){var ve=Q.type;return ve===P?te(G,H,Q.props.children,ie,Q.key):H!==null&&(H.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&b_(ve)===H.type)?(H=h(H,Q.props),sc(H,Q),H.return=G,H):(H=Hu(Q.type,Q.key,Q.props,null,G.mode,ie),sc(H,Q),H.return=G,H)}function Y(G,H,Q,ie){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=Bd(Q,G.mode,ie),H.return=G,H):(H=h(H,Q.children||[]),H.return=G,H)}function te(G,H,Q,ie,ve){return H===null||H.tag!==7?(H=ca(Q,G.mode,ie,ve),H.return=G,H):(H=h(H,Q),H.return=G,H)}function ae(G,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=zd(""+H,G.mode,Q),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return Q=Hu(H.type,H.key,H.props,null,G.mode,Q),sc(Q,H),Q.return=G,Q;case C:return H=Bd(H,G.mode,Q),H.return=G,H;case A:var ie=H._init;return H=ie(H._payload),ae(G,H,Q)}if(me(H)||B(H))return H=ca(H,G.mode,Q,null),H.return=G,H;if(typeof H.then=="function")return ae(G,of(H),Q);if(H.$$typeof===z)return ae(G,Qu(G,H),Q);lf(G,H)}return null}function $(G,H,Q,ie){var ve=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return ve!==null?null:S(G,H,""+Q,ie);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:return Q.key===ve?k(G,H,Q,ie):null;case C:return Q.key===ve?Y(G,H,Q,ie):null;case A:return ve=Q._init,Q=ve(Q._payload),$(G,H,Q,ie)}if(me(Q)||B(Q))return ve!==null?null:te(G,H,Q,ie,null);if(typeof Q.then=="function")return $(G,H,of(Q),ie);if(Q.$$typeof===z)return $(G,H,Qu(G,Q),ie);lf(G,Q)}return null}function W(G,H,Q,ie,ve){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(Q)||null,S(H,G,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case T:return G=G.get(ie.key===null?Q:ie.key)||null,k(H,G,ie,ve);case C:return G=G.get(ie.key===null?Q:ie.key)||null,Y(H,G,ie,ve);case A:var ze=ie._init;return ie=ze(ie._payload),W(G,H,Q,ie,ve)}if(me(ie)||B(ie))return G=G.get(Q)||null,te(H,G,ie,ve,null);if(typeof ie.then=="function")return W(G,H,Q,of(ie),ve);if(ie.$$typeof===z)return W(G,H,Q,Qu(H,ie),ve);lf(H,ie)}return null}function Ne(G,H,Q,ie){for(var ve=null,ze=null,Te=H,Ce=H=0,Zt=null;Te!==null&&Ce<Q.length;Ce++){Te.index>Ce?(Zt=Te,Te=null):Zt=Te.sibling;var We=$(G,Te,Q[Ce],ie);if(We===null){Te===null&&(Te=Zt);break}n&&Te&&We.alternate===null&&i(G,Te),H=m(We,H,Ce),ze===null?ve=We:ze.sibling=We,ze=We,Te=Zt}if(Ce===Q.length)return a(G,Te),Ze&&fa(G,Ce),ve;if(Te===null){for(;Ce<Q.length;Ce++)Te=ae(G,Q[Ce],ie),Te!==null&&(H=m(Te,H,Ce),ze===null?ve=Te:ze.sibling=Te,ze=Te);return Ze&&fa(G,Ce),ve}for(Te=l(Te);Ce<Q.length;Ce++)Zt=W(Te,G,Ce,Q[Ce],ie),Zt!==null&&(n&&Zt.alternate!==null&&Te.delete(Zt.key===null?Ce:Zt.key),H=m(Zt,H,Ce),ze===null?ve=Zt:ze.sibling=Zt,ze=Zt);return n&&Te.forEach(function(ms){return i(G,ms)}),Ze&&fa(G,Ce),ve}function xe(G,H,Q,ie){if(Q==null)throw Error(s(151));for(var ve=null,ze=null,Te=H,Ce=H=0,Zt=null,We=Q.next();Te!==null&&!We.done;Ce++,We=Q.next()){Te.index>Ce?(Zt=Te,Te=null):Zt=Te.sibling;var ms=$(G,Te,We.value,ie);if(ms===null){Te===null&&(Te=Zt);break}n&&Te&&ms.alternate===null&&i(G,Te),H=m(ms,H,Ce),ze===null?ve=ms:ze.sibling=ms,ze=ms,Te=Zt}if(We.done)return a(G,Te),Ze&&fa(G,Ce),ve;if(Te===null){for(;!We.done;Ce++,We=Q.next())We=ae(G,We.value,ie),We!==null&&(H=m(We,H,Ce),ze===null?ve=We:ze.sibling=We,ze=We);return Ze&&fa(G,Ce),ve}for(Te=l(Te);!We.done;Ce++,We=Q.next())We=W(Te,G,Ce,We.value,ie),We!==null&&(n&&We.alternate!==null&&Te.delete(We.key===null?Ce:We.key),H=m(We,H,Ce),ze===null?ve=We:ze.sibling=We,ze=We);return n&&Te.forEach(function(DR){return i(G,DR)}),Ze&&fa(G,Ce),ve}function ct(G,H,Q,ie){if(typeof Q=="object"&&Q!==null&&Q.type===P&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:e:{for(var ve=Q.key;H!==null;){if(H.key===ve){if(ve=Q.type,ve===P){if(H.tag===7){a(G,H.sibling),ie=h(H,Q.props.children),ie.return=G,G=ie;break e}}else if(H.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&b_(ve)===H.type){a(G,H.sibling),ie=h(H,Q.props),sc(ie,Q),ie.return=G,G=ie;break e}a(G,H);break}else i(G,H);H=H.sibling}Q.type===P?(ie=ca(Q.props.children,G.mode,ie,Q.key),ie.return=G,G=ie):(ie=Hu(Q.type,Q.key,Q.props,null,G.mode,ie),sc(ie,Q),ie.return=G,G=ie)}return w(G);case C:e:{for(ve=Q.key;H!==null;){if(H.key===ve)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){a(G,H.sibling),ie=h(H,Q.children||[]),ie.return=G,G=ie;break e}else{a(G,H);break}else i(G,H);H=H.sibling}ie=Bd(Q,G.mode,ie),ie.return=G,G=ie}return w(G);case A:return ve=Q._init,Q=ve(Q._payload),ct(G,H,Q,ie)}if(me(Q))return Ne(G,H,Q,ie);if(B(Q)){if(ve=B(Q),typeof ve!="function")throw Error(s(150));return Q=ve.call(Q),xe(G,H,Q,ie)}if(typeof Q.then=="function")return ct(G,H,of(Q),ie);if(Q.$$typeof===z)return ct(G,H,Qu(G,Q),ie);lf(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,H!==null&&H.tag===6?(a(G,H.sibling),ie=h(H,Q),ie.return=G,G=ie):(a(G,H),ie=zd(Q,G.mode,ie),ie.return=G,G=ie),w(G)):a(G,H)}return function(G,H,Q,ie){try{ic=0;var ve=ct(G,H,Q,ie);return bo=null,ve}catch(Te){if(Te===$l||Te===$u)throw Te;var ze=jn(29,Te,null,G.mode);return ze.lanes=ie,ze.return=G,ze}finally{}}}var Eo=E_(!0),w_=E_(!1),tr=re(null),Vr=null;function Ji(n){var i=n.alternate;oe(qt,qt.current&1),oe(tr,n),Vr===null&&(i===null||go.current!==null||i.memoizedState!==null)&&(Vr=n)}function T_(n){if(n.tag===22){if(oe(qt,qt.current),oe(tr,n),Vr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Vr=n)}}else es()}function es(){oe(qt,qt.current),oe(tr,tr.current)}function vi(n){fe(tr),Vr===n&&(Vr=null),fe(qt)}var qt=re(0);function cf(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||cp(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function bm(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:v({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Em={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Bn(),h=Xi(l);h.payload=i,a!=null&&(h.callback=a),i=Wi(n,h,l),i!==null&&(qn(i,n,l),Wl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Bn(),h=Xi(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Wi(n,h,l),i!==null&&(qn(i,n,l),Wl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Bn(),l=Xi(a);l.tag=2,i!=null&&(l.callback=i),i=Wi(n,l,a),i!==null&&(qn(i,n,a),Wl(i,n,a))}};function S_(n,i,a,l,h,m,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,w):i.prototype&&i.prototype.isPureReactComponent?!Bl(a,l)||!Bl(h,m):!0}function A_(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&Em.enqueueReplaceState(i,i.state,null)}function va(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=v({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var uf=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function x_(n){uf(n)}function R_(n){console.error(n)}function C_(n){uf(n)}function ff(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function I_(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wm(n,i,a){return a=Xi(a),a.tag=3,a.payload={element:null},a.callback=function(){ff(n,i)},a}function N_(n){return n=Xi(n),n.tag=3,n}function D_(n,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;n.payload=function(){return h(m)},n.callback=function(){I_(i,a,l)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){I_(i,a,l),typeof h!="function"&&(as===null?as=new Set([this]):as.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function D1(n,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Kl(i,a,h,!0),a=tr.current,a!==null){switch(a.tag){case 13:return Vr===null?Km():a.alternate===null&&Et===0&&(Et=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Wd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ym(n,l,h)),!1;case 22:return a.flags|=65536,l===Wd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ym(n,l,h)),!1}throw Error(s(435,a.tag))}return Ym(n,l,h),Km(),!1}if(Ze)return i=tr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Fd&&(n=Error(s(422),{cause:l}),Gl(Wn(n,a)))):(l!==Fd&&(i=Error(s(423),{cause:l}),Gl(Wn(i,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Wn(l,a),h=wm(n.stateNode,l,h),em(n,h),Et!==4&&(Et=2)),!1;var m=Error(s(520),{cause:l});if(m=Wn(m,a),hc===null?hc=[m]:hc.push(m),Et!==4&&(Et=2),i===null)return!0;l=Wn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=wm(a.stateNode,l,n),em(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(as===null||!as.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=N_(h),D_(h,n,a,l),em(a,h),!1}a=a.return}while(a!==null);return!1}var O_=Error(s(461)),Xt=!1;function sn(n,i,a,l){i.child=n===null?w_(i,null,a,l):Eo(i,n.child,a,l)}function M_(n,i,a,l,h){a=a.render;var m=i.ref;if("ref"in l){var w={};for(var S in l)S!=="ref"&&(w[S]=l[S])}else w=l;return pa(i),l=sm(n,i,a,w,m,h),S=am(),n!==null&&!Xt?(om(n,i,h),_i(n,i,h)):(Ze&&S&&qd(i),i.flags|=1,sn(n,i,l,h),i.child)}function P_(n,i,a,l,h){if(n===null){var m=a.type;return typeof m=="function"&&!Ud(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,k_(n,i,m,l,h)):(n=Hu(a.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Nm(n,h)){var w=m.memoizedProps;if(a=a.compare,a=a!==null?a:Bl,a(w,l)&&n.ref===i.ref)return _i(n,i,h)}return i.flags|=1,n=hi(m,l),n.ref=i.ref,n.return=i,i.child=n}function k_(n,i,a,l,h){if(n!==null){var m=n.memoizedProps;if(Bl(m,l)&&n.ref===i.ref)if(Xt=!1,i.pendingProps=l=m,Nm(n,h))(n.flags&131072)!==0&&(Xt=!0);else return i.lanes=n.lanes,_i(n,i,h)}return Tm(n,i,a,l,h)}function V_(n,i,a){var l=i.pendingProps,h=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(h=i.child=n.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return j_(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Yu(i,m!==null?m.cachePool:null),m!==null?kv(i,m):nm(),T_(i);else return i.lanes=i.childLanes=536870912,j_(n,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(Yu(i,m.cachePool),kv(i,m),es(),i.memoizedState=null):(n!==null&&Yu(i,null),nm(),es());return sn(n,i,h,a),i.child}function j_(n,i,a,l){var h=Xd();return h=h===null?null:{parent:Bt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},n!==null&&Yu(i,null),nm(),T_(i),n!==null&&Kl(n,i,l,!0),null}function hf(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Tm(n,i,a,l,h){return pa(i),a=sm(n,i,a,l,void 0,h),l=am(),n!==null&&!Xt?(om(n,i,h),_i(n,i,h)):(Ze&&l&&qd(i),i.flags|=1,sn(n,i,a,h),i.child)}function L_(n,i,a,l,h,m){return pa(i),i.updateQueue=null,a=jv(i,l,a,h),Vv(n),l=am(),n!==null&&!Xt?(om(n,i,m),_i(n,i,m)):(Ze&&l&&qd(i),i.flags|=1,sn(n,i,a,m),i.child)}function U_(n,i,a,l,h){if(pa(i),i.stateNode===null){var m=uo,w=a.contextType;typeof w=="object"&&w!==null&&(m=dn(w)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Em,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},Zd(i),w=a.contextType,m.context=typeof w=="object"&&w!==null?dn(w):uo,m.state=i.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(bm(i,a,w,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&Em.enqueueReplaceState(m,m.state,null),Jl(i,l,m,h),Zl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){m=i.stateNode;var S=i.memoizedProps,k=va(a,S);m.props=k;var Y=m.context,te=a.contextType;w=uo,typeof te=="object"&&te!==null&&(w=dn(te));var ae=a.getDerivedStateFromProps;te=typeof ae=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,te||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||Y!==w)&&A_(i,m,l,w),$i=!1;var $=i.memoizedState;m.state=$,Jl(i,l,m,h),Zl(),Y=i.memoizedState,S||$!==Y||$i?(typeof ae=="function"&&(bm(i,a,ae,l),Y=i.memoizedState),(k=$i||S_(i,a,k,l,$,Y,w))?(te||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Y),m.props=l,m.state=Y,m.context=w,l=k):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,Jd(n,i),w=i.memoizedProps,te=va(a,w),m.props=te,ae=i.pendingProps,$=m.context,Y=a.contextType,k=uo,typeof Y=="object"&&Y!==null&&(k=dn(Y)),S=a.getDerivedStateFromProps,(Y=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==ae||$!==k)&&A_(i,m,l,k),$i=!1,$=i.memoizedState,m.state=$,Jl(i,l,m,h),Zl();var W=i.memoizedState;w!==ae||$!==W||$i||n!==null&&n.dependencies!==null&&Ku(n.dependencies)?(typeof S=="function"&&(bm(i,a,S,l),W=i.memoizedState),(te=$i||S_(i,a,te,l,$,W,k)||n!==null&&n.dependencies!==null&&Ku(n.dependencies))?(Y||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,W,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,W,k)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===n.memoizedProps&&$===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&$===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=W),m.props=l,m.state=W,m.context=k,l=te):(typeof m.componentDidUpdate!="function"||w===n.memoizedProps&&$===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&$===n.memoizedState||(i.flags|=1024),l=!1)}return m=l,hf(n,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&l?(i.child=Eo(i,n.child,null,h),i.child=Eo(i,null,a,h)):sn(n,i,a,h),i.memoizedState=m.state,n=i.child):n=_i(n,i,h),n}function z_(n,i,a,l){return Fl(),i.flags|=256,sn(n,i,a,l),i.child}var Sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Am(n){return{baseLanes:n,cachePool:Rv()}}function xm(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=nr),n}function B_(n,i,a){var l=i.pendingProps,h=!1,m=(i.flags&128)!==0,w;if((w=m)||(w=n!==null&&n.memoizedState===null?!1:(qt.current&2)!==0),w&&(h=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ze){if(h?Ji(i):es(),Ze){var S=bt,k;if(k=S){e:{for(k=S,S=kr;k.nodeType!==8;){if(!S){S=null;break e}if(k=hr(k.nextSibling),k===null){S=null;break e}}S=k}S!==null?(i.memoizedState={dehydrated:S,treeContext:ua!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},k=jn(18,null,null,0),k.stateNode=S,k.return=i,i.child=k,Sn=i,bt=null,k=!0):k=!1}k||da(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return cp(S)?i.lanes=32:i.lanes=536870912,null;vi(i)}return S=l.children,l=l.fallback,h?(es(),h=i.mode,S=df({mode:"hidden",children:S},h),l=ca(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=Am(a),h.childLanes=xm(n,w,a),i.memoizedState=Sm,l):(Ji(i),Rm(i,S))}if(k=n.memoizedState,k!==null&&(S=k.dehydrated,S!==null)){if(m)i.flags&256?(Ji(i),i.flags&=-257,i=Cm(n,i,a)):i.memoizedState!==null?(es(),i.child=n.child,i.flags|=128,i=null):(es(),h=l.fallback,S=i.mode,l=df({mode:"visible",children:l.children},S),h=ca(h,S,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Eo(i,n.child,null,a),l=i.child,l.memoizedState=Am(a),l.childLanes=xm(n,w,a),i.memoizedState=Sm,i=h);else if(Ji(i),cp(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var Y=w.dgst;w=Y,l=Error(s(419)),l.stack="",l.digest=w,Gl({value:l,source:null,stack:null}),i=Cm(n,i,a)}else if(Xt||Kl(n,i,a,!1),w=(a&n.childLanes)!==0,Xt||w){if(w=ft,w!==null&&(l=a&-a,l=(l&42)!==0?1:Bi(l),l=(l&(w.suspendedLanes|a))!==0?0:l,l!==0&&l!==k.retryLane))throw k.retryLane=l,co(n,l),qn(w,n,l),O_;S.data==="$?"||Km(),i=Cm(n,i,a)}else S.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=k.treeContext,bt=hr(S.nextSibling),Sn=i,Ze=!0,ha=null,kr=!1,n!==null&&(Jn[er++]=di,Jn[er++]=mi,Jn[er++]=ua,di=n.id,mi=n.overflow,ua=i),i=Rm(i,l.children),i.flags|=4096);return i}return h?(es(),h=l.fallback,S=i.mode,k=n.child,Y=k.sibling,l=hi(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,Y!==null?h=hi(Y,h):(h=ca(h,S,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=n.child.memoizedState,S===null?S=Am(a):(k=S.cachePool,k!==null?(Y=Bt._currentValue,k=k.parent!==Y?{parent:Y,pool:Y}:k):k=Rv(),S={baseLanes:S.baseLanes|a,cachePool:k}),h.memoizedState=S,h.childLanes=xm(n,w,a),i.memoizedState=Sm,l):(Ji(i),a=n.child,n=a.sibling,a=hi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(w=i.deletions,w===null?(i.deletions=[n],i.flags|=16):w.push(n)),i.child=a,i.memoizedState=null,a)}function Rm(n,i){return i=df({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function df(n,i){return n=jn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Cm(n,i,a){return Eo(i,n.child,null,a),n=Rm(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function q_(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Kd(n.return,i,a)}function Im(n,i,a,l,h){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=h)}function H_(n,i,a){var l=i.pendingProps,h=l.revealOrder,m=l.tail;if(sn(n,i,l.children,a),l=qt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&q_(n,a,i);else if(n.tag===19)q_(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(oe(qt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)n=a.alternate,n!==null&&cf(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Im(i,!1,h,a,m);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&cf(n)===null){i.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}Im(i,!0,a,null,m);break;case"together":Im(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function _i(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ss|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Kl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=hi(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=hi(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Nm(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Ku(n)))}function O1(n,i,a){switch(i.tag){case 3:Se(i,i.stateNode.containerInfo),Yi(i,Bt,n.memoizedState.cache),Fl();break;case 27:case 5:je(i);break;case 4:Se(i,i.stateNode.containerInfo);break;case 10:Yi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ji(i),i.flags|=128,null):(a&i.child.childLanes)!==0?B_(n,i,a):(Ji(i),n=_i(n,i,a),n!==null?n.sibling:null);Ji(i);break;case 19:var h=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Kl(n,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return H_(n,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(qt,qt.current),l)break;return null;case 22:case 23:return i.lanes=0,V_(n,i,a);case 24:Yi(i,Bt,n.memoizedState.cache)}return _i(n,i,a)}function F_(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Xt=!0;else{if(!Nm(n,a)&&(i.flags&128)===0)return Xt=!1,O1(n,i,a);Xt=(n.flags&131072)!==0}else Xt=!1,Ze&&(i.flags&1048576)!==0&&bv(i,Gu,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Ud(l)?(n=va(l,n),i.tag=1,i=U_(null,i,l,n,a)):(i.tag=0,i=Tm(null,i,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===Z){i.tag=11,i=M_(null,i,l,n,a);break e}else if(h===D){i.tag=14,i=P_(null,i,l,n,a);break e}}throw i=ue(l)||l,Error(s(306,i,""))}}return i;case 0:return Tm(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=va(l,i.pendingProps),U_(n,i,l,h,a);case 3:e:{if(Se(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;h=m.element,Jd(n,i),Jl(i,l,null,a);var w=i.memoizedState;if(l=w.cache,Yi(i,Bt,l),l!==m.cache&&Qd(i,[Bt],a,!0),Zl(),l=w.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=z_(n,i,l,a);break e}else if(l!==h){h=Wn(Error(s(424)),i),Gl(h),i=z_(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(bt=hr(n.firstChild),Sn=i,Ze=!0,ha=null,kr=!0,a=w_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fl(),l===h){i=_i(n,i,a);break e}sn(n,i,l,a)}i=i.child}return i;case 26:return hf(n,i),n===null?(a=Y0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ze||(a=i.type,n=i.pendingProps,l=Rf(we.current).createElement(a),l[Lt]=i,l[It]=n,on(l,a,n),At(l),i.stateNode=l):i.memoizedState=Y0(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return je(i),n===null&&Ze&&(l=i.stateNode=G0(i.type,i.pendingProps,we.current),Sn=i,kr=!0,h=bt,cs(i.type)?(up=h,bt=hr(l.firstChild)):bt=h),sn(n,i,i.pendingProps.children,a),hf(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ze&&((h=l=bt)&&(l=aR(l,i.type,i.pendingProps,kr),l!==null?(i.stateNode=l,Sn=i,bt=hr(l.firstChild),kr=!1,h=!0):h=!1),h||da(i)),je(i),h=i.type,m=i.pendingProps,w=n!==null?n.memoizedProps:null,l=m.children,ap(h,m)?l=null:w!==null&&ap(h,w)&&(i.flags|=32),i.memoizedState!==null&&(h=sm(n,i,S1,null,null,a),Ec._currentValue=h),hf(n,i),sn(n,i,l,a),i.child;case 6:return n===null&&Ze&&((n=a=bt)&&(a=oR(a,i.pendingProps,kr),a!==null?(i.stateNode=a,Sn=i,bt=null,n=!0):n=!1),n||da(i)),null;case 13:return B_(n,i,a);case 4:return Se(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Eo(i,null,l,a):sn(n,i,l,a),i.child;case 11:return M_(n,i,i.type,i.pendingProps,a);case 7:return sn(n,i,i.pendingProps,a),i.child;case 8:return sn(n,i,i.pendingProps.children,a),i.child;case 12:return sn(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Yi(i,i.type,l.value),sn(n,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,pa(i),h=dn(h),l=l(h),i.flags|=1,sn(n,i,l,a),i.child;case 14:return P_(n,i,i.type,i.pendingProps,a);case 15:return k_(n,i,i.type,i.pendingProps,a);case 19:return H_(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=df(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=hi(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return V_(n,i,a);case 24:return pa(i),l=dn(Bt),n===null?(h=Xd(),h===null&&(h=ft,m=Yd(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),i.memoizedState={parent:l,cache:h},Zd(i),Yi(i,Bt,h)):((n.lanes&a)!==0&&(Jd(n,i),Jl(i,null,null,a),Zl()),h=n.memoizedState,m=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Yi(i,Bt,l)):(l=m.cache,Yi(i,Bt,l),l!==h.cache&&Qd(i,[Bt],a,!0))),sn(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function bi(n){n.flags|=4}function G_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!J0(i)){if(i=tr.current,i!==null&&((Ye&4194048)===Ye?Vr!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||i!==Vr))throw Xl=Wd,Cv;n.flags|=8192}}function mf(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Tl():536870912,n.lanes|=i,Ao|=i)}function ac(n,i){if(!Ze)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function yt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function M1(n,i,a){var l=i.pendingProps;switch(Hd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(i),null;case 1:return yt(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),gi(Bt),Xe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Hl(i)?bi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tv())),yt(i),null;case 26:return a=i.memoizedState,n===null?(bi(i),a!==null?(yt(i),G_(i,a)):(yt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(bi(i),yt(i),G_(i,a)):(yt(i),i.flags&=-16777217):(n.memoizedProps!==l&&bi(i),yt(i),i.flags&=-16777217),null;case 27:Pe(i),a=we.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&bi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return yt(i),null}n=pe.current,Hl(i)?Ev(i):(n=G0(h,l,a),i.stateNode=n,bi(i))}return yt(i),null;case 5:if(Pe(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&bi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return yt(i),null}if(n=pe.current,Hl(i))Ev(i);else{switch(h=Rf(we.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Lt]=i,n[It]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;e:switch(on(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&bi(i)}}return yt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&bi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=we.current,Hl(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,h=Sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Lt]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||L0(n.nodeValue,a)),n||da(i)}else n=Rf(n).createTextNode(l),n[Lt]=i,i.stateNode=n}return yt(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=Hl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Lt]=i}else Fl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yt(i),h=!1}else h=Tv(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vi(i),i):(vi(i),null)}if(vi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),mf(i,i.updateQueue),yt(i),null;case 4:return Xe(),n===null&&tp(i.stateNode.containerInfo),yt(i),null;case 10:return gi(i.type),yt(i),null;case 19:if(fe(qt),h=i.memoizedState,h===null)return yt(i),null;if(l=(i.flags&128)!==0,m=h.rendering,m===null)if(l)ac(h,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=cf(n),m!==null){for(i.flags|=128,ac(h,!1),n=m.updateQueue,i.updateQueue=n,mf(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)_v(a,n),a=a.sibling;return oe(qt,qt.current&1|2),i.child}n=n.sibling}h.tail!==null&&Qt()>yf&&(i.flags|=128,l=!0,ac(h,!1),i.lanes=4194304)}else{if(!l)if(n=cf(m),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,mf(i,n),ac(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Ze)return yt(i),null}else 2*Qt()-h.renderingStartTime>yf&&a!==536870912&&(i.flags|=128,l=!0,ac(h,!1),i.lanes=4194304);h.isBackwards?(m.sibling=i.child,i.child=m):(n=h.last,n!==null?n.sibling=m:i.child=m,h.last=m)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Qt(),i.sibling=null,n=qt.current,oe(qt,l?n&1|2:n&1),i):(yt(i),null);case 22:case 23:return vi(i),rm(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(yt(i),i.subtreeFlags&6&&(i.flags|=8192)):yt(i),a=i.updateQueue,a!==null&&mf(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&fe(ga),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),gi(Bt),yt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function P1(n,i){switch(Hd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return gi(Bt),Xe(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Pe(i),null;case 13:if(vi(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Fl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return fe(qt),null;case 4:return Xe(),null;case 10:return gi(i.type),null;case 22:case 23:return vi(i),rm(),n!==null&&fe(ga),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return gi(Bt),null;case 25:return null;default:return null}}function K_(n,i){switch(Hd(i),i.tag){case 3:gi(Bt),Xe();break;case 26:case 27:case 5:Pe(i);break;case 4:Xe();break;case 13:vi(i);break;case 19:fe(qt);break;case 10:gi(i.type);break;case 22:case 23:vi(i),rm(),n!==null&&fe(ga);break;case 24:gi(Bt)}}function oc(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var m=a.create,w=a.inst;l=m(),w.destroy=l}a=a.next}while(a!==h)}}catch(S){ut(i,i.return,S)}}function ts(n,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&n)===n){var w=l.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,h=i;var k=a,Y=S;try{Y()}catch(te){ut(h,k,te)}}}l=l.next}while(l!==m)}}catch(te){ut(i,i.return,te)}}function Q_(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Pv(i,a)}catch(l){ut(n,n.return,l)}}}function Y_(n,i,a){a.props=va(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ut(n,i,l)}}function lc(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){ut(n,i,h)}}function jr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ut(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ut(n,i,h)}else a.current=null}function $_(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ut(n,n.return,h)}}function Dm(n,i,a){try{var l=n.stateNode;tR(l,n.type,a,i),l[It]=i}catch(h){ut(n,n.return,h)}}function X_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&cs(n.type)||n.tag===4}function Om(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||X_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&cs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Mm(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=xf));else if(l!==4&&(l===27&&cs(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Mm(n,i,a),n=n.sibling;n!==null;)Mm(n,i,a),n=n.sibling}function pf(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&cs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(pf(n,i,a),n=n.sibling;n!==null;)pf(n,i,a),n=n.sibling}function W_(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);on(i,l,a),i[Lt]=n,i[It]=a}catch(m){ut(n,n.return,m)}}var Ei=!1,Rt=!1,Pm=!1,Z_=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function k1(n,i){if(n=n.containerInfo,ip=Mf,n=cv(n),Od(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var w=0,S=-1,k=-1,Y=0,te=0,ae=n,$=null;t:for(;;){for(var W;ae!==a||h!==0&&ae.nodeType!==3||(S=w+h),ae!==m||l!==0&&ae.nodeType!==3||(k=w+l),ae.nodeType===3&&(w+=ae.nodeValue.length),(W=ae.firstChild)!==null;)$=ae,ae=W;for(;;){if(ae===n)break t;if($===a&&++Y===h&&(S=w),$===m&&++te===l&&(k=w),(W=ae.nextSibling)!==null)break;ae=$,$=ae.parentNode}ae=W}a=S===-1||k===-1?null:{start:S,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(sp={focusedElem:n,selectionRange:a},Mf=!1,Wt=i;Wt!==null;)if(i=Wt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Wt=n;else for(;Wt!==null;){switch(i=Wt,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Ne=va(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Ne,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(xe){ut(a,a.return,xe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)lp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":lp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Wt=n;break}Wt=i.return}}function J_(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ns(n,a),l&4&&oc(5,a);break;case 1:if(ns(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(w){ut(a,a.return,w)}else{var h=va(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(w){ut(a,a.return,w)}}l&64&&Q_(a),l&512&&lc(a,a.return);break;case 3:if(ns(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Pv(n,i)}catch(w){ut(a,a.return,w)}}break;case 27:i===null&&l&4&&W_(a);case 26:case 5:ns(n,a),i===null&&l&4&&$_(a),l&512&&lc(a,a.return);break;case 12:ns(n,a);break;case 13:ns(n,a),l&4&&n0(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=F1.bind(null,a),lR(n,a))));break;case 22:if(l=a.memoizedState!==null||Ei,!l){i=i!==null&&i.memoizedState!==null||Rt,h=Ei;var m=Rt;Ei=l,(Rt=i)&&!m?rs(n,a,(a.subtreeFlags&8772)!==0):ns(n,a),Ei=h,Rt=m}break;case 30:break;default:ns(n,a)}}function e0(n){var i=n.alternate;i!==null&&(n.alternate=null,e0(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Fi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pt=null,Cn=!1;function wi(n,i,a){for(a=a.child;a!==null;)t0(n,i,a),a=a.sibling}function t0(n,i,a){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(_t,a)}catch{}switch(a.tag){case 26:Rt||jr(a,i),wi(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||jr(a,i);var l=pt,h=Cn;cs(a.type)&&(pt=a.stateNode,Cn=!1),wi(n,i,a),yc(a.stateNode),pt=l,Cn=h;break;case 5:Rt||jr(a,i);case 6:if(l=pt,h=Cn,pt=null,wi(n,i,a),pt=l,Cn=h,pt!==null)if(Cn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(m){ut(a,i,m)}else try{pt.removeChild(a.stateNode)}catch(m){ut(a,i,m)}break;case 18:pt!==null&&(Cn?(n=pt,H0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Ac(n)):H0(pt,a.stateNode));break;case 4:l=pt,h=Cn,pt=a.stateNode.containerInfo,Cn=!0,wi(n,i,a),pt=l,Cn=h;break;case 0:case 11:case 14:case 15:Rt||ts(2,a,i),Rt||ts(4,a,i),wi(n,i,a);break;case 1:Rt||(jr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Y_(a,i,l)),wi(n,i,a);break;case 21:wi(n,i,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,wi(n,i,a),Rt=l;break;default:wi(n,i,a)}}function n0(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ac(n)}catch(a){ut(i,i.return,a)}}function V1(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Z_),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Z_),i;default:throw Error(s(435,n.tag))}}function km(n,i){var a=V1(n);i.forEach(function(l){var h=G1.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Ln(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=n,w=i,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(cs(S.type)){pt=S.stateNode,Cn=!1;break e}break;case 5:pt=S.stateNode,Cn=!1;break e;case 3:case 4:pt=S.stateNode.containerInfo,Cn=!0;break e}S=S.return}if(pt===null)throw Error(s(160));t0(m,w,h),pt=null,Cn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)r0(i,n),i=i.sibling}var fr=null;function r0(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ln(i,n),Un(n),l&4&&(ts(3,n,n.return),oc(3,n),ts(5,n,n.return));break;case 1:Ln(i,n),Un(n),l&512&&(Rt||a===null||jr(a,a.return)),l&64&&Ei&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=fr;if(Ln(i,n),Un(n),l&512&&(Rt||a===null||jr(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Qs]||m[Lt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),on(m,l,a),m[Lt]=n,At(m),l=m;break e;case"link":var w=W0("link","href",h).get(l+(a.href||""));if(w){for(var S=0;S<w.length;S++)if(m=w[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(S,1);break t}}m=h.createElement(l),on(m,l,a),h.head.appendChild(m);break;case"meta":if(w=W0("meta","content",h).get(l+(a.content||""))){for(S=0;S<w.length;S++)if(m=w[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(S,1);break t}}m=h.createElement(l),on(m,l,a),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[Lt]=n,At(m),l=m}n.stateNode=l}else Z0(h,n.type,n.stateNode);else n.stateNode=X0(h,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Z0(h,n.type,n.stateNode):X0(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Dm(n,n.memoizedProps,a.memoizedProps)}break;case 27:Ln(i,n),Un(n),l&512&&(Rt||a===null||jr(a,a.return)),a!==null&&l&4&&Dm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Ln(i,n),Un(n),l&512&&(Rt||a===null||jr(a,a.return)),n.flags&32){h=n.stateNode;try{Qn(h,"")}catch(W){ut(n,n.return,W)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Dm(n,h,a!==null?a.memoizedProps:h)),l&1024&&(Pm=!0);break;case 6:if(Ln(i,n),Un(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(W){ut(n,n.return,W)}}break;case 3:if(Nf=null,h=fr,fr=Cf(i.containerInfo),Ln(i,n),fr=h,Un(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ac(i.containerInfo)}catch(W){ut(n,n.return,W)}Pm&&(Pm=!1,i0(n));break;case 4:l=fr,fr=Cf(n.stateNode.containerInfo),Ln(i,n),Un(n),fr=l;break;case 12:Ln(i,n),Un(n);break;case 13:Ln(i,n),Un(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bm=Qt()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,km(n,l)));break;case 22:h=n.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,Y=Ei,te=Rt;if(Ei=Y||h,Rt=te||k,Ln(i,n),Rt=te,Ei=Y,Un(n),l&8192)e:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||k||Ei||Rt||_a(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){k=a=i;try{if(m=k.stateNode,h)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=k.stateNode;var ae=k.memoizedProps.style,$=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(W){ut(k,k.return,W)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(W){ut(k,k.return,W)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,km(n,a))));break;case 19:Ln(i,n),Un(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,km(n,l)));break;case 30:break;case 21:break;default:Ln(i,n),Un(n)}}function Un(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(X_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=Om(n);pf(n,m,h);break;case 5:var w=a.stateNode;a.flags&32&&(Qn(w,""),a.flags&=-33);var S=Om(n);pf(n,S,w);break;case 3:case 4:var k=a.stateNode.containerInfo,Y=Om(n);Mm(n,Y,k);break;default:throw Error(s(161))}}catch(te){ut(n,n.return,te)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function i0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;i0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ns(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)J_(n,i.alternate,i),i=i.sibling}function _a(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ts(4,i,i.return),_a(i);break;case 1:jr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Y_(i,i.return,a),_a(i);break;case 27:yc(i.stateNode);case 26:case 5:jr(i,i.return),_a(i);break;case 22:i.memoizedState===null&&_a(i);break;case 30:_a(i);break;default:_a(i)}n=n.sibling}}function rs(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,m=i,w=m.flags;switch(m.tag){case 0:case 11:case 15:rs(h,m,a),oc(4,m);break;case 1:if(rs(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Y){ut(l,l.return,Y)}if(l=m,h=l.updateQueue,h!==null){var S=l.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)Mv(k[h],S)}catch(Y){ut(l,l.return,Y)}}a&&w&64&&Q_(m),lc(m,m.return);break;case 27:W_(m);case 26:case 5:rs(h,m,a),a&&l===null&&w&4&&$_(m),lc(m,m.return);break;case 12:rs(h,m,a);break;case 13:rs(h,m,a),a&&w&4&&n0(h,m);break;case 22:m.memoizedState===null&&rs(h,m,a),lc(m,m.return);break;case 30:break;default:rs(h,m,a)}i=i.sibling}}function Vm(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Ql(a))}function jm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ql(n))}function Lr(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)s0(n,i,a,l),i=i.sibling}function s0(n,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Lr(n,i,a,l),h&2048&&oc(9,i);break;case 1:Lr(n,i,a,l);break;case 3:Lr(n,i,a,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ql(n)));break;case 12:if(h&2048){Lr(n,i,a,l),n=i.stateNode;try{var m=i.memoizedProps,w=m.id,S=m.onPostCommit;typeof S=="function"&&S(w,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){ut(i,i.return,k)}}else Lr(n,i,a,l);break;case 13:Lr(n,i,a,l);break;case 23:break;case 22:m=i.stateNode,w=i.alternate,i.memoizedState!==null?m._visibility&2?Lr(n,i,a,l):cc(n,i):m._visibility&2?Lr(n,i,a,l):(m._visibility|=2,wo(n,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Vm(w,i);break;case 24:Lr(n,i,a,l),h&2048&&jm(i.alternate,i);break;default:Lr(n,i,a,l)}}function wo(n,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,w=i,S=a,k=l,Y=w.flags;switch(w.tag){case 0:case 11:case 15:wo(m,w,S,k,h),oc(8,w);break;case 23:break;case 22:var te=w.stateNode;w.memoizedState!==null?te._visibility&2?wo(m,w,S,k,h):cc(m,w):(te._visibility|=2,wo(m,w,S,k,h)),h&&Y&2048&&Vm(w.alternate,w);break;case 24:wo(m,w,S,k,h),h&&Y&2048&&jm(w.alternate,w);break;default:wo(m,w,S,k,h)}i=i.sibling}}function cc(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,h=l.flags;switch(l.tag){case 22:cc(a,l),h&2048&&Vm(l.alternate,l);break;case 24:cc(a,l),h&2048&&jm(l.alternate,l);break;default:cc(a,l)}i=i.sibling}}var uc=8192;function To(n){if(n.subtreeFlags&uc)for(n=n.child;n!==null;)a0(n),n=n.sibling}function a0(n){switch(n.tag){case 26:To(n),n.flags&uc&&n.memoizedState!==null&&ER(fr,n.memoizedState,n.memoizedProps);break;case 5:To(n);break;case 3:case 4:var i=fr;fr=Cf(n.stateNode.containerInfo),To(n),fr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=uc,uc=16777216,To(n),uc=i):To(n));break;default:To(n)}}function o0(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function fc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Wt=l,c0(l,n)}o0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)l0(n),n=n.sibling}function l0(n){switch(n.tag){case 0:case 11:case 15:fc(n),n.flags&2048&&ts(9,n,n.return);break;case 3:fc(n);break;case 12:fc(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,gf(n)):fc(n);break;default:fc(n)}}function gf(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Wt=l,c0(l,n)}o0(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ts(8,i,i.return),gf(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,gf(i));break;default:gf(i)}n=n.sibling}}function c0(n,i){for(;Wt!==null;){var a=Wt;switch(a.tag){case 0:case 11:case 15:ts(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ql(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Wt=l;else e:for(a=n;Wt!==null;){l=Wt;var h=l.sibling,m=l.return;if(e0(l),l===a){Wt=null;break e}if(h!==null){h.return=m,Wt=h;break e}Wt=m}}}var j1={getCacheForType:function(n){var i=dn(Bt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},L1=typeof WeakMap=="function"?WeakMap:Map,it=0,ft=null,Be=null,Ye=0,st=0,zn=null,is=!1,So=!1,Lm=!1,Ti=0,Et=0,ss=0,ba=0,Um=0,nr=0,Ao=0,hc=null,In=null,zm=!1,Bm=0,yf=1/0,vf=null,as=null,an=0,os=null,xo=null,Ro=0,qm=0,Hm=null,u0=null,dc=0,Fm=null;function Bn(){if((it&2)!==0&&Ye!==0)return Ye&-Ye;if(q.T!==null){var n=mo;return n!==0?n:Wm()}return qi()}function f0(){nr===0&&(nr=(Ye&536870912)===0||Ze?wl():536870912);var n=tr.current;return n!==null&&(n.flags|=32),nr}function qn(n,i,a){(n===ft&&(st===2||st===9)||n.cancelPendingCommit!==null)&&(Co(n,0),ls(n,Ye,nr,!1)),ti(n,a),((it&2)===0||n!==ft)&&(n===ft&&((it&2)===0&&(ba|=a),Et===4&&ls(n,Ye,nr,!1)),Ur(n))}function h0(n,i,a){if((it&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||Ks(n,i),h=l?B1(n,i):Qm(n,i,!0),m=l;do{if(h===0){So&&!l&&ls(n,i,0,!1);break}else{if(a=n.current.alternate,m&&!U1(a)){h=Qm(n,i,!1),m=!1;continue}if(h===2){if(m=i,n.errorRecoveryDisabledLanes&m)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var S=n;h=hc;var k=S.current.memoizedState.isDehydrated;if(k&&(Co(S,w).flags|=256),w=Qm(S,w,!1),w!==2){if(Lm&&!k){S.errorRecoveryDisabledLanes|=m,ba|=m,h=4;break e}m=In,In=h,m!==null&&(In===null?In=m:In.push.apply(In,m))}h=w}if(m=!1,h!==2)continue}}if(h===1){Co(n,0),ls(n,i,0,!0);break}e:{switch(l=n,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ls(l,i,nr,!is);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Bm+300-Qt(),10<h)){if(ls(l,i,nr,!is),Fa(l,0,!0)!==0)break e;l.timeoutHandle=B0(d0.bind(null,l,a,In,vf,zm,i,nr,ba,Ao,is,m,2,-0,0),h);break e}d0(l,a,In,vf,zm,i,nr,ba,Ao,is,m,0,-0,0)}}break}while(!0);Ur(n)}function d0(n,i,a,l,h,m,w,S,k,Y,te,ae,$,W){if(n.timeoutHandle=-1,ae=i.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(bc={stylesheets:null,count:0,unsuspend:bR},a0(i),ae=wR(),ae!==null)){n.cancelPendingCommit=ae(b0.bind(null,n,i,m,a,l,h,w,S,k,te,1,$,W)),ls(n,m,w,!Y);return}b0(n,i,m,a,l,h,w,S,k)}function U1(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!Vn(m(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ls(n,i,a,l){i&=~Um,i&=~ba,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var m=31-hn(h),w=1<<m;l[m]=-1,h&=~w}a!==0&&Sr(n,a,i)}function _f(){return(it&6)===0?(mc(0),!1):!0}function Gm(){if(Be!==null){if(st===0)var n=Be.return;else n=Be,pi=ma=null,lm(n),bo=null,ic=0,n=Be;for(;n!==null;)K_(n.alternate,n),n=n.return;Be=null}}function Co(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,rR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Gm(),ft=n,Be=a=hi(n.current,null),Ye=i,st=0,zn=null,is=!1,So=Ks(n,i),Lm=!1,Ao=nr=Um=ba=ss=Et=0,In=hc=null,zm=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-hn(l),m=1<<h;i|=n[h],l&=~m}return Ti=i,zu(),a}function m0(n,i){Le=null,q.H=af,i===$l||i===$u?(i=Dv(),st=3):i===Cv?(i=Dv(),st=4):st=i===O_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,zn=i,Be===null&&(Et=1,ff(n,Wn(i,n.current)))}function p0(){var n=q.H;return q.H=af,n===null?af:n}function g0(){var n=q.A;return q.A=j1,n}function Km(){Et=4,is||(Ye&4194048)!==Ye&&tr.current!==null||(So=!0),(ss&134217727)===0&&(ba&134217727)===0||ft===null||ls(ft,Ye,nr,!1)}function Qm(n,i,a){var l=it;it|=2;var h=p0(),m=g0();(ft!==n||Ye!==i)&&(vf=null,Co(n,i)),i=!1;var w=Et;e:do try{if(st!==0&&Be!==null){var S=Be,k=zn;switch(st){case 8:Gm(),w=6;break e;case 3:case 2:case 9:case 6:tr.current===null&&(i=!0);var Y=st;if(st=0,zn=null,Io(n,S,k,Y),a&&So){w=0;break e}break;default:Y=st,st=0,zn=null,Io(n,S,k,Y)}}z1(),w=Et;break}catch(te){m0(n,te)}while(!0);return i&&n.shellSuspendCounter++,pi=ma=null,it=l,q.H=h,q.A=m,Be===null&&(ft=null,Ye=0,zu()),w}function z1(){for(;Be!==null;)y0(Be)}function B1(n,i){var a=it;it|=2;var l=p0(),h=g0();ft!==n||Ye!==i?(vf=null,yf=Qt()+500,Co(n,i)):So=Ks(n,i);e:do try{if(st!==0&&Be!==null){i=Be;var m=zn;t:switch(st){case 1:st=0,zn=null,Io(n,i,m,1);break;case 2:case 9:if(Iv(m)){st=0,zn=null,v0(i);break}i=function(){st!==2&&st!==9||ft!==n||(st=7),Ur(n)},m.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Iv(m)?(st=0,zn=null,v0(i)):(st=0,zn=null,Io(n,i,m,7));break;case 5:var w=null;switch(Be.tag){case 26:w=Be.memoizedState;case 5:case 27:var S=Be;if(!w||J0(w)){st=0,zn=null;var k=S.sibling;if(k!==null)Be=k;else{var Y=S.return;Y!==null?(Be=Y,bf(Y)):Be=null}break t}}st=0,zn=null,Io(n,i,m,5);break;case 6:st=0,zn=null,Io(n,i,m,6);break;case 8:Gm(),Et=6;break e;default:throw Error(s(462))}}q1();break}catch(te){m0(n,te)}while(!0);return pi=ma=null,q.H=l,q.A=h,it=a,Be!==null?0:(ft=null,Ye=0,zu(),Et)}function q1(){for(;Be!==null&&!ar();)y0(Be)}function y0(n){var i=F_(n.alternate,n,Ti);n.memoizedProps=n.pendingProps,i===null?bf(n):Be=i}function v0(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=L_(a,i,i.pendingProps,i.type,void 0,Ye);break;case 11:i=L_(a,i,i.pendingProps,i.type.render,i.ref,Ye);break;case 5:lm(i);default:K_(a,i),i=Be=_v(i,Ti),i=F_(a,i,Ti)}n.memoizedProps=n.pendingProps,i===null?bf(n):Be=i}function Io(n,i,a,l){pi=ma=null,lm(i),bo=null,ic=0;var h=i.return;try{if(D1(n,h,i,a,Ye)){Et=1,ff(n,Wn(a,n.current)),Be=null;return}}catch(m){if(h!==null)throw Be=h,m;Et=1,ff(n,Wn(a,n.current)),Be=null;return}i.flags&32768?(Ze||l===1?n=!0:So||(Ye&536870912)!==0?n=!1:(is=n=!0,(l===2||l===9||l===3||l===6)&&(l=tr.current,l!==null&&l.tag===13&&(l.flags|=16384))),_0(i,n)):bf(i)}function bf(n){var i=n;do{if((i.flags&32768)!==0){_0(i,is);return}n=i.return;var a=M1(i.alternate,i,Ti);if(a!==null){Be=a;return}if(i=i.sibling,i!==null){Be=i;return}Be=i=n}while(i!==null);Et===0&&(Et=5)}function _0(n,i){do{var a=P1(n.alternate,n);if(a!==null){a.flags&=32767,Be=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Be=n;return}Be=n=a}while(n!==null);Et=6,Be=null}function b0(n,i,a,l,h,m,w,S,k){n.cancelPendingCommit=null;do Ef();while(an!==0);if((it&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=jd,Sl(n,a,m,w,S,k),n===ft&&(Be=ft=null,Ye=0),xo=i,os=n,Ro=a,qm=m,Hm=h,u0=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,K1(qs,function(){return A0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,h=ne.p,ne.p=2,w=it,it|=4;try{k1(n,i,a)}finally{it=w,ne.p=h,q.T=l}}an=1,E0(),w0(),T0()}}function E0(){if(an===1){an=0;var n=os,i=xo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=ne.p;ne.p=2;var h=it;it|=4;try{r0(i,n);var m=sp,w=cv(n.containerInfo),S=m.focusedElem,k=m.selectionRange;if(w!==S&&S&&S.ownerDocument&&lv(S.ownerDocument.documentElement,S)){if(k!==null&&Od(S)){var Y=k.start,te=k.end;if(te===void 0&&(te=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(te,S.value.length);else{var ae=S.ownerDocument||document,$=ae&&ae.defaultView||window;if($.getSelection){var W=$.getSelection(),Ne=S.textContent.length,xe=Math.min(k.start,Ne),ct=k.end===void 0?xe:Math.min(k.end,Ne);!W.extend&&xe>ct&&(w=ct,ct=xe,xe=w);var G=ov(S,xe),H=ov(S,ct);if(G&&H&&(W.rangeCount!==1||W.anchorNode!==G.node||W.anchorOffset!==G.offset||W.focusNode!==H.node||W.focusOffset!==H.offset)){var Q=ae.createRange();Q.setStart(G.node,G.offset),W.removeAllRanges(),xe>ct?(W.addRange(Q),W.extend(H.node,H.offset)):(Q.setEnd(H.node,H.offset),W.addRange(Q))}}}}for(ae=[],W=S;W=W.parentNode;)W.nodeType===1&&ae.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ae.length;S++){var ie=ae[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Mf=!!ip,sp=ip=null}finally{it=h,ne.p=l,q.T=a}}n.current=i,an=2}}function w0(){if(an===2){an=0;var n=os,i=xo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=ne.p;ne.p=2;var h=it;it|=4;try{J_(n,i.alternate,i)}finally{it=h,ne.p=l,q.T=a}}an=3}}function T0(){if(an===4||an===3){an=0,wr();var n=os,i=xo,a=Ro,l=u0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?an=5:(an=0,xo=os=null,S0(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(as=null),Ga(a),i=i.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(_t,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=q.T,h=ne.p,ne.p=2,q.T=null;try{for(var m=n.onRecoverableError,w=0;w<l.length;w++){var S=l[w];m(S.value,{componentStack:S.stack})}}finally{q.T=i,ne.p=h}}(Ro&3)!==0&&Ef(),Ur(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===Fm?dc++:(dc=0,Fm=n):dc=0,mc(0)}}function S0(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Ql(i)))}function Ef(n){return E0(),w0(),T0(),A0()}function A0(){if(an!==5)return!1;var n=os,i=qm;qm=0;var a=Ga(Ro),l=q.T,h=ne.p;try{ne.p=32>a?32:a,q.T=null,a=Hm,Hm=null;var m=os,w=Ro;if(an=0,xo=os=null,Ro=0,(it&6)!==0)throw Error(s(331));var S=it;if(it|=4,l0(m.current),s0(m,m.current,w,a),it=S,mc(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(_t,m)}catch{}return!0}finally{ne.p=h,q.T=l,S0(n,i)}}function x0(n,i,a){i=Wn(a,i),i=wm(n.stateNode,i,2),n=Wi(n,i,2),n!==null&&(ti(n,2),Ur(n))}function ut(n,i,a){if(n.tag===3)x0(n,n,a);else for(;i!==null;){if(i.tag===3){x0(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(as===null||!as.has(l))){n=Wn(a,n),a=N_(2),l=Wi(i,a,2),l!==null&&(D_(a,l,i,n),ti(l,2),Ur(l));break}}i=i.return}}function Ym(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new L1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Lm=!0,h.add(a),n=H1.bind(null,n,i,a),i.then(n,n))}function H1(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ft===n&&(Ye&a)===a&&(Et===4||Et===3&&(Ye&62914560)===Ye&&300>Qt()-Bm?(it&2)===0&&Co(n,0):Um|=a,Ao===Ye&&(Ao=0)),Ur(n)}function R0(n,i){i===0&&(i=Tl()),n=co(n,i),n!==null&&(ti(n,i),Ur(n))}function F1(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),R0(n,a)}function G1(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),R0(n,a)}function K1(n,i){return St(n,i)}var wf=null,No=null,$m=!1,Tf=!1,Xm=!1,Ea=0;function Ur(n){n!==No&&n.next===null&&(No===null?wf=No=n:No=No.next=n),Tf=!0,$m||($m=!0,Y1())}function mc(n,i){if(!Xm&&Tf){Xm=!0;do for(var a=!1,l=wf;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var w=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-hn(42|n)+1)-1,m&=h&~(w&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,D0(l,m))}else m=Ye,m=Fa(l,l===ft?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ks(l,m)||(a=!0,D0(l,m));l=l.next}while(a);Xm=!1}}function Q1(){C0()}function C0(){Tf=$m=!1;var n=0;Ea!==0&&(nR()&&(n=Ea),Ea=0);for(var i=Qt(),a=null,l=wf;l!==null;){var h=l.next,m=I0(l,i);m===0?(l.next=null,a===null?wf=h:a.next=h,h===null&&(No=a)):(a=l,(n!==0||(m&3)!==0)&&(Tf=!0)),l=h}mc(n)}function I0(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var w=31-hn(m),S=1<<w,k=h[w];k===-1?((S&a)===0||(S&l)!==0)&&(h[w]=El(S,i)):k<=i&&(n.expiredLanes|=S),m&=~S}if(i=ft,a=Ye,a=Fa(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(st===2||st===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Kt(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ks(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&Kt(l),Ga(a)){case 2:case 8:a=qa;break;case 32:a=qs;break;case 268435456:a=Ha;break;default:a=qs}return l=N0.bind(null,n),a=St(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&Kt(l),n.callbackPriority=2,n.callbackNode=null,2}function N0(n,i){if(an!==0&&an!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Ef()&&n.callbackNode!==a)return null;var l=Ye;return l=Fa(n,n===ft?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(h0(n,l,i),I0(n,Qt()),n.callbackNode!=null&&n.callbackNode===a?N0.bind(null,n):null)}function D0(n,i){if(Ef())return null;h0(n,i,!0)}function Y1(){iR(function(){(it&6)!==0?St(Tr,Q1):C0()})}function Wm(){return Ea===0&&(Ea=wl()),Ea}function O0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Wa(""+n)}function M0(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function $1(n,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var m=O0((h[It]||null).action),w=l.submitter;w&&(i=(i=w[It]||null)?O0(i.formAction):w.getAttribute("formAction"),i!==null&&(m=i,w=null));var S=new Za("action","action",null,l,h);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ea!==0){var k=w?M0(h,w):new FormData(h);ym(a,{pending:!0,data:k,method:h.method,action:m},null,k)}}else typeof m=="function"&&(S.preventDefault(),k=w?M0(h,w):new FormData(h),ym(a,{pending:!0,data:k,method:h.method,action:m},m,k))},currentTarget:h}]})}}for(var Zm=0;Zm<Vd.length;Zm++){var Jm=Vd[Zm],X1=Jm.toLowerCase(),W1=Jm[0].toUpperCase()+Jm.slice(1);ur(X1,"on"+W1)}ur(hv,"onAnimationEnd"),ur(dv,"onAnimationIteration"),ur(mv,"onAnimationStart"),ur("dblclick","onDoubleClick"),ur("focusin","onFocus"),ur("focusout","onBlur"),ur(m1,"onTransitionRun"),ur(p1,"onTransitionStart"),ur(g1,"onTransitionCancel"),ur(pv,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function P0(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var w=l.length-1;0<=w;w--){var S=l[w],k=S.instance,Y=S.currentTarget;if(S=S.listener,k!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=Y;try{m(h)}catch(te){uf(te)}h.currentTarget=null,m=k}else for(w=0;w<l.length;w++){if(S=l[w],k=S.instance,Y=S.currentTarget,S=S.listener,k!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=Y;try{m(h)}catch(te){uf(te)}h.currentTarget=null,m=k}}}}function qe(n,i){var a=i[xl];a===void 0&&(a=i[xl]=new Set);var l=n+"__bubble";a.has(l)||(k0(i,n,2,!1),a.add(l))}function ep(n,i,a){var l=0;i&&(l|=4),k0(a,n,l,i)}var Sf="_reactListening"+Math.random().toString(36).slice(2);function tp(n){if(!n[Sf]){n[Sf]=!0,Rl.forEach(function(a){a!=="selectionchange"&&(Z1.has(a)||ep(a,!1,n),ep(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Sf]||(i[Sf]=!0,ep("selectionchange",!1,i))}}function k0(n,i,a,l){switch(sb(i)){case 2:var h=AR;break;case 8:h=xR;break;default:h=pp}a=h.bind(null,i,a,n),h=void 0,!$n||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,a,{capture:!0,passive:h}):n.addEventListener(i,a,!0):h!==void 0?n.addEventListener(i,a,{passive:h}):n.addEventListener(i,a,!1)}function np(n,i,a,l,h){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var S=l.stateNode.containerInfo;if(S===h)break;if(w===4)for(w=l.return;w!==null;){var k=w.tag;if((k===3||k===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;S!==null;){if(w=ni(S),w===null)return;if(k=w.tag,k===5||k===6||k===26||k===27){l=m=w;continue e}S=S.parentNode}}l=l.return}Au(function(){var Y=m,te=Yn(a),ae=[];e:{var $=gv.get(n);if($!==void 0){var W=Za,Ne=n;switch(n){case"keypress":if(Nr(a)===0)break e;case"keydown":case"keyup":W=io;break;case"focusin":Ne="focus",W=to;break;case"focusout":Ne="blur",W=to;break;case"beforeblur":case"afterblur":W=to;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Cd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Mu;break;case hv:case dv:case mv:W=no;break;case pv:W=ku;break;case"scroll":case"scrollend":W=xu;break;case"wheel":W=so;break;case"copy":case"cut":case"paste":W=ro;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Ul;break;case"toggle":case"beforetoggle":W=ju}var xe=(i&4)!==0,ct=!xe&&(n==="scroll"||n==="scrollend"),G=xe?$!==null?$+"Capture":null:$;xe=[];for(var H=Y,Q;H!==null;){var ie=H;if(Q=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Q===null||G===null||(ie=ea(H,G),ie!=null&&xe.push(gc(H,ie,Q))),ct)break;H=H.return}0<xe.length&&($=new W($,Ne,null,a,te),ae.push({event:$,listeners:xe}))}}if((i&7)===0){e:{if($=n==="mouseover"||n==="pointerover",W=n==="mouseout"||n==="pointerout",$&&a!==ai&&(Ne=a.relatedTarget||a.fromElement)&&(ni(Ne)||Ne[Kn]))break e;if((W||$)&&($=te.window===te?te:($=te.ownerDocument)?$.defaultView||$.parentWindow:window,W?(Ne=a.relatedTarget||a.toElement,W=Y,Ne=Ne?ni(Ne):null,Ne!==null&&(ct=c(Ne),xe=Ne.tag,Ne!==ct||xe!==5&&xe!==27&&xe!==6)&&(Ne=null)):(W=null,Ne=Y),W!==Ne)){if(xe=Xn,ie="onMouseLeave",G="onMouseEnter",H="mouse",(n==="pointerout"||n==="pointerover")&&(xe=Ul,ie="onPointerLeave",G="onPointerEnter",H="pointer"),ct=W==null?$:xr(W),Q=Ne==null?$:xr(Ne),$=new xe(ie,H+"leave",W,a,te),$.target=ct,$.relatedTarget=Q,ie=null,ni(te)===Y&&(xe=new xe(G,H+"enter",Ne,a,te),xe.target=Q,xe.relatedTarget=ct,ie=xe),ct=ie,W&&Ne)t:{for(xe=W,G=Ne,H=0,Q=xe;Q;Q=Do(Q))H++;for(Q=0,ie=G;ie;ie=Do(ie))Q++;for(;0<H-Q;)xe=Do(xe),H--;for(;0<Q-H;)G=Do(G),Q--;for(;H--;){if(xe===G||G!==null&&xe===G.alternate)break t;xe=Do(xe),G=Do(G)}xe=null}else xe=null;W!==null&&V0(ae,$,W,xe,!1),Ne!==null&&ct!==null&&V0(ae,ct,Ne,xe,!0)}}e:{if($=Y?xr(Y):window,W=$.nodeName&&$.nodeName.toLowerCase(),W==="select"||W==="input"&&$.type==="file")var ve=tv;else if(zt($))if(nv)ve=f1;else{ve=c1;var ze=l1}else W=$.nodeName,!W||W.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&Ol(Y.elementType)&&(ve=tv):ve=u1;if(ve&&(ve=ve(n,Y))){fi(ae,ve,a,te);break e}ze&&ze(n,$,Y),n==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&Ki($,"number",$.value)}switch(ze=Y?xr(Y):window,n){case"focusin":(zt(ze)||ze.contentEditable==="true")&&(ao=ze,Md=Y,ql=null);break;case"focusout":ql=Md=ao=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,uv(ae,a,te);break;case"selectionchange":if(d1)break;case"keydown":case"keyup":uv(ae,a,te)}var Te;if(Mr)e:{switch(n){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ke?J(n,a)&&(Ce="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(b&&a.locale!=="ko"&&(Ke||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ke&&(Te=Pl()):(Ir=te,Qi="value"in Ir?Ir.value:Ir.textContent,Ke=!0)),ze=Af(Y,Ce),0<ze.length&&(Ce=new jl(Ce,n,null,a,te),ae.push({event:Ce,listeners:ze}),Te?Ce.data=Te:(Te=he(a),Te!==null&&(Ce.data=Te)))),(Te=y?Ut(n,a):Qe(n,a))&&(Ce=Af(Y,"onBeforeInput"),0<Ce.length&&(ze=new jl("onBeforeInput","beforeinput",null,a,te),ae.push({event:ze,listeners:Ce}),ze.data=Te)),$1(ae,n,Y,a,te)}P0(ae,i)})}function gc(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Af(n,i){for(var a=i+"Capture",l=[];n!==null;){var h=n,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=ea(n,a),h!=null&&l.unshift(gc(n,h,m)),h=ea(n,i),h!=null&&l.push(gc(n,h,m))),n.tag===3)return l;n=n.return}return[]}function Do(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function V0(n,i,a,l,h){for(var m=i._reactName,w=[];a!==null&&a!==l;){var S=a,k=S.alternate,Y=S.stateNode;if(S=S.tag,k!==null&&k===l)break;S!==5&&S!==26&&S!==27||Y===null||(k=Y,h?(Y=ea(a,m),Y!=null&&w.unshift(gc(a,Y,k))):h||(Y=ea(a,m),Y!=null&&w.push(gc(a,Y,k)))),a=a.return}w.length!==0&&n.push({event:i,listeners:w})}var J1=/\r\n?/g,eR=/\u0000|\uFFFD/g;function j0(n){return(typeof n=="string"?n:""+n).replace(J1,`
`).replace(eR,"")}function L0(n,i){return i=j0(i),j0(n)===i}function xf(){}function lt(n,i,a,l,h,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Qn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Qn(n,""+l);break;case"className":Rr(n,"class",l);break;case"tabIndex":Rr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rr(n,a,l);break;case"style":Dl(n,l,m);break;case"data":if(i!=="object"){Rr(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Wa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&lt(n,i,"name",h.name,h,null),lt(n,i,"formEncType",h.formEncType,h,null),lt(n,i,"formMethod",h.formMethod,h,null),lt(n,i,"formTarget",h.formTarget,h,null)):(lt(n,i,"encType",h.encType,h,null),lt(n,i,"method",h.method,h,null),lt(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Wa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=xf);break;case"onScroll":l!=null&&qe("scroll",n);break;case"onScrollEnd":l!=null&&qe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Wa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":qe("beforetoggle",n),qe("toggle",n),Gi(n,"popover",l);break;case"xlinkActuate":nn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":nn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":nn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":nn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":nn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":nn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":nn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":nn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":nn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Gi(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xd.get(a)||a,Gi(n,a,l))}}function rp(n,i,a,l,h,m){switch(a){case"style":Dl(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Qn(n,l):(typeof l=="number"||typeof l=="bigint")&&Qn(n,""+l);break;case"onScroll":l!=null&&qe("scroll",n);break;case"onScrollEnd":l!=null&&qe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=xf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ka.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),m=n[It]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Gi(n,a,l)}}}function on(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",n),qe("load",n);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var w=a[m];if(w!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:lt(n,i,m,w,a,null)}}h&&lt(n,i,"srcSet",a.srcSet,a,null),l&&lt(n,i,"src",a.src,a,null);return;case"input":qe("invalid",n);var S=m=w=h=null,k=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":h=te;break;case"type":w=te;break;case"checked":k=te;break;case"defaultChecked":Y=te;break;case"value":m=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:lt(n,i,l,te,a,null)}}Ws(n,m,S,k,Y,w,h,!1),Xa(n);return;case"select":qe("invalid",n),l=w=m=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":m=S;break;case"defaultValue":w=S;break;case"multiple":l=S;default:lt(n,i,h,S,a,null)}i=m,a=w,n.multiple=!!l,i!=null?si(n,!!l,i,!1):a!=null&&si(n,!!l,a,!0);return;case"textarea":qe("invalid",n),m=h=l=null;for(w in a)if(a.hasOwnProperty(w)&&(S=a[w],S!=null))switch(w){case"value":l=S;break;case"defaultValue":h=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:lt(n,i,w,S,a,null)}Zs(n,l,h,m),Xa(n);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:lt(n,i,k,l,a,null)}return;case"dialog":qe("beforetoggle",n),qe("toggle",n),qe("cancel",n),qe("close",n);break;case"iframe":case"object":qe("load",n);break;case"video":case"audio":for(l=0;l<pc.length;l++)qe(pc[l],n);break;case"image":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"embed":case"source":case"link":qe("error",n),qe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:lt(n,i,Y,l,a,null)}return;default:if(Ol(i)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&rp(n,i,te,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&lt(n,i,S,l,a,null))}function tR(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,w=null,S=null,k=null,Y=null,te=null;for(W in a){var ae=a[W];if(a.hasOwnProperty(W)&&ae!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":k=ae;default:l.hasOwnProperty(W)||lt(n,i,W,null,l,ae)}}for(var $ in l){var W=l[$];if(ae=a[$],l.hasOwnProperty($)&&(W!=null||ae!=null))switch($){case"type":m=W;break;case"name":h=W;break;case"checked":Y=W;break;case"defaultChecked":te=W;break;case"value":w=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:W!==ae&&lt(n,i,$,W,l,ae)}}kn(n,w,S,k,Y,te,m,h);return;case"select":W=w=S=$=null;for(m in a)if(k=a[m],a.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":W=k;default:l.hasOwnProperty(m)||lt(n,i,m,null,l,k)}for(h in l)if(m=l[h],k=a[h],l.hasOwnProperty(h)&&(m!=null||k!=null))switch(h){case"value":$=m;break;case"defaultValue":S=m;break;case"multiple":w=m;default:m!==k&&lt(n,i,h,m,l,k)}i=S,a=w,l=W,$!=null?si(n,!!a,$,!1):!!l!=!!a&&(i!=null?si(n,!!a,i,!0):si(n,!!a,a?[]:"",!1));return;case"textarea":W=$=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:lt(n,i,S,null,l,h)}for(w in l)if(h=l[w],m=a[w],l.hasOwnProperty(w)&&(h!=null||m!=null))switch(w){case"value":$=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&lt(n,i,w,h,l,m)}at(n,$,W);return;case"option":for(var Ne in a)if($=a[Ne],a.hasOwnProperty(Ne)&&$!=null&&!l.hasOwnProperty(Ne))switch(Ne){case"selected":n.selected=!1;break;default:lt(n,i,Ne,null,l,$)}for(k in l)if($=l[k],W=a[k],l.hasOwnProperty(k)&&$!==W&&($!=null||W!=null))switch(k){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:lt(n,i,k,$,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)$=a[xe],a.hasOwnProperty(xe)&&$!=null&&!l.hasOwnProperty(xe)&&lt(n,i,xe,null,l,$);for(Y in l)if($=l[Y],W=a[Y],l.hasOwnProperty(Y)&&$!==W&&($!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:lt(n,i,Y,$,l,W)}return;default:if(Ol(i)){for(var ct in a)$=a[ct],a.hasOwnProperty(ct)&&$!==void 0&&!l.hasOwnProperty(ct)&&rp(n,i,ct,void 0,l,$);for(te in l)$=l[te],W=a[te],!l.hasOwnProperty(te)||$===W||$===void 0&&W===void 0||rp(n,i,te,$,l,W);return}}for(var G in a)$=a[G],a.hasOwnProperty(G)&&$!=null&&!l.hasOwnProperty(G)&&lt(n,i,G,null,l,$);for(ae in l)$=l[ae],W=a[ae],!l.hasOwnProperty(ae)||$===W||$==null&&W==null||lt(n,i,ae,$,l,W)}var ip=null,sp=null;function Rf(n){return n.nodeType===9?n:n.ownerDocument}function U0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z0(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function ap(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var op=null;function nR(){var n=window.event;return n&&n.type==="popstate"?n===op?!1:(op=n,!0):(op=null,!1)}var B0=typeof setTimeout=="function"?setTimeout:void 0,rR=typeof clearTimeout=="function"?clearTimeout:void 0,q0=typeof Promise=="function"?Promise:void 0,iR=typeof queueMicrotask=="function"?queueMicrotask:typeof q0<"u"?function(n){return q0.resolve(null).then(n).catch(sR)}:B0;function sR(n){setTimeout(function(){throw n})}function cs(n){return n==="head"}function H0(n,i){var a=i,l=0,h=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var w=n.ownerDocument;if(a&1&&yc(w.documentElement),a&2&&yc(w.body),a&4)for(a=w.head,yc(a),w=a.firstChild;w;){var S=w.nextSibling,k=w.nodeName;w[Qs]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&w.rel.toLowerCase()==="stylesheet"||a.removeChild(w),w=S}}if(h===0){n.removeChild(m),Ac(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Ac(i)}function lp(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":lp(a),Fi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function aR(n,i,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Qs])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=hr(n.nextSibling),n===null)break}return null}function oR(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=hr(n.nextSibling),n===null))return null;return n}function cp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function lR(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function hr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var up=null;function F0(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function G0(n,i,a){switch(i=Rf(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function yc(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Fi(n)}var rr=new Map,K0=new Set;function Cf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Si=ne.d;ne.d={f:cR,r:uR,D:fR,C:hR,L:dR,m:mR,X:gR,S:pR,M:yR};function cR(){var n=Si.f(),i=_f();return n||i}function uR(n){var i=Ar(n);i!==null&&i.tag===5&&i.type==="form"?h_(i):Si.r(n)}var Oo=typeof document>"u"?null:document;function Q0(n,i,a){var l=Oo;if(l&&typeof i=="string"&&i){var h=Nt(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),K0.has(h)||(K0.add(h),n={rel:n,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),on(i,"link",n),At(i),l.head.appendChild(i)))}}function fR(n){Si.D(n),Q0("dns-prefetch",n,null)}function hR(n,i){Si.C(n,i),Q0("preconnect",n,i)}function dR(n,i,a){Si.L(n,i,a);var l=Oo;if(l&&n&&i){var h='link[rel="preload"][as="'+Nt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Nt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Nt(a.imageSizes)+'"]')):h+='[href="'+Nt(n)+'"]';var m=h;switch(i){case"style":m=Mo(n);break;case"script":m=Po(n)}rr.has(m)||(n=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),rr.set(m,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(vc(m))||i==="script"&&l.querySelector(_c(m))||(i=l.createElement("link"),on(i,"link",n),At(i),l.head.appendChild(i)))}}function mR(n,i){Si.m(n,i);var a=Oo;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Nt(l)+'"][href="'+Nt(n)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Po(n)}if(!rr.has(m)&&(n=v({rel:"modulepreload",href:n},i),rr.set(m,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_c(m)))return}l=a.createElement("link"),on(l,"link",n),At(l),a.head.appendChild(l)}}}function pR(n,i,a){Si.S(n,i,a);var l=Oo;if(l&&n){var h=En(l).hoistableStyles,m=Mo(n);i=i||"default";var w=h.get(m);if(!w){var S={loading:0,preload:null};if(w=l.querySelector(vc(m)))S.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},a),(a=rr.get(m))&&fp(n,a);var k=w=l.createElement("link");At(k),on(k,"link",n),k._p=new Promise(function(Y,te){k.onload=Y,k.onerror=te}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,If(w,i,l)}w={type:"stylesheet",instance:w,count:1,state:S},h.set(m,w)}}}function gR(n,i){Si.X(n,i);var a=Oo;if(a&&n){var l=En(a).hoistableScripts,h=Po(n),m=l.get(h);m||(m=a.querySelector(_c(h)),m||(n=v({src:n,async:!0},i),(i=rr.get(h))&&hp(n,i),m=a.createElement("script"),At(m),on(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function yR(n,i){Si.M(n,i);var a=Oo;if(a&&n){var l=En(a).hoistableScripts,h=Po(n),m=l.get(h);m||(m=a.querySelector(_c(h)),m||(n=v({src:n,async:!0,type:"module"},i),(i=rr.get(h))&&hp(n,i),m=a.createElement("script"),At(m),on(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function Y0(n,i,a,l){var h=(h=we.current)?Cf(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Mo(a.href),a=En(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Mo(a.href);var m=En(h).hoistableStyles,w=m.get(n);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,w),(m=h.querySelector(vc(n)))&&!m._p&&(w.instance=m,w.state.loading=5),rr.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},rr.set(n,a),m||vR(h,n,a,w.state))),i&&l===null)throw Error(s(528,""));return w}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Po(a),a=En(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Mo(n){return'href="'+Nt(n)+'"'}function vc(n){return'link[rel="stylesheet"]['+n+"]"}function $0(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function vR(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),on(i,"link",a),At(i),n.head.appendChild(i))}function Po(n){return'[src="'+Nt(n)+'"]'}function _c(n){return"script[async]"+n}function X0(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Nt(a.href)+'"]');if(l)return i.instance=l,At(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),At(l),on(l,"style",h),If(l,a.precedence,n),i.instance=l;case"stylesheet":h=Mo(a.href);var m=n.querySelector(vc(h));if(m)return i.state.loading|=4,i.instance=m,At(m),m;l=$0(a),(h=rr.get(h))&&fp(l,h),m=(n.ownerDocument||n).createElement("link"),At(m);var w=m;return w._p=new Promise(function(S,k){w.onload=S,w.onerror=k}),on(m,"link",l),i.state.loading|=4,If(m,a.precedence,n),i.instance=m;case"script":return m=Po(a.src),(h=n.querySelector(_c(m)))?(i.instance=h,At(h),h):(l=a,(h=rr.get(m))&&(l=v({},a),hp(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),At(h),on(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,If(l,a.precedence,n));return i.instance}function If(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,w=0;w<l.length;w++){var S=l[w];if(S.dataset.precedence===i)m=S;else if(m!==h)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function fp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function hp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Nf=null;function W0(n,i,a){if(Nf===null){var l=new Map,h=Nf=new Map;h.set(a,l)}else h=Nf,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var m=a[h];if(!(m[Qs]||m[Lt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(i)||"";w=n+w;var S=l.get(w);S?S.push(m):l.set(w,[m])}}return l}function Z0(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function _R(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function J0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var bc=null;function bR(){}function ER(n,i,a){if(bc===null)throw Error(s(475));var l=bc;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Mo(a.href),m=n.querySelector(vc(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Df.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=m,At(m);return}m=n.ownerDocument||n,a=$0(a),(h=rr.get(h))&&fp(a,h),m=m.createElement("link"),At(m);var w=m;w._p=new Promise(function(S,k){w.onload=S,w.onerror=k}),on(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Df.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function wR(){if(bc===null)throw Error(s(475));var n=bc;return n.stylesheets&&n.count===0&&dp(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&dp(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Df(){if(this.count--,this.count===0){if(this.stylesheets)dp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Of=null;function dp(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Of=new Map,i.forEach(TR,n),Of=null,Df.call(n))}function TR(n,i){if(!(i.state.loading&4)){var a=Of.get(n);if(a)var l=a.get(null);else{a=new Map,Of.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var w=h[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),l=w)}l&&a.set(null,l)}h=i.instance,w=h.getAttribute("data-precedence"),m=a.get(w)||l,m===l&&a.set(null,h),a.set(w,h),this.count++,l=Df.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var Ec={$$typeof:z,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function SR(n,i,a,l,h,m,w,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function eb(n,i,a,l,h,m,w,S,k,Y,te,ae){return n=new SR(n,i,a,w,S,k,Y,ae),i=1,m===!0&&(i|=24),m=jn(3,null,null,i),n.current=m,m.stateNode=n,i=Yd(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},Zd(m),n}function tb(n){return n?(n=uo,n):uo}function nb(n,i,a,l,h,m){h=tb(h),l.context===null?l.context=h:l.pendingContext=h,l=Xi(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Wi(n,l,i),a!==null&&(qn(a,n,i),Wl(a,n,i))}function rb(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function mp(n,i){rb(n,i),(n=n.alternate)&&rb(n,i)}function ib(n){if(n.tag===13){var i=co(n,67108864);i!==null&&qn(i,n,67108864),mp(n,67108864)}}var Mf=!0;function AR(n,i,a,l){var h=q.T;q.T=null;var m=ne.p;try{ne.p=2,pp(n,i,a,l)}finally{ne.p=m,q.T=h}}function xR(n,i,a,l){var h=q.T;q.T=null;var m=ne.p;try{ne.p=8,pp(n,i,a,l)}finally{ne.p=m,q.T=h}}function pp(n,i,a,l){if(Mf){var h=gp(l);if(h===null)np(n,i,l,Pf,a),ab(n,l);else if(CR(h,n,i,a,l))l.stopPropagation();else if(ab(n,l),i&4&&-1<RR.indexOf(n)){for(;h!==null;){var m=Ar(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=or(m.pendingLanes);if(w!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var k=1<<31-hn(w);S.entanglements[1]|=k,w&=~k}Ur(m),(it&6)===0&&(yf=Qt()+500,mc(0))}}break;case 13:S=co(m,2),S!==null&&qn(S,m,2),_f(),mp(m,2)}if(m=gp(l),m===null&&np(n,i,l,Pf,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else np(n,i,l,null,a)}}function gp(n){return n=Yn(n),yp(n)}var Pf=null;function yp(n){if(Pf=null,n=ni(n),n!==null){var i=c(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=u(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Pf=n,null}function sb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_l()){case Tr:return 2;case qa:return 8;case qs:case Ed:return 32;case Ha:return 268435456;default:return 32}default:return 32}}var vp=!1,us=null,fs=null,hs=null,wc=new Map,Tc=new Map,ds=[],RR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ab(n,i){switch(n){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":wc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(i.pointerId)}}function Sc(n,i,a,l,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},i!==null&&(i=Ar(i),i!==null&&ib(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function CR(n,i,a,l,h){switch(i){case"focusin":return us=Sc(us,n,i,a,l,h),!0;case"dragenter":return fs=Sc(fs,n,i,a,l,h),!0;case"mouseover":return hs=Sc(hs,n,i,a,l,h),!0;case"pointerover":var m=h.pointerId;return wc.set(m,Sc(wc.get(m)||null,n,i,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,Tc.set(m,Sc(Tc.get(m)||null,n,i,a,l,h)),!0}return!1}function ob(n){var i=ni(n.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){n.blockedOn=i,vu(n.priority,function(){if(a.tag===13){var l=Bn();l=Bi(l);var h=co(a,l);h!==null&&qn(h,a,l),mp(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function kf(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=gp(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);ai=l,a.target.dispatchEvent(l),ai=null}else return i=Ar(a),i!==null&&ib(i),n.blockedOn=a,!1;i.shift()}return!0}function lb(n,i,a){kf(n)&&a.delete(i)}function IR(){vp=!1,us!==null&&kf(us)&&(us=null),fs!==null&&kf(fs)&&(fs=null),hs!==null&&kf(hs)&&(hs=null),wc.forEach(lb),Tc.forEach(lb)}function Vf(n,i){n.blockedOn===i&&(n.blockedOn=null,vp||(vp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,IR)))}var jf=null;function cb(n){jf!==n&&(jf=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){jf===n&&(jf=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(yp(l||a)===null)continue;break}var m=Ar(a);m!==null&&(n.splice(i,3),i-=3,ym(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ac(n){function i(k){return Vf(k,n)}us!==null&&Vf(us,n),fs!==null&&Vf(fs,n),hs!==null&&Vf(hs,n),wc.forEach(i),Tc.forEach(i);for(var a=0;a<ds.length;a++){var l=ds[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ds.length&&(a=ds[0],a.blockedOn===null);)ob(a),a.blockedOn===null&&ds.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],w=h[It]||null;if(typeof m=="function")w||cb(a);else if(w){var S=null;if(m&&m.hasAttribute("formAction")){if(h=m,w=m[It]||null)S=w.formAction;else if(yp(h)!==null)continue}else S=w.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),cb(a)}}}function _p(n){this._internalRoot=n}Lf.prototype.render=_p.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Bn();nb(a,l,n,i,null,null)},Lf.prototype.unmount=_p.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;nb(n.current,2,null,n,null,null),_f(),i[Kn]=null}};function Lf(n){this._internalRoot=n}Lf.prototype.unstable_scheduleHydration=function(n){if(n){var i=qi();n={blockedOn:null,target:n,priority:i};for(var a=0;a<ds.length&&i!==0&&i<ds[a].priority;a++);ds.splice(a,0,n),a===0&&ob(n)}};var ub=e.version;if(ub!=="19.1.1")throw Error(s(527,ub,"19.1.1"));ne.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var NR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uf.isDisabled&&Uf.supportsFiber)try{_t=Uf.inject(NR),rt=Uf}catch{}}return Rc.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",h=x_,m=R_,w=C_,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=eb(n,1,!1,null,null,a,l,h,m,w,S,null),n[Kn]=i.current,tp(n),new _p(i)},Rc.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,h="",m=x_,w=R_,S=C_,k=null,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks),a.formState!==void 0&&(Y=a.formState)),i=eb(n,1,!0,i,a??null,l,h,m,w,S,k,Y),i.context=tb(null),a=i.current,l=Bn(),l=Bi(l),h=Xi(l),h.callback=null,Wi(a,h,l),a=l,i.current.lanes=a,ti(i,a),Ur(i),n[Kn]=i.current,tp(n),new Lf(i)},Rc.version="19.1.1",Rc}var bb;function zR(){if(bb)return wp.exports;bb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wp.exports=UR(),wp.exports}var BR=zR();function Eb(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function Vw(...r){return e=>{let t=!1;const s=r.map(o=>{const c=Eb(o,e);return!t&&typeof c=="function"&&(t=!0),c});if(t)return()=>{for(let o=0;o<s.length;o++){const c=s[o];typeof c=="function"?c():Eb(r[o],null)}}}}function gt(...r){return I.useCallback(Vw(...r),r)}function Bc(r){const e=qR(r),t=I.forwardRef((s,o)=>{const{children:c,...u}=s,d=I.Children.toArray(c),p=d.find(FR);if(p){const g=p.props.children,v=d.map(E=>E===p?I.Children.count(g)>1?I.Children.only(null):I.isValidElement(g)?g.props.children:null:E);return _.jsx(e,{...u,ref:o,children:I.isValidElement(g)?I.cloneElement(g,void 0,v):null})}return _.jsx(e,{...u,ref:o,children:c})});return t.displayName=`${r}.Slot`,t}var jw=Bc("Slot");function qR(r){const e=I.forwardRef((t,s)=>{const{children:o,...c}=t;if(I.isValidElement(o)){const u=KR(o),d=GR(c,o.props);return o.type!==I.Fragment&&(d.ref=s?Vw(s,u):u),I.cloneElement(o,d)}return I.Children.count(o)>1?I.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var HR=Symbol("radix.slottable");function FR(r){return I.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===HR}function GR(r,e){const t={...e};for(const s in e){const o=r[s],c=e[s];/^on[A-Z]/.test(s)?o&&c?t[s]=(...d)=>{const p=c(...d);return o(...d),p}:o&&(t[s]=o):s==="style"?t[s]={...o,...c}:s==="className"&&(t[s]=[o,c].filter(Boolean).join(" "))}return{...r,...t}}function KR(r){var s,o;let e=(s=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function Lw(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=Lw(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function Uw(){for(var r,e,t=0,s="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=Lw(r))&&(s&&(s+=" "),s+=e);return s}const wb=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Tb=Uw,zw=(r,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return Tb(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:c}=e,u=Object.keys(o).map(g=>{const v=t==null?void 0:t[g],E=c==null?void 0:c[g];if(v===null)return null;const T=wb(v)||wb(E);return o[g][T]}),d=t&&Object.entries(t).reduce((g,v)=>{let[E,T]=v;return T===void 0||(g[E]=T),g},{}),p=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((g,v)=>{let{class:E,className:T,...C}=v;return Object.entries(C).every(P=>{let[R,N]=P;return Array.isArray(N)?N.includes({...c,...d}[R]):{...c,...d}[R]===N})?[...g,E,T]:g},[]);return Tb(r,u,p,t==null?void 0:t.class,t==null?void 0:t.className)},Bg="-",QR=r=>{const e=$R(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:u=>{const d=u.split(Bg);return d[0]===""&&d.length!==1&&d.shift(),Bw(d,e)||YR(u)},getConflictingClassGroupIds:(u,d)=>{const p=t[u]||[];return d&&s[u]?[...p,...s[u]]:p}}},Bw=(r,e)=>{var u;if(r.length===0)return e.classGroupId;const t=r[0],s=e.nextPart.get(t),o=s?Bw(r.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const c=r.join(Bg);return(u=e.validators.find(({validator:d})=>d(c)))==null?void 0:u.classGroupId},Sb=/^\[(.+)\]$/,YR=r=>{if(Sb.test(r)){const e=Sb.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},$R=r=>{const{theme:e,classGroups:t}=r,s={nextPart:new Map,validators:[]};for(const o in t)Zp(t[o],s,o,e);return s},Zp=(r,e,t,s)=>{r.forEach(o=>{if(typeof o=="string"){const c=o===""?e:Ab(e,o);c.classGroupId=t;return}if(typeof o=="function"){if(XR(o)){Zp(o(s),e,t,s);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([c,u])=>{Zp(u,Ab(e,c),t,s)})})},Ab=(r,e)=>{let t=r;return e.split(Bg).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},XR=r=>r.isThemeGetter,WR=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const o=(c,u)=>{t.set(c,u),e++,e>r&&(e=0,s=t,t=new Map)};return{get(c){let u=t.get(c);if(u!==void 0)return u;if((u=s.get(c))!==void 0)return o(c,u),u},set(c,u){t.has(c)?t.set(c,u):o(c,u)}}},Jp="!",eg=":",ZR=eg.length,JR=r=>{const{prefix:e,experimentalParseClassName:t}=r;let s=o=>{const c=[];let u=0,d=0,p=0,g;for(let P=0;P<o.length;P++){let R=o[P];if(u===0&&d===0){if(R===eg){c.push(o.slice(p,P)),p=P+ZR;continue}if(R==="/"){g=P;continue}}R==="["?u++:R==="]"?u--:R==="("?d++:R===")"&&d--}const v=c.length===0?o:o.substring(p),E=eC(v),T=E!==v,C=g&&g>p?g-p:void 0;return{modifiers:c,hasImportantModifier:T,baseClassName:E,maybePostfixModifierPosition:C}};if(e){const o=e+eg,c=s;s=u=>u.startsWith(o)?c(u.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const o=s;s=c=>t({className:c,parseClassName:o})}return s},eC=r=>r.endsWith(Jp)?r.substring(0,r.length-1):r.startsWith(Jp)?r.substring(1):r,tC=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let c=[];return s.forEach(u=>{u[0]==="["||e[u]?(o.push(...c.sort(),u),c=[]):c.push(u)}),o.push(...c.sort()),o}},nC=r=>({cache:WR(r.cacheSize),parseClassName:JR(r),sortModifiers:tC(r),...QR(r)}),rC=/\s+/,iC=(r,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:c}=e,u=[],d=r.trim().split(rC);let p="";for(let g=d.length-1;g>=0;g-=1){const v=d[g],{isExternal:E,modifiers:T,hasImportantModifier:C,baseClassName:P,maybePostfixModifierPosition:R}=t(v);if(E){p=v+(p.length>0?" "+p:p);continue}let N=!!R,F=s(N?P.substring(0,R):P);if(!F){if(!N){p=v+(p.length>0?" "+p:p);continue}if(F=s(P),!F){p=v+(p.length>0?" "+p:p);continue}N=!1}const V=c(T).join(":"),z=C?V+Jp:V,Z=z+F;if(u.includes(Z))continue;u.push(Z);const ee=o(F,N);for(let ce=0;ce<ee.length;++ce){const D=ee[ce];u.push(z+D)}p=v+(p.length>0?" "+p:p)}return p};function sC(){let r=0,e,t,s="";for(;r<arguments.length;)(e=arguments[r++])&&(t=qw(e))&&(s&&(s+=" "),s+=t);return s}const qw=r=>{if(typeof r=="string")return r;let e,t="";for(let s=0;s<r.length;s++)r[s]&&(e=qw(r[s]))&&(t&&(t+=" "),t+=e);return t};function aC(r,...e){let t,s,o,c=u;function u(p){const g=e.reduce((v,E)=>E(v),r());return t=nC(g),s=t.cache.get,o=t.cache.set,c=d,d(p)}function d(p){const g=s(p);if(g)return g;const v=iC(p,t);return o(p,v),v}return function(){return c(sC.apply(null,arguments))}}const Ht=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},Hw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Fw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,oC=/^\d+\/\d+$/,lC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ko=r=>oC.test(r),Ue=r=>!!r&&!Number.isNaN(Number(r)),ps=r=>!!r&&Number.isInteger(Number(r)),xp=r=>r.endsWith("%")&&Ue(r.slice(0,-1)),Ai=r=>lC.test(r),dC=()=>!0,mC=r=>cC.test(r)&&!uC.test(r),Gw=()=>!1,pC=r=>fC.test(r),gC=r=>hC.test(r),yC=r=>!_e(r)&&!be(r),vC=r=>al(r,Yw,Gw),_e=r=>Hw.test(r),wa=r=>al(r,$w,mC),Rp=r=>al(r,TC,Ue),xb=r=>al(r,Kw,Gw),_C=r=>al(r,Qw,gC),zf=r=>al(r,Xw,pC),be=r=>Fw.test(r),Cc=r=>ol(r,$w),bC=r=>ol(r,SC),Rb=r=>ol(r,Kw),EC=r=>ol(r,Yw),wC=r=>ol(r,Qw),Bf=r=>ol(r,Xw,!0),al=(r,e,t)=>{const s=Hw.exec(r);return s?s[1]?e(s[1]):t(s[2]):!1},ol=(r,e,t=!1)=>{const s=Fw.exec(r);return s?s[1]?e(s[1]):t:!1},Kw=r=>r==="position"||r==="percentage",Qw=r=>r==="image"||r==="url",Yw=r=>r==="length"||r==="size"||r==="bg-size",$w=r=>r==="length",TC=r=>r==="number",SC=r=>r==="family-name",Xw=r=>r==="shadow",AC=()=>{const r=Ht("color"),e=Ht("font"),t=Ht("text"),s=Ht("font-weight"),o=Ht("tracking"),c=Ht("leading"),u=Ht("breakpoint"),d=Ht("container"),p=Ht("spacing"),g=Ht("radius"),v=Ht("shadow"),E=Ht("inset-shadow"),T=Ht("text-shadow"),C=Ht("drop-shadow"),P=Ht("blur"),R=Ht("perspective"),N=Ht("aspect"),F=Ht("ease"),V=Ht("animate"),z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ee=()=>[...Z(),be,_e],ce=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],A=()=>[be,_e,p],O=()=>[ko,"full","auto",...A()],j=()=>[ps,"none","subgrid",be,_e],U=()=>["auto",{span:["full",ps,be,_e]},ps,be,_e],B=()=>[ps,"auto",be,_e],M=()=>["auto","min","max","fr",be,_e],ue=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],me=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...A()],ne=()=>[ko,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],X=()=>[r,be,_e],Ee=()=>[...Z(),Rb,xb,{position:[be,_e]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],re=()=>["auto","cover","contain",EC,vC,{size:[be,_e]}],fe=()=>[xp,Cc,wa],oe=()=>["","none","full",g,be,_e],pe=()=>["",Ue,Cc,wa],Re=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[Ue,xp,Rb,xb],Se=()=>["","none",P,be,_e],Xe=()=>["none",Ue,be,_e],je=()=>["none",Ue,be,_e],Pe=()=>[Ue,be,_e],ke=()=>[ko,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ai],breakpoint:[Ai],color:[dC],container:[Ai],"drop-shadow":[Ai],ease:["in","out","in-out"],font:[yC],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ai],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ai],shadow:[Ai],spacing:["px",Ue],text:[Ai],"text-shadow":[Ai],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ko,_e,be,N]}],container:["container"],columns:[{columns:[Ue,_e,be,d]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ee()}],overflow:[{overflow:ce()}],"overflow-x":[{"overflow-x":ce()}],"overflow-y":[{"overflow-y":ce()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[ps,"auto",be,_e]}],basis:[{basis:[ko,"full","auto",d,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,ko,"auto","initial","none",_e]}],grow:[{grow:["",Ue,be,_e]}],shrink:[{shrink:["",Ue,be,_e]}],order:[{order:[ps,"first","last","none",be,_e]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...ue(),"normal"]}],"justify-items":[{"justify-items":[...me(),"normal"]}],"justify-self":[{"justify-self":["auto",...me()]}],"align-content":[{content:["normal",...ue()]}],"align-items":[{items:[...me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...me(),{baseline:["","last"]}]}],"place-content":[{"place-content":ue()}],"place-items":[{"place-items":[...me(),"baseline"]}],"place-self":[{"place-self":["auto",...me()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[d,"screen",...ne()]}],"min-w":[{"min-w":[d,"screen","none",...ne()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",t,Cc,wa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,be,Rp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",xp,_e]}],"font-family":[{font:[bC,_e,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,be,_e]}],"line-clamp":[{"line-clamp":[Ue,"none",be,Rp]}],leading:[{leading:[c,...A()]}],"list-image":[{"list-image":["none",be,_e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",be,_e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",be,wa]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[Ue,"auto",be,_e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be,_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be,_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ee()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:re()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ps,be,_e],radial:["",be,_e],conic:[ps,be,_e]},wC,_C]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:fe()}],"gradient-via-pos":[{via:fe()}],"gradient-to-pos":[{to:fe()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,be,_e]}],"outline-w":[{outline:["",Ue,Cc,wa]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",v,Bf,zf]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",E,Bf,zf]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[Ue,wa]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",T,Bf,zf]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[Ue,be,_e]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[be,_e]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Z()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ee()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:re()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",be,_e]}],filter:[{filter:["","none",be,_e]}],blur:[{blur:Se()}],brightness:[{brightness:[Ue,be,_e]}],contrast:[{contrast:[Ue,be,_e]}],"drop-shadow":[{"drop-shadow":["","none",C,Bf,zf]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",Ue,be,_e]}],"hue-rotate":[{"hue-rotate":[Ue,be,_e]}],invert:[{invert:["",Ue,be,_e]}],saturate:[{saturate:[Ue,be,_e]}],sepia:[{sepia:["",Ue,be,_e]}],"backdrop-filter":[{"backdrop-filter":["","none",be,_e]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,be,_e]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,be,_e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,be,_e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,be,_e]}],"backdrop-invert":[{"backdrop-invert":["",Ue,be,_e]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,be,_e]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,be,_e]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,be,_e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",be,_e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",be,_e]}],ease:[{ease:["linear","initial",F,be,_e]}],delay:[{delay:[Ue,be,_e]}],animate:[{animate:["none",V,be,_e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[R,be,_e]}],"perspective-origin":[{"perspective-origin":ee()}],rotate:[{rotate:Xe()}],"rotate-x":[{"rotate-x":Xe()}],"rotate-y":[{"rotate-y":Xe()}],"rotate-z":[{"rotate-z":Xe()}],scale:[{scale:je()}],"scale-x":[{"scale-x":je()}],"scale-y":[{"scale-y":je()}],"scale-z":[{"scale-z":je()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[be,_e,"","none","gpu","cpu"]}],"transform-origin":[{origin:ee()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ke()}],"translate-x":[{"translate-x":ke()}],"translate-y":[{"translate-y":ke()}],"translate-z":[{"translate-z":ke()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be,_e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be,_e]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[Ue,Cc,wa,Rp]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},xC=aC(AC);function Gt(...r){return xC(Uw(r))}const RC=zw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function kt({className:r,variant:e,size:t,asChild:s=!1,...o}){const c=s?jw:"button";return _.jsx(c,{"data-slot":"button",className:Gt(RC({variant:e,size:t,className:r})),...o})}function wt({className:r,...e}){return _.jsx("div",{"data-slot":"card",className:Gt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...e})}function en({className:r,...e}){return _.jsx("div",{"data-slot":"card-header",className:Gt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...e})}function tn({className:r,...e}){return _.jsx("div",{"data-slot":"card-title",className:Gt("leading-none font-semibold",r),...e})}function Oi({className:r,...e}){return _.jsx("div",{"data-slot":"card-description",className:Gt("text-muted-foreground text-sm",r),...e})}function Pt({className:r,...e}){return _.jsx("div",{"data-slot":"card-content",className:Gt("px-6",r),...e})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Cb=r=>{const e=IC(r);return e.charAt(0).toUpperCase()+e.slice(1)},Ww=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),NC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=I.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:u,...d},p)=>I.createElement("svg",{ref:p,...DC,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:Ww("lucide",o),...!c&&!NC(d)&&{"aria-hidden":"true"},...d},[...u.map(([g,v])=>I.createElement(g,v)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=(r,e)=>{const t=I.forwardRef(({className:s,...o},c)=>I.createElement(OC,{ref:c,iconNode:e,className:Ww(`lucide-${CC(Cb(r))}`,`lucide-${r}`,s),...o}));return t.displayName=Cb(r),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Lh=fn("arrow-left",MC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],qr=fn("car",PC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],VC=fn("check",kC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Zw=fn("chevron-down",jC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],UC=fn("chevron-up",LC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jw=fn("circle-check-big",zC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qC=fn("circle-x",BC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],FC=fn("circle",HC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],eT=fn("clock",GC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],tT=fn("dollar-sign",KC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],nT=fn("log-out",QC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],tg=fn("map-pin",YC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],XC=fn("navigation",$C);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ZC=fn("phone",WC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],eI=fn("send",JC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],eh=fn("star",tI);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tu=fn("user",nI);function Ib({onProfileSelect:r}){return _.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:_.jsxs("div",{className:"w-full max-w-md space-y-6",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Uber Rio Pardo"}),_.jsx("p",{className:"text-gray-600",children:"Escolha seu perfil para continuar"})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx(wt,{className:"cursor-pointer transition-all hover:shadow-lg hover:scale-105 border-2 hover:border-blue-500",onClick:()=>r("user"),children:_.jsxs(en,{className:"text-center",children:[_.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:_.jsx(tu,{className:"w-8 h-8 text-blue-600"})}),_.jsx(tn,{className:"text-xl",children:"Passageiro"}),_.jsx(Oi,{children:"Solicite uma corrida e chegue ao seu destino com segurança"})]})}),_.jsx(wt,{className:"cursor-pointer transition-all hover:shadow-lg hover:scale-105 border-2 hover:border-green-500",onClick:()=>r("driver"),children:_.jsxs(en,{className:"text-center",children:[_.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:_.jsx(qr,{className:"w-8 h-8 text-green-600"})}),_.jsx(tn,{className:"text-xl",children:"Motorista"}),_.jsx(Oi,{children:"Aceite corridas e ganhe dinheiro dirigindo pela cidade"})]})})]}),_.jsx("div",{className:"text-center text-sm text-gray-500",children:_.jsx("p",{children:"Serviço disponível apenas em Rio Pardo-RS"})})]})})}const rI=()=>{};var Nb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},iI=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[t++],u=r[t++],d=r[t++],p=((o&7)<<18|(c&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[t++],u=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},iT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],u=o+1<r.length,d=u?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=c>>2,E=(c&3)<<4|d>>4;let T=(d&15)<<2|g>>6,C=g&63;p||(C=64,u||(T=64)),s.push(t[v],t[E],t[T],t[C])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(rT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):iI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const E=o<r.length?t[r.charAt(o)]:64;if(++o,c==null||d==null||g==null||E==null)throw new sI;const T=c<<2|d>>4;if(s.push(T),g!==64){const C=d<<4&240|g>>2;if(s.push(C),E!==64){const P=g<<6&192|E;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class sI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aI=function(r){const e=rT(r);return iT.encodeByteArray(e,!0)},mh=function(r){return aI(r).replace(/\./g,"")},sT=function(r){try{return iT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=()=>oI().__FIREBASE_DEFAULTS__,cI=()=>{if(typeof process>"u"||typeof Nb>"u")return;const r=Nb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},uI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&sT(r[1]);return e&&JSON.parse(e)},Uh=()=>{try{return rI()||lI()||cI()||uI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},aT=r=>{var e,t;return(t=(e=Uh())==null?void 0:e.emulatorHosts)==null?void 0:t[r]},fI=r=>{const e=aT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},oT=()=>{var r;return(r=Uh())==null?void 0:r.config},lT=r=>{var e;return(e=Uh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[mh(JSON.stringify(t)),mh(JSON.stringify(u)),""].join(".")}const kc={};function mI(){const r={prod:[],emulator:[]};for(const e of Object.keys(kc))kc[e]?r.emulator.push(e):r.prod.push(e);return r}function pI(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Db=!1;function uT(r,e){if(typeof window>"u"||typeof document>"u"||!ll(window.location.host)||kc[r]===e||kc[r]||Db)return;kc[r]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",c=mI().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Db=!0,u()},T}function v(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=pI(s),C=t("text"),P=document.getElementById(C)||document.createElement("span"),R=t("learnmore"),N=document.getElementById(R)||document.createElement("a"),F=t("preprendIcon"),V=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const z=T.element;d(z),v(N,R);const Z=g();p(V,F),z.append(V,P,N,Z),document.body.appendChild(z)}c?(P.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function yI(){var e;const r=(e=Uh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _I(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function bI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EI(){const r=vn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function wI(){return!yI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TI(){try{return typeof indexedDB=="object"}catch{return!1}}function SI(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="FirebaseError";class zi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=AI,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?xI(c,s):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new zi(o,d,s)}}function xI(r,e){return r.replace(RI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const RI=/\{\$([^}]+)}/g;function CI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Da(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=r[o],u=e[o];if(Ob(c)&&Ob(u)){if(!Da(c,u))return!1}else if(c!==u)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Ob(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function II(r,e){const t=new NI(r,e);return t.subscribe.bind(t)}class NI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");DI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Cp),o.error===void 0&&(o.error=Cp),o.complete===void 0&&(o.complete=Cp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DI(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Cp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(r){return r&&r._delegate?r._delegate:r}class Oa{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new hI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PI(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(c);s===d&&u.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:MI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MI(r){return r===Ta?void 0:r}function PI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new OI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(He||(He={}));const VI={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},jI=He.INFO,LI={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},UI=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=LI[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qg{constructor(e){this.name=e,this._logLevel=jI,this._logHandler=UI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const zI=(r,e)=>e.some(t=>r instanceof t);let Mb,Pb;function BI(){return Mb||(Mb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qI(){return Pb||(Pb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fT=new WeakMap,ng=new WeakMap,hT=new WeakMap,Ip=new WeakMap,Hg=new WeakMap;function HI(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",u)},c=()=>{t(Ts(r.result)),o()},u=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&fT.set(t,r)}).catch(()=>{}),Hg.set(e,r),e}function FI(r){if(ng.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",u),r.removeEventListener("abort",u)},c=()=>{t(),o()},u=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",u),r.addEventListener("abort",u)});ng.set(r,e)}let rg={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return ng.get(r);if(e==="objectStoreNames")return r.objectStoreNames||hT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ts(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function GI(r){rg=r(rg)}function KI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Np(this),e,...t);return hT.set(s,e.sort?e.sort():[e]),Ts(s)}:qI().includes(r)?function(...e){return r.apply(Np(this),e),Ts(fT.get(this))}:function(...e){return Ts(r.apply(Np(this),e))}}function QI(r){return typeof r=="function"?KI(r):(r instanceof IDBTransaction&&FI(r),zI(r,BI())?new Proxy(r,rg):r)}function Ts(r){if(r instanceof IDBRequest)return HI(r);if(Ip.has(r))return Ip.get(r);const e=QI(r);return e!==r&&(Ip.set(r,e),Hg.set(e,r)),e}const Np=r=>Hg.get(r);function YI(r,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const u=indexedDB.open(r,e),d=Ts(u);return s&&u.addEventListener("upgradeneeded",p=>{s(Ts(u.result),p.oldVersion,p.newVersion,Ts(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const $I=["get","getKey","getAll","getAllKeys","count"],XI=["put","add","delete","clear"],Dp=new Map;function kb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Dp.get(e))return Dp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=XI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||$I.includes(t)))return;const c=async function(u,...d){const p=this.transaction(u,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Dp.set(e,c),c}GI(r=>({...r,get:(e,t,s)=>kb(e,t)||r.get(e,t,s),has:(e,t)=>!!kb(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ZI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function ZI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ig="@firebase/app",Vb="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new qg("@firebase/app"),JI="@firebase/app-compat",eN="@firebase/analytics-compat",tN="@firebase/analytics",nN="@firebase/app-check-compat",rN="@firebase/app-check",iN="@firebase/auth",sN="@firebase/auth-compat",aN="@firebase/database",oN="@firebase/data-connect",lN="@firebase/database-compat",cN="@firebase/functions",uN="@firebase/functions-compat",fN="@firebase/installations",hN="@firebase/installations-compat",dN="@firebase/messaging",mN="@firebase/messaging-compat",pN="@firebase/performance",gN="@firebase/performance-compat",yN="@firebase/remote-config",vN="@firebase/remote-config-compat",_N="@firebase/storage",bN="@firebase/storage-compat",EN="@firebase/firestore",wN="@firebase/ai",TN="@firebase/firestore-compat",SN="firebase",AN="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="[DEFAULT]",xN={[ig]:"fire-core",[JI]:"fire-core-compat",[tN]:"fire-analytics",[eN]:"fire-analytics-compat",[rN]:"fire-app-check",[nN]:"fire-app-check-compat",[iN]:"fire-auth",[sN]:"fire-auth-compat",[aN]:"fire-rtdb",[oN]:"fire-data-connect",[lN]:"fire-rtdb-compat",[cN]:"fire-fn",[uN]:"fire-fn-compat",[fN]:"fire-iid",[hN]:"fire-iid-compat",[dN]:"fire-fcm",[mN]:"fire-fcm-compat",[pN]:"fire-perf",[gN]:"fire-perf-compat",[yN]:"fire-rc",[vN]:"fire-rc-compat",[_N]:"fire-gcs",[bN]:"fire-gcs-compat",[EN]:"fire-fst",[TN]:"fire-fst-compat",[wN]:"fire-vertex","fire-js":"fire-js",[SN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Map,RN=new Map,ag=new Map;function jb(r,e){try{r.container.addComponent(e)}catch(t){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Wo(r){const e=r.name;if(ag.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;ag.set(e,r);for(const t of ph.values())jb(t,r);for(const t of RN.values())jb(t,r);return!0}function Fg(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function pr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new nu("app","Firebase",CN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=AN;function dT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:sg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ss.create("bad-app-name",{appName:String(o)});if(t||(t=oT()),!t)throw Ss.create("no-options");const c=ph.get(o);if(c){if(Da(t,c.options)&&Da(s,c.config))return c;throw Ss.create("duplicate-app",{appName:o})}const u=new kI(o);for(const p of ag.values())u.addComponent(p);const d=new IN(t,s,u);return ph.set(o,d),d}function mT(r=sg){const e=ph.get(r);if(!e&&r===sg&&oT())return dT();if(!e)throw Ss.create("no-app",{appName:r});return e}function As(r,e,t){let s=xN[r]??r;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(u.join(" "));return}Wo(new Oa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="firebase-heartbeat-database",DN=1,qc="firebase-heartbeat-store";let Op=null;function pT(){return Op||(Op=YI(NN,DN,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(qc)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ss.create("idb-open",{originalErrorMessage:r.message})})),Op}async function ON(r){try{const t=(await pT()).transaction(qc),s=await t.objectStore(qc).get(gT(r));return await t.done,s}catch(e){if(e instanceof zi)Mi.warn(e.message);else{const t=Ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(t.message)}}}async function Lb(r,e){try{const s=(await pT()).transaction(qc,"readwrite");await s.objectStore(qc).put(e,gT(r)),await s.done}catch(t){if(t instanceof zi)Mi.warn(t.message);else{const s=Ss.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Mi.warn(s.message)}}}function gT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=1024,PN=30;class kN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jN(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Ub();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(u=>u.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>PN){const u=LN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Mi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ub(),{heartbeatsToSend:s,unsentEntries:o}=VN(this._heartbeatsCache.heartbeats),c=mh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return Mi.warn(t),""}}}function Ub(){return new Date().toISOString().substring(0,10)}function VN(r,e=MN){const t=[];let s=r.slice();for(const o of r){const c=t.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),zb(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),zb(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class jN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TI()?SI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ON(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Lb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Lb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function zb(r){return mh(JSON.stringify({version:2,heartbeats:r})).length}function LN(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(r){Wo(new Oa("platform-logger",e=>new WI(e),"PRIVATE")),Wo(new Oa("heartbeat",e=>new kN(e),"PRIVATE")),As(ig,Vb,r),As(ig,Vb,"esm2020"),As("fire-js","")}UN("");function yT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zN=yT,vT=new nu("auth","Firebase",yT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new qg("@firebase/auth");function BN(r,...e){gh.logLevel<=He.WARN&&gh.warn(`Auth (${cl}): ${r}`,...e)}function th(r,...e){gh.logLevel<=He.ERROR&&gh.error(`Auth (${cl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(r,...e){throw Kg(r,...e)}function vr(r,...e){return Kg(r,...e)}function Gg(r,e,t){const s={...zN(),[e]:t};return new nu("auth","Firebase",s).create(e,{appName:r.name})}function Ra(r){return Gg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qN(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Xr(r,"argument-error"),Gg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kg(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return vT.create(r,...e)}function De(r,e,...t){if(!r)throw Kg(e,...t)}function Ri(r){const e="INTERNAL ASSERTION FAILED: "+r;throw th(e),new Error(e)}function Pi(r,e){r||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function HN(){return Bb()==="http:"||Bb()==="https:"}function Bb(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HN()||_I()||"connection"in navigator)?navigator.onLine:!0}function GN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pi(t>e,"Short delay should be less than long delay!"),this.isMobile=gI()||bI()}get(){return FN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(r,e){Pi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YN=new iu(3e4,6e4);function Yg(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ul(r,e,t,s,o={}){return bT(r,o,async()=>{let c={},u={};s&&(e==="GET"?u=s:c={body:JSON.stringify(s)});const d=ru({key:r.config.apiKey,...u}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...c};return vI()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ll(r.emulatorConfig.host)&&(g.credentials="include"),_T.fetch()(await ET(r,r.config.apiHost,t,d),g)})}async function bT(r,e,t){r._canInitEmulator=!1;const s={...KN,...e};try{const o=new XN(r),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw qf(r,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const d=c.ok?u.errorMessage:u.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw qf(r,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw qf(r,"email-already-in-use",u);if(p==="USER_DISABLED")throw qf(r,"user-disabled",u);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Gg(r,v,g);Xr(r,v)}}catch(o){if(o instanceof zi)throw o;Xr(r,"network-request-failed",{message:String(o)})}}async function $N(r,e,t,s,o={}){const c=await ul(r,e,t,s,o);return"mfaPendingCredential"in c&&Xr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function ET(r,e,t,s){const o=`${e}${t}?${s}`,c=r,u=c.config.emulator?Qg(r.config,o):`${r.config.apiScheme}://${o}`;return QN.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}class XN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(vr(this.auth,"network-request-failed")),YN.get())})}}function qf(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=vr(r,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(r,e){return ul(r,"POST","/v1/accounts:delete",e)}async function yh(r,e){return ul(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZN(r,e=!1){const t=_n(r),s=await t.getIdToken(e),o=$g(s);De(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c==null?void 0:c.sign_in_provider;return{claims:o,token:s,authTime:Vc(Mp(o.auth_time)),issuedAtTime:Vc(Mp(o.iat)),expirationTime:Vc(Mp(o.exp)),signInProvider:u||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Mp(r){return Number(r)*1e3}function $g(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const o=sT(t);return o?JSON.parse(o):(th("Failed to decode base64 JWT payload"),null)}catch(o){return th("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function qb(r){const e=$g(r);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof zi&&JN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function JN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(r){var E;const e=r.auth,t=await r.getIdToken(),s=await Hc(r,yh(e,{idToken:t}));De(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const c=(E=o.providerUserInfo)!=null&&E.length?wT(o.providerUserInfo):[],u=n2(r.providerData,c),d=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(u!=null&&u.length),g=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new lg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function t2(r){const e=_n(r);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function n2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function wT(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(r,e){const t=await bT(r,{},async()=>{const s=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,u=await ET(r,o,"/v1/token",`key=${c}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return r.emulatorConfig&&ll(r.emulatorConfig.host)&&(p.credentials="include"),_T.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function i2(r,e){return ul(r,"POST","/v2/accounts:revokeToken",Yg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=qb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await r2(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,u=new Go;return s&&(De(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(De(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(De(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(r,e){De(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class yr{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new e2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Hc(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ZN(this,e)}reload(){return t2(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new yr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(Ra(this.auth));const e=await this.getIdToken();return await Hc(this,WN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:C,providerData:P,stsTokenManager:R}=t;De(E&&R,e,"internal-error");const N=Go.fromJSON(this.name,R);De(typeof E=="string",e,"internal-error"),gs(s,e.name),gs(o,e.name),De(typeof T=="boolean",e,"internal-error"),De(typeof C=="boolean",e,"internal-error"),gs(c,e.name),gs(u,e.name),gs(d,e.name),gs(p,e.name),gs(g,e.name),gs(v,e.name);const F=new yr({uid:E,auth:e,email:o,emailVerified:T,displayName:s,isAnonymous:C,photoURL:u,phoneNumber:c,tenantId:d,stsTokenManager:N,createdAt:g,lastLoginAt:v});return P&&Array.isArray(P)&&(F.providerData=P.map(V=>({...V}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(e,t,s=!1){const o=new Go;o.updateFromServerResponse(t);const c=new yr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await vh(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];De(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?wT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),d=new Go;d.updateFromIdToken(s);const p=new yr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new lg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=new Map;function Ci(r){Pi(r instanceof Function,"Expected a class definition");let e=Hb.get(r);return e?(Pi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Hb.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}TT.type="NONE";const Fb=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(r,e,t){return`firebase:${r}:${e}:${t}`}class Ko{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=nh(this.userKey,o.apiKey,c),this.fullPersistenceKey=nh("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await yh(this.auth,{idToken:e}).catch(()=>{});return t?yr._fromGetAccountInfoResponse(this.auth,t,e):null}return yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Ko(Ci(Fb),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||Ci(Fb);const u=nh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(u);if(v){let E;if(typeof v=="string"){const T=await yh(e,{idToken:v}).catch(()=>{});if(!T)break;E=await yr._fromGetAccountInfoResponse(e,T,v)}else E=yr._fromJSON(e,v);g!==c&&(d=E),c=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Ko(c,e,s):(c=p[0],d&&await c._set(u,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==c)try{await g._remove(u)}catch{}})),new Ko(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ST(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IT(e))return"Blackberry";if(NT(e))return"Webos";if(AT(e))return"Safari";if((e.includes("chrome/")||xT(e))&&!e.includes("edge/"))return"Chrome";if(CT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ST(r=vn()){return/firefox\//i.test(r)}function AT(r=vn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xT(r=vn()){return/crios\//i.test(r)}function RT(r=vn()){return/iemobile/i.test(r)}function CT(r=vn()){return/android/i.test(r)}function IT(r=vn()){return/blackberry/i.test(r)}function NT(r=vn()){return/webos/i.test(r)}function Xg(r=vn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function s2(r=vn()){var e;return Xg(r)&&!!((e=window.navigator)!=null&&e.standalone)}function a2(){return EI()&&document.documentMode===10}function DT(r=vn()){return Xg(r)||CT(r)||NT(r)||IT(r)||/windows phone/i.test(r)||RT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(r,e=[]){let t;switch(r){case"Browser":t=Gb(vn());break;case"Worker":t=`${Gb(vn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${cl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((u,d)=>{try{const p=e(c);u(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(r,e={}){return ul(r,"GET","/v2/passwordPolicy",Yg(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=6;class u2{constructor(e){var s;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??c2,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kb(this),this.idTokenSubscription=new Kb(this),this.beforeStateQueue=new o2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ci(t)),this._initializationPromise=this.queue(async()=>{var s,o,c;if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await yh(this,{idToken:e}),s=await yr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(pr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(c=this.redirectUser)==null?void 0:c._redirectEventId,d=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(Ra(this));const t=e?_n(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(Ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(Ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await l2(this),t=new u2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await i2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ci(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[Ci(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(d,this,"internal-error"),d.then(()=>{u||c(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&BN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function zh(r){return _n(r)}class Kb{constructor(e){this.auth=e,this.observer=null,this.addObserver=II(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h2(r){Wg=r}function d2(r){return Wg.loadJS(r)}function m2(){return Wg.gapiScript}function p2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(r,e){const t=Fg(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Da(c,e??{}))return o;Xr(o,"already-initialized")}return t.initialize({options:e})}function y2(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Ci);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function v2(r,e,t){const s=zh(r);De(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=MT(e),{host:u,port:d}=_2(e),p=d===null?"":`:${d}`,g={url:`${c}//${u}${p}/`},v=Object.freeze({host:u,port:d,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){De(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),De(Da(g,s.config.emulator)&&Da(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,ll(u)?(cT(`${c}//${u}${p}`),uT("Auth",!0)):b2()}function MT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function _2(r){const e=MT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:Qb(s.substr(c.length+1))}}else{const[c,u]=s.split(":");return{host:c,port:Qb(u)}}}function Qb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function b2(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,t){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(r,e){return $N(r,"POST","/v1/accounts:signInWithIdp",Yg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="http://localhost";class Ma extends PT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const u=new Ma(s,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Qo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Qo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qo(e,t)}buildRequest(){const e={requestUri:E2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ru(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Zg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends su{constructor(){super("facebook.com")}static credential(e){return Ma._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ma._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return gr.credential(t,s)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends su{constructor(){super("github.com")}static credential(e){return Ma._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.GITHUB_SIGN_IN_METHOD="github.com";bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends su{constructor(){super("twitter.com")}static credential(e,t){return Ma._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Es.credential(t,s)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await yr._fromIdTokenResponse(e,s,o),u=Yb(s);return new Zo({user:c,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Yb(s);return new Zo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Yb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends zi{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new _h(e,t,s,o)}}function kT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(r,c,e,s):c})}async function w2(r,e,t=!1){const s=await Hc(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Zo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(r,e,t=!1){const{auth:s}=r;if(pr(s.app))return Promise.reject(Ra(s));const o="reauthenticate";try{const c=await Hc(r,kT(s,o,e,r),t);De(c.idToken,s,"internal-error");const u=$g(c.idToken);De(u,s,"internal-error");const{sub:d}=u;return De(r.uid===d,s,"user-mismatch"),Zo._forOperation(r,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Xr(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(r,e,t=!1){if(pr(r.app))return Promise.reject(Ra(r));const s="signIn",o=await kT(r,s,e),c=await Zo._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(c.user),c}function A2(r,e,t,s){return _n(r).onIdTokenChanged(e,t,s)}function x2(r,e,t){return _n(r).beforeAuthStateChanged(e,t)}const bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=1e3,C2=10;class jT extends VT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,p)=>{this.notifyListeners(u,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},c=this.storage.getItem(s);a2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,C2):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},R2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}jT.type="LOCAL";const I2=jT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends VT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}LT.type="SESSION";const UT=LT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Bh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(u).map(async g=>g(t.origin,c)),p=await N2(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((d,p)=>{const g=Jg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(E){const T=E;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),d(T.data.response);break;default:clearTimeout(v),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return window}function O2(r){Fr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){return typeof Fr().WorkerGlobalScope<"u"&&typeof Fr().importScripts=="function"}async function M2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function k2(){return zT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="firebaseLocalStorageDb",V2=1,Eh="firebaseLocalStorage",qT="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qh(r,e){return r.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function j2(){const r=indexedDB.deleteDatabase(BT);return new au(r).toPromise()}function cg(){const r=indexedDB.open(BT,V2);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Eh,{keyPath:qT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Eh)?e(s):(s.close(),await j2(),e(await cg()))})})}async function $b(r,e,t){const s=qh(r,!0).put({[qT]:e,value:t});return new au(s).toPromise()}async function L2(r,e){const t=qh(r,!1).get(e),s=await new au(t).toPromise();return s===void 0?null:s.value}function Xb(r,e){const t=qh(r,!0).delete(e);return new au(t).toPromise()}const U2=800,z2=3;class HT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>z2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(k2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await M2(),!this.activeServiceWorker)return;this.sender=new D2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cg();return await $b(e,bh,"1"),await Xb(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>$b(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>L2(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Xb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=qh(o,!1).getAll();return new au(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HT.type="LOCAL";const B2=HT;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(r,e){return e?Ci(e):(De(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey extends PT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function q2(r){return S2(r.auth,new ey(r),r.bypassAuthState)}function H2(r){const{auth:e,user:t}=r;return De(t,e,"internal-error"),T2(t,new ey(r),r.bypassAuthState)}async function F2(r){const{auth:e,user:t}=r;return De(t,e,"internal-error"),w2(t,new ey(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:u,type:d}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return q2;case"linkViaPopup":case"linkViaRedirect":return F2;case"reauthViaPopup":case"reauthViaRedirect":return H2;default:Xr(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=new iu(2e3,1e4);async function ty(r,e,t){if(pr(r.app))return Promise.reject(vr(r,"operation-not-supported-in-this-environment"));const s=zh(r);qN(r,e,Zg);const o=FT(s,t);return new Aa(s,"signInViaPopup",e,o).executeNotNull()}class Aa extends GT{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Aa.currentPopupAction&&Aa.currentPopupAction.cancel(),Aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=Jg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if((s=(t=this.authWindow)==null?void 0:t.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G2.get())};e()}}Aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="pendingRedirect",rh=new Map;class Q2 extends GT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=rh.get(this.auth._key());if(!e){try{const s=await Y2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}rh.set(this.auth._key(),e)}return this.bypassAuthState||rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y2(r,e){const t=W2(e),s=X2(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function $2(r,e){rh.set(r._key(),e)}function X2(r){return Ci(r._redirectPersistence)}function W2(r){return nh(K2,r.config.apiKey,r.name)}async function Z2(r,e,t=!1){if(pr(r.app))return Promise.reject(Ra(r));const s=zh(r),o=FT(s,e),u=await new Q2(s,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=600*1e3;class eD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!KT(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";t.onError(vr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wb(e))}saveEventToCache(e){this.cachedEventUids.add(Wb(e)),this.lastProcessedEventTime=Date.now()}}function Wb(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function KT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(r,e={}){return ul(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iD=/^https?/;async function sD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await nD(r);for(const t of e)try{if(aD(t))return}catch{}Xr(r,"unauthorized-domain")}function aD(r){const e=og(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!iD.test(t))return!1;if(rD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new iu(3e4,6e4);function Zb(){const r=Fr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function lD(r){return new Promise((e,t)=>{var o,c,u;function s(){Zb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zb(),t(vr(r,"network-request-failed"))},timeout:oD.get()})}if((c=(o=Fr().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((u=Fr().gapi)!=null&&u.load)s();else{const d=p2("iframefcb");return Fr()[d]=()=>{gapi.load?s():t(vr(r,"network-request-failed"))},d2(`${m2()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw ih=null,e})}let ih=null;function cD(r){return ih=ih||lD(r),ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=new iu(5e3,15e3),fD="__/auth/iframe",hD="emulator/auth/iframe",dD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pD(r){const e=r.config;De(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Qg(e,hD):`https://${r.config.authDomain}/${fD}`,s={apiKey:e.apiKey,appName:r.name,v:cl},o=mD.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${ru(s).slice(1)}`}async function gD(r){const e=await cD(r),t=Fr().gapi;return De(t,r,"internal-error"),e.open({where:document.body,url:pD(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dD,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const u=vr(r,"network-request-failed"),d=Fr().setTimeout(()=>{c(u)},uD.get());function p(){Fr().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vD=500,_D=600,bD="_blank",ED="http://localhost";class Jb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wD(r,e,t,s=vD,o=_D){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...yD,width:s.toString(),height:o.toString(),top:c,left:u},g=vn().toLowerCase();t&&(d=xT(g)?bD:t),ST(g)&&(e=e||ED,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[C,P])=>`${T}${C}=${P},`,"");if(s2(g)&&d!=="_self")return TD(e||"",d),new Jb(null);const E=window.open(e||"",d,v);De(E,r,"popup-blocked");try{E.focus()}catch{}return new Jb(E)}function TD(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="__/auth/handler",AD="emulator/auth/handler",xD=encodeURIComponent("fac");async function eE(r,e,t,s,o,c){De(r.config.authDomain,r,"auth-domain-config-required"),De(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:cl,eventId:o};if(e instanceof Zg){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",CI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(e instanceof su){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}r.tenantId&&(u.tid=r.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await r._getAppCheckToken(),g=p?`#${xD}=${encodeURIComponent(p)}`:"";return`${RD(r)}?${ru(d).slice(1)}${g}`}function RD({config:r}){return r.emulator?Qg(r,AD):`https://${r.authDomain}/${SD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="webStorageSupport";class CD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UT,this._completeRedirectFn=Z2,this._overrideRedirectResult=$2}async _openPopup(e,t,s,o){var u;Pi((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await eE(e,t,s,og(),o);return wD(e,c,Jg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await eE(e,t,s,og(),o);return O2(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(Pi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await gD(e),s=new eD(e);return t.register("authEvent",o=>(De(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pp,{type:Pp},o=>{var u;const c=(u=o==null?void 0:o[0])==null?void 0:u[Pp];c!==void 0&&t(!!c),Xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return DT()||AT()||Xg()}}const ID=CD;var tE="@firebase/auth",nE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OD(r){Wo(new Oa("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=s.options;De(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OT(r)},g=new f2(s,o,c,p);return y2(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Wo(new Oa("auth-internal",e=>{const t=zh(e.getProvider("auth").getImmediate());return(s=>new ND(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),As(tE,nE,DD(r)),As(tE,nE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=300,PD=lT("authIdTokenMaxAge")||MD;let rE=null;const kD=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>PD)return;const o=t==null?void 0:t.token;rE!==o&&(rE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function VD(r=mT()){const e=Fg(r,"auth");if(e.isInitialized())return e.getImmediate();const t=g2(r,{popupRedirectResolver:ID,persistence:[B2,I2,UT]}),s=lT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const u=kD(c.toString());x2(t,u,()=>u(t.currentUser)),A2(t,d=>u(d))}}const o=aT("auth");return o&&v2(t,`http://${o}`),t}function jD(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}h2({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const c=vr("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",jD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OD("Browser");var LD="firebase",UD="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As(LD,UD,"app");var iE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,QT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function O(){}O.prototype=A.prototype,D.D=A.prototype,D.prototype=new O,D.prototype.constructor=D,D.C=function(j,U,B){for(var M=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)M[ue-2]=arguments[ue];return A.prototype[U].apply(j,M)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,O){O||(O=0);var j=Array(16);if(typeof A=="string")for(var U=0;16>U;++U)j[U]=A.charCodeAt(O++)|A.charCodeAt(O++)<<8|A.charCodeAt(O++)<<16|A.charCodeAt(O++)<<24;else for(U=0;16>U;++U)j[U]=A[O++]|A[O++]<<8|A[O++]<<16|A[O++]<<24;A=D.g[0],O=D.g[1],U=D.g[2];var B=D.g[3],M=A+(B^O&(U^B))+j[0]+3614090360&4294967295;A=O+(M<<7&4294967295|M>>>25),M=B+(U^A&(O^U))+j[1]+3905402710&4294967295,B=A+(M<<12&4294967295|M>>>20),M=U+(O^B&(A^O))+j[2]+606105819&4294967295,U=B+(M<<17&4294967295|M>>>15),M=O+(A^U&(B^A))+j[3]+3250441966&4294967295,O=U+(M<<22&4294967295|M>>>10),M=A+(B^O&(U^B))+j[4]+4118548399&4294967295,A=O+(M<<7&4294967295|M>>>25),M=B+(U^A&(O^U))+j[5]+1200080426&4294967295,B=A+(M<<12&4294967295|M>>>20),M=U+(O^B&(A^O))+j[6]+2821735955&4294967295,U=B+(M<<17&4294967295|M>>>15),M=O+(A^U&(B^A))+j[7]+4249261313&4294967295,O=U+(M<<22&4294967295|M>>>10),M=A+(B^O&(U^B))+j[8]+1770035416&4294967295,A=O+(M<<7&4294967295|M>>>25),M=B+(U^A&(O^U))+j[9]+2336552879&4294967295,B=A+(M<<12&4294967295|M>>>20),M=U+(O^B&(A^O))+j[10]+4294925233&4294967295,U=B+(M<<17&4294967295|M>>>15),M=O+(A^U&(B^A))+j[11]+2304563134&4294967295,O=U+(M<<22&4294967295|M>>>10),M=A+(B^O&(U^B))+j[12]+1804603682&4294967295,A=O+(M<<7&4294967295|M>>>25),M=B+(U^A&(O^U))+j[13]+4254626195&4294967295,B=A+(M<<12&4294967295|M>>>20),M=U+(O^B&(A^O))+j[14]+2792965006&4294967295,U=B+(M<<17&4294967295|M>>>15),M=O+(A^U&(B^A))+j[15]+1236535329&4294967295,O=U+(M<<22&4294967295|M>>>10),M=A+(U^B&(O^U))+j[1]+4129170786&4294967295,A=O+(M<<5&4294967295|M>>>27),M=B+(O^U&(A^O))+j[6]+3225465664&4294967295,B=A+(M<<9&4294967295|M>>>23),M=U+(A^O&(B^A))+j[11]+643717713&4294967295,U=B+(M<<14&4294967295|M>>>18),M=O+(B^A&(U^B))+j[0]+3921069994&4294967295,O=U+(M<<20&4294967295|M>>>12),M=A+(U^B&(O^U))+j[5]+3593408605&4294967295,A=O+(M<<5&4294967295|M>>>27),M=B+(O^U&(A^O))+j[10]+38016083&4294967295,B=A+(M<<9&4294967295|M>>>23),M=U+(A^O&(B^A))+j[15]+3634488961&4294967295,U=B+(M<<14&4294967295|M>>>18),M=O+(B^A&(U^B))+j[4]+3889429448&4294967295,O=U+(M<<20&4294967295|M>>>12),M=A+(U^B&(O^U))+j[9]+568446438&4294967295,A=O+(M<<5&4294967295|M>>>27),M=B+(O^U&(A^O))+j[14]+3275163606&4294967295,B=A+(M<<9&4294967295|M>>>23),M=U+(A^O&(B^A))+j[3]+4107603335&4294967295,U=B+(M<<14&4294967295|M>>>18),M=O+(B^A&(U^B))+j[8]+1163531501&4294967295,O=U+(M<<20&4294967295|M>>>12),M=A+(U^B&(O^U))+j[13]+2850285829&4294967295,A=O+(M<<5&4294967295|M>>>27),M=B+(O^U&(A^O))+j[2]+4243563512&4294967295,B=A+(M<<9&4294967295|M>>>23),M=U+(A^O&(B^A))+j[7]+1735328473&4294967295,U=B+(M<<14&4294967295|M>>>18),M=O+(B^A&(U^B))+j[12]+2368359562&4294967295,O=U+(M<<20&4294967295|M>>>12),M=A+(O^U^B)+j[5]+4294588738&4294967295,A=O+(M<<4&4294967295|M>>>28),M=B+(A^O^U)+j[8]+2272392833&4294967295,B=A+(M<<11&4294967295|M>>>21),M=U+(B^A^O)+j[11]+1839030562&4294967295,U=B+(M<<16&4294967295|M>>>16),M=O+(U^B^A)+j[14]+4259657740&4294967295,O=U+(M<<23&4294967295|M>>>9),M=A+(O^U^B)+j[1]+2763975236&4294967295,A=O+(M<<4&4294967295|M>>>28),M=B+(A^O^U)+j[4]+1272893353&4294967295,B=A+(M<<11&4294967295|M>>>21),M=U+(B^A^O)+j[7]+4139469664&4294967295,U=B+(M<<16&4294967295|M>>>16),M=O+(U^B^A)+j[10]+3200236656&4294967295,O=U+(M<<23&4294967295|M>>>9),M=A+(O^U^B)+j[13]+681279174&4294967295,A=O+(M<<4&4294967295|M>>>28),M=B+(A^O^U)+j[0]+3936430074&4294967295,B=A+(M<<11&4294967295|M>>>21),M=U+(B^A^O)+j[3]+3572445317&4294967295,U=B+(M<<16&4294967295|M>>>16),M=O+(U^B^A)+j[6]+76029189&4294967295,O=U+(M<<23&4294967295|M>>>9),M=A+(O^U^B)+j[9]+3654602809&4294967295,A=O+(M<<4&4294967295|M>>>28),M=B+(A^O^U)+j[12]+3873151461&4294967295,B=A+(M<<11&4294967295|M>>>21),M=U+(B^A^O)+j[15]+530742520&4294967295,U=B+(M<<16&4294967295|M>>>16),M=O+(U^B^A)+j[2]+3299628645&4294967295,O=U+(M<<23&4294967295|M>>>9),M=A+(U^(O|~B))+j[0]+4096336452&4294967295,A=O+(M<<6&4294967295|M>>>26),M=B+(O^(A|~U))+j[7]+1126891415&4294967295,B=A+(M<<10&4294967295|M>>>22),M=U+(A^(B|~O))+j[14]+2878612391&4294967295,U=B+(M<<15&4294967295|M>>>17),M=O+(B^(U|~A))+j[5]+4237533241&4294967295,O=U+(M<<21&4294967295|M>>>11),M=A+(U^(O|~B))+j[12]+1700485571&4294967295,A=O+(M<<6&4294967295|M>>>26),M=B+(O^(A|~U))+j[3]+2399980690&4294967295,B=A+(M<<10&4294967295|M>>>22),M=U+(A^(B|~O))+j[10]+4293915773&4294967295,U=B+(M<<15&4294967295|M>>>17),M=O+(B^(U|~A))+j[1]+2240044497&4294967295,O=U+(M<<21&4294967295|M>>>11),M=A+(U^(O|~B))+j[8]+1873313359&4294967295,A=O+(M<<6&4294967295|M>>>26),M=B+(O^(A|~U))+j[15]+4264355552&4294967295,B=A+(M<<10&4294967295|M>>>22),M=U+(A^(B|~O))+j[6]+2734768916&4294967295,U=B+(M<<15&4294967295|M>>>17),M=O+(B^(U|~A))+j[13]+1309151649&4294967295,O=U+(M<<21&4294967295|M>>>11),M=A+(U^(O|~B))+j[4]+4149444226&4294967295,A=O+(M<<6&4294967295|M>>>26),M=B+(O^(A|~U))+j[11]+3174756917&4294967295,B=A+(M<<10&4294967295|M>>>22),M=U+(A^(B|~O))+j[2]+718787259&4294967295,U=B+(M<<15&4294967295|M>>>17),M=O+(B^(U|~A))+j[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(U+(M<<21&4294967295|M>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+B&4294967295}s.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var O=A-this.blockSize,j=this.B,U=this.h,B=0;B<A;){if(U==0)for(;B<=O;)o(this,D,B),B+=this.blockSize;if(typeof D=="string"){for(;B<A;)if(j[U++]=D.charCodeAt(B++),U==this.blockSize){o(this,j),U=0;break}}else for(;B<A;)if(j[U++]=D[B++],U==this.blockSize){o(this,j),U=0;break}}this.h=U,this.o+=A},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var O=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=O&255,O/=256;for(this.u(D),D=Array(16),A=O=0;4>A;++A)for(var j=0;32>j;j+=8)D[O++]=this.g[A]>>>j&255;return D};function c(D,A){var O=d;return Object.prototype.hasOwnProperty.call(O,D)?O[D]:O[D]=A(D)}function u(D,A){this.h=A;for(var O=[],j=!0,U=D.length-1;0<=U;U--){var B=D[U]|0;j&&B==A||(O[U]=B,j=!1)}this.g=O}var d={};function p(D){return-128<=D&&128>D?c(D,function(A){return new u([A|0],0>A?-1:0)}):new u([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return E;if(0>D)return N(g(-D));for(var A=[],O=1,j=0;D>=O;j++)A[j]=D/O|0,O*=4294967296;return new u(A,0)}function v(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return N(v(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=g(Math.pow(A,8)),j=E,U=0;U<D.length;U+=8){var B=Math.min(8,D.length-U),M=parseInt(D.substring(U,U+B),A);8>B?(B=g(Math.pow(A,B)),j=j.j(B).add(g(M))):(j=j.j(O),j=j.add(g(M)))}return j}var E=p(0),T=p(1),C=p(16777216);r=u.prototype,r.m=function(){if(R(this))return-N(this).m();for(var D=0,A=1,O=0;O<this.g.length;O++){var j=this.i(O);D+=(0<=j?j:4294967296+j)*A,A*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(P(this))return"0";if(R(this))return"-"+N(this).toString(D);for(var A=g(Math.pow(D,6)),O=this,j="";;){var U=Z(O,A).g;O=F(O,U.j(A));var B=((0<O.g.length?O.g[0]:O.h)>>>0).toString(D);if(O=U,P(O))return B+j;for(;6>B.length;)B="0"+B;j=B+j}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function P(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function R(D){return D.h==-1}r.l=function(D){return D=F(this,D),R(D)?-1:P(D)?0:1};function N(D){for(var A=D.g.length,O=[],j=0;j<A;j++)O[j]=~D.g[j];return new u(O,~D.h).add(T)}r.abs=function(){return R(this)?N(this):this},r.add=function(D){for(var A=Math.max(this.g.length,D.g.length),O=[],j=0,U=0;U<=A;U++){var B=j+(this.i(U)&65535)+(D.i(U)&65535),M=(B>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);j=M>>>16,B&=65535,M&=65535,O[U]=M<<16|B}return new u(O,O[O.length-1]&-2147483648?-1:0)};function F(D,A){return D.add(N(A))}r.j=function(D){if(P(this)||P(D))return E;if(R(this))return R(D)?N(this).j(N(D)):N(N(this).j(D));if(R(D))return N(this.j(N(D)));if(0>this.l(C)&&0>D.l(C))return g(this.m()*D.m());for(var A=this.g.length+D.g.length,O=[],j=0;j<2*A;j++)O[j]=0;for(j=0;j<this.g.length;j++)for(var U=0;U<D.g.length;U++){var B=this.i(j)>>>16,M=this.i(j)&65535,ue=D.i(U)>>>16,me=D.i(U)&65535;O[2*j+2*U]+=M*me,V(O,2*j+2*U),O[2*j+2*U+1]+=B*me,V(O,2*j+2*U+1),O[2*j+2*U+1]+=M*ue,V(O,2*j+2*U+1),O[2*j+2*U+2]+=B*ue,V(O,2*j+2*U+2)}for(j=0;j<A;j++)O[j]=O[2*j+1]<<16|O[2*j];for(j=A;j<2*A;j++)O[j]=0;return new u(O,0)};function V(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function z(D,A){this.g=D,this.h=A}function Z(D,A){if(P(A))throw Error("division by zero");if(P(D))return new z(E,E);if(R(D))return A=Z(N(D),A),new z(N(A.g),N(A.h));if(R(A))return A=Z(D,N(A)),new z(N(A.g),A.h);if(30<D.g.length){if(R(D)||R(A))throw Error("slowDivide_ only works with positive integers.");for(var O=T,j=A;0>=j.l(D);)O=ee(O),j=ee(j);var U=ce(O,1),B=ce(j,1);for(j=ce(j,2),O=ce(O,2);!P(j);){var M=B.add(j);0>=M.l(D)&&(U=U.add(O),B=M),j=ce(j,1),O=ce(O,1)}return A=F(D,U.j(A)),new z(U,A)}for(U=E;0<=D.l(A);){for(O=Math.max(1,Math.floor(D.m()/A.m())),j=Math.ceil(Math.log(O)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),B=g(O),M=B.j(A);R(M)||0<M.l(D);)O-=j,B=g(O),M=B.j(A);P(B)&&(B=T),U=U.add(B),D=F(D,M)}return new z(U,D)}r.A=function(D){return Z(this,D).h},r.and=function(D){for(var A=Math.max(this.g.length,D.g.length),O=[],j=0;j<A;j++)O[j]=this.i(j)&D.i(j);return new u(O,this.h&D.h)},r.or=function(D){for(var A=Math.max(this.g.length,D.g.length),O=[],j=0;j<A;j++)O[j]=this.i(j)|D.i(j);return new u(O,this.h|D.h)},r.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),O=[],j=0;j<A;j++)O[j]=this.i(j)^D.i(j);return new u(O,this.h^D.h)};function ee(D){for(var A=D.g.length+1,O=[],j=0;j<A;j++)O[j]=D.i(j)<<1|D.i(j-1)>>>31;return new u(O,D.h)}function ce(D,A){var O=A>>5;A%=32;for(var j=D.g.length-O,U=[],B=0;B<j;B++)U[B]=0<A?D.i(B+O)>>>A|D.i(B+O+1)<<32-A:D.i(B+O);return new u(U,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,QT=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,xs=u}).apply(typeof iE<"u"?iE:typeof self<"u"?self:typeof window<"u"?window:{});var Hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YT,Nc,$T,sh,ug,XT,WT,ZT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,b){return f==Array.prototype||f==Object.prototype||(f[y]=b.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hf=="object"&&Hf];for(var y=0;y<f.length;++y){var b=f[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=t(this);function o(f,y){if(y)e:{var b=s;f=f.split(".");for(var x=0;x<f.length-1;x++){var K=f[x];if(!(K in b))break e;b=b[K]}f=f[f.length-1],x=b[f],y=y(x),y!=x&&y!=null&&e(b,f,{configurable:!0,writable:!0,value:y})}}function c(f,y){f instanceof String&&(f+="");var b=0,x=!1,K={next:function(){if(!x&&b<f.length){var J=b++;return{value:y(J,f[J]),done:!1}}return x=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}o("Array.prototype.values",function(f){return f||function(){return c(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function p(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function g(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,b){return f.call.apply(f.bind,arguments)}function E(f,y,b){if(!f)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,x),f.apply(y,K)}}return function(){return f.apply(y,arguments)}}function T(f,y,b){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,T.apply(null,arguments)}function C(f,y){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),f.apply(this,x)}}function P(f,y){function b(){}b.prototype=y.prototype,f.aa=y.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(x,K,J){for(var he=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)he[Ke-2]=arguments[Ke];return y.prototype[K].apply(x,he)}}function R(f){const y=f.length;if(0<y){const b=Array(y);for(let x=0;x<y;x++)b[x]=f[x];return b}return[]}function N(f,y){for(let b=1;b<arguments.length;b++){const x=arguments[b];if(p(x)){const K=f.length||0,J=x.length||0;f.length=K+J;for(let he=0;he<J;he++)f[K+he]=x[he]}else f.push(x)}}class F{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(f){return/^[\s\xa0]*$/.test(f)}function z(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function Z(f){return Z[" "](f),f}Z[" "]=function(){};var ee=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function ce(f,y,b){for(const x in f)y.call(b,f[x],x,f)}function D(f,y){for(const b in f)y.call(void 0,f[b],b,f)}function A(f){const y={};for(const b in f)y[b]=f[b];return y}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(f,y){let b,x;for(let K=1;K<arguments.length;K++){x=arguments[K];for(b in x)f[b]=x[b];for(let J=0;J<O.length;J++)b=O[J],Object.prototype.hasOwnProperty.call(x,b)&&(f[b]=x[b])}}function U(f){var y=1;f=f.split(":");const b=[];for(;0<y&&f.length;)b.push(f.shift()),y--;return f.length&&b.push(f.join(":")),b}function B(f){d.setTimeout(()=>{throw f},0)}function M(){var f=Ee;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class ue{constructor(){this.h=this.g=null}add(y,b){const x=me.get();x.set(y,b),this.h?this.h.next=x:this.g=x,this.h=x}}var me=new F(()=>new q,f=>f.reset());class q{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,X=!1,Ee=new ue,L=()=>{const f=d.Promise.resolve(void 0);ne=()=>{f.then(re)}};var re=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(b){B(b)}var y=me;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}X=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};d.addEventListener("test",b,y),d.removeEventListener("test",b,y)}catch{}return f}();function Re(f,y){if(oe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,x=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(ee){e:{try{Z(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else b=="mouseover"?y=f.fromElement:b=="mouseout"&&(y=f.toElement);this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:we[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Re.aa.h.call(this)}}P(Re,oe);var we={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Xe(f,y,b,x,K){this.listener=f,this.proxy=null,this.src=y,this.type=b,this.capture=!!x,this.ha=K,this.key=++Se,this.da=this.fa=!1}function je(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Pe(f){this.src=f,this.g={},this.h=0}Pe.prototype.add=function(f,y,b,x,K){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var he=St(f,y,x,K);return-1<he?(y=f[he],b||(y.fa=!1)):(y=new Xe(y,this.src,J,!!x,K),y.fa=b,f.push(y)),y};function ke(f,y){var b=y.type;if(b in f.g){var x=f.g[b],K=Array.prototype.indexOf.call(x,y,void 0),J;(J=0<=K)&&Array.prototype.splice.call(x,K,1),J&&(je(y),f.g[b].length==0&&(delete f.g[b],f.h--))}}function St(f,y,b,x){for(var K=0;K<f.length;++K){var J=f[K];if(!J.da&&J.listener==y&&J.capture==!!b&&J.ha==x)return K}return-1}var Kt="closure_lm_"+(1e6*Math.random()|0),ar={};function wr(f,y,b,x,K){if(Array.isArray(y)){for(var J=0;J<y.length;J++)wr(f,y[J],b,x,K);return null}return b=gu(b),f&&f[de]?f.K(y,b,g(x)?!!x.capture:!1,K):Qt(f,y,b,!1,x,K)}function Qt(f,y,b,x,K,J){if(!y)throw Error("Invalid event type");var he=g(K)?!!K.capture:!!K,Ke=Ha(f);if(Ke||(f[Kt]=Ke=new Pe(f)),b=Ke.add(y,b,x,he,J),b.proxy)return b;if(x=_l(),b.proxy=x,x.src=f,x.listener=b,f.addEventListener)pe||(K=he),K===void 0&&(K=!1),f.addEventListener(y.toString(),x,K);else if(f.attachEvent)f.attachEvent(qs(y.toString()),x);else if(f.addListener&&f.removeListener)f.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function _l(){function f(b){return y.call(f.src,f.listener,b)}const y=Ed;return f}function Tr(f,y,b,x,K){if(Array.isArray(y))for(var J=0;J<y.length;J++)Tr(f,y[J],b,x,K);else x=g(x)?!!x.capture:!!x,b=gu(b),f&&f[de]?(f=f.i,y=String(y).toString(),y in f.g&&(J=f.g[y],b=St(J,b,x,K),-1<b&&(je(J[b]),Array.prototype.splice.call(J,b,1),J.length==0&&(delete f.g[y],f.h--)))):f&&(f=Ha(f))&&(y=f.g[y.toString()],f=-1,y&&(f=St(y,b,x,K)),(b=-1<f?y[f]:null)&&qa(b))}function qa(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[de])ke(y.i,f);else{var b=f.type,x=f.proxy;y.removeEventListener?y.removeEventListener(b,x,f.capture):y.detachEvent?y.detachEvent(qs(b),x):y.addListener&&y.removeListener&&y.removeListener(x),(b=Ha(y))?(ke(b,f),b.h==0&&(b.src=null,y[Kt]=null)):je(f)}}}function qs(f){return f in ar?ar[f]:ar[f]="on"+f}function Ed(f,y){if(f.da)f=!0;else{y=new Re(y,this);var b=f.listener,x=f.ha||f.src;f.fa&&qa(f),f=b.call(x,y)}return f}function Ha(f){return f=f[Kt],f instanceof Pe?f:null}var bl="__closure_events_fn_"+(1e9*Math.random()>>>0);function gu(f){return typeof f=="function"?f:(f[bl]||(f[bl]=function(y){return f.handleEvent(y)}),f[bl])}function _t(){fe.call(this),this.i=new Pe(this),this.M=this,this.F=null}P(_t,fe),_t.prototype[de]=!0,_t.prototype.removeEventListener=function(f,y,b,x){Tr(this,f,y,b,x)};function rt(f,y){var b,x=f.F;if(x)for(b=[];x;x=x.F)b.push(x);if(f=f.M,x=y.type||y,typeof y=="string")y=new oe(y,f);else if(y instanceof oe)y.target=y.target||f;else{var K=y;y=new oe(x,f),j(y,K)}if(K=!0,b)for(var J=b.length-1;0<=J;J--){var he=y.g=b[J];K=Pn(he,x,!0,y)&&K}if(he=y.g=f,K=Pn(he,x,!0,y)&&K,K=Pn(he,x,!1,y)&&K,b)for(J=0;J<b.length;J++)he=y.g=b[J],K=Pn(he,x,!1,y)&&K}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var b=f.g[y],x=0;x<b.length;x++)je(b[x]);delete f.g[y],f.h--}}this.F=null},_t.prototype.K=function(f,y,b,x){return this.i.add(String(f),y,!1,b,x)},_t.prototype.L=function(f,y,b,x){return this.i.add(String(f),y,!0,b,x)};function Pn(f,y,b,x){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,J=0;J<y.length;++J){var he=y[J];if(he&&!he.da&&he.capture==b){var Ke=he.listener,Ut=he.ha||he.src;he.fa&&ke(f.i,he),K=Ke.call(Ut,x)!==!1&&K}}return K&&!x.defaultPrevented}function hn(f,y,b){if(typeof f=="function")b&&(f=T(f,b));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(f,y||0)}function yu(f){f.g=hn(()=>{f.g=null,f.i&&(f.i=!1,yu(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class wd extends fe{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:yu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hs(f){fe.call(this),this.h=f,this.g={}}P(Hs,fe);var Fs=[];function Gs(f){ce(f.g,function(y,b){this.g.hasOwnProperty(b)&&qa(y)},f),f.g={}}Hs.prototype.N=function(){Hs.aa.N.call(this),Gs(this)},Hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var or=d.JSON.stringify,Fa=d.JSON.parse,Ks=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function El(){}El.prototype.h=null;function wl(f){return f.h||(f.h=f.i())}function Tl(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ti(){oe.call(this,"d")}P(ti,oe);function Sl(){oe.call(this,"c")}P(Sl,oe);var Sr={},Al=null;function Bi(){return Al=Al||new _t}Sr.La="serverreachability";function Ga(f){oe.call(this,Sr.La,f)}P(Ga,oe);function qi(f){const y=Bi();rt(y,new Ga(y))}Sr.STAT_EVENT="statevent";function vu(f,y){oe.call(this,Sr.STAT_EVENT,f),this.stat=y}P(vu,oe);function mt(f){const y=Bi();rt(y,new vu(y,f))}Sr.Ma="timingevent";function Lt(f,y){oe.call(this,Sr.Ma,f),this.size=y}P(Lt,oe);function It(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},y)}function Kn(){this.g=!0}Kn.prototype.xa=function(){this.g=!1};function xl(f,y,b,x,K,J){f.info(function(){if(f.g)if(J)for(var he="",Ke=J.split("&"),Ut=0;Ut<Ke.length;Ut++){var Qe=Ke[Ut].split("=");if(1<Qe.length){var $t=Qe[0];Qe=Qe[1];var zt=$t.split("_");he=2<=zt.length&&zt[1]=="type"?he+($t+"="+Qe+"&"):he+($t+"=redacted&")}}else he=null;else he=J;return"XMLHTTP REQ ("+x+") [attempt "+K+"]: "+y+`
`+b+`
`+he})}function Td(f,y,b,x,K,J,he){f.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+K+"]: "+y+`
`+b+`
`+J+" "+he})}function Hi(f,y,b,x){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Qs(f,b)+(x?" "+x:"")})}function _u(f,y){f.info(function(){return"TIMEOUT: "+y})}Kn.prototype.info=function(){};function Qs(f,y){if(!f.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var x=b[f];if(!(2>x.length)){var K=x[1];if(Array.isArray(K)&&!(1>K.length)){var J=K[0];if(J!="noop"&&J!="stop"&&J!="close")for(var he=1;he<K.length;he++)K[he]=""}}}}return or(b)}catch{return y}}var Fi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ar;function xr(){}P(xr,El),xr.prototype.g=function(){return new XMLHttpRequest},xr.prototype.i=function(){return{}},Ar=new xr;function En(f,y,b,x){this.j=f,this.i=y,this.l=b,this.R=x||1,this.U=new Hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}var Rl={},Ka={};function lr(f,y,b){f.L=1,f.v=Zs(kn(y)),f.m=b,f.P=!0,ri(f,null)}function ri(f,y){f.F=Date.now(),Ys(f),f.A=kn(f.v);var b=f.A,x=f.R;Array.isArray(x)||(x=[String(x)]),Ml(b.i,"t",x),f.C=0,b=f.j.J,f.h=new At,f.g=ku(f.j,b?y:null,!f.m),0<f.O&&(f.M=new wd(T(f.Y,f,f.g),f.O)),y=f.U,b=f.g,x=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(Fs[0]=K.toString()),K=Fs);for(var J=0;J<K.length;J++){var he=wr(b,K[J],x||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),qi(),xl(f.i,f.u,f.A,f.l,f.R,f.m)}En.prototype.ca=function(f){f=f.target;const y=this.M;y&&Xn(f)==3?y.j():this.Y(f)},En.prototype.Y=function(f){try{if(f==this.g)e:{const zt=Xn(this.g);var y=this.g.Ba();const fi=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||Ru(this.g)))){this.J||zt!=4||y==7||(y==8||0>=fi?qi(3):qi(2)),Gi(this);var b=this.g.Z();this.X=b;t:if(bu(this)){var x=Ru(this.g);f="";var K=x.length,J=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),Rr(this);var he="";break t}this.h.i=new d.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,f+=this.h.i.decode(x[y],{stream:!(J&&y==K-1)});x.length=0,this.h.g+=f,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=b==200,Td(this.i,this.u,this.A,this.l,this.R,zt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Ut=this.g;if((Ke=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Ke)){var Qe=Ke;break t}}Qe=null}if(b=Qe)Hi(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$s(this,b);else{this.o=!1,this.s=3,mt(12),nn(this),Rr(this);break e}}if(this.P){b=!0;let rn;for(;!this.J&&this.C<he.length;)if(rn=Eu(this,he),rn==Ka){zt==4&&(this.s=4,mt(14),b=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Rl){this.s=4,mt(15),Hi(this.i,this.l,he,"[Invalid Chunk]"),b=!1;break}else Hi(this.i,this.l,rn,null),$s(this,rn);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||he.length!=0||this.h.h||(this.s=1,mt(16),b=!1),this.o=this.o&&b,!b)Hi(this.i,this.l,he,"[Invalid Chunked Response]"),nn(this),Rr(this);else if(0<he.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),aa($t),$t.M=!0,mt(11))}}else Hi(this.i,this.l,he,null),$s(this,he);zt==4&&nn(this),this.o&&!this.J&&(zt==4?Ou(this.j,this):(this.o=!1,Ys(this)))}else Cd(this.g),b==400&&0<he.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),nn(this),Rr(this)}}}catch{}finally{}};function bu(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Eu(f,y){var b=f.C,x=y.indexOf(`
`,b);return x==-1?Ka:(b=Number(y.substring(b,x)),isNaN(b)?Rl:(x+=1,x+b>y.length?Ka:(y=y.slice(x,x+b),f.C=x+b,y)))}En.prototype.cancel=function(){this.J=!0,nn(this)};function Ys(f){f.S=Date.now()+f.I,wu(f,f.I)}function wu(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=It(T(f.ba,f),y)}function Gi(f){f.B&&(d.clearTimeout(f.B),f.B=null)}En.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(_u(this.i,this.A),this.L!=2&&(qi(),mt(17)),nn(this),this.s=2,Rr(this)):wu(this,this.S-f)};function Rr(f){f.j.G==0||f.J||Ou(f.j,f)}function nn(f){Gi(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Gs(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function $s(f,y){try{var b=f.j;if(b.G!=0&&(b.g==f||Cl(b.h,f))){if(!f.K&&Cl(b.h,f)&&b.G==3){try{var x=b.Da.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var K=x;if(K[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)io(b),no(b);else break e;Ll(b),mt(18)}}else b.za=K[1],0<b.za-b.T&&37500>K[2]&&b.F&&b.v==0&&!b.C&&(b.C=It(T(b.Za,b),6e3));if(1>=Ya(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else ui(b,11)}else if((f.K||b.g==f)&&io(b),!V(y))for(K=b.Da.g.parse(y),y=0;y<K.length;y++){let Qe=K[y];if(b.T=Qe[0],Qe=Qe[1],b.G==2)if(Qe[0]=="c"){b.K=Qe[1],b.ia=Qe[2];const $t=Qe[3];$t!=null&&(b.la=$t,b.j.info("VER="+b.la));const zt=Qe[4];zt!=null&&(b.Aa=zt,b.j.info("SVER="+b.Aa));const fi=Qe[5];fi!=null&&typeof fi=="number"&&0<fi&&(x=1.5*fi,b.L=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const rn=f.g;if(rn){const Pr=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var J=x.h;J.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&($a(J,J.h),J.h=null))}if(x.D){const zl=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(x.ya=zl,at(x.I,x.D,zl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),x=b;var he=f;if(x.qa=Pu(x,x.J?x.ia:null,x.W),he.K){wn(x.h,he);var Ke=he,Ut=x.L;Ut&&(Ke.I=Ut),Ke.B&&(Gi(Ke),Ys(Ke)),x.g=he}else Nu(x);0<b.i.length&&ro(b)}else Qe[0]!="stop"&&Qe[0]!="close"||ui(b,7);else b.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?ui(b,7):Vl(b):Qe[0]!="noop"&&b.l&&b.l.ta(Qe),b.v=0)}}qi(4)}catch{}}var Tu=class{constructor(f,y){this.g=f,this.map=y}};function ii(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qa(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ya(f){return f.h?1:f.g?f.g.size:0}function Cl(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function $a(f,y){f.g?f.g.add(y):f.h=y}function wn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}ii.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Il(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const b of f.g.values())y=y.concat(b.D);return y}return R(f.i)}function Sd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var y=[],b=f.length,x=0;x<b;x++)y.push(f[x]);return y}y=[],b=0;for(x in f)y[b++]=f[x];return y}function Xa(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var y=[];f=f.length;for(var b=0;b<f;b++)y.push(b);return y}y=[],b=0;for(const x in f)y[b++]=x;return y}}}function Nl(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var b=Xa(f),x=Sd(f),K=x.length,J=0;J<K;J++)y.call(void 0,x[J],b&&b[J],f)}var Xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ad(f,y){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var x=f[b].indexOf("="),K=null;if(0<=x){var J=f[b].substring(0,x);K=f[b].substring(x+1)}else J=f[b];y(J,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Nt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Nt){this.h=f.h,Ws(this,f.j),this.o=f.o,this.g=f.g,Ki(this,f.s),this.l=f.l;var y=f.i,b=new ai;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),si(this,b),this.m=f.m}else f&&(y=String(f).match(Xs))?(this.h=!1,Ws(this,y[1]||"",!0),this.o=Qn(y[2]||""),this.g=Qn(y[3]||"",!0),Ki(this,y[4]),this.l=Qn(y[5]||"",!0),si(this,y[6]||"",!0),this.m=Qn(y[7]||"")):(this.h=!1,this.i=new ai(null,this.h))}Nt.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Js(y,Dl,!0),":");var b=this.g;return(b||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Js(y,Dl,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(Js(b,b.charAt(0)=="/"?xd:Ol,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",Js(b,Wa)),f.join("")};function kn(f){return new Nt(f)}function Ws(f,y,b){f.j=b?Qn(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Ki(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function si(f,y,b){y instanceof ai?(f.i=y,Au(f.i,f.h)):(b||(y=Js(y,Rd)),f.i=new ai(y,f.h))}function at(f,y,b){f.i.set(y,b)}function Zs(f){return at(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Qn(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Js(f,y,b){return typeof f=="string"?(f=encodeURI(f).replace(y,Su),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Su(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Dl=/[#\/\?@]/g,Ol=/[#\?:]/g,xd=/[#\?]/g,Rd=/[#\?@]/g,Wa=/#/g;function ai(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Yn(f){f.g||(f.g=new Map,f.h=0,f.i&&Ad(f.i,function(y,b){f.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}r=ai.prototype,r.add=function(f,y){Yn(this),this.i=null,f=Cr(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(y),this.h+=1,this};function oi(f,y){Yn(f),y=Cr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function li(f,y){return Yn(f),y=Cr(f,y),f.g.has(y)}r.forEach=function(f,y){Yn(this),this.g.forEach(function(b,x){b.forEach(function(K){f.call(y,K,x,this)},this)},this)},r.na=function(){Yn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let x=0;x<y.length;x++){const K=f[x];for(let J=0;J<K.length;J++)b.push(y[x])}return b},r.V=function(f){Yn(this);let y=[];if(typeof f=="string")li(this,f)&&(y=y.concat(this.g.get(Cr(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)y=y.concat(f[b])}return y},r.set=function(f,y){return Yn(this),this.i=null,f=Cr(this,f),li(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},r.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function Ml(f,y,b){oi(f,y),0<b.length&&(f.i=null,f.g.set(Cr(f,y),R(b)),f.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var x=y[b];const J=encodeURIComponent(String(x)),he=this.V(x);for(x=0;x<he.length;x++){var K=J;he[x]!==""&&(K+="="+encodeURIComponent(String(he[x]))),f.push(K)}}return this.i=f.join("&")};function Cr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Au(f,y){y&&!f.j&&(Yn(f),f.i=null,f.g.forEach(function(b,x){var K=x.toLowerCase();x!=K&&(oi(this,x),Ml(this,K,b))},f)),f.j=y}function ea(f,y){const b=new Kn;if(d.Image){const x=new Image;x.onload=C($n,b,"TestLoadImage: loaded",!0,y,x),x.onerror=C($n,b,"TestLoadImage: error",!1,y,x),x.onabort=C($n,b,"TestLoadImage: abort",!1,y,x),x.ontimeout=C($n,b,"TestLoadImage: timeout",!1,y,x),d.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=f}else y(!1)}function cr(f,y){const b=new Kn,x=new AbortController,K=setTimeout(()=>{x.abort(),$n(b,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:x.signal}).then(J=>{clearTimeout(K),J.ok?$n(b,"TestPingServer: ok",!0,y):$n(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),$n(b,"TestPingServer: error",!1,y)})}function $n(f,y,b,x,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),x(b)}catch{}}function ta(){this.g=new Ks}function Ir(f,y,b){const x=b||"";try{Nl(f,function(K,J){let he=K;g(K)&&(he=or(K)),y.push(x+J+"="+encodeURIComponent(he))})}catch(K){throw y.push(x+"type="+encodeURIComponent("_badmap")),K}}function Qi(f){this.l=f.Ub||null,this.j=f.eb||!1}P(Qi,El),Qi.prototype.g=function(){return new ci(this.l,this.j)},Qi.prototype.i=function(f){return function(){return f}}({});function ci(f,y){_t.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(ci,_t),r=ci.prototype,r.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,Dr(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nr(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Dr(this)),this.g&&(this.readyState=3,Dr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Nr(this):Dr(this),this.readyState==3&&Pl(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,Nr(this))},r.Qa=function(f){this.g&&(this.response=f,Nr(this))},r.ga=function(){this.g&&Nr(this)};function Nr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Dr(f)}r.setRequestHeader=function(f,y){this.u.append(f,y)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=y.next();return f.join(`\r
`)};function Dr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function kl(f){let y="";return ce(f,function(b,x){y+=x,y+=":",y+=b,y+=`\r
`}),y}function Yt(f,y,b){e:{for(x in b){var x=!1;break e}x=!0}x||(b=kl(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):at(f,y,b))}function Je(f){_t.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Je,_t);var Za=/^https?$/i,na=["POST","PUT"];r=Je.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,y,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ar.g(),this.v=this.o?wl(this.o):wl(Ar),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(J){xu(this,J);return}if(f=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var K in x)b.set(K,x[K]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const J of x.keys())b.set(J,x.get(J));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),K=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(na,y,void 0))||x||K||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of b)this.g.setRequestHeader(J,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ra(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){xu(this,J)}};function xu(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Ja(f),Or(f)}function Ja(f){f.A||(f.A=!0,rt(f,"complete"),rt(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,rt(this,"complete"),rt(this,"abort"),Or(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Or(this,!0)),Je.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?eo(this):this.bb())},r.bb=function(){eo(this)};function eo(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Xn(f)!=4||f.Z()!=2)){if(f.u&&Xn(f)==4)hn(f.Ea,0,f);else if(rt(f,"readystatechange"),Xn(f)==4){f.h=!1;try{const he=f.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var x;if(x=he===0){var K=String(f.D).match(Xs)[1]||null;!K&&d.self&&d.self.location&&(K=d.self.location.protocol.slice(0,-1)),x=!Za.test(K?K.toLowerCase():"")}b=x}if(b)rt(f,"complete"),rt(f,"success");else{f.m=6;try{var J=2<Xn(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",Ja(f)}}finally{Or(f)}}}}function Or(f,y){if(f.g){ra(f);const b=f.g,x=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||rt(f,"ready");try{b.onreadystatechange=x}catch{}}}function ra(f){f.I&&(d.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function Xn(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Fa(y)}};function Ru(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Cd(f){const y={};f=(f.g&&2<=Xn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<f.length;x++){if(V(f[x]))continue;var b=U(f[x]);const K=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=y[K]||[];y[K]=J,J.push(b)}D(y,function(x){return x.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ia(f,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||y}function to(f){this.Aa=0,this.i=[],this.j=new Kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ia("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ia("baseRetryDelayMs",5e3,f),this.cb=ia("retryDelaySeedMs",1e4,f),this.Wa=ia("forwardChannelMaxRetries",2,f),this.wa=ia("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ii(f&&f.concurrentRequestLimit),this.Da=new ta,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=to.prototype,r.la=8,r.G=1,r.connect=function(f,y,b,x){mt(0),this.W=f,this.H=y||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.I=Pu(this,null,this.W),ro(this)};function Vl(f){if(Cu(f),f.G==3){var y=f.U++,b=kn(f.I);if(at(b,"SID",f.K),at(b,"RID",y),at(b,"TYPE","terminate"),sa(f,b),y=new En(f,f.j,y),y.L=2,y.v=Zs(kn(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&d.Image&&(new Image().src=y.v,b=!0),b||(y.g=ku(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ys(y)}Mu(f)}function no(f){f.g&&(aa(f),f.g.cancel(),f.g=null)}function Cu(f){no(f),f.u&&(d.clearTimeout(f.u),f.u=null),io(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function ro(f){if(!Qa(f.h)&&!f.s){f.s=!0;var y=f.Ga;ne||L(),X||(ne(),X=!0),Ee.add(y,f),f.B=0}}function Id(f,y){return Ya(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=It(T(f.Ga,f,y),Ul(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new En(this,this.j,f);let J=this.o;if(this.S&&(J?(J=A(J),j(J,this.S)):J=this.S),this.m!==null||this.O||(K.H=J,J=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(y+=x,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=Iu(this,K,y),b=kn(this.I),at(b,"RID",f),at(b,"CVER",22),this.D&&at(b,"X-HTTP-Session-Id",this.D),sa(this,b),J&&(this.O?y="headers="+encodeURIComponent(String(kl(J)))+"&"+y:this.m&&Yt(b,this.m,J)),$a(this.h,K),this.Ua&&at(b,"TYPE","init"),this.P?(at(b,"$req",y),at(b,"SID","null"),K.T=!0,lr(K,b,null)):lr(K,b,y),this.G=2}}else this.G==3&&(f?jl(this,f):this.i.length==0||Qa(this.h)||jl(this))};function jl(f,y){var b;y?b=y.l:b=f.U++;const x=kn(f.I);at(x,"SID",f.K),at(x,"RID",b),at(x,"AID",f.T),sa(f,x),f.m&&f.o&&Yt(x,f.m,f.o),b=new En(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Iu(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),$a(f.h,b),lr(b,x,y)}function sa(f,y){f.H&&ce(f.H,function(b,x){at(y,x,b)}),f.l&&Nl({},function(b,x){at(y,x,b)})}function Iu(f,y,b){b=Math.min(f.i.length,b);var x=f.l?T(f.l.Na,f.l,f):null;e:{var K=f.i;let J=-1;for(;;){const he=["count="+b];J==-1?0<b?(J=K[0].g,he.push("ofs="+J)):J=0:he.push("ofs="+J);let Ke=!0;for(let Ut=0;Ut<b;Ut++){let Qe=K[Ut].g;const $t=K[Ut].map;if(Qe-=J,0>Qe)J=Math.max(0,K[Ut].g-100),Ke=!1;else try{Ir($t,he,"req"+Qe+"_")}catch{x&&x($t)}}if(Ke){x=he.join("&");break e}}}return f=f.i.splice(0,b),y.D=f,x}function Nu(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;ne||L(),X||(ne(),X=!0),Ee.add(y,f),f.v=0}}function Ll(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=It(T(f.Fa,f),Ul(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,Du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=It(T(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),no(this),Du(this))};function aa(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Du(f){f.g=new En(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=kn(f.qa);at(y,"RID","rpc"),at(y,"SID",f.K),at(y,"AID",f.T),at(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&at(y,"TO",f.ja),at(y,"TYPE","xmlhttp"),sa(f,y),f.m&&f.o&&Yt(y,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=Zs(kn(y)),b.m=null,b.P=!0,ri(b,f)}r.Za=function(){this.C!=null&&(this.C=null,no(this),Ll(this),mt(19))};function io(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Ou(f,y){var b=null;if(f.g==y){io(f),aa(f),f.g=null;var x=2}else if(Cl(f.h,y))b=y.D,wn(f.h,y),x=1;else return;if(f.G!=0){if(y.o)if(x==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var K=f.B;x=Bi(),rt(x,new Lt(x,b)),ro(f)}else Nu(f);else if(K=y.s,K==3||K==0&&0<y.X||!(x==1&&Id(f,y)||x==2&&Ll(f)))switch(b&&0<b.length&&(y=f.h,y.i=y.i.concat(b)),K){case 1:ui(f,5);break;case 4:ui(f,10);break;case 3:ui(f,6);break;default:ui(f,2)}}}function Ul(f,y){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*y}function ui(f,y){if(f.j.info("Error code "+y),y==2){var b=T(f.fb,f),x=f.Xa;const K=!x;x=new Nt(x||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ws(x,"https"),Zs(x),K?ea(x.toString(),b):cr(x.toString(),b)}else mt(2);f.G=0,f.l&&f.l.sa(y),Mu(f),Cu(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Mu(f){if(f.G=0,f.ka=[],f.l){const y=Il(f.h);(y.length!=0||f.i.length!=0)&&(N(f.ka,y),N(f.ka,f.i),f.h.i.length=0,R(f.i),f.i.length=0),f.l.ra()}}function Pu(f,y,b){var x=b instanceof Nt?kn(b):new Nt(b);if(x.g!="")y&&(x.g=y+"."+x.g),Ki(x,x.s);else{var K=d.location;x=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var J=new Nt(null);x&&Ws(J,x),y&&(J.g=y),K&&Ki(J,K),b&&(J.l=b),x=J}return b=f.D,y=f.ya,b&&y&&at(x,b,y),at(x,"VER",f.la),sa(f,x),x}function ku(f,y,b){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Je(new Qi({eb:b})):new Je(f.pa),y.Ha(f.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}r=Vu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function so(){}so.prototype.g=function(f,y){return new Tn(f,y)};function Tn(f,y){_t.call(this),this.g=new to(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!V(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!V(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Mr(this)}P(Tn,_t),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Vl(this.g)},Tn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=or(f),f=b);y.i.push(new Tu(y.Ya++,f)),y.G==3&&ro(y)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,Tn.aa.N.call(this)};function ju(f){ti.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const b in y){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}P(ju,ti);function Lu(){Sl.call(this),this.status=1}P(Lu,Sl);function Mr(f){this.g=f}P(Mr,Vu),Mr.prototype.ua=function(){rt(this.g,"a")},Mr.prototype.ta=function(f){rt(this.g,new ju(f))},Mr.prototype.sa=function(f){rt(this.g,new Lu)},Mr.prototype.ra=function(){rt(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,ZT=function(){return new so},WT=function(){return Bi()},XT=Sr,ug={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fi.NO_ERROR=0,Fi.TIMEOUT=8,Fi.HTTP_ERROR=6,sh=Fi,ni.COMPLETE="complete",$T=ni,Tl.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Nc=Tl,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,YT=Je}).apply(typeof Hf<"u"?Hf:typeof self<"u"?self:typeof window<"u"?window:{});const sE="@firebase/firestore",aE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new qg("@firebase/firestore");function Uo(){return Pa.logLevel}function ye(r,...e){if(Pa.logLevel<=He.DEBUG){const t=e.map(ny);Pa.debug(`Firestore (${fl}): ${r}`,...t)}}function ki(r,...e){if(Pa.logLevel<=He.ERROR){const t=e.map(ny);Pa.error(`Firestore (${fl}): ${r}`,...t)}}function Jo(r,...e){if(Pa.logLevel<=He.WARN){const t=e.map(ny);Pa.warn(`Firestore (${fl}): ${r}`,...t)}}function ny(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,JT(r,s,t)}function JT(r,e,t){let s=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ki(s),new Error(s)}function tt(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||JT(e,o,s)}function Me(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends zi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gn.UNAUTHENTICATED))}shutdown(){}}class BD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qD{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let c=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ii,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ii)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tt(typeof s.accessToken=="string",31837,{l:s}),new eS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class HD{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FD{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new HD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tt(this.o===void 0,3512);const s=c=>{c.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new oE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new oE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=KD(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function Fe(r,e){return r<e?-1:r>e?1:0}function fg(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return kp(o)===kp(c)?Fe(o,c):kp(o)?1:-1}return Fe(r.length,e.length)}const QD=55296,YD=57343;function kp(r){const e=r.charCodeAt(0);return e>=QD&&e<=YD}function el(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="__name__";class zr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ie(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return zr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=zr.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return Fe(e.length,t.length)}static compareSegments(e,t){const s=zr.isNumericId(e),o=zr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?zr.extractNumericId(e).compare(zr.extractNumericId(t)):fg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xs.fromString(e.substring(4,e.length-2))}}class ht extends zr{construct(e,t,s){return new ht(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const $D=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends zr{construct(e,t,s){return new cn(e,t,s)}static isValidIdentifier(e){return $D.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lE}static keyField(){return new cn([lE])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ge(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(s+=d,o++):(c(),o++)}if(c(),u)throw new ge(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(t)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ht.fromString(e))}static fromName(e){return new Ae(ht.fromString(e).popFirst(5))}static empty(){return new Ae(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(r,e,t){if(!t)throw new ge(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function XD(r,e,t,s){if(e===!0&&s===!0)throw new ge(se.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function cE(r){if(!Ae.isDocumentKey(r))throw new ge(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function uE(r){if(Ae.isDocumentKey(r))throw new ge(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function nS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Hh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ie(12329,{type:typeof r})}function Mn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hh(r);throw new ge(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(r,e){const t={typeString:r};return e&&(t.value=e),t}function ou(r,e){if(!nS(r))throw new ge(se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const u=r[s];if(o&&typeof u!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new ge(se.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=-62135596800,hE=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*hE);return new dt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<fE)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hE}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:jt("string",dt._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new dt(0,0))}static max(){return new Oe(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=-1;function WD(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(s===1e9?new dt(t+1,0):new dt(t,s));return new Cs(o,Ae.empty(),e)}function ZD(r){return new Cs(r.readTime,r.key,Fc)}class Cs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Cs(Oe.min(),Ae.empty(),Fc)}static max(){return new Cs(Oe.max(),Ae.empty(),Fc)}}function JD(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(r.documentKey,e.documentKey),t!==0?t:Fe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==eO)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,s)=>{t(e)})}static reject(e){return new le((t,s)=>{s(e)})}static waitFor(e){return new le((t,s)=>{let o=0,c=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++c,u&&c===o&&t()},p=>s(p))}),u=!0,c===o&&t()})}static or(e){let t=le.resolve(!1);for(const s of e)t=t.next(o=>o?le.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,c)=>{s.push(t.call(this,o,c))}),this.waitFor(s)}static mapArray(e,t){return new le((s,o)=>{const c=e.length,u=new Array(c);let d=0;for(let p=0;p<c;p++){const g=p;t(e[g]).next(v=>{u[g]=v,++d,d===c&&s(u)},v=>o(v))}})}static doWhile(e,t){return new le((s,o)=>{const c=()=>{e()===!0?t().next(()=>{c()},o):s()};c()})}}function nO(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=-1;function Gh(r){return r==null}function wh(r){return r===0&&1/r==-1/0}function rO(r){return typeof r=="number"&&Number.isInteger(r)&&!wh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="";function iO(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=dE(e)),e=sO(r.get(t),e);return dE(e)}function sO(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":t+="";break;case rS:t+="";break;default:t+=c}}return t}function dE(r){return r+rS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function js(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function iS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||ln.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ff(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ff(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ff(this.root,e,this.comparator,!0)}}class Ff{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??ln.RED,this.left=o??ln.EMPTY,this.right=c??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new ln(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new ln(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pE(this.data.getIterator())}getIteratorFrom(e){return new pE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class pE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new Ft(cn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new sS("Invalid base64 string: "+c):c}}(e);return new un(t)}static fromUint8Array(e){const t=function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c}(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const aO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(r){if(tt(!!r,39018),typeof r=="string"){let e=0;const t=aO.exec(r);if(tt(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(r.seconds),nanos:Ct(r.nanos)}}function Ct(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ns(r){return typeof r=="string"?un.fromBase64String(r):un.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="server_timestamp",oS="__type__",lS="__previous_value__",cS="__local_write_time__";function sy(r){var t,s;return((s=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[oS])==null?void 0:s.stringValue)===aS}function Kh(r){const e=r.mapValue.fields[lS];return sy(e)?Kh(e):e}function Gc(r){const e=Is(r.mapValue.fields[cS].timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,t,s,o,c,u,d,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Th="(default)";class Kc{constructor(e,t){this.projectId=e,this.database=t||Th}static empty(){return new Kc("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="__type__",lO="__max__",Gf={mapValue:{}},fS="__vector__",Sh="value";function Ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?sy(r)?4:uO(r)?9007199254740991:cO(r)?10:11:Ie(28295,{value:r})}function Wr(r,e){if(r===e)return!0;const t=Ds(r);if(t!==Ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Gc(r).isEqual(Gc(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Is(o.timestampValue),d=Is(c.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return Ns(o.bytesValue).isEqual(Ns(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return Ct(o.geoPointValue.latitude)===Ct(c.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Ct(o.integerValue)===Ct(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=Ct(o.doubleValue),d=Ct(c.doubleValue);return u===d?wh(u)===wh(d):isNaN(u)&&isNaN(d)}return!1}(r,e);case 9:return el(r.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return function(o,c){const u=o.mapValue.fields||{},d=c.mapValue.fields||{};if(mE(u)!==mE(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(d[p]===void 0||!Wr(u[p],d[p])))return!1;return!0}(r,e);default:return Ie(52216,{left:r})}}function Qc(r,e){return(r.values||[]).find(t=>Wr(t,e))!==void 0}function tl(r,e){if(r===e)return 0;const t=Ds(r),s=Ds(e);if(t!==s)return Fe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(r.booleanValue,e.booleanValue);case 2:return function(c,u){const d=Ct(c.integerValue||c.doubleValue),p=Ct(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return gE(r.timestampValue,e.timestampValue);case 4:return gE(Gc(r),Gc(e));case 5:return fg(r.stringValue,e.stringValue);case 6:return function(c,u){const d=Ns(c),p=Ns(u);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(c,u){const d=c.split("/"),p=u.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Fe(d[g],p[g]);if(v!==0)return v}return Fe(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,u){const d=Fe(Ct(c.latitude),Ct(u.latitude));return d!==0?d:Fe(Ct(c.longitude),Ct(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return yE(r.arrayValue,e.arrayValue);case 10:return function(c,u){var T,C,P,R;const d=c.fields||{},p=u.fields||{},g=(T=d[Sh])==null?void 0:T.arrayValue,v=(C=p[Sh])==null?void 0:C.arrayValue,E=Fe(((P=g==null?void 0:g.values)==null?void 0:P.length)||0,((R=v==null?void 0:v.values)==null?void 0:R.length)||0);return E!==0?E:yE(g,v)}(r.mapValue,e.mapValue);case 11:return function(c,u){if(c===Gf.mapValue&&u===Gf.mapValue)return 0;if(c===Gf.mapValue)return 1;if(u===Gf.mapValue)return-1;const d=c.fields||{},p=Object.keys(d),g=u.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const T=fg(p[E],v[E]);if(T!==0)return T;const C=tl(d[p[E]],g[v[E]]);if(C!==0)return C}return Fe(p.length,v.length)}(r.mapValue,e.mapValue);default:throw Ie(23264,{he:t})}}function gE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Fe(r,e);const t=Is(r),s=Is(e),o=Fe(t.seconds,s.seconds);return o!==0?o:Fe(t.nanos,s.nanos)}function yE(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=tl(t[o],s[o]);if(c)return c}return Fe(t.length,s.length)}function nl(r){return hg(r)}function hg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=Is(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ns(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ae.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=hg(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const u of s)c?c=!1:o+=",",o+=`${u}:${hg(t.fields[u])}`;return o+"}"}(r.mapValue):Ie(61005,{value:r})}function ah(r){switch(Ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(r);return e?16+ah(e):16;case 5:return 2*r.stringValue.length;case 6:return Ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+ah(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return js(s.fields,(c,u)=>{o+=c.length+ah(u)}),o}(r.mapValue);default:throw Ie(13486,{value:r})}}function vE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function dg(r){return!!r&&"integerValue"in r}function ay(r){return!!r&&"arrayValue"in r}function _E(r){return!!r&&"nullValue"in r}function bE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function oh(r){return!!r&&"mapValue"in r}function cO(r){var t,s;return((s=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[uS])==null?void 0:s.stringValue)===fS}function jc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return js(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=jc(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jc(r.arrayValue.values[t]);return e}return{...r}}function uO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===lO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!oh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jc(t)}setAll(e){let t=cn.emptyPath(),s={},o=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}u?s[d.lastSegment()]=jc(u):o.push(d.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());oh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){js(t,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new Dn(jc(this.value))}}function hS(r){const e=[];return js(r.fields,(t,s)=>{const o=new cn([t]);if(oh(s)){const c=hS(s.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,t,s,o,c,u,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=u,this.documentState=d}static newInvalidDocument(e){return new yn(e,0,Oe.min(),Oe.min(),Oe.min(),Dn.empty(),0)}static newFoundDocument(e,t,s,o){return new yn(e,1,t,Oe.min(),s,o,0)}static newNoDocument(e,t){return new yn(e,2,t,Oe.min(),Oe.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,Oe.min(),Oe.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t){this.position=e,this.inclusive=t}}function EE(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],u=r.position[o];if(c.field.isKeyField()?s=Ae.comparator(Ae.fromName(u.referenceValue),t.key):s=tl(u,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function wE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Wr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t="asc"){this.field=e,this.dir=t}}function fO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{}class Vt extends dS{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new dO(e,t,s):t==="array-contains"?new gO(e,s):t==="in"?new yO(e,s):t==="not-in"?new vO(e,s):t==="array-contains-any"?new _O(e,s):new Vt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new mO(e,s):new pO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(tl(t,this.value)):t!==null&&Ds(this.value)===Ds(t)&&this.matchesComparison(tl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends dS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new _r(e,t)}matches(e){return mS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mS(r){return r.op==="and"}function pS(r){return hO(r)&&mS(r)}function hO(r){for(const e of r.filters)if(e instanceof _r)return!1;return!0}function mg(r){if(r instanceof Vt)return r.field.canonicalString()+r.op.toString()+nl(r.value);if(pS(r))return r.filters.map(e=>mg(e)).join(",");{const e=r.filters.map(t=>mg(t)).join(",");return`${r.op}(${e})`}}function gS(r,e){return r instanceof Vt?function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&Wr(s.value,o.value)}(r,e):r instanceof _r?function(s,o){return o instanceof _r&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,u,d)=>c&&gS(u,o.filters[d]),!0):!1}(r,e):void Ie(19439)}function yS(r){return r instanceof Vt?function(t){return`${t.field.canonicalString()} ${t.op} ${nl(t.value)}`}(r):r instanceof _r?function(t){return t.op.toString()+" {"+t.getFilters().map(yS).join(" ,")+"}"}(r):"Filter"}class dO extends Vt{constructor(e,t,s){super(e,t,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class mO extends Vt{constructor(e,t){super(e,"in",t),this.keys=vS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pO extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=vS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vS(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(s=>Ae.fromName(s.referenceValue))}class gO extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ay(t)&&Qc(t.arrayValue,this.value)}}class yO extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Qc(this.value.arrayValue,t)}}class vO extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Qc(this.value.arrayValue,t)}}class _O extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ay(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Qc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,t=null,s=[],o=[],c=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=u,this.endAt=d,this.Te=null}}function TE(r,e=null,t=[],s=[],o=null,c=null,u=null){return new bO(r,e,t,s,o,c,u)}function oy(r){const e=Me(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>mg(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Gh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>nl(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>nl(s)).join(",")),e.Te=t}return e.Te}function ly(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!fO(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!gS(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!wE(r.startAt,e.startAt)&&wE(r.endAt,e.endAt)}function pg(r){return Ae.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,t=null,s=[],o=[],c=null,u="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=u,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function EO(r,e,t,s,o,c,u,d){return new ml(r,e,t,s,o,c,u,d)}function Qh(r){return new ml(r)}function SE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _S(r){return r.collectionGroup!==null}function Lc(r){const e=Me(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Ft(cn.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Yc(c,s))}),t.has(cn.keyField().canonicalString())||e.Ie.push(new Yc(cn.keyField(),s))}return e.Ie}function Gr(r){const e=Me(r);return e.Ee||(e.Ee=wO(e,Lc(r))),e.Ee}function wO(r,e){if(r.limitType==="F")return TE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Yc(o.field,c)});const t=r.endAt?new Ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ah(r.startAt.position,r.startAt.inclusive):null;return TE(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function gg(r,e){const t=r.filters.concat([e]);return new ml(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function yg(r,e,t){return new ml(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Yh(r,e){return ly(Gr(r),Gr(e))&&r.limitType===e.limitType}function bS(r){return`${oy(Gr(r))}|lt:${r.limitType}`}function zo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>yS(o)).join(", ")}]`),Gh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>nl(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>nl(o)).join(",")),`Target(${s})`}(Gr(r))}; limitType=${r.limitType})`}function $h(r,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ae.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,o){for(const c of Lc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(u,d,p){const g=EE(u,d,p);return u.inclusive?g<=0:g<0}(s.startAt,Lc(s),o)||s.endAt&&!function(u,d,p){const g=EE(u,d,p);return u.inclusive?g>=0:g>0}(s.endAt,Lc(s),o))}(r,e)}function TO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ES(r){return(e,t)=>{let s=!1;for(const o of Lc(r)){const c=SO(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function SO(r,e,t){const s=r.field.isKeyField()?Ae.comparator(e.key,t.key):function(c,u,d){const p=u.data.field(c),g=d.data.field(c);return p!==null&&g!==null?tl(p,g):Ie(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ie(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(t,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return iS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new vt(Ae.comparator);function Vi(){return AO}const wS=new vt(Ae.comparator);function Dc(...r){let e=wS;for(const t of r)e=e.insert(t.key,t);return e}function TS(r){let e=wS;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function xa(){return Uc()}function SS(){return Uc()}function Uc(){return new Ua(r=>r.toString(),(r,e)=>r.isEqual(e))}const xO=new vt(Ae.comparator),RO=new Ft(Ae.comparator);function Ge(...r){let e=RO;for(const t of r)e=e.add(t);return e}const CO=new Ft(Fe);function IO(){return CO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function AS(r){return{integerValue:""+r}}function NO(r,e){return rO(e)?AS(e):cy(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function DO(r,e,t){return r instanceof $c?function(o,c){const u={fields:{[oS]:{stringValue:aS},[cS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&sy(c)&&(c=Kh(c)),c&&(u.fields[lS]=c),{mapValue:u}}(t,e):r instanceof Xc?RS(r,e):r instanceof Wc?CS(r,e):function(o,c){const u=xS(o,c),d=AE(u)+AE(o.Ae);return dg(u)&&dg(o.Ae)?AS(d):cy(o.serializer,d)}(r,e)}function OO(r,e,t){return r instanceof Xc?RS(r,e):r instanceof Wc?CS(r,e):t}function xS(r,e){return r instanceof xh?function(s){return dg(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class $c extends Xh{}class Xc extends Xh{constructor(e){super(),this.elements=e}}function RS(r,e){const t=IS(e);for(const s of r.elements)t.some(o=>Wr(o,s))||t.push(s);return{arrayValue:{values:t}}}class Wc extends Xh{constructor(e){super(),this.elements=e}}function CS(r,e){let t=IS(e);for(const s of r.elements)t=t.filter(o=>!Wr(o,s));return{arrayValue:{values:t}}}class xh extends Xh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function AE(r){return Ct(r.integerValue||r.doubleValue)}function IS(r){return ay(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,t){this.field=e,this.transform=t}}function PO(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Xc&&o instanceof Xc||s instanceof Wc&&o instanceof Wc?el(s.elements,o.elements,Wr):s instanceof xh&&o instanceof xh?Wr(s.Ae,o.Ae):s instanceof $c&&o instanceof $c}(r.transform,e.transform)}class kO{constructor(e,t){this.version=e,this.transformResults=t}}class sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Wh{}function NS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new uy(r.key,sr.none()):new lu(r.key,r.data,sr.none());{const t=r.data,s=Dn.empty();let o=new Ft(cn.comparator);for(let c of e.fields)if(!o.has(c)){let u=t.field(c);u===null&&c.length>1&&(c=c.popLast(),u=t.field(c)),u===null?s.delete(c):s.set(c,u),o=o.add(c)}return new Ls(r.key,s,new Fn(o.toArray()),sr.none())}}function VO(r,e,t){r instanceof lu?function(o,c,u){const d=o.value.clone(),p=RE(o.fieldTransforms,c,u.transformResults);d.setAll(p),c.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(r,e,t):r instanceof Ls?function(o,c,u){if(!lh(o.precondition,c))return void c.convertToUnknownDocument(u.version);const d=RE(o.fieldTransforms,c,u.transformResults),p=c.data;p.setAll(DS(o)),p.setAll(d),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(r,e,t):function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function zc(r,e,t,s){return r instanceof lu?function(c,u,d,p){if(!lh(c.precondition,u))return d;const g=c.value.clone(),v=CE(c.fieldTransforms,p,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof Ls?function(c,u,d,p){if(!lh(c.precondition,u))return d;const g=CE(c.fieldTransforms,p,u),v=u.data;return v.setAll(DS(c)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(E=>E.field))}(r,e,t,s):function(c,u,d){return lh(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(r,e,t)}function jO(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=xS(s.transform,o||null);c!=null&&(t===null&&(t=Dn.empty()),t.set(s.field,c))}return t||null}function xE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&el(s,o,(c,u)=>PO(c,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class lu extends Wh{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ls extends Wh{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function DS(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function RE(r,e,t){const s=new Map;tt(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const c=r[o],u=c.transform,d=e.data.field(c.field);s.set(c.field,OO(u,d,t[o]))}return s}function CE(r,e,t){const s=new Map;for(const o of r){const c=o.transform,u=t.data.field(o.field);s.set(o.field,DO(c,u,e))}return s}class uy extends Wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LO extends Wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&VO(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=zc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=zc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=SS();return this.mutations.forEach(o=>{const c=e.get(o.key),u=c.overlayedDocument;let d=this.applyToLocalView(u,c.mutatedFields);d=t.has(o.key)?null:d;const p=NS(u,d);p!==null&&s.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Oe.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ge())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,(t,s)=>xE(t,s))&&el(this.baseMutations,e.baseMutations,(t,s)=>xE(t,s))}}class fy{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){tt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return xO}();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,s[u].version);return new fy(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,$e;function qO(r){switch(r){case se.OK:return Ie(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ie(15467,{code:r})}}function OS(r){if(r===void 0)return ki("GRPC error has no .code"),se.UNKNOWN;switch(r){case Mt.OK:return se.OK;case Mt.CANCELLED:return se.CANCELLED;case Mt.UNKNOWN:return se.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return se.INTERNAL;case Mt.UNAVAILABLE:return se.UNAVAILABLE;case Mt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Mt.NOT_FOUND:return se.NOT_FOUND;case Mt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Mt.ABORTED:return se.ABORTED;case Mt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Mt.DATA_LOSS:return se.DATA_LOSS;default:return Ie(39323,{code:r})}}($e=Mt||(Mt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=new xs([4294967295,4294967295],0);function IE(r){const e=HO().encode(r),t=new QT;return t.update(e),new Uint8Array(t.digest())}function NE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new xs([t,s],0),new xs([o,c],0)]}class hy{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Oc(`Invalid padding: ${t}`);if(s<0)throw new Oc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Oc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Oc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=xs.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(xs.fromNumber(s)));return o.compare(FO)===1&&(o=new xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=IE(e),[s,o]=NE(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);if(!this.we(u))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new hy(c,o,t);return s.forEach(d=>u.insert(d)),u}insert(e){if(this.ge===0)return;const t=IE(e),[s,o]=NE(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);this.Se(u)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Zh(Oe.min(),o,new vt(Fe),Vi(),Ge())}}class cu{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new cu(s,t,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class MS{constructor(e,t){this.targetId=e,this.Ce=t}}class PS{constructor(e,t,s=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class DE{constructor(){this.ve=0,this.Fe=OE(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),t=Ge(),s=Ge();return this.Fe.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ie(38017,{changeType:c})}}),new cu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=OE()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class GO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vi(),this.Je=Kf(),this.He=Kf(),this.Ye=new vt(Fe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(pg(c))if(s===0){const u=new Ae(c.path);this.et(t,u,yn.newNoDocument(u,Oe.min()))}else tt(s===1,20013,{expectedCount:s});else{const u=this._t(t);if(u!==s){const d=this.ut(e),p=d?this.ct(d,e,u):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let u,d;try{u=Ns(s).toUint8Array()}catch(p){if(p instanceof sS)return Jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new hy(u,o,c)}catch(p){return Jo(p instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach(c=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(d)||(this.et(t,c,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((c,u)=>{const d=this.ot(u);if(d){if(c.current&&pg(d.target)){const p=new Ae(d.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,yn.newNoDocument(p,e))}c.Be&&(t.set(u,c.ke()),c.qe())}});let s=Ge();this.He.forEach((c,u)=>{let d=!0;u.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(c))}),this.je.forEach((c,u)=>u.setReadTime(e));const o=new Zh(e,t,this.Ye,this.je,s);return this.je=Vi(),this.Je=Kf(),this.He=Kf(),this.Ye=new vt(Fe),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new DE,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ft(Fe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ft(Fe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new DE),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Kf(){return new vt(Ae.comparator)}function OE(){return new vt(Ae.comparator)}const KO={asc:"ASCENDING",desc:"DESCENDING"},QO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YO={and:"AND",or:"OR"};class $O{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vg(r,e){return r.useProto3Json||Gh(e)?e:{value:e}}function Rh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function XO(r,e){return Rh(r,e.toTimestamp())}function Kr(r){return tt(!!r,49232),Oe.fromTimestamp(function(t){const s=Is(t);return new dt(s.seconds,s.nanos)}(r))}function dy(r,e){return _g(r,e).canonicalString()}function _g(r,e){const t=function(o){return new ht(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function VS(r){const e=ht.fromString(r);return tt(BS(e),10190,{key:e.toString()}),e}function bg(r,e){return dy(r.databaseId,e.path)}function Vp(r,e){const t=VS(e);if(t.get(1)!==r.databaseId.projectId)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ae(LS(t))}function jS(r,e){return dy(r.databaseId,e)}function WO(r){const e=VS(r);return e.length===4?ht.emptyPath():LS(e)}function Eg(r){return new ht(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function LS(r){return tt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ME(r,e,t){return{name:bg(r,e),fields:t.value.mapValue.fields}}function ZO(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(g,v){return g.useProto3Json?(tt(v===void 0||typeof v=="string",58123),un.fromBase64String(v||"")):(tt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),un.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(g){const v=g.code===void 0?se.UNKNOWN:OS(g.code);return new ge(v,g.message||"")}(u);t=new PS(s,o,c,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Vp(r,s.document.name),c=Kr(s.document.updateTime),u=s.document.createTime?Kr(s.document.createTime):Oe.min(),d=new Dn({mapValue:{fields:s.document.fields}}),p=yn.newFoundDocument(o,c,u,d),g=s.targetIds||[],v=s.removedTargetIds||[];t=new ch(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Vp(r,s.document),c=s.readTime?Kr(s.readTime):Oe.min(),u=yn.newNoDocument(o,c),d=s.removedTargetIds||[];t=new ch([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Vp(r,s.document),c=s.removedTargetIds||[];t=new ch([],c,o,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,u=new BO(o,c),d=s.targetId;t=new MS(d,u)}}return t}function JO(r,e){let t;if(e instanceof lu)t={update:ME(r,e.key,e.value)};else if(e instanceof uy)t={delete:bg(r,e.key)};else if(e instanceof Ls)t={update:ME(r,e.key,e.data),updateMask:lM(e.fieldMask)};else{if(!(e instanceof LO))return Ie(16599,{Vt:e.type});t={verify:bg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(c,u){const d=u.transform;if(d instanceof $c)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Xc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Wc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof xh)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ie(20930,{transform:u.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:XO(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ie(27497)}(r,e.precondition)),t}function eM(r,e){return r&&r.length>0?(tt(e!==void 0,14353),r.map(t=>function(o,c){let u=o.updateTime?Kr(o.updateTime):Kr(c);return u.isEqual(Oe.min())&&(u=Kr(c)),new kO(u,o.transformResults||[])}(t,e))):[]}function tM(r,e){return{documents:[jS(r,e.path)]}}function nM(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=jS(r,o);const c=function(g){if(g.length!==0)return zS(_r.create(g,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const u=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:Bo(T.field),direction:sM(T.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=vg(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:o}}function rM(r){let e=WO(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){tt(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let c=[];t.where&&(c=function(E){const T=US(E);return T instanceof _r&&pS(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(E){return E.map(T=>function(P){return new Yc(qo(P.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(E){let T;return T=typeof E=="object"?E.value:E,Gh(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(E){const T=!!E.before,C=E.values||[];return new Ah(C,T)}(t.startAt));let g=null;return t.endAt&&(g=function(E){const T=!E.before,C=E.values||[];return new Ah(C,T)}(t.endAt)),EO(e,o,u,c,d,"F",p,g)}function iM(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function US(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=qo(t.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=qo(t.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qo(t.unaryFilter.field);return Vt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=qo(t.unaryFilter.field);return Vt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}}(r):r.fieldFilter!==void 0?function(t){return Vt.create(qo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return _r.create(t.compositeFilter.filters.map(s=>US(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}}(t.compositeFilter.op))}(r):Ie(30097,{filter:r})}function sM(r){return KO[r]}function aM(r){return QO[r]}function oM(r){return YO[r]}function Bo(r){return{fieldPath:r.canonicalString()}}function qo(r){return cn.fromServerFormat(r.fieldPath)}function zS(r){return r instanceof Vt?function(t){if(t.op==="=="){if(bE(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NAN"}};if(_E(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(bE(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NAN"}};if(_E(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(t.field),op:aM(t.op),value:t.value}}}(r):r instanceof _r?function(t){const s=t.getFilters().map(o=>zS(o));return s.length===1?s[0]:{compositeFilter:{op:oM(t.op),filters:s}}}(r):Ie(54877,{filter:r})}function lM(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function BS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t,s,o,c=Oe.min(),u=Oe.min(),d=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.yt=e}}function uM(r){const e=rM({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?yg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.Cn=new hM}addToCollectionParentIndex(e,t){return this.Cn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Cs.min())}updateCollectionGroup(e,t,s){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class hM{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ft(ht.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ft(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qS=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(qS,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new rl(0)}static cr(){return new rl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="LruGarbageCollector",dM=1048576;function VE([r,e],[t,s]){const o=Fe(r,t);return o===0?Fe(e,s):o}class mM{constructor(e){this.Ir=e,this.buffer=new Ft(VE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();VE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pM{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(kE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){dl(t)?ye(kE,"Ignoring IndexedDB error during garbage collection: ",t):await hl(t)}await this.Vr(3e5)})}}class gM{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return le.resolve(Fh.ce);const s=new mM(t);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(PE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PE):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,c,u,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(s=E,d=Date.now(),this.removeTargets(e,s,t))).next(E=>(c=E,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(E=>(g=Date.now(),Uo()<=He.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${c} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E})))}}function yM(r,e){return new gM(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.changes=new Ua(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?le.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&zc(s.mutation,o,Fn.empty(),dt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ge()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ge()){const o=xa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(c=>{let u=Dc();return c.forEach((d,p)=>{u=u.insert(d,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const s=xa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ge()))}populateOverlays(e,t,s){const o=[];return s.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,s,o){let c=Vi();const u=Uc(),d=function(){return Uc()}();return t.forEach((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ls)?c=c.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),zc(v.mutation,g,v.mutation.getFieldMask(),dt.now())):u.set(g.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((g,v)=>u.set(g,v)),t.forEach((g,v)=>d.set(g,new _M(v,u.get(g)??null))),d))}recalculateAndSaveOverlays(e,t){const s=Uc();let o=new vt((u,d)=>u-d),c=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||Fn.empty();v=d.applyToLocalView(g,v),s.set(p,v);const E=(o.get(d.batchId)||Ge()).add(p);o=o.insert(d.batchId,E)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=SS();v.forEach(T=>{if(!c.has(T)){const C=NS(t.get(T),s.get(T));C!==null&&E.set(T,C),c=c.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,E))}return le.waitFor(u)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(u){return Ae.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_S(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):le.resolve(xa());let d=Fc,p=c;return u.next(g=>le.forEach(g,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),c.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(e,g,c)).next(()=>this.computeViews(e,p,g,Ge())).next(v=>({batchId:d,changes:TS(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(s=>{let o=Dc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let u=Dc();return this.indexManager.getCollectionParents(e,c).next(d=>le.forEach(d,p=>{const g=function(E,T){return new ml(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((E,T)=>{u=u.insert(E,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o))).next(u=>{c.forEach((p,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,yn.newInvalidDocument(v)))});let d=Dc();return u.forEach((p,g)=>{const v=c.get(p);v!==void 0&&zc(v.mutation,g,Fn.empty(),dt.now()),$h(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return le.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Kr(o.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:uM(o.bundledQuery),readTime:Kr(o.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.overlays=new vt(Ae.comparator),this.qr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const s=xa();return le.forEach(t,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,c)=>{this.St(e,t,c)}),le.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(s)),le.resolve()}getOverlaysForCollection(e,t,s){const o=xa(),c=t.length+1,u=new Ae(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new vt((g,v)=>g-v);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=c.get(g.largestBatchId);v===null&&(v=xa(),c=c.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=xa(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return le.resolve(d)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new zO(t,s));let c=this.qr.get(t);c===void 0&&(c=Ge(),this.qr.set(t,c)),this.qr.set(t,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this.Qr=new Ft(Jt.$r),this.Ur=new Ft(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Jt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new Jt(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new Ae(new ht([])),s=new Jt(t,e),o=new Jt(t,e+1),c=[];return this.Ur.forEachInRange([s,o],u=>{this.Gr(u),c.push(u.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ae(new ht([])),s=new Jt(t,e),o=new Jt(t,e+1);let c=Ge();return this.Ur.forEachInRange([s,o],u=>{c=c.add(u.key)}),c}containsKey(e){const t=new Jt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Jt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ae.comparator(e.key,t.key)||Fe(e.Yr,t.Yr)}static Kr(e,t){return Fe(e.Yr,t.Yr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Jt.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new UO(c,t,s,o);this.mutationQueue.push(u);for(const d of o)this.Zr=this.Zr.add(new Jt(d.key,c)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,t){return le.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),c=o<0?0:o;return le.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?iy:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Jt(t,0),o=new Jt(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],u=>{const d=this.Xr(u.Yr);c.push(d)}),le.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ft(Fe);return t.forEach(o=>{const c=new Jt(o,0),u=new Jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],d=>{s=s.add(d.Yr)})}),le.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;Ae.isDocumentKey(c)||(c=c.child(""));const u=new Jt(new Ae(c),0);let d=new Ft(Fe);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)},u),le.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){tt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return le.forEach(t.mutations,o=>{const c=new Jt(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new Jt(t,0),o=this.Zr.firstAfterOrEqual(s);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.ri=e,this.docs=function(){return new vt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return le.resolve(s?s.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let s=Vi();return t.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():yn.newInvalidDocument(o))}),le.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=Vi();const u=t.path,d=new Ae(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||JD(ZD(v),s)<=0||(o.has(v.key)||$h(t,v))&&(c=c.insert(v.key,v.mutableCopy()))}return le.resolve(c)}getAllFromCollectionGroup(e,t,s,o){Ie(9500)}ii(e,t){return le.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new xM(this)}getSize(e){return le.resolve(this.size)}}class xM extends vM{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),le.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.persistence=e,this.si=new Ua(t=>oy(t),ly),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new my,this.targetCount=0,this.ai=rl.ur()}forEachTarget(e,t){return this.si.forEach((s,o)=>t(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),le.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new rl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Pr(t),le.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.si.forEach((u,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),le.waitFor(c).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return le.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),le.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(u=>{c.push(o.markPotentiallyOrphaned(e,u))}),le.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return le.resolve(s)}containsKey(e,t){return le.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,t){this.ui={},this.overlays={},this.ci=new Fh(0),this.li=!1,this.li=!0,this.hi=new TM,this.referenceDelegate=e(this),this.Pi=new RM(this),this.indexManager=new fM,this.remoteDocumentCache=function(o){return new AM(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new cM(t),this.Ii=new EM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new SM(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ye("MemoryPersistence","Starting transaction:",e);const o=new CM(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(e,t){return le.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class CM extends tO{constructor(e){super(),this.currentSequenceNumber=e}}class py{constructor(e){this.persistence=e,this.Ri=new my,this.Vi=null}static mi(e){return new py(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),le.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,s=>{const o=Ae.fromPath(s);return this.gi(e,o).next(c=>{c||t.removeEntry(o,Oe.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return le.or([()=>le.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ch{constructor(e,t){this.persistence=e,this.pi=new Ua(s=>iO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=yM(this,t)}static mi(e,t){return new Ch(e,t)}Ei(){}di(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return le.forEach(this.pi,(s,o)=>this.br(e,s,o).next(c=>c?le.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,u=>this.br(e,u,t).next(d=>{d||(s++,c.removeEntry(u,Oe.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ah(e.data.value)),t}br(e,t,s){return le.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return le.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Ge(),o=Ge();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new gy(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return wI()?8:nO(vn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.ys(e,t).next(u=>{c.result=u}).next(()=>{if(!c.result)return this.ws(e,t,o,s).next(u=>{c.result=u})}).next(()=>{if(c.result)return;const u=new IM;return this.Ss(e,t,u).next(d=>{if(c.result=d,this.Vs)return this.bs(e,t,u,d.size)})}).next(()=>c.result)}bs(e,t,s,o){return s.documentReadCount<this.fs?(Uo()<=He.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(Uo()<=He.DEBUG&&ye("QueryEngine","Query:",zo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Uo()<=He.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gr(t))):le.resolve())}ys(e,t){if(SE(t))return le.resolve(null);let s=Gr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=yg(t,null,"F"),s=Gr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const u=Ge(...c);return this.ps.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(t,d);return this.Cs(t,g,u,p.readTime)?this.ys(e,yg(t,null,"F")):this.vs(e,g,t,p)}))})))}ws(e,t,s,o){return SE(t)||o.isEqual(Oe.min())?le.resolve(null):this.ps.getDocuments(e,s).next(c=>{const u=this.Ds(t,c);return this.Cs(t,u,s,o)?le.resolve(null):(Uo()<=He.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),zo(t)),this.vs(e,u,t,WD(o,Fc)).next(d=>d))})}Ds(e,t){let s=new Ft(ES(e));return t.forEach((o,c)=>{$h(e,c)&&(s=s.add(c))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,t,s){return Uo()<=He.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",zo(t)),this.ps.getDocumentsMatchingQuery(e,t,Cs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(c=>(t.forEach(u=>{c=c.insert(u.key,u)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="LocalStore",DM=3e8;class OM{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new vt(Fe),this.xs=new Ua(c=>oy(c),ly),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function MM(r,e,t,s){return new OM(r,e,t,s)}async function FS(r,e){const t=Me(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const u=[],d=[];let p=Ge();for(const g of o){u.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of c){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:u,addedBatchIds:d}))})})}function PM(r,e){const t=Me(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const E=g.batch,T=E.keys();let C=le.resolve();return T.forEach(P=>{C=C.next(()=>v.getEntry(p,P)).next(R=>{const N=g.docVersions.get(P);tt(N!==null,48541),R.version.compareTo(N)<0&&(E.applyToRemoteDocument(R,g),R.isValidDocument()&&(R.setReadTime(g.commitVersion),v.addEntry(R)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Ge();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function GS(r){const e=Me(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function kM(r,e){const t=Me(r),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach((v,E)=>{const T=o.get(E);if(!T)return;d.push(t.Pi.removeMatchingKeys(c,v.removedDocuments,E).next(()=>t.Pi.addMatchingKeys(c,v.addedDocuments,E)));let C=T.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?C=C.withResumeToken(un.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,s)),o=o.insert(E,C),function(R,N,F){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=DM?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(T,C,v)&&d.push(t.Pi.updateTargetData(c,C))});let p=Vi(),g=Ge();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(c,v))}),d.push(VM(c,u,e.documentUpdates).next(v=>{p=v.ks,g=v.qs})),!s.isEqual(Oe.min())){const v=t.Pi.getLastRemoteSnapshotVersion(c).next(E=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s));d.push(v)}return le.waitFor(d).next(()=>u.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,p,g)).next(()=>p)}).then(c=>(t.Ms=o,c))}function VM(r,e,t){let s=Ge(),o=Ge();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let u=Vi();return t.forEach((d,p)=>{const g=c.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(d,p.readTime),u=u.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(d,p)):ye(yy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{ks:u,qs:o}})}function jM(r,e){const t=Me(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=iy),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function LM(r,e){const t=Me(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Pi.getTargetData(s,e).next(c=>c?(o=c,le.resolve(o)):t.Pi.allocateTargetId(s).next(u=>(o=new ws(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function wg(r,e,t){const s=Me(r),o=s.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,u=>s.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!dl(u))throw u;ye(yy,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function jE(r,e,t){const s=Me(r);let o=Oe.min(),c=Ge();return s.persistence.runTransaction("Execute query","readwrite",u=>function(p,g,v){const E=Me(p),T=E.xs.get(v);return T!==void 0?le.resolve(E.Ms.get(T)):E.Pi.getTargetData(g,v)}(s,u,Gr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,d.targetId).next(p=>{c=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(u,e,t?o:Oe.min(),t?c:Ge())).next(d=>(UM(s,TO(e),d),{documents:d,Qs:c})))}function UM(r,e,t){let s=r.Os.get(e)||Oe.min();t.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Os.set(e,s)}class LE{constructor(){this.activeTargetIds=IO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zM{constructor(){this.Mo=new LE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new LE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="ConnectivityMonitor";class zE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(UE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(UE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf=null;function Tg(){return Qf===null?Qf=function(){return 268435456+Math.round(2147483648*Math.random())}():Qf++,"0x"+Qf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="RestConnection",qM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Th?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,c){const u=Tg(),d=this.zo(e,t.toUriEncodedString());ye(jp,`Sending RPC '${e}' ${u}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:g}=new URL(d),v=ll(g);return this.Jo(e,d,p,s,v).then(E=>(ye(jp,`Received RPC '${e}' ${u}: `,E),E),E=>{throw Jo(jp,`RPC '${e}' ${u} failed with error: `,E,"url: ",d,"request:",s),E})}Ho(e,t,s,o,c,u){return this.Go(e,t,s,o,c)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}zo(e,t){const s=qM[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class GM extends HM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,c){const u=Tg();return new Promise((d,p)=>{const g=new YT;g.setWithCredentials(!0),g.listenOnce($T.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case sh.NO_ERROR:const E=g.getResponseJson();ye(pn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),d(E);break;case sh.TIMEOUT:ye(pn,`RPC '${e}' ${u} timed out`),p(new ge(se.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const T=g.getStatus();if(ye(pn,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const P=C==null?void 0:C.error;if(P&&P.status&&P.message){const R=function(F){const V=F.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(V)>=0?V:se.UNKNOWN}(P.status);p(new ge(R,P.message))}else p(new ge(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ge(se.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(pn,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(o);ye(pn,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",v,s,15)})}T_(e,t,s){const o=Tg(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ZT(),d=WT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=c.join("");ye(pn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const E=u.createWebChannel(v,p);this.I_(E);let T=!1,C=!1;const P=new FM({Yo:N=>{C?ye(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(T||(ye(pn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),ye(pn,`RPC '${e}' stream ${o} sending:`,N),E.send(N))},Zo:()=>E.close()}),R=(N,F,V)=>{N.listen(F,z=>{try{V(z)}catch(Z){setTimeout(()=>{throw Z},0)}})};return R(E,Nc.EventType.OPEN,()=>{C||(ye(pn,`RPC '${e}' stream ${o} transport opened.`),P.o_())}),R(E,Nc.EventType.CLOSE,()=>{C||(C=!0,ye(pn,`RPC '${e}' stream ${o} transport closed`),P.a_(),this.E_(E))}),R(E,Nc.EventType.ERROR,N=>{C||(C=!0,Jo(pn,`RPC '${e}' stream ${o} transport errored. Name:`,N.name,"Message:",N.message),P.a_(new ge(se.UNAVAILABLE,"The operation could not be completed")))}),R(E,Nc.EventType.MESSAGE,N=>{var F;if(!C){const V=N.data[0];tt(!!V,16349);const z=V,Z=(z==null?void 0:z.error)||((F=z[0])==null?void 0:F.error);if(Z){ye(pn,`RPC '${e}' stream ${o} received error:`,Z);const ee=Z.status;let ce=function(O){const j=Mt[O];if(j!==void 0)return OS(j)}(ee),D=Z.message;ce===void 0&&(ce=se.INTERNAL,D="Unknown error status: "+ee+" with message "+Z.message),C=!0,P.a_(new ge(ce,D)),E.close()}else ye(pn,`RPC '${e}' stream ${o} received:`,V),P.u_(V)}}),R(d,XT.STAT_EVENT,N=>{N.stat===ug.PROXY?ye(pn,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===ug.NOPROXY&&ye(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(r){return new $O(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="PersistentStream";class QS{constructor(e,t,s,o,c,u,d,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(ki(t.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===t&&this.G_(s,o)},s=>{e(()=>{const o=new ge(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(BE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ye(BE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KM extends QS{constructor(e,t,s,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,u),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=ZO(this.serializer,e),s=function(c){if(!("targetChange"in c))return Oe.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?Kr(u.readTime):Oe.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Eg(this.serializer),t.addTarget=function(c,u){let d;const p=u.target;if(d=pg(p)?{documents:tM(c,p)}:{query:nM(c,p).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=kS(c,u.resumeToken);const g=vg(c,u.expectedCount);g!==null&&(d.expectedCount=g)}else if(u.snapshotVersion.compareTo(Oe.min())>0){d.readTime=Rh(c,u.snapshotVersion.toTimestamp());const g=vg(c,u.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=iM(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Eg(this.serializer),t.removeTarget=e,this.q_(t)}}class QM extends QS{constructor(e,t,s,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=eM(e.writeResults,e.commitTime),s=Kr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Eg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>JO(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{}class $M extends YM{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.Go(e,_g(t,s),o,c,u)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(se.UNKNOWN,c.toString())})}Ho(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Ho(e,_g(t,s),o,u,d,c)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(se.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class XM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ki(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="RemoteStore";class WM{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(u=>{s.enqueueAndForget(async()=>{za(this)&&(ye(ka,"Restarting streams for network reachability change."),await async function(p){const g=Me(p);g.Ea.add(4),await uu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await ed(g)}(this))})}),this.Ra=new XM(s,o)}}async function ed(r){if(za(r))for(const e of r.da)await e(!0)}async function uu(r){for(const e of r.da)await e(!1)}function YS(r,e){const t=Me(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ey(t)?by(t):pl(t).O_()&&_y(t,e))}function vy(r,e){const t=Me(r),s=pl(t);t.Ia.delete(e),s.O_()&&$S(t,e),t.Ia.size===0&&(s.O_()?s.L_():za(t)&&t.Ra.set("Unknown"))}function _y(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pl(r).Y_(e)}function $S(r,e){r.Va.Ue(e),pl(r).Z_(e)}function by(r){r.Va=new GO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),pl(r).start(),r.Ra.ua()}function Ey(r){return za(r)&&!pl(r).x_()&&r.Ia.size>0}function za(r){return Me(r).Ea.size===0}function XS(r){r.Va=void 0}async function ZM(r){r.Ra.set("Online")}async function JM(r){r.Ia.forEach((e,t)=>{_y(r,e)})}async function eP(r,e){XS(r),Ey(r)?(r.Ra.ha(e),by(r)):r.Ra.set("Unknown")}async function tP(r,e,t){if(r.Ra.set("Online"),e instanceof PS&&e.state===2&&e.cause)try{await async function(o,c){const u=c.cause;for(const d of c.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ia.delete(d),o.Va.removeTarget(d))}(r,e)}catch(s){ye(ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ih(r,s)}else if(e instanceof ch?r.Va.Ze(e):e instanceof MS?r.Va.st(e):r.Va.tt(e),!t.isEqual(Oe.min()))try{const s=await GS(r.localStore);t.compareTo(s)>=0&&await function(c,u){const d=c.Va.Tt(u);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=c.Ia.get(g);v&&c.Ia.set(g,v.withResumeToken(p.resumeToken,u))}}),d.targetMismatches.forEach((p,g)=>{const v=c.Ia.get(p);if(!v)return;c.Ia.set(p,v.withResumeToken(un.EMPTY_BYTE_STRING,v.snapshotVersion)),$S(c,p);const E=new ws(v.target,p,g,v.sequenceNumber);_y(c,E)}),c.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){ye(ka,"Failed to raise snapshot:",s),await Ih(r,s)}}async function Ih(r,e,t){if(!dl(e))throw e;r.Ea.add(1),await uu(r),r.Ra.set("Offline"),t||(t=()=>GS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ye(ka,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await ed(r)})}function WS(r,e){return e().catch(t=>Ih(r,t,e))}async function td(r){const e=Me(r),t=Os(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:iy;for(;nP(e);)try{const o=await jM(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,rP(e,o)}catch(o){await Ih(e,o)}ZS(e)&&JS(e)}function nP(r){return za(r)&&r.Ta.length<10}function rP(r,e){r.Ta.push(e);const t=Os(r);t.O_()&&t.X_&&t.ea(e.mutations)}function ZS(r){return za(r)&&!Os(r).x_()&&r.Ta.length>0}function JS(r){Os(r).start()}async function iP(r){Os(r).ra()}async function sP(r){const e=Os(r);for(const t of r.Ta)e.ea(t.mutations)}async function aP(r,e,t){const s=r.Ta.shift(),o=fy.from(s,e,t);await WS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await td(r)}async function oP(r,e){e&&Os(r).X_&&await async function(s,o){if(function(u){return qO(u)&&u!==se.ABORTED}(o.code)){const c=s.Ta.shift();Os(s).B_(),await WS(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await td(s)}}(r,e),ZS(r)&&JS(r)}async function qE(r,e){const t=Me(r);t.asyncQueue.verifyOperationInProgress(),ye(ka,"RemoteStore received new credentials");const s=za(t);t.Ea.add(3),await uu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ed(t)}async function lP(r,e){const t=Me(r);e?(t.Ea.delete(2),await ed(t)):e||(t.Ea.add(2),await uu(t),t.Ra.set("Unknown"))}function pl(r){return r.ma||(r.ma=function(t,s,o){const c=Me(t);return c.sa(),new KM(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Xo:ZM.bind(null,r),t_:JM.bind(null,r),r_:eP.bind(null,r),H_:tP.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),Ey(r)?by(r):r.Ra.set("Unknown")):(await r.ma.stop(),XS(r))})),r.ma}function Os(r){return r.fa||(r.fa=function(t,s,o){const c=Me(t);return c.sa(),new QM(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:iP.bind(null,r),r_:oP.bind(null,r),ta:sP.bind(null,r),na:aP.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await td(r)):(await r.fa.stop(),r.Ta.length>0&&(ye(ka,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const u=Date.now()+s,d=new wy(e,t,u,o,c);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ty(r,e){if(ki("AsyncQueue",`${e}: ${r}`),dl(r))return new ge(se.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ae.comparator(t.key,s.key):(t,s)=>Ae.comparator(t.key,s.key),this.keyedMap=Dc(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.ga=new vt(Ae.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class il{constructor(e,t,s,o,c,u,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,c){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new il(e,t,Yo.emptySet(t),u,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class uP{constructor(){this.queries=FE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Me(t),c=o.queries;o.queries=FE(),c.forEach((u,d)=>{for(const p of d.Sa)p.onError(s)})})(this,new ge(se.ABORTED,"Firestore shutting down"))}}function FE(){return new Ua(r=>bS(r),Yh)}async function Sy(r,e){const t=Me(r);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new cP,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=Ty(u,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&xy(t)}async function Ay(r,e){const t=Me(r),s=e.query;let o=3;const c=t.queries.get(s);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function fP(r,e){const t=Me(r);let s=!1;for(const o of e){const c=o.query,u=t.queries.get(c);if(u){for(const d of u.Sa)d.Fa(o)&&(s=!0);u.wa=o}}s&&xy(t)}function hP(r,e,t){const s=Me(r),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(t);s.queries.delete(e)}function xy(r){r.Ca.forEach(e=>{e.next()})}var Sg,GE;(GE=Sg||(Sg={})).Ma="default",GE.Cache="cache";class Ry{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new il(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.key=e}}class tA{constructor(e){this.key=e}}class dP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=ES(e),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new HE,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,E)=>{const T=o.get(v),C=$h(this.query,E)?E:null,P=!!T&&this.mutatedKeys.has(T.key),R=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let N=!1;T&&C?T.data.isEqual(C.data)?P!==R&&(s.track({type:3,doc:C}),N=!0):this.su(T,C)||(s.track({type:2,doc:C}),N=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(d=!0)):!T&&C?(s.track({type:0,doc:C}),N=!0):T&&!C&&(s.track({type:1,doc:T}),N=!0,(p||g)&&(d=!0)),N&&(C?(u=u.add(C),c=R?c.add(v):c.delete(v)):(u=u.delete(v),c=c.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),c=c.delete(v.key),s.track({type:1,doc:v})}return{tu:u,iu:s,Cs:d,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((v,E)=>function(C,P){const R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:N})}};return R(C)-R(P)}(v.type,E.type)||this.eu(v.doc,E.doc)),this.ou(s),o=o??!1;const d=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new il(this.query,e.tu,c,u,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new HE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new tA(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new eA(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ge();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cy="SyncEngine";class mP{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class pP{constructor(e){this.key=e,this.hu=!1}}class gP{constructor(e,t,s,o,c,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ua(d=>bS(d),Yh),this.Iu=new Map,this.Eu=new Set,this.du=new vt(Ae.comparator),this.Au=new Map,this.Ru=new my,this.Vu={},this.mu=new Map,this.fu=rl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yP(r,e,t=!0){const s=oA(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await nA(s,e,t,!0),o}async function vP(r,e){const t=oA(r);await nA(t,e,!0,!1)}async function nA(r,e,t,s){const o=await LM(r.localStore,Gr(e)),c=o.targetId,u=r.sharedClientState.addLocalQueryTarget(c,t);let d;return s&&(d=await _P(r,e,c,u==="current",o.resumeToken)),r.isPrimaryClient&&t&&YS(r.remoteStore,o),d}async function _P(r,e,t,s,o){r.pu=(E,T,C)=>async function(R,N,F,V){let z=N.view.ru(F);z.Cs&&(z=await jE(R.localStore,N.query,!1).then(({documents:D})=>N.view.ru(D,z)));const Z=V&&V.targetChanges.get(N.targetId),ee=V&&V.targetMismatches.get(N.targetId)!=null,ce=N.view.applyChanges(z,R.isPrimaryClient,Z,ee);return QE(R,N.targetId,ce.au),ce.snapshot}(r,E,T,C);const c=await jE(r.localStore,e,!0),u=new dP(e,c.Qs),d=u.ru(c.documents),p=cu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=u.applyChanges(d,r.isPrimaryClient,p);QE(r,t,g.au);const v=new mP(e,t,u);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function bP(r,e,t){const s=Me(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter(u=>!Yh(u,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await wg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&vy(s.remoteStore,o.targetId),Ag(s,o.targetId)}).catch(hl)):(Ag(s,o.targetId),await wg(s.localStore,o.targetId,!0))}async function EP(r,e){const t=Me(r),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),vy(t.remoteStore,s.targetId))}async function wP(r,e,t){const s=IP(r);try{const o=await function(u,d){const p=Me(u),g=dt.now(),v=d.reduce((C,P)=>C.add(P.key),Ge());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let P=Vi(),R=Ge();return p.Ns.getEntries(C,v).next(N=>{P=N,P.forEach((F,V)=>{V.isValidDocument()||(R=R.add(F))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,P)).next(N=>{E=N;const F=[];for(const V of d){const z=jO(V,E.get(V.key).overlayedDocument);z!=null&&F.push(new Ls(V.key,z,hS(z.value.mapValue),sr.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,F,d)}).next(N=>{T=N;const F=N.applyToLocalDocumentSet(E,R);return p.documentOverlayCache.saveOverlays(C,N.batchId,F)})}).then(()=>({batchId:T.batchId,changes:TS(E)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(u,d,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new vt(Fe)),g=g.insert(d,p),u.Vu[u.currentUser.toKey()]=g}(s,o.batchId,t),await fu(s,o.changes),await td(s.remoteStore)}catch(o){const c=Ty(o,"Failed to persist write");t.reject(c)}}async function rA(r,e){const t=Me(r);try{const s=await kM(t.localStore,e);e.targetChanges.forEach((o,c)=>{const u=t.Au.get(c);u&&(tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?tt(u.hu,14607):o.removedDocuments.size>0&&(tt(u.hu,42227),u.hu=!1))}),await fu(t,s,e)}catch(s){await hl(s)}}function KE(r,e,t){const s=Me(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach((c,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const p=Me(u);p.onlineState=d;let g=!1;p.queries.forEach((v,E)=>{for(const T of E.Sa)T.va(d)&&(g=!0)}),g&&xy(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function TP(r,e,t){const s=Me(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let u=new vt(Ae.comparator);u=u.insert(c,yn.newNoDocument(c,Oe.min()));const d=Ge().add(c),p=new Zh(Oe.min(),new Map,new vt(Fe),u,d);await rA(s,p),s.du=s.du.remove(c),s.Au.delete(e),Iy(s)}else await wg(s.localStore,e,!1).then(()=>Ag(s,e,t)).catch(hl)}async function SP(r,e){const t=Me(r),s=e.batch.batchId;try{const o=await PM(t.localStore,e);sA(t,s,null),iA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await fu(t,o)}catch(o){await hl(o)}}async function AP(r,e,t){const s=Me(r);try{const o=await function(u,d){const p=Me(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(E=>(tt(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,e);sA(s,e,t),iA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await fu(s,o)}catch(o){await hl(o)}}function iA(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function sA(r,e,t){const s=Me(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Ag(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||aA(r,s)})}function aA(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(vy(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Iy(r))}function QE(r,e,t){for(const s of t)s instanceof eA?(r.Ru.addReference(s.key,e),xP(r,s)):s instanceof tA?(ye(Cy,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||aA(r,s.key)):Ie(19791,{wu:s})}function xP(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Eu.has(s)||(ye(Cy,"New document in limbo: "+t),r.Eu.add(s),Iy(r))}function Iy(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Ae(ht.fromString(e)),s=r.fu.next();r.Au.set(s,new pP(t)),r.du=r.du.insert(t,s),YS(r.remoteStore,new ws(Gr(Qh(t.path)),s,"TargetPurposeLimboResolution",Fh.ce))}}async function fu(r,e,t){const s=Me(r),o=[],c=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach((d,p)=>{u.push(s.pu(p,e,t).then(g=>{var v;if((g||t)&&s.isPrimaryClient){const E=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=gy.As(p.targetId,g);c.push(E)}}))}),await Promise.all(u),s.Pu.H_(o),await async function(p,g){const v=Me(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>le.forEach(g,T=>le.forEach(T.Es,C=>v.persistence.referenceDelegate.addReference(E,T.targetId,C)).next(()=>le.forEach(T.ds,C=>v.persistence.referenceDelegate.removeReference(E,T.targetId,C)))))}catch(E){if(!dl(E))throw E;ye(yy,"Failed to update sequence numbers: "+E)}for(const E of g){const T=E.targetId;if(!E.fromCache){const C=v.Ms.get(T),P=C.snapshotVersion,R=C.withLastLimboFreeSnapshotVersion(P);v.Ms=v.Ms.insert(T,R)}}}(s.localStore,c))}async function RP(r,e){const t=Me(r);if(!t.currentUser.isEqual(e)){ye(Cy,"User change. New user:",e.toKey());const s=await FS(t.localStore,e);t.currentUser=e,function(c,u){c.mu.forEach(d=>{d.forEach(p=>{p.reject(new ge(se.CANCELLED,u))})}),c.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fu(t,s.Ls)}}function CP(r,e){const t=Me(r),s=t.Au.get(e);if(s&&s.hu)return Ge().add(s.key);{let o=Ge();const c=t.Iu.get(e);if(!c)return o;for(const u of c){const d=t.Tu.get(u);o=o.unionWith(d.view.nu)}return o}}function oA(r){const e=Me(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=rA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TP.bind(null,e),e.Pu.H_=fP.bind(null,e.eventManager),e.Pu.yu=hP.bind(null,e.eventManager),e}function IP(r){const e=Me(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AP.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return MM(this.persistence,new NM,e.initialUser,this.serializer)}Cu(e){return new HS(py.mi,this.serializer)}Du(e){return new zM}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class NP extends Nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){tt(this.persistence.referenceDelegate instanceof Ch,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new pM(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new HS(s=>Ch.mi(s,t),this.serializer)}}class xg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>KE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=RP.bind(null,this.syncEngine),await lP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uP}()}createDatastore(e){const t=Jh(e.databaseInfo.databaseId),s=function(c){return new GM(c)}(e.databaseInfo);return function(c,u,d,p){return new $M(c,u,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,c,u,d){return new WM(s,o,c,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>KE(this.syncEngine,t,0),function(){return zE.v()?new zE:new BM}())}createSyncEngine(e,t){return function(o,c,u,d,p,g,v){const E=new gP(o,c,u,d,p,g);return v&&(E.gu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const c=Me(o);ye(ka,"RemoteStore shutting down."),c.Ea.add(5),await uu(c),c.Aa.shutdown(),c.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}xg.provider={build:()=>new xg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="FirestoreClient";class DP{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=ry.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async u=>{ye(Ms,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(s,u=>(ye(Ms,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Ty(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Up(r,e){r.asyncQueue.verifyOperationInProgress(),ye(Ms,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await FS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function YE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await OP(r);ye(Ms,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>qE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>qE(e.remoteStore,o)),r._onlineComponents=e}async function OP(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye(Ms,"Using user provided OfflineComponentProvider");try{await Up(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Jo("Error using user provided cache. Falling back to memory cache: "+t),await Up(r,new Nh)}}else ye(Ms,"Using default OfflineComponentProvider"),await Up(r,new NP(void 0));return r._offlineComponents}async function lA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye(Ms,"Using user provided OnlineComponentProvider"),await YE(r,r._uninitializedComponentsProvider._online)):(ye(Ms,"Using default OnlineComponentProvider"),await YE(r,new xg))),r._onlineComponents}function MP(r){return lA(r).then(e=>e.syncEngine)}async function Dh(r){const e=await lA(r),t=e.eventManager;return t.onListen=yP.bind(null,e.syncEngine),t.onUnlisten=bP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=vP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=EP.bind(null,e.syncEngine),t}function PP(r,e,t={}){const s=new Ii;return r.asyncQueue.enqueueAndForget(async()=>function(c,u,d,p,g){const v=new Ny({next:T=>{v.Nu(),u.enqueueAndForget(()=>Ay(c,E));const C=T.docs.has(d);!C&&T.fromCache?g.reject(new ge(se.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&p&&p.source==="server"?g.reject(new ge(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new Ry(Qh(d.path),v,{includeMetadataChanges:!0,qa:!0});return Sy(c,E)}(await Dh(r),r.asyncQueue,e,t,s)),s.promise}function kP(r,e,t={}){const s=new Ii;return r.asyncQueue.enqueueAndForget(async()=>function(c,u,d,p,g){const v=new Ny({next:T=>{v.Nu(),u.enqueueAndForget(()=>Ay(c,E)),T.fromCache&&p.source==="server"?g.reject(new ge(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new Ry(d,v,{includeMetadataChanges:!0,qa:!0});return Sy(c,E)}(await Dh(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="firestore.googleapis.com",XE=!0;class WE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uA,this.ssl=XE}else this.host=e.host,this.ssl=e.ssl??XE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dM)throw new ge(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cA(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nd{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new zD;switch(s.type){case"firstParty":return new FD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=$E.get(t);s&&(ye("ComponentProvider","Removing Datastore"),$E.delete(t),s.terminate())}(this),Promise.resolve()}}function VP(r,e,t,s={}){var g;r=Mn(r,nd);const o=ll(e),c=r._getSettings(),u={...c,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;o&&(cT(`https://${d}`),uT("Firestore",!0)),c.host!==uA&&c.host!==d&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:d,ssl:o,emulatorOptions:s};if(!Da(p,u)&&(r._setSettings(p),s.mockUserToken)){let v,E;if(typeof s.mockUserToken=="string")v=s.mockUserToken,E=gn.MOCK_USER;else{v=dI(s.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ge(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new gn(T)}r._authCredentials=new BD(new eS(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class Tt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(ou(t,Tt._jsonSchema))return new Tt(e,s||null,new Ae(ht.fromString(t.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:jt("string",Tt._jsonSchemaVersion),referencePath:jt("string")};class Rs extends Us{constructor(e,t,s){super(e,t,Qh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new Ae(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function Sa(r,e,...t){if(r=_n(r),tS("collection","path",e),r instanceof nd){const s=ht.fromString(e,...t);return uE(s),new Rs(r,null,s)}{if(!(r instanceof Tt||r instanceof Rs))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ht.fromString(e,...t));return uE(s),new Rs(r.firestore,null,s)}}function Ni(r,e,...t){if(r=_n(r),arguments.length===1&&(e=ry.newId()),tS("doc","path",e),r instanceof nd){const s=ht.fromString(e,...t);return cE(s),new Tt(r,null,new Ae(s))}{if(!(r instanceof Tt||r instanceof Rs))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ht.fromString(e,...t));return cE(s),new Tt(r.firestore,r instanceof Rs?r.converter:null,new Ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="AsyncQueue";class JE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KS(this,"async_queue_retry"),this._c=()=>{const s=Lp();s&&ye(ZE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Lp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Lp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Ii;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dl(e))throw e;ye(ZE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,ki("INTERNAL UNHANDLED ERROR: ",ew(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=wy.createAndSchedule(this,e,t,s,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&Ie(47125,{Pc:ew(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ew(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1}(r,["next","error","complete"])}class ji extends nd{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new JE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JE(e),this._firestoreClient=void 0,await e}}}function jP(r,e){const t=typeof r=="object"?r:mT(),s=typeof r=="string"?r:Th,o=Fg(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=fI("firestore");c&&VP(o,...c)}return o}function rd(r){if(r._terminated)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||LP(r),r._firestoreClient}function LP(r){var s,o,c;const e=r._freezeSettings(),t=function(d,p,g,v){return new oO(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,cA(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new DP(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ir(un.fromBase64String(e))}catch(t){throw new ge(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ir(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ir._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,ir._jsonSchema))return ir.fromBase64String(e.bytes)}}ir._jsonSchemaVersion="firestore/bytes/1.0",ir._jsonSchema={type:jt("string",ir._jsonSchemaVersion),bytes:jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qr._jsonSchemaVersion}}static fromJSON(e){if(ou(e,Qr._jsonSchema))return new Qr(e.latitude,e.longitude)}}Qr._jsonSchemaVersion="firestore/geoPoint/1.0",Qr._jsonSchema={type:jt("string",Qr._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,Yr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Yr(e.vectorValues);throw new ge(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yr._jsonSchemaVersion="firestore/vectorValue/1.0",Yr._jsonSchema={type:jt("string",Yr._jsonSchemaVersion),vectorValues:jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=/^__.*__$/;class zP{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms):new lu(e,this.data,t,this.fieldTransforms)}}class fA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:r})}}class Dy{constructor(e,t,s,o,c,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Dy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hA(this.Ac)&&UP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BP{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Jh(e)}Cc(e,t,s,o=!1){return new Dy({Ac:e,methodName:t,Dc:s,path:cn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ad(r){const e=r._freezeSettings(),t=Jh(r._databaseId);return new BP(r._databaseId,!!e.ignoreUndefinedProperties,t)}function dA(r,e,t,s,o,c={}){const u=r.Cc(c.merge||c.mergeFields?2:0,e,t,o);My("Data must be an object, but it was:",u,s);const d=mA(s,u);let p,g;if(c.merge)p=new Fn(u.fieldMask),g=u.fieldTransforms;else if(c.mergeFields){const v=[];for(const E of c.mergeFields){const T=Rg(e,E,t);if(!u.contains(T))throw new ge(se.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);gA(v,T)||v.push(T)}p=new Fn(v),g=u.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,g=u.fieldTransforms;return new zP(new Dn(d),p,g)}class od extends sd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof od}}class Oy extends sd{_toFieldTransform(e){return new MO(e.path,new $c)}isEqual(e){return e instanceof Oy}}function qP(r,e,t,s){const o=r.Cc(1,e,t);My("Data must be an object, but it was:",o,s);const c=[],u=Dn.empty();js(s,(p,g)=>{const v=Py(e,p,t);g=_n(g);const E=o.yc(v);if(g instanceof od)c.push(v);else{const T=hu(g,E);T!=null&&(c.push(v),u.set(v,T))}});const d=new Fn(c);return new fA(u,d,o.fieldTransforms)}function HP(r,e,t,s,o,c){const u=r.Cc(1,e,t),d=[Rg(e,s,t)],p=[o];if(c.length%2!=0)throw new ge(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<c.length;T+=2)d.push(Rg(e,c[T])),p.push(c[T+1]);const g=[],v=Dn.empty();for(let T=d.length-1;T>=0;--T)if(!gA(g,d[T])){const C=d[T];let P=p[T];P=_n(P);const R=u.yc(C);if(P instanceof od)g.push(C);else{const N=hu(P,R);N!=null&&(g.push(C),v.set(C,N))}}const E=new Fn(g);return new fA(v,E,u.fieldTransforms)}function FP(r,e,t,s=!1){return hu(t,r.Cc(s?4:3,e))}function hu(r,e){if(pA(r=_n(r)))return My("Unsupported field value:",e,r),mA(r,e);if(r instanceof sd)return function(s,o){if(!hA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const c=[];let u=0;for(const d of s){let p=hu(d,o.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),u++}return{arrayValue:{values:c}}}(r,e)}return function(s,o){if((s=_n(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return NO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=dt.fromDate(s);return{timestampValue:Rh(o.serializer,c)}}if(s instanceof dt){const c=new dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rh(o.serializer,c)}}if(s instanceof Qr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ir)return{bytesValue:kS(o.serializer,s._byteString)};if(s instanceof Tt){const c=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:dy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Yr)return function(u,d){return{mapValue:{fields:{[uS]:{stringValue:fS},[Sh]:{arrayValue:{values:u.toArray().map(g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return cy(d.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Hh(s)}`)}(r,e)}function mA(r,e){const t={};return iS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(r,(s,o)=>{const c=hu(o,e.mc(s));c!=null&&(t[s]=c)}),{mapValue:{fields:t}}}function pA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof dt||r instanceof Qr||r instanceof ir||r instanceof Tt||r instanceof sd||r instanceof Yr)}function My(r,e,t){if(!pA(t)||!nS(t)){const s=Hh(t);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Rg(r,e,t){if((e=_n(e))instanceof id)return e._internalPath;if(typeof e=="string")return Py(r,e);throw Oh("Field path arguments must be of type string or ",r,!1,void 0,t)}const GP=new RegExp("[~\\*/\\[\\]]");function Py(r,e,t){if(e.search(GP)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new id(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Oh(r,e,t,s,o){const c=s&&!s.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(c||u)&&(p+=" (found",c&&(p+=` in field ${s}`),u&&(p+=` in document ${o}`),p+=")"),new ge(se.INVALID_ARGUMENT,d+r+p)}function gA(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ld("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class KP extends yA{data(){return super.data()}}function ld(r,e){return typeof e=="string"?Py(r,e):e instanceof id?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ky{}class _A extends ky{}function Ho(r,e,...t){let s=[];e instanceof ky&&s.push(e),s=s.concat(t),function(c){const u=c.filter(p=>p instanceof Vy).length,d=c.filter(p=>p instanceof cd).length;if(u>1||u>0&&d>0)throw new ge(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class cd extends _A{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new cd(e,t,s)}_apply(e){const t=this._parse(e);return bA(e._query,t),new Us(e.firestore,e.converter,gg(e._query,t))}_parse(e){const t=ad(e.firestore);return function(c,u,d,p,g,v,E){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ge(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){rw(E,v);const P=[];for(const R of E)P.push(nw(p,c,R));T={arrayValue:{values:P}}}else T=nw(p,c,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||rw(E,v),T=FP(d,u,E,v==="in"||v==="not-in");return Vt.create(g,v,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Fo(r,e,t){const s=e,o=ld("where",r);return cd._create(o,s,t)}class Vy extends ky{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vy(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:_r.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,c){let u=o;const d=c.getFlattenedFilters();for(const p of d)bA(u,p),u=gg(u,p)}(e._query,t),new Us(e.firestore,e.converter,gg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jy extends _A{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jy(e,t)}_apply(e){const t=function(o,c,u){if(o.startAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yc(c,u)}(e._query,this._field,this._direction);return new Us(e.firestore,e.converter,function(o,c){const u=o.explicitOrderBy.concat([c]);return new ml(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Ic(r,e="asc"){const t=e,s=ld("orderBy",r);return jy._create(s,t)}function nw(r,e,t){if(typeof(t=_n(t))=="string"){if(t==="")throw new ge(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_S(e)&&t.indexOf("/")!==-1)throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ht.fromString(t));if(!Ae.isDocumentKey(s))throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vE(r,new Ae(s))}if(t instanceof Tt)return vE(r,t._key);throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hh(t)}.`)}function rw(r,e){if(!Array.isArray(r)||r.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bA(r,e){const t=function(o,c){for(const u of o)for(const d of u.getFlattenedFilters())if(c.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class QP{convertValue(e,t="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return js(e,(o,c)=>{s[o]=this.convertValue(c,t)}),s}convertVectorValue(e){var s,o,c;const t=(c=(o=(s=e.fields)==null?void 0:s[Sh].arrayValue)==null?void 0:o.values)==null?void 0:c.map(u=>Ct(u.doubleValue));return new Yr(t)}convertGeoPoint(e){return new Qr(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Kh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Gc(e));default:return null}}convertTimestamp(e){const t=Is(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ht.fromString(e);tt(BS(s),9688,{name:e});const o=new Kc(s.get(1),s.get(3)),c=new Ae(s.popFirst(5));return o.isEqual(t)||ki(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class Mc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ca extends yA{constructor(e,t,s,o,c,u){super(e,t,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(ld("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ca._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ca._jsonSchema={type:jt("string",Ca._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class uh extends Ca{data(e={}){return super.data(e)}}class Ia{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Mc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new uh(this._firestore,this._userDataWriter,s.key,s,new Mc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>{const p=new uh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Mc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>c||d.type!==3).map(d=>{const p=new uh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Mc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:YP(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ia._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ry.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function YP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(r){r=Mn(r,Tt);const e=Mn(r.firestore,ji);return PP(rd(e),r._key).then(t=>SA(e,r,t))}Ia._jsonSchemaVersion="firestore/querySnapshot/1.0",Ia._jsonSchema={type:jt("string",Ia._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class Ly extends QP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ir(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}function Cg(r){r=Mn(r,Us);const e=Mn(r.firestore,ji),t=rd(e),s=new Ly(e);return vA(r._query),kP(t,r._query).then(o=>new Ia(e,s,r,o))}function TA(r,e,t){r=Mn(r,Tt);const s=Mn(r.firestore,ji),o=EA(r.converter,e);return ud(s,[dA(ad(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,sr.none())])}function Uy(r,e,t,...s){r=Mn(r,Tt);const o=Mn(r.firestore,ji),c=ad(o);let u;return u=typeof(e=_n(e))=="string"||e instanceof id?HP(c,"updateDoc",r._key,e,t,s):qP(c,"updateDoc",r._key,e),ud(o,[u.toMutation(r._key,sr.exists(!0))])}function $P(r){return ud(Mn(r.firestore,ji),[new uy(r._key,sr.none())])}function XP(r,e){const t=Mn(r.firestore,ji),s=Ni(r),o=EA(r.converter,e);return ud(t,[dA(ad(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,sr.exists(!1))]).then(()=>s)}function zp(r,...e){var p,g,v;r=_n(r);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||tw(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(tw(e[s])){const E=e[s];e[s]=(p=E.next)==null?void 0:p.bind(E),e[s+1]=(g=E.error)==null?void 0:g.bind(E),e[s+2]=(v=E.complete)==null?void 0:v.bind(E)}let c,u,d;if(r instanceof Tt)u=Mn(r.firestore,ji),d=Qh(r._key.path),c={next:E=>{e[s]&&e[s](SA(u,r,E))},error:e[s+1],complete:e[s+2]};else{const E=Mn(r,Us);u=Mn(E.firestore,ji),d=E._query;const T=new Ly(u);c={next:C=>{e[s]&&e[s](new Ia(u,T,E,C))},error:e[s+1],complete:e[s+2]},vA(r._query)}return function(T,C,P,R){const N=new Ny(R),F=new Ry(C,N,P);return T.asyncQueue.enqueueAndForget(async()=>Sy(await Dh(T),F)),()=>{N.Nu(),T.asyncQueue.enqueueAndForget(async()=>Ay(await Dh(T),F))}}(rd(u),d,o,c)}function ud(r,e){return function(s,o){const c=new Ii;return s.asyncQueue.enqueueAndForget(async()=>wP(await MP(s),o,c)),c.promise}(rd(r),e)}function SA(r,e,t){const s=t.docs.get(e._key),o=new Ly(r);return new Ca(r,o,e._key,s,new Mc(t.hasPendingWrites,t.fromCache),e.converter)}function Na(){return new Oy("serverTimestamp")}(function(e,t=!0){(function(o){fl=o})(cl),Wo(new Oa("firestore",(s,{instanceIdentifier:o,options:c})=>{const u=s.getProvider("app").getImmediate(),d=new ji(new qD(s.getProvider("auth-internal")),new GD(u,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(g.options.projectId,v)}(u,o),u);return c={useFetchStreams:t,...c},d._setSettings(c),d},"PUBLIC").setMultipleInstances(!0)),As(sE,aE,e),As(sE,aE,"esm2020")})();const WP={apiKey:"AIzaSyAmqQtTgvPSSzTGvO3kxhGcF7rqlZl4_L0",authDomain:"uber-rio-pardo.firebaseapp.com",projectId:"uber-rio-pardo",storageBucket:"uber-rio-pardo.firebasestorage.app",messagingSenderId:"128009984359",appId:"1:128009984359:web:ed2c6eee709ec47431f7c2",measurementId:"G-GGGEL6398M"},AA=dT(WP),zy=VD(AA),An=jP(AA),xn={RIDE_REQUESTS:"rideRequests",USERS:"users",DRIVERS:"drivers"},mr={async create(r){try{if(!r.driverId)throw new Error("ID do motorista é obrigatório");const e=await XP(Sa(An,xn.RIDE_REQUESTS),{...r,createdAt:Na(),updatedAt:Na()});return console.log("Solicitação criada com ID:",e.id),e.id}catch(e){throw console.error("Erro ao criar solicitação:",e),e}},async update(r,e){try{const t=Ni(An,xn.RIDE_REQUESTS,r);await Uy(t,{...e,updatedAt:Na()})}catch(t){throw console.error("Erro ao atualizar solicitação:",t),t}},async delete(r){try{await $P(Ni(An,xn.RIDE_REQUESTS,r))}catch(e){throw console.error("Erro ao deletar solicitação:",e),e}},async getByDriver(r){try{const e=Ho(Sa(An,xn.RIDE_REQUESTS),Fo("driverId","==",r),Ic("createdAt","desc"));return(await Cg(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Erro ao buscar solicitações do motorista:",e),e}},async getByUser(r){try{const e=Ho(Sa(An,xn.RIDE_REQUESTS),Fo("userId","==",r),Ic("createdAt","desc"));return(await Cg(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Erro ao buscar solicitações do usuário:",e),e}},onDriverRequestsChange(r,e){const t=Ho(Sa(An,xn.RIDE_REQUESTS),Fo("driverId","==",r),Ic("createdAt","desc"));return zp(t,s=>{const o=s.docs.map(c=>({id:c.id,...c.data()}));e(o)})},onUserRequestsChange(r,e){const t=Ho(Sa(An,xn.RIDE_REQUESTS),Fo("userId","==",r),Ic("createdAt","desc"));return zp(t,s=>{const o=s.docs.map(c=>({id:c.id,...c.data()}));e(o)})},onPendingRequestsChange(r){const e=Ho(Sa(An,xn.RIDE_REQUESTS),Fo("status","in",["waitingPrice","priceProposed","accepted","inProgress"]),Ic("createdAt","desc"));return zp(e,t=>{const s=t.docs.map(o=>{var c,u;return{id:o.id,...o.data(),createdAt:((u=(c=o.data().createdAt)==null?void 0:c.toDate)==null?void 0:u.call(c))||new Date}});console.log("Solicitações capturadas pelo listener:",s.length),r(s)})}},Bp={async create(r){try{const e=Ni(An,xn.USERS,r.id);return await TA(e,{...r,createdAt:Na()}),console.log("Usuário criado com ID:",r.id),r.id}catch(e){throw console.error("Erro ao criar usuário:",e),e}},async update(r,e){try{const t=Ni(An,xn.USERS,r);await Uy(t,{...e,updatedAt:Na()})}catch(t){throw console.error("Erro ao atualizar usuário:",t),t}},async getById(r){try{const e=Ni(An,xn.USERS,r),t=await wA(e);return t.exists()?{id:t.id,...t.data()}:null}catch(e){throw console.error("Erro ao buscar usuário por ID:",e),e}}},Di={async create(r){try{const e=Ni(An,xn.DRIVERS,r.id);return await TA(e,{...r,createdAt:Na()}),console.log("Motorista criado com ID:",r.id),r.id}catch(e){throw console.error("Erro ao criar motorista:",e),e}},async update(r,e){try{const t=Ni(An,xn.DRIVERS,r);await Uy(t,{...e,updatedAt:Na()})}catch(t){throw console.error("Erro ao atualizar motorista:",t),t}},async getById(r){try{const e=Ni(An,xn.DRIVERS,r),t=await wA(e);return t.exists()?{id:t.id,...t.data()}:null}catch(e){throw console.error("Erro ao buscar motorista por ID:",e),e}},async getAvailable(){try{const r=Ho(Sa(An,xn.DRIVERS),Fo("available","==",!0));return(await Cg(r)).docs.map(t=>({id:t.id,...t.data()}))}catch(r){throw console.error("Erro ao buscar motoristas disponíveis:",r),r}}};function ZP({onBack:r,onLogin:e,onRegister:t}){const[s,o]=I.useState(!1),[c,u]=I.useState(""),d=async()=>{o(!0),u("");try{const p=new gr,v=(await ty(zy,p)).user,E={id:v.uid,name:v.displayName,email:v.email,phone:"",photoURL:v.photoURL,provider:"google",type:"user",createdAt:new Date().toISOString()};await Bp.getById(v.uid)?await Bp.update(v.uid,E):await Bp.create(E),localStorage.setItem("currentUserId",v.uid),e(E)}catch(p){console.error("Erro no login do Google:",p);let g="Erro ao fazer login com Google. Tente novamente.";switch(p.code){case"auth/popup-closed-by-user":g="Login cancelado. Por favor, tente novamente.";break;case"auth/cancelled-popup-request":g="Login cancelado. Por favor, tente novamente.";break;case"auth/operation-not-allowed":g="O método de login não está ativado no Firebase.";break;case"auth/network-request-failed":g="Erro de conexão. Verifique sua internet e tente novamente.";break;default:g=p.message}u(g)}finally{o(!1)}};return _.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:_.jsxs("div",{className:"w-full max-w-md",children:[_.jsxs(kt,{variant:"ghost",onClick:r,className:"mb-4",children:[_.jsx(Lh,{className:"w-4 h-4 mr-2"}),"Voltar"]}),_.jsxs(wt,{children:[_.jsxs(en,{className:"text-center",children:[_.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:_.jsx(tu,{className:"w-8 h-8 text-blue-600"})}),_.jsx(tn,{className:"text-2xl",children:"Login do Passageiro"}),_.jsx(Oi,{children:"Entre com sua conta Google para solicitar corridas"})]}),_.jsxs(Pt,{className:"space-y-4",children:[c&&_.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:_.jsx("p",{className:"text-sm text-red-700",children:c})}),_.jsx(kt,{onClick:d,disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",size:"lg",children:s?_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),_.jsx("span",{children:"Entrando..."})]}):_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[_.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),_.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),_.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),_.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),_.jsx("span",{children:"Entrar com Google"})]})}),_.jsx("div",{className:"text-center",children:_.jsx("p",{className:"text-sm text-gray-600",children:"Ao continuar, você concorda com nossos termos de uso"})})]})]})]})})}function xi({className:r,type:e,...t}){return _.jsx("input",{type:e,"data-slot":"input",className:Gt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...t})}var du=kw();const JP=Mw(du);var ek=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nt=ek.reduce((r,e)=>{const t=Bc(`Primitive.${e}`),s=I.forwardRef((o,c)=>{const{asChild:u,...d}=o,p=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(p,{...d,ref:c})});return s.displayName=`Primitive.${e}`,{...r,[e]:s}},{});function tk(r,e){r&&du.flushSync(()=>r.dispatchEvent(e))}var nk="Label",xA=I.forwardRef((r,e)=>_.jsx(nt.label,{...r,ref:e,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=r.onMouseDown)==null||o.call(r,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));xA.displayName=nk;var rk=xA;function On({className:r,...e}){return _.jsx(rk,{"data-slot":"label",className:Gt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...e})}function ik({onBack:r,onRegister:e}){const[t,s]=I.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[o,c]=I.useState(!1),u=p=>{s({...t,[p.target.name]:p.target.value})},d=async p=>{p.preventDefault(),c(!0);try{const v=(await createUserWithEmailAndPassword(auth,t.email,t.password)).user;await updateProfile(v,{displayName:t.name});const E={id:v.uid,name:t.name,email:t.email,phone:t.phone,type:"user",createdAt:new Date().toISOString()};await userService.create(E),localStorage.setItem("currentUserId",v.uid),alert("Cadastro realizado com sucesso!"),e(E)}catch(g){console.error("Erro no cadastro:",g);let v="Erro ao criar conta. Tente novamente.";switch(g.code){case"auth/email-already-in-use":v="Este e-mail já está em uso.";break;case"auth/invalid-email":v="E-mail inválido.";break;case"auth/weak-password":v="A senha é muito fraca.";break}setError(v)}finally{c(!1)}};return _.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:_.jsxs("div",{className:"w-full max-w-md",children:[_.jsxs(kt,{variant:"ghost",onClick:r,className:"mb-4",children:[_.jsx(Lh,{className:"w-4 h-4 mr-2"}),"Voltar"]}),_.jsxs(wt,{children:[_.jsxs(en,{className:"text-center",children:[_.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:_.jsx(tu,{className:"w-8 h-8 text-blue-600"})}),_.jsx(tn,{className:"text-2xl",children:"Cadastro do Passageiro"}),_.jsx(Oi,{children:"Crie sua conta para solicitar corridas"})]}),_.jsx(Pt,{children:_.jsxs("form",{onSubmit:d,className:"space-y-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx(On,{htmlFor:"name",children:"Nome completo"}),_.jsx(xi,{id:"name",name:"name",type:"text",placeholder:"Seu nome completo",value:t.name,onChange:u,required:!0})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(On,{htmlFor:"email",children:"Email"}),_.jsx(xi,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",value:t.email,onChange:u,required:!0})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(On,{htmlFor:"phone",children:"Telefone"}),_.jsx(xi,{id:"phone",name:"phone",type:"tel",placeholder:"(51) 99999-9999",value:t.phone,onChange:u,required:!0})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(On,{htmlFor:"password",children:"Senha"}),_.jsx(xi,{id:"password",name:"password",type:"password",placeholder:"Sua senha",value:t.password,onChange:u,required:!0})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(On,{htmlFor:"confirmPassword",children:"Confirmar senha"}),_.jsx(xi,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirme sua senha",value:t.confirmPassword,onChange:u,required:!0})]}),_.jsx(kt,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:o,children:o?"Cadastrando...":"Cadastrar"})]})})]})]})})}function sk({user:r,onProfileComplete:e}){const[t,s]=I.useState(r.phone||""),[o,c]=I.useState(!1),[u,d]=I.useState(""),p=async g=>{if(g.preventDefault(),c(!0),d(""),!t.trim()){d("Por favor, informe seu telefone."),c(!1);return}try{const v={...r,phone:t.trim()},T=JSON.parse(localStorage.getItem("users")||"[]").map(C=>C.id===r.id?v:C);localStorage.setItem("users",JSON.stringify(T)),localStorage.setItem("currentUser",JSON.stringify(v)),e(v)}catch(v){console.error("Erro ao atualizar perfil:",v),d("Erro ao salvar perfil. Tente novamente.")}finally{c(!1)}};return _.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:_.jsx("div",{className:"w-full max-w-md",children:_.jsxs(wt,{children:[_.jsxs(en,{className:"text-center",children:[_.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:r.photoURL?_.jsx("img",{src:r.photoURL,alt:r.name,className:"w-16 h-16 rounded-full object-cover"}):_.jsx(tu,{className:"w-8 h-8 text-blue-600"})}),_.jsx(tn,{className:"text-2xl",children:"Complete seu Perfil"}),_.jsxs(Oi,{children:["Olá, ",r.name,"! Complete suas informações para continuar"]})]}),_.jsxs(Pt,{children:[u&&_.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:_.jsx("p",{className:"text-sm text-red-700",children:u})}),_.jsxs("form",{onSubmit:p,className:"space-y-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx(On,{htmlFor:"name",children:"Nome"}),_.jsx(xi,{id:"name",type:"text",value:r.name,disabled:!0,className:"bg-gray-50"}),_.jsx("p",{className:"text-xs text-gray-500",children:"Nome obtido do Google"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(On,{htmlFor:"email",children:"Email"}),_.jsx(xi,{id:"email",type:"email",value:r.email,disabled:!0,className:"bg-gray-50"}),_.jsx("p",{className:"text-xs text-gray-500",children:"Email obtido do Google"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(On,{htmlFor:"phone",children:"Telefone"}),_.jsxs("div",{className:"relative",children:[_.jsx(ZC,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),_.jsx(xi,{id:"phone",type:"tel",placeholder:"(51) 99999-9999",value:t,onChange:g=>s(g.target.value),className:"pl-10",required:!0})]})]}),_.jsx(kt,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:o,children:o?"Salvando...":"Continuar"})]}),_.jsx("div",{className:"mt-4 text-center",children:_.jsx("p",{className:"text-xs text-gray-500",children:"Suas informações são seguras e utilizadas apenas para melhorar sua experiência"})})]})]})})})}function iw(r,[e,t]){return Math.min(t,Math.max(e,r))}function et(r,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(r==null||r(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function Ba(r,e=[]){let t=[];function s(c,u){const d=I.createContext(u),p=t.length;t=[...t,u];const g=E=>{var F;const{scope:T,children:C,...P}=E,R=((F=T==null?void 0:T[r])==null?void 0:F[p])||d,N=I.useMemo(()=>P,Object.values(P));return _.jsx(R.Provider,{value:N,children:C})};g.displayName=c+"Provider";function v(E,T){var R;const C=((R=T==null?void 0:T[r])==null?void 0:R[p])||d,P=I.useContext(C);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${E}\` must be used within \`${c}\``)}return[g,v]}const o=()=>{const c=t.map(u=>I.createContext(u));return function(d){const p=(d==null?void 0:d[r])||c;return I.useMemo(()=>({[`__scope${r}`]:{...d,[r]:p}}),[d,p])}};return o.scopeName=r,[s,ak(o,...e)]}function ak(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const s=r.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=s.reduce((d,{useScope:p,scopeName:g})=>{const E=p(c)[`__scope${g}`];return{...d,...E}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function RA(r){const e=r+"CollectionProvider",[t,s]=Ba(e),[o,c]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=R=>{const{scope:N,children:F}=R,V=ys.useRef(null),z=ys.useRef(new Map).current;return _.jsx(o,{scope:N,itemMap:z,collectionRef:V,children:F})};u.displayName=e;const d=r+"CollectionSlot",p=Bc(d),g=ys.forwardRef((R,N)=>{const{scope:F,children:V}=R,z=c(d,F),Z=gt(N,z.collectionRef);return _.jsx(p,{ref:Z,children:V})});g.displayName=d;const v=r+"CollectionItemSlot",E="data-radix-collection-item",T=Bc(v),C=ys.forwardRef((R,N)=>{const{scope:F,children:V,...z}=R,Z=ys.useRef(null),ee=gt(N,Z),ce=c(v,F);return ys.useEffect(()=>(ce.itemMap.set(Z,{ref:Z,...z}),()=>void ce.itemMap.delete(Z))),_.jsx(T,{[E]:"",ref:ee,children:V})});C.displayName=v;function P(R){const N=c(r+"CollectionConsumer",R);return ys.useCallback(()=>{const V=N.collectionRef.current;if(!V)return[];const z=Array.from(V.querySelectorAll(`[${E}]`));return Array.from(N.itemMap.values()).sort((ce,D)=>z.indexOf(ce.ref.current)-z.indexOf(D.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:u,Slot:g,ItemSlot:C},P,s]}var ok=I.createContext(void 0);function By(r){const e=I.useContext(ok);return r||e||"ltr"}function Ps(r){const e=I.useRef(r);return I.useEffect(()=>{e.current=r}),I.useMemo(()=>(...t)=>{var s;return(s=e.current)==null?void 0:s.call(e,...t)},[])}function lk(r,e=globalThis==null?void 0:globalThis.document){const t=Ps(r);I.useEffect(()=>{const s=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var ck="DismissableLayer",Ig="dismissableLayer.update",uk="dismissableLayer.pointerDownOutside",fk="dismissableLayer.focusOutside",sw,CA=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),IA=I.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:u,onDismiss:d,...p}=r,g=I.useContext(CA),[v,E]=I.useState(null),T=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=I.useState({}),P=gt(e,D=>E(D)),R=Array.from(g.layers),[N]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),F=R.indexOf(N),V=v?R.indexOf(v):-1,z=g.layersWithOutsidePointerEventsDisabled.size>0,Z=V>=F,ee=mk(D=>{const A=D.target,O=[...g.branches].some(j=>j.contains(A));!Z||O||(o==null||o(D),u==null||u(D),D.defaultPrevented||d==null||d())},T),ce=pk(D=>{const A=D.target;[...g.branches].some(j=>j.contains(A))||(c==null||c(D),u==null||u(D),D.defaultPrevented||d==null||d())},T);return lk(D=>{V===g.layers.size-1&&(s==null||s(D),!D.defaultPrevented&&d&&(D.preventDefault(),d()))},T),I.useEffect(()=>{if(v)return t&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(sw=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(v)),g.layers.add(v),aw(),()=>{t&&g.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=sw)}},[v,T,t,g]),I.useEffect(()=>()=>{v&&(g.layers.delete(v),g.layersWithOutsidePointerEventsDisabled.delete(v),aw())},[v,g]),I.useEffect(()=>{const D=()=>C({});return document.addEventListener(Ig,D),()=>document.removeEventListener(Ig,D)},[]),_.jsx(nt.div,{...p,ref:P,style:{pointerEvents:z?Z?"auto":"none":void 0,...r.style},onFocusCapture:et(r.onFocusCapture,ce.onFocusCapture),onBlurCapture:et(r.onBlurCapture,ce.onBlurCapture),onPointerDownCapture:et(r.onPointerDownCapture,ee.onPointerDownCapture)})});IA.displayName=ck;var hk="DismissableLayerBranch",dk=I.forwardRef((r,e)=>{const t=I.useContext(CA),s=I.useRef(null),o=gt(e,s);return I.useEffect(()=>{const c=s.current;if(c)return t.branches.add(c),()=>{t.branches.delete(c)}},[t.branches]),_.jsx(nt.div,{...r,ref:o})});dk.displayName=hk;function mk(r,e=globalThis==null?void 0:globalThis.document){const t=Ps(r),s=I.useRef(!1),o=I.useRef(()=>{});return I.useEffect(()=>{const c=d=>{if(d.target&&!s.current){let p=function(){NA(uk,t,g,{discrete:!0})};const g={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=p,e.addEventListener("click",o.current,{once:!0})):p()}else e.removeEventListener("click",o.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",c),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function pk(r,e=globalThis==null?void 0:globalThis.document){const t=Ps(r),s=I.useRef(!1);return I.useEffect(()=>{const o=c=>{c.target&&!s.current&&NA(fk,t,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function aw(){const r=new CustomEvent(Ig);document.dispatchEvent(r)}function NA(r,e,t,{discrete:s}){const o=t.originalEvent.target,c=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(r,e,{once:!0}),s?tk(o,c):o.dispatchEvent(c)}var qp=0;function gk(){I.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??ow()),document.body.insertAdjacentElement("beforeend",r[1]??ow()),qp++,()=>{qp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),qp--}},[])}function ow(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var Hp="focusScope.autoFocusOnMount",Fp="focusScope.autoFocusOnUnmount",lw={bubbles:!1,cancelable:!0},yk="FocusScope",DA=I.forwardRef((r,e)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...u}=r,[d,p]=I.useState(null),g=Ps(o),v=Ps(c),E=I.useRef(null),T=gt(e,R=>p(R)),C=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(s){let R=function(z){if(C.paused||!d)return;const Z=z.target;d.contains(Z)?E.current=Z:vs(E.current,{select:!0})},N=function(z){if(C.paused||!d)return;const Z=z.relatedTarget;Z!==null&&(d.contains(Z)||vs(E.current,{select:!0}))},F=function(z){if(document.activeElement===document.body)for(const ee of z)ee.removedNodes.length>0&&vs(d)};document.addEventListener("focusin",R),document.addEventListener("focusout",N);const V=new MutationObserver(F);return d&&V.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",N),V.disconnect()}}},[s,d,C.paused]),I.useEffect(()=>{if(d){uw.add(C);const R=document.activeElement;if(!d.contains(R)){const F=new CustomEvent(Hp,lw);d.addEventListener(Hp,g),d.dispatchEvent(F),F.defaultPrevented||(vk(Tk(OA(d)),{select:!0}),document.activeElement===R&&vs(d))}return()=>{d.removeEventListener(Hp,g),setTimeout(()=>{const F=new CustomEvent(Fp,lw);d.addEventListener(Fp,v),d.dispatchEvent(F),F.defaultPrevented||vs(R??document.body,{select:!0}),d.removeEventListener(Fp,v),uw.remove(C)},0)}}},[d,g,v,C]);const P=I.useCallback(R=>{if(!t&&!s||C.paused)return;const N=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,F=document.activeElement;if(N&&F){const V=R.currentTarget,[z,Z]=_k(V);z&&Z?!R.shiftKey&&F===Z?(R.preventDefault(),t&&vs(z,{select:!0})):R.shiftKey&&F===z&&(R.preventDefault(),t&&vs(Z,{select:!0})):F===V&&R.preventDefault()}},[t,s,C.paused]);return _.jsx(nt.div,{tabIndex:-1,...u,ref:T,onKeyDown:P})});DA.displayName=yk;function vk(r,{select:e=!1}={}){const t=document.activeElement;for(const s of r)if(vs(s,{select:e}),document.activeElement!==t)return}function _k(r){const e=OA(r),t=cw(e,r),s=cw(e.reverse(),r);return[t,s]}function OA(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function cw(r,e){for(const t of r)if(!bk(t,{upTo:e}))return t}function bk(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function Ek(r){return r instanceof HTMLInputElement&&"select"in r}function vs(r,{select:e=!1}={}){if(r&&r.focus){const t=document.activeElement;r.focus({preventScroll:!0}),r!==t&&Ek(r)&&e&&r.select()}}var uw=wk();function wk(){let r=[];return{add(e){const t=r[0];e!==t&&(t==null||t.pause()),r=fw(r,e),r.unshift(e)},remove(e){var t;r=fw(r,e),(t=r[0])==null||t.resume()}}}function fw(r,e){const t=[...r],s=t.indexOf(e);return s!==-1&&t.splice(s,1),t}function Tk(r){return r.filter(e=>e.tagName!=="A")}var bn=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},Sk=Pw[" useId ".trim().toString()]||(()=>{}),Ak=0;function fd(r){const[e,t]=I.useState(Sk());return bn(()=>{t(s=>s??String(Ak++))},[r]),r||(e?`radix-${e}`:"")}const xk=["top","right","bottom","left"],ks=Math.min,Hn=Math.max,Mh=Math.round,Yf=Math.floor,$r=r=>({x:r,y:r}),Rk={left:"right",right:"left",bottom:"top",top:"bottom"},Ck={start:"end",end:"start"};function Ng(r,e,t){return Hn(r,ks(e,t))}function Li(r,e){return typeof r=="function"?r(e):r}function Ui(r){return r.split("-")[0]}function gl(r){return r.split("-")[1]}function qy(r){return r==="x"?"y":"x"}function Hy(r){return r==="y"?"height":"width"}const Ik=new Set(["top","bottom"]);function Hr(r){return Ik.has(Ui(r))?"y":"x"}function Fy(r){return qy(Hr(r))}function Nk(r,e,t){t===void 0&&(t=!1);const s=gl(r),o=Fy(r),c=Hy(o);let u=o==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(u=Ph(u)),[u,Ph(u)]}function Dk(r){const e=Ph(r);return[Dg(r),e,Dg(e)]}function Dg(r){return r.replace(/start|end/g,e=>Ck[e])}const hw=["left","right"],dw=["right","left"],Ok=["top","bottom"],Mk=["bottom","top"];function Pk(r,e,t){switch(r){case"top":case"bottom":return t?e?dw:hw:e?hw:dw;case"left":case"right":return e?Ok:Mk;default:return[]}}function kk(r,e,t,s){const o=gl(r);let c=Pk(Ui(r),t==="start",s);return o&&(c=c.map(u=>u+"-"+o),e&&(c=c.concat(c.map(Dg)))),c}function Ph(r){return r.replace(/left|right|bottom|top/g,e=>Rk[e])}function Vk(r){return{top:0,right:0,bottom:0,left:0,...r}}function MA(r){return typeof r!="number"?Vk(r):{top:r,right:r,bottom:r,left:r}}function kh(r){const{x:e,y:t,width:s,height:o}=r;return{width:s,height:o,top:t,left:e,right:e+s,bottom:t+o,x:e,y:t}}function mw(r,e,t){let{reference:s,floating:o}=r;const c=Hr(e),u=Fy(e),d=Hy(u),p=Ui(e),g=c==="y",v=s.x+s.width/2-o.width/2,E=s.y+s.height/2-o.height/2,T=s[d]/2-o[d]/2;let C;switch(p){case"top":C={x:v,y:s.y-o.height};break;case"bottom":C={x:v,y:s.y+s.height};break;case"right":C={x:s.x+s.width,y:E};break;case"left":C={x:s.x-o.width,y:E};break;default:C={x:s.x,y:s.y}}switch(gl(e)){case"start":C[u]-=T*(t&&g?-1:1);break;case"end":C[u]+=T*(t&&g?-1:1);break}return C}const jk=async(r,e,t)=>{const{placement:s="bottom",strategy:o="absolute",middleware:c=[],platform:u}=t,d=c.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let g=await u.getElementRects({reference:r,floating:e,strategy:o}),{x:v,y:E}=mw(g,s,p),T=s,C={},P=0;for(let R=0;R<d.length;R++){const{name:N,fn:F}=d[R],{x:V,y:z,data:Z,reset:ee}=await F({x:v,y:E,initialPlacement:s,placement:T,strategy:o,middlewareData:C,rects:g,platform:u,elements:{reference:r,floating:e}});v=V??v,E=z??E,C={...C,[N]:{...C[N],...Z}},ee&&P<=50&&(P++,typeof ee=="object"&&(ee.placement&&(T=ee.placement),ee.rects&&(g=ee.rects===!0?await u.getElementRects({reference:r,floating:e,strategy:o}):ee.rects),{x:v,y:E}=mw(g,T,p)),R=-1)}return{x:v,y:E,placement:T,strategy:o,middlewareData:C}};async function Zc(r,e){var t;e===void 0&&(e={});const{x:s,y:o,platform:c,rects:u,elements:d,strategy:p}=r,{boundary:g="clippingAncestors",rootBoundary:v="viewport",elementContext:E="floating",altBoundary:T=!1,padding:C=0}=Li(e,r),P=MA(C),N=d[T?E==="floating"?"reference":"floating":E],F=kh(await c.getClippingRect({element:(t=await(c.isElement==null?void 0:c.isElement(N)))==null||t?N:N.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(d.floating)),boundary:g,rootBoundary:v,strategy:p})),V=E==="floating"?{x:s,y:o,width:u.floating.width,height:u.floating.height}:u.reference,z=await(c.getOffsetParent==null?void 0:c.getOffsetParent(d.floating)),Z=await(c.isElement==null?void 0:c.isElement(z))?await(c.getScale==null?void 0:c.getScale(z))||{x:1,y:1}:{x:1,y:1},ee=kh(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:V,offsetParent:z,strategy:p}):V);return{top:(F.top-ee.top+P.top)/Z.y,bottom:(ee.bottom-F.bottom+P.bottom)/Z.y,left:(F.left-ee.left+P.left)/Z.x,right:(ee.right-F.right+P.right)/Z.x}}const Lk=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:s,placement:o,rects:c,platform:u,elements:d,middlewareData:p}=e,{element:g,padding:v=0}=Li(r,e)||{};if(g==null)return{};const E=MA(v),T={x:t,y:s},C=Fy(o),P=Hy(C),R=await u.getDimensions(g),N=C==="y",F=N?"top":"left",V=N?"bottom":"right",z=N?"clientHeight":"clientWidth",Z=c.reference[P]+c.reference[C]-T[C]-c.floating[P],ee=T[C]-c.reference[C],ce=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let D=ce?ce[z]:0;(!D||!await(u.isElement==null?void 0:u.isElement(ce)))&&(D=d.floating[z]||c.floating[P]);const A=Z/2-ee/2,O=D/2-R[P]/2-1,j=ks(E[F],O),U=ks(E[V],O),B=j,M=D-R[P]-U,ue=D/2-R[P]/2+A,me=Ng(B,ue,M),q=!p.arrow&&gl(o)!=null&&ue!==me&&c.reference[P]/2-(ue<B?j:U)-R[P]/2<0,ne=q?ue<B?ue-B:ue-M:0;return{[C]:T[C]+ne,data:{[C]:me,centerOffset:ue-me-ne,...q&&{alignmentOffset:ne}},reset:q}}}),Uk=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,s;const{placement:o,middlewareData:c,rects:u,initialPlacement:d,platform:p,elements:g}=e,{mainAxis:v=!0,crossAxis:E=!0,fallbackPlacements:T,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:R=!0,...N}=Li(r,e);if((t=c.arrow)!=null&&t.alignmentOffset)return{};const F=Ui(o),V=Hr(d),z=Ui(d)===d,Z=await(p.isRTL==null?void 0:p.isRTL(g.floating)),ee=T||(z||!R?[Ph(d)]:Dk(d)),ce=P!=="none";!T&&ce&&ee.push(...kk(d,R,P,Z));const D=[d,...ee],A=await Zc(e,N),O=[];let j=((s=c.flip)==null?void 0:s.overflows)||[];if(v&&O.push(A[F]),E){const ue=Nk(o,u,Z);O.push(A[ue[0]],A[ue[1]])}if(j=[...j,{placement:o,overflows:O}],!O.every(ue=>ue<=0)){var U,B;const ue=(((U=c.flip)==null?void 0:U.index)||0)+1,me=D[ue];if(me&&(!(E==="alignment"?V!==Hr(me):!1)||j.every(X=>Hr(X.placement)===V?X.overflows[0]>0:!0)))return{data:{index:ue,overflows:j},reset:{placement:me}};let q=(B=j.filter(ne=>ne.overflows[0]<=0).sort((ne,X)=>ne.overflows[1]-X.overflows[1])[0])==null?void 0:B.placement;if(!q)switch(C){case"bestFit":{var M;const ne=(M=j.filter(X=>{if(ce){const Ee=Hr(X.placement);return Ee===V||Ee==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(Ee=>Ee>0).reduce((Ee,L)=>Ee+L,0)]).sort((X,Ee)=>X[1]-Ee[1])[0])==null?void 0:M[0];ne&&(q=ne);break}case"initialPlacement":q=d;break}if(o!==q)return{reset:{placement:q}}}return{}}}};function pw(r,e){return{top:r.top-e.height,right:r.right-e.width,bottom:r.bottom-e.height,left:r.left-e.width}}function gw(r){return xk.some(e=>r[e]>=0)}const zk=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...o}=Li(r,e);switch(s){case"referenceHidden":{const c=await Zc(e,{...o,elementContext:"reference"}),u=pw(c,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:gw(u)}}}case"escaped":{const c=await Zc(e,{...o,altBoundary:!0}),u=pw(c,t.floating);return{data:{escapedOffsets:u,escaped:gw(u)}}}default:return{}}}}},PA=new Set(["left","top"]);async function Bk(r,e){const{placement:t,platform:s,elements:o}=r,c=await(s.isRTL==null?void 0:s.isRTL(o.floating)),u=Ui(t),d=gl(t),p=Hr(t)==="y",g=PA.has(u)?-1:1,v=c&&p?-1:1,E=Li(e,r);let{mainAxis:T,crossAxis:C,alignmentAxis:P}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:E.mainAxis||0,crossAxis:E.crossAxis||0,alignmentAxis:E.alignmentAxis};return d&&typeof P=="number"&&(C=d==="end"?P*-1:P),p?{x:C*v,y:T*g}:{x:T*g,y:C*v}}const qk=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,s;const{x:o,y:c,placement:u,middlewareData:d}=e,p=await Bk(e,r);return u===((t=d.offset)==null?void 0:t.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:o+p.x,y:c+p.y,data:{...p,placement:u}}}}},Hk=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:s,placement:o}=e,{mainAxis:c=!0,crossAxis:u=!1,limiter:d={fn:N=>{let{x:F,y:V}=N;return{x:F,y:V}}},...p}=Li(r,e),g={x:t,y:s},v=await Zc(e,p),E=Hr(Ui(o)),T=qy(E);let C=g[T],P=g[E];if(c){const N=T==="y"?"top":"left",F=T==="y"?"bottom":"right",V=C+v[N],z=C-v[F];C=Ng(V,C,z)}if(u){const N=E==="y"?"top":"left",F=E==="y"?"bottom":"right",V=P+v[N],z=P-v[F];P=Ng(V,P,z)}const R=d.fn({...e,[T]:C,[E]:P});return{...R,data:{x:R.x-t,y:R.y-s,enabled:{[T]:c,[E]:u}}}}}},Fk=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:t,y:s,placement:o,rects:c,middlewareData:u}=e,{offset:d=0,mainAxis:p=!0,crossAxis:g=!0}=Li(r,e),v={x:t,y:s},E=Hr(o),T=qy(E);let C=v[T],P=v[E];const R=Li(d,e),N=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(p){const z=T==="y"?"height":"width",Z=c.reference[T]-c.floating[z]+N.mainAxis,ee=c.reference[T]+c.reference[z]-N.mainAxis;C<Z?C=Z:C>ee&&(C=ee)}if(g){var F,V;const z=T==="y"?"width":"height",Z=PA.has(Ui(o)),ee=c.reference[E]-c.floating[z]+(Z&&((F=u.offset)==null?void 0:F[E])||0)+(Z?0:N.crossAxis),ce=c.reference[E]+c.reference[z]+(Z?0:((V=u.offset)==null?void 0:V[E])||0)-(Z?N.crossAxis:0);P<ee?P=ee:P>ce&&(P=ce)}return{[T]:C,[E]:P}}}},Gk=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var t,s;const{placement:o,rects:c,platform:u,elements:d}=e,{apply:p=()=>{},...g}=Li(r,e),v=await Zc(e,g),E=Ui(o),T=gl(o),C=Hr(o)==="y",{width:P,height:R}=c.floating;let N,F;E==="top"||E==="bottom"?(N=E,F=T===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(F=E,N=T==="end"?"top":"bottom");const V=R-v.top-v.bottom,z=P-v.left-v.right,Z=ks(R-v[N],V),ee=ks(P-v[F],z),ce=!e.middlewareData.shift;let D=Z,A=ee;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=z),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(D=V),ce&&!T){const j=Hn(v.left,0),U=Hn(v.right,0),B=Hn(v.top,0),M=Hn(v.bottom,0);C?A=P-2*(j!==0||U!==0?j+U:Hn(v.left,v.right)):D=R-2*(B!==0||M!==0?B+M:Hn(v.top,v.bottom))}await p({...e,availableWidth:A,availableHeight:D});const O=await u.getDimensions(d.floating);return P!==O.width||R!==O.height?{reset:{rects:!0}}:{}}}};function hd(){return typeof window<"u"}function yl(r){return kA(r)?(r.nodeName||"").toLowerCase():"#document"}function Gn(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Jr(r){var e;return(e=(kA(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function kA(r){return hd()?r instanceof Node||r instanceof Gn(r).Node:!1}function br(r){return hd()?r instanceof Element||r instanceof Gn(r).Element:!1}function Zr(r){return hd()?r instanceof HTMLElement||r instanceof Gn(r).HTMLElement:!1}function yw(r){return!hd()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Gn(r).ShadowRoot}const Kk=new Set(["inline","contents"]);function mu(r){const{overflow:e,overflowX:t,overflowY:s,display:o}=Er(r);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!Kk.has(o)}const Qk=new Set(["table","td","th"]);function Yk(r){return Qk.has(yl(r))}const $k=[":popover-open",":modal"];function dd(r){return $k.some(e=>{try{return r.matches(e)}catch{return!1}})}const Xk=["transform","translate","scale","rotate","perspective"],Wk=["transform","translate","scale","rotate","perspective","filter"],Zk=["paint","layout","strict","content"];function Gy(r){const e=Ky(),t=br(r)?Er(r):r;return Xk.some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||Wk.some(s=>(t.willChange||"").includes(s))||Zk.some(s=>(t.contain||"").includes(s))}function Jk(r){let e=Vs(r);for(;Zr(e)&&!sl(e);){if(Gy(e))return e;if(dd(e))return null;e=Vs(e)}return null}function Ky(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const e4=new Set(["html","body","#document"]);function sl(r){return e4.has(yl(r))}function Er(r){return Gn(r).getComputedStyle(r)}function md(r){return br(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Vs(r){if(yl(r)==="html")return r;const e=r.assignedSlot||r.parentNode||yw(r)&&r.host||Jr(r);return yw(e)?e.host:e}function VA(r){const e=Vs(r);return sl(e)?r.ownerDocument?r.ownerDocument.body:r.body:Zr(e)&&mu(e)?e:VA(e)}function Jc(r,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=VA(r),c=o===((s=r.ownerDocument)==null?void 0:s.body),u=Gn(o);if(c){const d=Og(u);return e.concat(u,u.visualViewport||[],mu(o)?o:[],d&&t?Jc(d):[])}return e.concat(o,Jc(o,[],t))}function Og(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function jA(r){const e=Er(r);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const o=Zr(r),c=o?r.offsetWidth:t,u=o?r.offsetHeight:s,d=Mh(t)!==c||Mh(s)!==u;return d&&(t=c,s=u),{width:t,height:s,$:d}}function Qy(r){return br(r)?r:r.contextElement}function $o(r){const e=Qy(r);if(!Zr(e))return $r(1);const t=e.getBoundingClientRect(),{width:s,height:o,$:c}=jA(e);let u=(c?Mh(t.width):t.width)/s,d=(c?Mh(t.height):t.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const t4=$r(0);function LA(r){const e=Gn(r);return!Ky()||!e.visualViewport?t4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function n4(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Gn(r)?!1:e}function Va(r,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=r.getBoundingClientRect(),c=Qy(r);let u=$r(1);e&&(s?br(s)&&(u=$o(s)):u=$o(r));const d=n4(c,t,s)?LA(c):$r(0);let p=(o.left+d.x)/u.x,g=(o.top+d.y)/u.y,v=o.width/u.x,E=o.height/u.y;if(c){const T=Gn(c),C=s&&br(s)?Gn(s):s;let P=T,R=Og(P);for(;R&&s&&C!==P;){const N=$o(R),F=R.getBoundingClientRect(),V=Er(R),z=F.left+(R.clientLeft+parseFloat(V.paddingLeft))*N.x,Z=F.top+(R.clientTop+parseFloat(V.paddingTop))*N.y;p*=N.x,g*=N.y,v*=N.x,E*=N.y,p+=z,g+=Z,P=Gn(R),R=Og(P)}}return kh({width:v,height:E,x:p,y:g})}function Yy(r,e){const t=md(r).scrollLeft;return e?e.left+t:Va(Jr(r)).left+t}function UA(r,e,t){t===void 0&&(t=!1);const s=r.getBoundingClientRect(),o=s.left+e.scrollLeft-(t?0:Yy(r,s)),c=s.top+e.scrollTop;return{x:o,y:c}}function r4(r){let{elements:e,rect:t,offsetParent:s,strategy:o}=r;const c=o==="fixed",u=Jr(s),d=e?dd(e.floating):!1;if(s===u||d&&c)return t;let p={scrollLeft:0,scrollTop:0},g=$r(1);const v=$r(0),E=Zr(s);if((E||!E&&!c)&&((yl(s)!=="body"||mu(u))&&(p=md(s)),Zr(s))){const C=Va(s);g=$o(s),v.x=C.x+s.clientLeft,v.y=C.y+s.clientTop}const T=u&&!E&&!c?UA(u,p,!0):$r(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-p.scrollLeft*g.x+v.x+T.x,y:t.y*g.y-p.scrollTop*g.y+v.y+T.y}}function i4(r){return Array.from(r.getClientRects())}function s4(r){const e=Jr(r),t=md(r),s=r.ownerDocument.body,o=Hn(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),c=Hn(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-t.scrollLeft+Yy(r);const d=-t.scrollTop;return Er(s).direction==="rtl"&&(u+=Hn(e.clientWidth,s.clientWidth)-o),{width:o,height:c,x:u,y:d}}function a4(r,e){const t=Gn(r),s=Jr(r),o=t.visualViewport;let c=s.clientWidth,u=s.clientHeight,d=0,p=0;if(o){c=o.width,u=o.height;const g=Ky();(!g||g&&e==="fixed")&&(d=o.offsetLeft,p=o.offsetTop)}return{width:c,height:u,x:d,y:p}}const o4=new Set(["absolute","fixed"]);function l4(r,e){const t=Va(r,!0,e==="fixed"),s=t.top+r.clientTop,o=t.left+r.clientLeft,c=Zr(r)?$o(r):$r(1),u=r.clientWidth*c.x,d=r.clientHeight*c.y,p=o*c.x,g=s*c.y;return{width:u,height:d,x:p,y:g}}function vw(r,e,t){let s;if(e==="viewport")s=a4(r,t);else if(e==="document")s=s4(Jr(r));else if(br(e))s=l4(e,t);else{const o=LA(r);s={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return kh(s)}function zA(r,e){const t=Vs(r);return t===e||!br(t)||sl(t)?!1:Er(t).position==="fixed"||zA(t,e)}function c4(r,e){const t=e.get(r);if(t)return t;let s=Jc(r,[],!1).filter(d=>br(d)&&yl(d)!=="body"),o=null;const c=Er(r).position==="fixed";let u=c?Vs(r):r;for(;br(u)&&!sl(u);){const d=Er(u),p=Gy(u);!p&&d.position==="fixed"&&(o=null),(c?!p&&!o:!p&&d.position==="static"&&!!o&&o4.has(o.position)||mu(u)&&!p&&zA(r,u))?s=s.filter(v=>v!==u):o=d,u=Vs(u)}return e.set(r,s),s}function u4(r){let{element:e,boundary:t,rootBoundary:s,strategy:o}=r;const u=[...t==="clippingAncestors"?dd(e)?[]:c4(e,this._c):[].concat(t),s],d=u[0],p=u.reduce((g,v)=>{const E=vw(e,v,o);return g.top=Hn(E.top,g.top),g.right=ks(E.right,g.right),g.bottom=ks(E.bottom,g.bottom),g.left=Hn(E.left,g.left),g},vw(e,d,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function f4(r){const{width:e,height:t}=jA(r);return{width:e,height:t}}function h4(r,e,t){const s=Zr(e),o=Jr(e),c=t==="fixed",u=Va(r,!0,c,e);let d={scrollLeft:0,scrollTop:0};const p=$r(0);function g(){p.x=Yy(o)}if(s||!s&&!c)if((yl(e)!=="body"||mu(o))&&(d=md(e)),s){const C=Va(e,!0,c,e);p.x=C.x+e.clientLeft,p.y=C.y+e.clientTop}else o&&g();c&&!s&&o&&g();const v=o&&!s&&!c?UA(o,d):$r(0),E=u.left+d.scrollLeft-p.x-v.x,T=u.top+d.scrollTop-p.y-v.y;return{x:E,y:T,width:u.width,height:u.height}}function Gp(r){return Er(r).position==="static"}function _w(r,e){if(!Zr(r)||Er(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Jr(r)===t&&(t=t.ownerDocument.body),t}function BA(r,e){const t=Gn(r);if(dd(r))return t;if(!Zr(r)){let o=Vs(r);for(;o&&!sl(o);){if(br(o)&&!Gp(o))return o;o=Vs(o)}return t}let s=_w(r,e);for(;s&&Yk(s)&&Gp(s);)s=_w(s,e);return s&&sl(s)&&Gp(s)&&!Gy(s)?t:s||Jk(r)||t}const d4=async function(r){const e=this.getOffsetParent||BA,t=this.getDimensions,s=await t(r.floating);return{reference:h4(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function m4(r){return Er(r).direction==="rtl"}const p4={convertOffsetParentRelativeRectToViewportRelativeRect:r4,getDocumentElement:Jr,getClippingRect:u4,getOffsetParent:BA,getElementRects:d4,getClientRects:i4,getDimensions:f4,getScale:$o,isElement:br,isRTL:m4};function qA(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function g4(r,e){let t=null,s;const o=Jr(r);function c(){var d;clearTimeout(s),(d=t)==null||d.disconnect(),t=null}function u(d,p){d===void 0&&(d=!1),p===void 0&&(p=1),c();const g=r.getBoundingClientRect(),{left:v,top:E,width:T,height:C}=g;if(d||e(),!T||!C)return;const P=Yf(E),R=Yf(o.clientWidth-(v+T)),N=Yf(o.clientHeight-(E+C)),F=Yf(v),z={rootMargin:-P+"px "+-R+"px "+-N+"px "+-F+"px",threshold:Hn(0,ks(1,p))||1};let Z=!0;function ee(ce){const D=ce[0].intersectionRatio;if(D!==p){if(!Z)return u();D?u(!1,D):s=setTimeout(()=>{u(!1,1e-7)},1e3)}D===1&&!qA(g,r.getBoundingClientRect())&&u(),Z=!1}try{t=new IntersectionObserver(ee,{...z,root:o.ownerDocument})}catch{t=new IntersectionObserver(ee,z)}t.observe(r)}return u(!0),c}function y4(r,e,t,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:p=!1}=s,g=Qy(r),v=o||c?[...g?Jc(g):[],...Jc(e)]:[];v.forEach(F=>{o&&F.addEventListener("scroll",t,{passive:!0}),c&&F.addEventListener("resize",t)});const E=g&&d?g4(g,t):null;let T=-1,C=null;u&&(C=new ResizeObserver(F=>{let[V]=F;V&&V.target===g&&C&&(C.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var z;(z=C)==null||z.observe(e)})),t()}),g&&!p&&C.observe(g),C.observe(e));let P,R=p?Va(r):null;p&&N();function N(){const F=Va(r);R&&!qA(R,F)&&t(),R=F,P=requestAnimationFrame(N)}return t(),()=>{var F;v.forEach(V=>{o&&V.removeEventListener("scroll",t),c&&V.removeEventListener("resize",t)}),E==null||E(),(F=C)==null||F.disconnect(),C=null,p&&cancelAnimationFrame(P)}}const v4=qk,_4=Hk,b4=Uk,E4=Gk,w4=zk,bw=Lk,T4=Fk,S4=(r,e,t)=>{const s=new Map,o={platform:p4,...t},c={...o.platform,_c:s};return jk(r,e,{...o,platform:c})};var A4=typeof document<"u",x4=function(){},fh=A4?I.useLayoutEffect:x4;function Vh(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,s,o;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!Vh(r[s],e[s]))return!1;return!0}if(o=Object.keys(r),t=o.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,o[s]))return!1;for(s=t;s--!==0;){const c=o[s];if(!(c==="_owner"&&r.$$typeof)&&!Vh(r[c],e[c]))return!1}return!0}return r!==r&&e!==e}function HA(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function Ew(r,e){const t=HA(r);return Math.round(e*t)/t}function Kp(r){const e=I.useRef(r);return fh(()=>{e.current=r}),e}function R4(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:o,elements:{reference:c,floating:u}={},transform:d=!0,whileElementsMounted:p,open:g}=r,[v,E]=I.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[T,C]=I.useState(s);Vh(T,s)||C(s);const[P,R]=I.useState(null),[N,F]=I.useState(null),V=I.useCallback(X=>{X!==ce.current&&(ce.current=X,R(X))},[]),z=I.useCallback(X=>{X!==D.current&&(D.current=X,F(X))},[]),Z=c||P,ee=u||N,ce=I.useRef(null),D=I.useRef(null),A=I.useRef(v),O=p!=null,j=Kp(p),U=Kp(o),B=Kp(g),M=I.useCallback(()=>{if(!ce.current||!D.current)return;const X={placement:e,strategy:t,middleware:T};U.current&&(X.platform=U.current),S4(ce.current,D.current,X).then(Ee=>{const L={...Ee,isPositioned:B.current!==!1};ue.current&&!Vh(A.current,L)&&(A.current=L,du.flushSync(()=>{E(L)}))})},[T,e,t,U,B]);fh(()=>{g===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,E(X=>({...X,isPositioned:!1})))},[g]);const ue=I.useRef(!1);fh(()=>(ue.current=!0,()=>{ue.current=!1}),[]),fh(()=>{if(Z&&(ce.current=Z),ee&&(D.current=ee),Z&&ee){if(j.current)return j.current(Z,ee,M);M()}},[Z,ee,M,j,O]);const me=I.useMemo(()=>({reference:ce,floating:D,setReference:V,setFloating:z}),[V,z]),q=I.useMemo(()=>({reference:Z,floating:ee}),[Z,ee]),ne=I.useMemo(()=>{const X={position:t,left:0,top:0};if(!q.floating)return X;const Ee=Ew(q.floating,v.x),L=Ew(q.floating,v.y);return d?{...X,transform:"translate("+Ee+"px, "+L+"px)",...HA(q.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Ee,top:L}},[t,d,q.floating,v.x,v.y]);return I.useMemo(()=>({...v,update:M,refs:me,elements:q,floatingStyles:ne}),[v,M,me,q,ne])}const C4=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:s,padding:o}=typeof r=="function"?r(t):r;return s&&e(s)?s.current!=null?bw({element:s.current,padding:o}).fn(t):{}:s?bw({element:s,padding:o}).fn(t):{}}}},I4=(r,e)=>({...v4(r),options:[r,e]}),N4=(r,e)=>({..._4(r),options:[r,e]}),D4=(r,e)=>({...T4(r),options:[r,e]}),O4=(r,e)=>({...b4(r),options:[r,e]}),M4=(r,e)=>({...E4(r),options:[r,e]}),P4=(r,e)=>({...w4(r),options:[r,e]}),k4=(r,e)=>({...C4(r),options:[r,e]});var V4="Arrow",FA=I.forwardRef((r,e)=>{const{children:t,width:s=10,height:o=5,...c}=r;return _.jsx(nt.svg,{...c,ref:e,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?t:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});FA.displayName=V4;var j4=FA;function $y(r){const[e,t]=I.useState(void 0);return bn(()=>{if(r){t({width:r.offsetWidth,height:r.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let u,d;if("borderBoxSize"in c){const p=c.borderBoxSize,g=Array.isArray(p)?p[0]:p;u=g.inlineSize,d=g.blockSize}else u=r.offsetWidth,d=r.offsetHeight;t({width:u,height:d})});return s.observe(r,{box:"border-box"}),()=>s.unobserve(r)}else t(void 0)},[r]),e}var Xy="Popper",[GA,KA]=Ba(Xy),[L4,QA]=GA(Xy),YA=r=>{const{__scopePopper:e,children:t}=r,[s,o]=I.useState(null);return _.jsx(L4,{scope:e,anchor:s,onAnchorChange:o,children:t})};YA.displayName=Xy;var $A="PopperAnchor",XA=I.forwardRef((r,e)=>{const{__scopePopper:t,virtualRef:s,...o}=r,c=QA($A,t),u=I.useRef(null),d=gt(e,u);return I.useEffect(()=>{c.onAnchorChange((s==null?void 0:s.current)||u.current)}),s?null:_.jsx(nt.div,{...o,ref:d})});XA.displayName=$A;var Wy="PopperContent",[U4,z4]=GA(Wy),WA=I.forwardRef((r,e)=>{var de,Se,Xe,je,Pe,ke;const{__scopePopper:t,side:s="bottom",sideOffset:o=0,align:c="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:p=!0,collisionBoundary:g=[],collisionPadding:v=0,sticky:E="partial",hideWhenDetached:T=!1,updatePositionStrategy:C="optimized",onPlaced:P,...R}=r,N=QA(Wy,t),[F,V]=I.useState(null),z=gt(e,St=>V(St)),[Z,ee]=I.useState(null),ce=$y(Z),D=(ce==null?void 0:ce.width)??0,A=(ce==null?void 0:ce.height)??0,O=s+(c!=="center"?"-"+c:""),j=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},U=Array.isArray(g)?g:[g],B=U.length>0,M={padding:j,boundary:U.filter(q4),altBoundary:B},{refs:ue,floatingStyles:me,placement:q,isPositioned:ne,middlewareData:X}=R4({strategy:"fixed",placement:O,whileElementsMounted:(...St)=>y4(...St,{animationFrame:C==="always"}),elements:{reference:N.anchor},middleware:[I4({mainAxis:o+A,alignmentAxis:u}),p&&N4({mainAxis:!0,crossAxis:!1,limiter:E==="partial"?D4():void 0,...M}),p&&O4({...M}),M4({...M,apply:({elements:St,rects:Kt,availableWidth:ar,availableHeight:wr})=>{const{width:Qt,height:_l}=Kt.reference,Tr=St.floating.style;Tr.setProperty("--radix-popper-available-width",`${ar}px`),Tr.setProperty("--radix-popper-available-height",`${wr}px`),Tr.setProperty("--radix-popper-anchor-width",`${Qt}px`),Tr.setProperty("--radix-popper-anchor-height",`${_l}px`)}}),Z&&k4({element:Z,padding:d}),H4({arrowWidth:D,arrowHeight:A}),T&&P4({strategy:"referenceHidden",...M})]}),[Ee,L]=ex(q),re=Ps(P);bn(()=>{ne&&(re==null||re())},[ne,re]);const fe=(de=X.arrow)==null?void 0:de.x,oe=(Se=X.arrow)==null?void 0:Se.y,pe=((Xe=X.arrow)==null?void 0:Xe.centerOffset)!==0,[Re,we]=I.useState();return bn(()=>{F&&we(window.getComputedStyle(F).zIndex)},[F]),_.jsx("div",{ref:ue.setFloating,"data-radix-popper-content-wrapper":"",style:{...me,transform:ne?me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(je=X.transformOrigin)==null?void 0:je.x,(Pe=X.transformOrigin)==null?void 0:Pe.y].join(" "),...((ke=X.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:_.jsx(U4,{scope:t,placedSide:Ee,onArrowChange:ee,arrowX:fe,arrowY:oe,shouldHideArrow:pe,children:_.jsx(nt.div,{"data-side":Ee,"data-align":L,...R,ref:z,style:{...R.style,animation:ne?void 0:"none"}})})})});WA.displayName=Wy;var ZA="PopperArrow",B4={top:"bottom",right:"left",bottom:"top",left:"right"},JA=I.forwardRef(function(e,t){const{__scopePopper:s,...o}=e,c=z4(ZA,s),u=B4[c.placedSide];return _.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:_.jsx(j4,{...o,ref:t,style:{...o.style,display:"block"}})})});JA.displayName=ZA;function q4(r){return r!==null}var H4=r=>({name:"transformOrigin",options:r,fn(e){var N,F,V;const{placement:t,rects:s,middlewareData:o}=e,u=((N=o.arrow)==null?void 0:N.centerOffset)!==0,d=u?0:r.arrowWidth,p=u?0:r.arrowHeight,[g,v]=ex(t),E={start:"0%",center:"50%",end:"100%"}[v],T=(((F=o.arrow)==null?void 0:F.x)??0)+d/2,C=(((V=o.arrow)==null?void 0:V.y)??0)+p/2;let P="",R="";return g==="bottom"?(P=u?E:`${T}px`,R=`${-p}px`):g==="top"?(P=u?E:`${T}px`,R=`${s.floating.height+p}px`):g==="right"?(P=`${-p}px`,R=u?E:`${C}px`):g==="left"&&(P=`${s.floating.width+p}px`,R=u?E:`${C}px`),{data:{x:P,y:R}}}});function ex(r){const[e,t="center"]=r.split("-");return[e,t]}var F4=YA,G4=XA,K4=WA,Q4=JA,Y4="Portal",tx=I.forwardRef((r,e)=>{var d;const{container:t,...s}=r,[o,c]=I.useState(!1);bn(()=>c(!0),[]);const u=t||o&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?JP.createPortal(_.jsx(nt.div,{...s,ref:e}),u):null});tx.displayName=Y4;var $4=Pw[" useInsertionEffect ".trim().toString()]||bn;function eu({prop:r,defaultProp:e,onChange:t=()=>{},caller:s}){const[o,c,u]=X4({defaultProp:e,onChange:t}),d=r!==void 0,p=d?r:o;{const v=I.useRef(r!==void 0);I.useEffect(()=>{const E=v.current;E!==d&&console.warn(`${s} is changing from ${E?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,s])}const g=I.useCallback(v=>{var E;if(d){const T=W4(v)?v(r):v;T!==r&&((E=u.current)==null||E.call(u,T))}else c(v)},[d,r,c,u]);return[p,g]}function X4({defaultProp:r,onChange:e}){const[t,s]=I.useState(r),o=I.useRef(t),c=I.useRef(e);return $4(()=>{c.current=e},[e]),I.useEffect(()=>{var u;o.current!==t&&((u=c.current)==null||u.call(c,t),o.current=t)},[t,o]),[t,s,c]}function W4(r){return typeof r=="function"}function Zy(r){const e=I.useRef({value:r,previous:r});return I.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var nx=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Z4="VisuallyHidden",J4=I.forwardRef((r,e)=>_.jsx(nt.span,{...r,ref:e,style:{...nx,...r.style}}));J4.displayName=Z4;var eV=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},Vo=new WeakMap,$f=new WeakMap,Xf={},Qp=0,rx=function(r){return r&&(r.host||rx(r.parentNode))},tV=function(r,e){return e.map(function(t){if(r.contains(t))return t;var s=rx(t);return s&&r.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",r,". Doing nothing"),null)}).filter(function(t){return!!t})},nV=function(r,e,t,s){var o=tV(e,Array.isArray(r)?r:[r]);Xf[t]||(Xf[t]=new WeakMap);var c=Xf[t],u=[],d=new Set,p=new Set(o),g=function(E){!E||d.has(E)||(d.add(E),g(E.parentNode))};o.forEach(g);var v=function(E){!E||p.has(E)||Array.prototype.forEach.call(E.children,function(T){if(d.has(T))v(T);else try{var C=T.getAttribute(s),P=C!==null&&C!=="false",R=(Vo.get(T)||0)+1,N=(c.get(T)||0)+1;Vo.set(T,R),c.set(T,N),u.push(T),R===1&&P&&$f.set(T,!0),N===1&&T.setAttribute(t,"true"),P||T.setAttribute(s,"true")}catch(F){console.error("aria-hidden: cannot operate on ",T,F)}})};return v(e),d.clear(),Qp++,function(){u.forEach(function(E){var T=Vo.get(E)-1,C=c.get(E)-1;Vo.set(E,T),c.set(E,C),T||($f.has(E)||E.removeAttribute(s),$f.delete(E)),C||E.removeAttribute(t)}),Qp--,Qp||(Vo=new WeakMap,Vo=new WeakMap,$f=new WeakMap,Xf={})}},rV=function(r,e,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(r)?r:[r]),o=eV(r);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),nV(s,o,t,"aria-hidden")):function(){return null}},Br=function(){return Br=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},Br.apply(this,arguments)};function ix(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function iV(r,e,t){if(t||arguments.length===2)for(var s=0,o=e.length,c;s<o;s++)(c||!(s in e))&&(c||(c=Array.prototype.slice.call(e,0,s)),c[s]=e[s]);return r.concat(c||Array.prototype.slice.call(e))}var hh="right-scroll-bar-position",dh="width-before-scroll-bar",sV="with-scroll-bars-hidden",aV="--removed-body-scroll-bar-size";function Yp(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function oV(r,e){var t=I.useState(function(){return{value:r,callback:e,facade:{get current(){return t.value},set current(s){var o=t.value;o!==s&&(t.value=s,t.callback(s,o))}}}})[0];return t.callback=e,t.facade}var lV=typeof window<"u"?I.useLayoutEffect:I.useEffect,ww=new WeakMap;function cV(r,e){var t=oV(null,function(s){return r.forEach(function(o){return Yp(o,s)})});return lV(function(){var s=ww.get(t);if(s){var o=new Set(s),c=new Set(r),u=t.current;o.forEach(function(d){c.has(d)||Yp(d,null)}),c.forEach(function(d){o.has(d)||Yp(d,u)})}ww.set(t,r)},[r]),t}function uV(r){return r}function fV(r,e){e===void 0&&(e=uV);var t=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:r},useMedium:function(c){var u=e(c,s);return t.push(u),function(){t=t.filter(function(d){return d!==u})}},assignSyncMedium:function(c){for(s=!0;t.length;){var u=t;t=[],u.forEach(c)}t={push:function(d){return c(d)},filter:function(){return t}}},assignMedium:function(c){s=!0;var u=[];if(t.length){var d=t;t=[],d.forEach(c),u=t}var p=function(){var v=u;u=[],v.forEach(c)},g=function(){return Promise.resolve().then(p)};g(),t={push:function(v){u.push(v),g()},filter:function(v){return u=u.filter(v),t}}}};return o}function hV(r){r===void 0&&(r={});var e=fV(null);return e.options=Br({async:!0,ssr:!1},r),e}var sx=function(r){var e=r.sideCar,t=ix(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return I.createElement(s,Br({},t))};sx.isSideCarExport=!0;function dV(r,e){return r.useMedium(e),sx}var ax=hV(),$p=function(){},pd=I.forwardRef(function(r,e){var t=I.useRef(null),s=I.useState({onScrollCapture:$p,onWheelCapture:$p,onTouchMoveCapture:$p}),o=s[0],c=s[1],u=r.forwardProps,d=r.children,p=r.className,g=r.removeScrollBar,v=r.enabled,E=r.shards,T=r.sideCar,C=r.noRelative,P=r.noIsolation,R=r.inert,N=r.allowPinchZoom,F=r.as,V=F===void 0?"div":F,z=r.gapMode,Z=ix(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),ee=T,ce=cV([t,e]),D=Br(Br({},Z),o);return I.createElement(I.Fragment,null,v&&I.createElement(ee,{sideCar:ax,removeScrollBar:g,shards:E,noRelative:C,noIsolation:P,inert:R,setCallbacks:c,allowPinchZoom:!!N,lockRef:t,gapMode:z}),u?I.cloneElement(I.Children.only(d),Br(Br({},D),{ref:ce})):I.createElement(V,Br({},D,{className:p,ref:ce}),d))});pd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pd.classNames={fullWidth:dh,zeroRight:hh};var mV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pV(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=mV();return e&&r.setAttribute("nonce",e),r}function gV(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function yV(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var vV=function(){var r=0,e=null;return{add:function(t){r==0&&(e=pV())&&(gV(e,t),yV(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},_V=function(){var r=vV();return function(e,t){I.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])}},ox=function(){var r=_V(),e=function(t){var s=t.styles,o=t.dynamic;return r(s,o),null};return e},bV={left:0,top:0,right:0,gap:0},Xp=function(r){return parseInt(r||"",10)||0},EV=function(r){var e=window.getComputedStyle(document.body),t=e[r==="padding"?"paddingLeft":"marginLeft"],s=e[r==="padding"?"paddingTop":"marginTop"],o=e[r==="padding"?"paddingRight":"marginRight"];return[Xp(t),Xp(s),Xp(o)]},wV=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return bV;var e=EV(r),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-t+e[2]-e[0])}},TV=ox(),Xo="data-scroll-locked",SV=function(r,e,t,s){var o=r.left,c=r.top,u=r.right,d=r.gap;return t===void 0&&(t="margin"),`
  .`.concat(sV,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(Xo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hh,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(dh,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(hh," .").concat(hh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(dh," .").concat(dh,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Xo,`] {
    `).concat(aV,": ").concat(d,`px;
  }
`)},Tw=function(){var r=parseInt(document.body.getAttribute(Xo)||"0",10);return isFinite(r)?r:0},AV=function(){I.useEffect(function(){return document.body.setAttribute(Xo,(Tw()+1).toString()),function(){var r=Tw()-1;r<=0?document.body.removeAttribute(Xo):document.body.setAttribute(Xo,r.toString())}},[])},xV=function(r){var e=r.noRelative,t=r.noImportant,s=r.gapMode,o=s===void 0?"margin":s;AV();var c=I.useMemo(function(){return wV(o)},[o]);return I.createElement(TV,{styles:SV(c,!e,o,t?"":"!important")})},Mg=!1;if(typeof window<"u")try{var Wf=Object.defineProperty({},"passive",{get:function(){return Mg=!0,!0}});window.addEventListener("test",Wf,Wf),window.removeEventListener("test",Wf,Wf)}catch{Mg=!1}var jo=Mg?{passive:!1}:!1,RV=function(r){return r.tagName==="TEXTAREA"},lx=function(r,e){if(!(r instanceof Element))return!1;var t=window.getComputedStyle(r);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!RV(r)&&t[e]==="visible")},CV=function(r){return lx(r,"overflowY")},IV=function(r){return lx(r,"overflowX")},Sw=function(r,e){var t=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=cx(r,s);if(o){var c=ux(r,s),u=c[1],d=c[2];if(u>d)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},NV=function(r){var e=r.scrollTop,t=r.scrollHeight,s=r.clientHeight;return[e,t,s]},DV=function(r){var e=r.scrollLeft,t=r.scrollWidth,s=r.clientWidth;return[e,t,s]},cx=function(r,e){return r==="v"?CV(e):IV(e)},ux=function(r,e){return r==="v"?NV(e):DV(e)},OV=function(r,e){return r==="h"&&e==="rtl"?-1:1},MV=function(r,e,t,s,o){var c=OV(r,window.getComputedStyle(e).direction),u=c*s,d=t.target,p=e.contains(d),g=!1,v=u>0,E=0,T=0;do{if(!d)break;var C=ux(r,d),P=C[0],R=C[1],N=C[2],F=R-N-c*P;(P||F)&&cx(r,d)&&(E+=F,T+=P);var V=d.parentNode;d=V&&V.nodeType===Node.DOCUMENT_FRAGMENT_NODE?V.host:V}while(!p&&d!==document.body||p&&(e.contains(d)||e===d));return(v&&Math.abs(E)<1||!v&&Math.abs(T)<1)&&(g=!0),g},Zf=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},Aw=function(r){return[r.deltaX,r.deltaY]},xw=function(r){return r&&"current"in r?r.current:r},PV=function(r,e){return r[0]===e[0]&&r[1]===e[1]},kV=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},VV=0,Lo=[];function jV(r){var e=I.useRef([]),t=I.useRef([0,0]),s=I.useRef(),o=I.useState(VV++)[0],c=I.useState(ox)[0],u=I.useRef(r);I.useEffect(function(){u.current=r},[r]),I.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(o));var R=iV([r.lockRef.current],(r.shards||[]).map(xw),!0).filter(Boolean);return R.forEach(function(N){return N.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),R.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(o))})}}},[r.inert,r.lockRef.current,r.shards]);var d=I.useCallback(function(R,N){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!u.current.allowPinchZoom;var F=Zf(R),V=t.current,z="deltaX"in R?R.deltaX:V[0]-F[0],Z="deltaY"in R?R.deltaY:V[1]-F[1],ee,ce=R.target,D=Math.abs(z)>Math.abs(Z)?"h":"v";if("touches"in R&&D==="h"&&ce.type==="range")return!1;var A=Sw(D,ce);if(!A)return!0;if(A?ee=D:(ee=D==="v"?"h":"v",A=Sw(D,ce)),!A)return!1;if(!s.current&&"changedTouches"in R&&(z||Z)&&(s.current=ee),!ee)return!0;var O=s.current||ee;return MV(O,N,R,O==="h"?z:Z)},[]),p=I.useCallback(function(R){var N=R;if(!(!Lo.length||Lo[Lo.length-1]!==c)){var F="deltaY"in N?Aw(N):Zf(N),V=e.current.filter(function(ee){return ee.name===N.type&&(ee.target===N.target||N.target===ee.shadowParent)&&PV(ee.delta,F)})[0];if(V&&V.should){N.cancelable&&N.preventDefault();return}if(!V){var z=(u.current.shards||[]).map(xw).filter(Boolean).filter(function(ee){return ee.contains(N.target)}),Z=z.length>0?d(N,z[0]):!u.current.noIsolation;Z&&N.cancelable&&N.preventDefault()}}},[]),g=I.useCallback(function(R,N,F,V){var z={name:R,delta:N,target:F,should:V,shadowParent:LV(F)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(Z){return Z!==z})},1)},[]),v=I.useCallback(function(R){t.current=Zf(R),s.current=void 0},[]),E=I.useCallback(function(R){g(R.type,Aw(R),R.target,d(R,r.lockRef.current))},[]),T=I.useCallback(function(R){g(R.type,Zf(R),R.target,d(R,r.lockRef.current))},[]);I.useEffect(function(){return Lo.push(c),r.setCallbacks({onScrollCapture:E,onWheelCapture:E,onTouchMoveCapture:T}),document.addEventListener("wheel",p,jo),document.addEventListener("touchmove",p,jo),document.addEventListener("touchstart",v,jo),function(){Lo=Lo.filter(function(R){return R!==c}),document.removeEventListener("wheel",p,jo),document.removeEventListener("touchmove",p,jo),document.removeEventListener("touchstart",v,jo)}},[]);var C=r.removeScrollBar,P=r.inert;return I.createElement(I.Fragment,null,P?I.createElement(c,{styles:kV(o)}):null,C?I.createElement(xV,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function LV(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const UV=dV(ax,jV);var fx=I.forwardRef(function(r,e){return I.createElement(pd,Br({},r,{ref:e,sideCar:UV}))});fx.classNames=pd.classNames;var zV=[" ","Enter","ArrowUp","ArrowDown"],BV=[" ","Enter"],ja="Select",[gd,yd,qV]=RA(ja),[vl,h6]=Ba(ja,[qV,KA]),vd=KA(),[HV,zs]=vl(ja),[FV,GV]=vl(ja),hx=r=>{const{__scopeSelect:e,children:t,open:s,defaultOpen:o,onOpenChange:c,value:u,defaultValue:d,onValueChange:p,dir:g,name:v,autoComplete:E,disabled:T,required:C,form:P}=r,R=vd(e),[N,F]=I.useState(null),[V,z]=I.useState(null),[Z,ee]=I.useState(!1),ce=By(g),[D,A]=eu({prop:s,defaultProp:o??!1,onChange:c,caller:ja}),[O,j]=eu({prop:u,defaultProp:d,onChange:p,caller:ja}),U=I.useRef(null),B=N?P||!!N.closest("form"):!0,[M,ue]=I.useState(new Set),me=Array.from(M).map(q=>q.props.value).join(";");return _.jsx(F4,{...R,children:_.jsxs(HV,{required:C,scope:e,trigger:N,onTriggerChange:F,valueNode:V,onValueNodeChange:z,valueNodeHasChildren:Z,onValueNodeHasChildrenChange:ee,contentId:fd(),value:O,onValueChange:j,open:D,onOpenChange:A,dir:ce,triggerPointerDownPosRef:U,disabled:T,children:[_.jsx(gd.Provider,{scope:e,children:_.jsx(FV,{scope:r.__scopeSelect,onNativeOptionAdd:I.useCallback(q=>{ue(ne=>new Set(ne).add(q))},[]),onNativeOptionRemove:I.useCallback(q=>{ue(ne=>{const X=new Set(ne);return X.delete(q),X})},[]),children:t})}),B?_.jsxs(Px,{"aria-hidden":!0,required:C,tabIndex:-1,name:v,autoComplete:E,value:O,onChange:q=>j(q.target.value),disabled:T,form:P,children:[O===void 0?_.jsx("option",{value:""}):null,Array.from(M)]},me):null]})})};hx.displayName=ja;var dx="SelectTrigger",mx=I.forwardRef((r,e)=>{const{__scopeSelect:t,disabled:s=!1,...o}=r,c=vd(t),u=zs(dx,t),d=u.disabled||s,p=gt(e,u.onTriggerChange),g=yd(t),v=I.useRef("touch"),[E,T,C]=Vx(R=>{const N=g().filter(z=>!z.disabled),F=N.find(z=>z.value===u.value),V=jx(N,R,F);V!==void 0&&u.onValueChange(V.value)}),P=R=>{d||(u.onOpenChange(!0),C()),R&&(u.triggerPointerDownPosRef.current={x:Math.round(R.pageX),y:Math.round(R.pageY)})};return _.jsx(G4,{asChild:!0,...c,children:_.jsx(nt.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":kx(u.value)?"":void 0,...o,ref:p,onClick:et(o.onClick,R=>{R.currentTarget.focus(),v.current!=="mouse"&&P(R)}),onPointerDown:et(o.onPointerDown,R=>{v.current=R.pointerType;const N=R.target;N.hasPointerCapture(R.pointerId)&&N.releasePointerCapture(R.pointerId),R.button===0&&R.ctrlKey===!1&&R.pointerType==="mouse"&&(P(R),R.preventDefault())}),onKeyDown:et(o.onKeyDown,R=>{const N=E.current!=="";!(R.ctrlKey||R.altKey||R.metaKey)&&R.key.length===1&&T(R.key),!(N&&R.key===" ")&&zV.includes(R.key)&&(P(),R.preventDefault())})})})});mx.displayName=dx;var px="SelectValue",gx=I.forwardRef((r,e)=>{const{__scopeSelect:t,className:s,style:o,children:c,placeholder:u="",...d}=r,p=zs(px,t),{onValueNodeHasChildrenChange:g}=p,v=c!==void 0,E=gt(e,p.onValueNodeChange);return bn(()=>{g(v)},[g,v]),_.jsx(nt.span,{...d,ref:E,style:{pointerEvents:"none"},children:kx(p.value)?_.jsx(_.Fragment,{children:u}):c})});gx.displayName=px;var KV="SelectIcon",yx=I.forwardRef((r,e)=>{const{__scopeSelect:t,children:s,...o}=r;return _.jsx(nt.span,{"aria-hidden":!0,...o,ref:e,children:s||"▼"})});yx.displayName=KV;var QV="SelectPortal",vx=r=>_.jsx(tx,{asChild:!0,...r});vx.displayName=QV;var La="SelectContent",_x=I.forwardRef((r,e)=>{const t=zs(La,r.__scopeSelect),[s,o]=I.useState();if(bn(()=>{o(new DocumentFragment)},[]),!t.open){const c=s;return c?du.createPortal(_.jsx(bx,{scope:r.__scopeSelect,children:_.jsx(gd.Slot,{scope:r.__scopeSelect,children:_.jsx("div",{children:r.children})})}),c):null}return _.jsx(Ex,{...r,ref:e})});_x.displayName=La;var dr=10,[bx,Bs]=vl(La),YV="SelectContentImpl",$V=Bc("SelectContent.RemoveScroll"),Ex=I.forwardRef((r,e)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:c,onPointerDownOutside:u,side:d,sideOffset:p,align:g,alignOffset:v,arrowPadding:E,collisionBoundary:T,collisionPadding:C,sticky:P,hideWhenDetached:R,avoidCollisions:N,...F}=r,V=zs(La,t),[z,Z]=I.useState(null),[ee,ce]=I.useState(null),D=gt(e,de=>Z(de)),[A,O]=I.useState(null),[j,U]=I.useState(null),B=yd(t),[M,ue]=I.useState(!1),me=I.useRef(!1);I.useEffect(()=>{if(z)return rV(z)},[z]),gk();const q=I.useCallback(de=>{const[Se,...Xe]=B().map(ke=>ke.ref.current),[je]=Xe.slice(-1),Pe=document.activeElement;for(const ke of de)if(ke===Pe||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===Se&&ee&&(ee.scrollTop=0),ke===je&&ee&&(ee.scrollTop=ee.scrollHeight),ke==null||ke.focus(),document.activeElement!==Pe))return},[B,ee]),ne=I.useCallback(()=>q([A,z]),[q,A,z]);I.useEffect(()=>{M&&ne()},[M,ne]);const{onOpenChange:X,triggerPointerDownPosRef:Ee}=V;I.useEffect(()=>{if(z){let de={x:0,y:0};const Se=je=>{var Pe,ke;de={x:Math.abs(Math.round(je.pageX)-(((Pe=Ee.current)==null?void 0:Pe.x)??0)),y:Math.abs(Math.round(je.pageY)-(((ke=Ee.current)==null?void 0:ke.y)??0))}},Xe=je=>{de.x<=10&&de.y<=10?je.preventDefault():z.contains(je.target)||X(!1),document.removeEventListener("pointermove",Se),Ee.current=null};return Ee.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",Xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",Xe,{capture:!0})}}},[z,X,Ee]),I.useEffect(()=>{const de=()=>X(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[X]);const[L,re]=Vx(de=>{const Se=B().filter(Pe=>!Pe.disabled),Xe=Se.find(Pe=>Pe.ref.current===document.activeElement),je=jx(Se,de,Xe);je&&setTimeout(()=>je.ref.current.focus())}),fe=I.useCallback((de,Se,Xe)=>{const je=!me.current&&!Xe;(V.value!==void 0&&V.value===Se||je)&&(O(de),je&&(me.current=!0))},[V.value]),oe=I.useCallback(()=>z==null?void 0:z.focus(),[z]),pe=I.useCallback((de,Se,Xe)=>{const je=!me.current&&!Xe;(V.value!==void 0&&V.value===Se||je)&&U(de)},[V.value]),Re=s==="popper"?Pg:wx,we=Re===Pg?{side:d,sideOffset:p,align:g,alignOffset:v,arrowPadding:E,collisionBoundary:T,collisionPadding:C,sticky:P,hideWhenDetached:R,avoidCollisions:N}:{};return _.jsx(bx,{scope:t,content:z,viewport:ee,onViewportChange:ce,itemRefCallback:fe,selectedItem:A,onItemLeave:oe,itemTextRefCallback:pe,focusSelectedItem:ne,selectedItemText:j,position:s,isPositioned:M,searchRef:L,children:_.jsx(fx,{as:$V,allowPinchZoom:!0,children:_.jsx(DA,{asChild:!0,trapped:V.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:et(o,de=>{var Se;(Se=V.trigger)==null||Se.focus({preventScroll:!0}),de.preventDefault()}),children:_.jsx(IA,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>V.onOpenChange(!1),children:_.jsx(Re,{role:"listbox",id:V.contentId,"data-state":V.open?"open":"closed",dir:V.dir,onContextMenu:de=>de.preventDefault(),...F,...we,onPlaced:()=>ue(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...F.style},onKeyDown:et(F.onKeyDown,de=>{const Se=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!Se&&de.key.length===1&&re(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let je=B().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(de.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const Pe=de.target,ke=je.indexOf(Pe);je=je.slice(ke+1)}setTimeout(()=>q(je)),de.preventDefault()}})})})})})})});Ex.displayName=YV;var XV="SelectItemAlignedPosition",wx=I.forwardRef((r,e)=>{const{__scopeSelect:t,onPlaced:s,...o}=r,c=zs(La,t),u=Bs(La,t),[d,p]=I.useState(null),[g,v]=I.useState(null),E=gt(e,D=>v(D)),T=yd(t),C=I.useRef(!1),P=I.useRef(!0),{viewport:R,selectedItem:N,selectedItemText:F,focusSelectedItem:V}=u,z=I.useCallback(()=>{if(c.trigger&&c.valueNode&&d&&g&&R&&N&&F){const D=c.trigger.getBoundingClientRect(),A=g.getBoundingClientRect(),O=c.valueNode.getBoundingClientRect(),j=F.getBoundingClientRect();if(c.dir!=="rtl"){const Pe=j.left-A.left,ke=O.left-Pe,St=D.left-ke,Kt=D.width+St,ar=Math.max(Kt,A.width),wr=window.innerWidth-dr,Qt=iw(ke,[dr,Math.max(dr,wr-ar)]);d.style.minWidth=Kt+"px",d.style.left=Qt+"px"}else{const Pe=A.right-j.right,ke=window.innerWidth-O.right-Pe,St=window.innerWidth-D.right-ke,Kt=D.width+St,ar=Math.max(Kt,A.width),wr=window.innerWidth-dr,Qt=iw(ke,[dr,Math.max(dr,wr-ar)]);d.style.minWidth=Kt+"px",d.style.right=Qt+"px"}const U=T(),B=window.innerHeight-dr*2,M=R.scrollHeight,ue=window.getComputedStyle(g),me=parseInt(ue.borderTopWidth,10),q=parseInt(ue.paddingTop,10),ne=parseInt(ue.borderBottomWidth,10),X=parseInt(ue.paddingBottom,10),Ee=me+q+M+X+ne,L=Math.min(N.offsetHeight*5,Ee),re=window.getComputedStyle(R),fe=parseInt(re.paddingTop,10),oe=parseInt(re.paddingBottom,10),pe=D.top+D.height/2-dr,Re=B-pe,we=N.offsetHeight/2,de=N.offsetTop+we,Se=me+q+de,Xe=Ee-Se;if(Se<=pe){const Pe=U.length>0&&N===U[U.length-1].ref.current;d.style.bottom="0px";const ke=g.clientHeight-R.offsetTop-R.offsetHeight,St=Math.max(Re,we+(Pe?oe:0)+ke+ne),Kt=Se+St;d.style.height=Kt+"px"}else{const Pe=U.length>0&&N===U[0].ref.current;d.style.top="0px";const St=Math.max(pe,me+R.offsetTop+(Pe?fe:0)+we)+Xe;d.style.height=St+"px",R.scrollTop=Se-pe+R.offsetTop}d.style.margin=`${dr}px 0`,d.style.minHeight=L+"px",d.style.maxHeight=B+"px",s==null||s(),requestAnimationFrame(()=>C.current=!0)}},[T,c.trigger,c.valueNode,d,g,R,N,F,c.dir,s]);bn(()=>z(),[z]);const[Z,ee]=I.useState();bn(()=>{g&&ee(window.getComputedStyle(g).zIndex)},[g]);const ce=I.useCallback(D=>{D&&P.current===!0&&(z(),V==null||V(),P.current=!1)},[z,V]);return _.jsx(ZV,{scope:t,contentWrapper:d,shouldExpandOnScrollRef:C,onScrollButtonChange:ce,children:_.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Z},children:_.jsx(nt.div,{...o,ref:E,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});wx.displayName=XV;var WV="SelectPopperPosition",Pg=I.forwardRef((r,e)=>{const{__scopeSelect:t,align:s="start",collisionPadding:o=dr,...c}=r,u=vd(t);return _.jsx(K4,{...u,...c,ref:e,align:s,collisionPadding:o,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Pg.displayName=WV;var[ZV,Jy]=vl(La,{}),kg="SelectViewport",Tx=I.forwardRef((r,e)=>{const{__scopeSelect:t,nonce:s,...o}=r,c=Bs(kg,t),u=Jy(kg,t),d=gt(e,c.onViewportChange),p=I.useRef(0);return _.jsxs(_.Fragment,{children:[_.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),_.jsx(gd.Slot,{scope:t,children:_.jsx(nt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:et(o.onScroll,g=>{const v=g.currentTarget,{contentWrapper:E,shouldExpandOnScrollRef:T}=u;if(T!=null&&T.current&&E){const C=Math.abs(p.current-v.scrollTop);if(C>0){const P=window.innerHeight-dr*2,R=parseFloat(E.style.minHeight),N=parseFloat(E.style.height),F=Math.max(R,N);if(F<P){const V=F+C,z=Math.min(P,V),Z=V-z;E.style.height=z+"px",E.style.bottom==="0px"&&(v.scrollTop=Z>0?Z:0,E.style.justifyContent="flex-end")}}}p.current=v.scrollTop})})})]})});Tx.displayName=kg;var Sx="SelectGroup",[JV,e3]=vl(Sx),t3=I.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r,o=fd();return _.jsx(JV,{scope:t,id:o,children:_.jsx(nt.div,{role:"group","aria-labelledby":o,...s,ref:e})})});t3.displayName=Sx;var Ax="SelectLabel",n3=I.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r,o=e3(Ax,t);return _.jsx(nt.div,{id:o.id,...s,ref:e})});n3.displayName=Ax;var jh="SelectItem",[r3,xx]=vl(jh),Rx=I.forwardRef((r,e)=>{const{__scopeSelect:t,value:s,disabled:o=!1,textValue:c,...u}=r,d=zs(jh,t),p=Bs(jh,t),g=d.value===s,[v,E]=I.useState(c??""),[T,C]=I.useState(!1),P=gt(e,V=>{var z;return(z=p.itemRefCallback)==null?void 0:z.call(p,V,s,o)}),R=fd(),N=I.useRef("touch"),F=()=>{o||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return _.jsx(r3,{scope:t,value:s,disabled:o,textId:R,isSelected:g,onItemTextChange:I.useCallback(V=>{E(z=>z||((V==null?void 0:V.textContent)??"").trim())},[]),children:_.jsx(gd.ItemSlot,{scope:t,value:s,disabled:o,textValue:v,children:_.jsx(nt.div,{role:"option","aria-labelledby":R,"data-highlighted":T?"":void 0,"aria-selected":g&&T,"data-state":g?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:P,onFocus:et(u.onFocus,()=>C(!0)),onBlur:et(u.onBlur,()=>C(!1)),onClick:et(u.onClick,()=>{N.current!=="mouse"&&F()}),onPointerUp:et(u.onPointerUp,()=>{N.current==="mouse"&&F()}),onPointerDown:et(u.onPointerDown,V=>{N.current=V.pointerType}),onPointerMove:et(u.onPointerMove,V=>{var z;N.current=V.pointerType,o?(z=p.onItemLeave)==null||z.call(p):N.current==="mouse"&&V.currentTarget.focus({preventScroll:!0})}),onPointerLeave:et(u.onPointerLeave,V=>{var z;V.currentTarget===document.activeElement&&((z=p.onItemLeave)==null||z.call(p))}),onKeyDown:et(u.onKeyDown,V=>{var Z;((Z=p.searchRef)==null?void 0:Z.current)!==""&&V.key===" "||(BV.includes(V.key)&&F(),V.key===" "&&V.preventDefault())})})})})});Rx.displayName=jh;var Pc="SelectItemText",Cx=I.forwardRef((r,e)=>{const{__scopeSelect:t,className:s,style:o,...c}=r,u=zs(Pc,t),d=Bs(Pc,t),p=xx(Pc,t),g=GV(Pc,t),[v,E]=I.useState(null),T=gt(e,F=>E(F),p.onItemTextChange,F=>{var V;return(V=d.itemTextRefCallback)==null?void 0:V.call(d,F,p.value,p.disabled)}),C=v==null?void 0:v.textContent,P=I.useMemo(()=>_.jsx("option",{value:p.value,disabled:p.disabled,children:C},p.value),[p.disabled,p.value,C]),{onNativeOptionAdd:R,onNativeOptionRemove:N}=g;return bn(()=>(R(P),()=>N(P)),[R,N,P]),_.jsxs(_.Fragment,{children:[_.jsx(nt.span,{id:p.textId,...c,ref:T}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?du.createPortal(c.children,u.valueNode):null]})});Cx.displayName=Pc;var Ix="SelectItemIndicator",Nx=I.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r;return xx(Ix,t).isSelected?_.jsx(nt.span,{"aria-hidden":!0,...s,ref:e}):null});Nx.displayName=Ix;var Vg="SelectScrollUpButton",Dx=I.forwardRef((r,e)=>{const t=Bs(Vg,r.__scopeSelect),s=Jy(Vg,r.__scopeSelect),[o,c]=I.useState(!1),u=gt(e,s.onScrollButtonChange);return bn(()=>{if(t.viewport&&t.isPositioned){let d=function(){const g=p.scrollTop>0;c(g)};const p=t.viewport;return d(),p.addEventListener("scroll",d),()=>p.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),o?_.jsx(Mx,{...r,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:p}=t;d&&p&&(d.scrollTop=d.scrollTop-p.offsetHeight)}}):null});Dx.displayName=Vg;var jg="SelectScrollDownButton",Ox=I.forwardRef((r,e)=>{const t=Bs(jg,r.__scopeSelect),s=Jy(jg,r.__scopeSelect),[o,c]=I.useState(!1),u=gt(e,s.onScrollButtonChange);return bn(()=>{if(t.viewport&&t.isPositioned){let d=function(){const g=p.scrollHeight-p.clientHeight,v=Math.ceil(p.scrollTop)<g;c(v)};const p=t.viewport;return d(),p.addEventListener("scroll",d),()=>p.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),o?_.jsx(Mx,{...r,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:p}=t;d&&p&&(d.scrollTop=d.scrollTop+p.offsetHeight)}}):null});Ox.displayName=jg;var Mx=I.forwardRef((r,e)=>{const{__scopeSelect:t,onAutoScroll:s,...o}=r,c=Bs("SelectScrollButton",t),u=I.useRef(null),d=yd(t),p=I.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return I.useEffect(()=>()=>p(),[p]),bn(()=>{var v;const g=d().find(E=>E.ref.current===document.activeElement);(v=g==null?void 0:g.ref.current)==null||v.scrollIntoView({block:"nearest"})},[d]),_.jsx(nt.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:et(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(s,50))}),onPointerMove:et(o.onPointerMove,()=>{var g;(g=c.onItemLeave)==null||g.call(c),u.current===null&&(u.current=window.setInterval(s,50))}),onPointerLeave:et(o.onPointerLeave,()=>{p()})})}),i3="SelectSeparator",s3=I.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r;return _.jsx(nt.div,{"aria-hidden":!0,...s,ref:e})});s3.displayName=i3;var Lg="SelectArrow",a3=I.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r,o=vd(t),c=zs(Lg,t),u=Bs(Lg,t);return c.open&&u.position==="popper"?_.jsx(Q4,{...o,...s,ref:e}):null});a3.displayName=Lg;var o3="SelectBubbleInput",Px=I.forwardRef(({__scopeSelect:r,value:e,...t},s)=>{const o=I.useRef(null),c=gt(s,o),u=Zy(e);return I.useEffect(()=>{const d=o.current;if(!d)return;const p=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==e&&v){const E=new Event("change",{bubbles:!0});v.call(d,e),d.dispatchEvent(E)}},[u,e]),_.jsx(nt.select,{...t,style:{...nx,...t.style},ref:c,defaultValue:e})});Px.displayName=o3;function kx(r){return r===""||r===void 0}function Vx(r){const e=Ps(r),t=I.useRef(""),s=I.useRef(0),o=I.useCallback(u=>{const d=t.current+u;e(d),function p(g){t.current=g,window.clearTimeout(s.current),g!==""&&(s.current=window.setTimeout(()=>p(""),1e3))}(d)},[e]),c=I.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return I.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,o,c]}function jx(r,e,t){const o=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,c=t?r.indexOf(t):-1;let u=l3(r,Math.max(c,0));o.length===1&&(u=u.filter(g=>g!==t));const p=u.find(g=>g.textValue.toLowerCase().startsWith(o.toLowerCase()));return p!==t?p:void 0}function l3(r,e){return r.map((t,s)=>r[(e+s)%r.length])}var c3=hx,u3=mx,f3=gx,h3=yx,d3=vx,m3=_x,p3=Tx,g3=Rx,y3=Cx,v3=Nx,_3=Dx,b3=Ox;function Rw({...r}){return _.jsx(c3,{"data-slot":"select",...r})}function Cw({...r}){return _.jsx(f3,{"data-slot":"select-value",...r})}function Iw({className:r,size:e="default",children:t,...s}){return _.jsxs(u3,{"data-slot":"select-trigger","data-size":e,className:Gt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...s,children:[t,_.jsx(h3,{asChild:!0,children:_.jsx(Zw,{className:"size-4 opacity-50"})})]})}function Nw({className:r,children:e,position:t="popper",...s}){return _.jsx(d3,{children:_.jsxs(m3,{"data-slot":"select-content",className:Gt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:t,...s,children:[_.jsx(E3,{}),_.jsx(p3,{className:Gt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),_.jsx(w3,{})]})})}function Dw({className:r,children:e,...t}){return _.jsxs(g3,{"data-slot":"select-item",className:Gt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...t,children:[_.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:_.jsx(v3,{children:_.jsx(VC,{className:"size-4"})})}),_.jsx(y3,{children:e})]})}function E3({className:r,...e}){return _.jsx(_3,{"data-slot":"select-scroll-up-button",className:Gt("flex cursor-default items-center justify-center py-1",r),...e,children:_.jsx(UC,{className:"size-4"})})}function w3({className:r,...e}){return _.jsx(b3,{"data-slot":"select-scroll-down-button",className:Gt("flex cursor-default items-center justify-center py-1",r),...e,children:_.jsx(Zw,{className:"size-4"})})}var Wp="rovingFocusGroup.onEntryFocus",T3={bubbles:!1,cancelable:!0},pu="RovingFocusGroup",[Ug,Lx,S3]=RA(pu),[A3,Ux]=Ba(pu,[S3]),[x3,R3]=A3(pu),zx=I.forwardRef((r,e)=>_.jsx(Ug.Provider,{scope:r.__scopeRovingFocusGroup,children:_.jsx(Ug.Slot,{scope:r.__scopeRovingFocusGroup,children:_.jsx(C3,{...r,ref:e})})}));zx.displayName=pu;var C3=I.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,orientation:s,loop:o=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:p,onEntryFocus:g,preventScrollOnEntryFocus:v=!1,...E}=r,T=I.useRef(null),C=gt(e,T),P=By(c),[R,N]=eu({prop:u,defaultProp:d??null,onChange:p,caller:pu}),[F,V]=I.useState(!1),z=Ps(g),Z=Lx(t),ee=I.useRef(!1),[ce,D]=I.useState(0);return I.useEffect(()=>{const A=T.current;if(A)return A.addEventListener(Wp,z),()=>A.removeEventListener(Wp,z)},[z]),_.jsx(x3,{scope:t,orientation:s,dir:P,loop:o,currentTabStopId:R,onItemFocus:I.useCallback(A=>N(A),[N]),onItemShiftTab:I.useCallback(()=>V(!0),[]),onFocusableItemAdd:I.useCallback(()=>D(A=>A+1),[]),onFocusableItemRemove:I.useCallback(()=>D(A=>A-1),[]),children:_.jsx(nt.div,{tabIndex:F||ce===0?-1:0,"data-orientation":s,...E,ref:C,style:{outline:"none",...r.style},onMouseDown:et(r.onMouseDown,()=>{ee.current=!0}),onFocus:et(r.onFocus,A=>{const O=!ee.current;if(A.target===A.currentTarget&&O&&!F){const j=new CustomEvent(Wp,T3);if(A.currentTarget.dispatchEvent(j),!j.defaultPrevented){const U=Z().filter(q=>q.focusable),B=U.find(q=>q.active),M=U.find(q=>q.id===R),me=[B,M,...U].filter(Boolean).map(q=>q.ref.current);Hx(me,v)}}ee.current=!1}),onBlur:et(r.onBlur,()=>V(!1))})})}),Bx="RovingFocusGroupItem",qx=I.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,focusable:s=!0,active:o=!1,tabStopId:c,children:u,...d}=r,p=fd(),g=c||p,v=R3(Bx,t),E=v.currentTabStopId===g,T=Lx(t),{onFocusableItemAdd:C,onFocusableItemRemove:P,currentTabStopId:R}=v;return I.useEffect(()=>{if(s)return C(),()=>P()},[s,C,P]),_.jsx(Ug.ItemSlot,{scope:t,id:g,focusable:s,active:o,children:_.jsx(nt.span,{tabIndex:E?0:-1,"data-orientation":v.orientation,...d,ref:e,onMouseDown:et(r.onMouseDown,N=>{s?v.onItemFocus(g):N.preventDefault()}),onFocus:et(r.onFocus,()=>v.onItemFocus(g)),onKeyDown:et(r.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){v.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const F=D3(N,v.orientation,v.dir);if(F!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let z=T().filter(Z=>Z.focusable).map(Z=>Z.ref.current);if(F==="last")z.reverse();else if(F==="prev"||F==="next"){F==="prev"&&z.reverse();const Z=z.indexOf(N.currentTarget);z=v.loop?O3(z,Z+1):z.slice(Z+1)}setTimeout(()=>Hx(z))}}),children:typeof u=="function"?u({isCurrentTabStop:E,hasTabStop:R!=null}):u})})});qx.displayName=Bx;var I3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function N3(r,e){return e!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function D3(r,e,t){const s=N3(r.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return I3[s]}function Hx(r,e=!1){const t=document.activeElement;for(const s of r)if(s===t||(s.focus({preventScroll:e}),document.activeElement!==t))return}function O3(r,e){return r.map((t,s)=>r[(e+s)%r.length])}var M3=zx,P3=qx;function k3(r,e){return I.useReducer((t,s)=>e[t][s]??t,r)}var Fx=r=>{const{present:e,children:t}=r,s=V3(e),o=typeof t=="function"?t({present:s.isPresent}):I.Children.only(t),c=gt(s.ref,j3(o));return typeof t=="function"||s.isPresent?I.cloneElement(o,{ref:c}):null};Fx.displayName="Presence";function V3(r){const[e,t]=I.useState(),s=I.useRef(null),o=I.useRef(r),c=I.useRef("none"),u=r?"mounted":"unmounted",[d,p]=k3(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const g=Jf(s.current);c.current=d==="mounted"?g:"none"},[d]),bn(()=>{const g=s.current,v=o.current;if(v!==r){const T=c.current,C=Jf(g);r?p("MOUNT"):C==="none"||(g==null?void 0:g.display)==="none"?p("UNMOUNT"):p(v&&T!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=r}},[r,p]),bn(()=>{if(e){let g;const v=e.ownerDocument.defaultView??window,E=C=>{const R=Jf(s.current).includes(C.animationName);if(C.target===e&&R&&(p("ANIMATION_END"),!o.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",g=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},T=C=>{C.target===e&&(c.current=Jf(s.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",E),e.addEventListener("animationend",E),()=>{v.clearTimeout(g),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",E),e.removeEventListener("animationend",E)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:I.useCallback(g=>{s.current=g?getComputedStyle(g):null,t(g)},[])}}function Jf(r){return(r==null?void 0:r.animationName)||"none"}function j3(r){var s,o;let e=(s=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var ev="Radio",[L3,Gx]=Ba(ev),[U3,z3]=L3(ev),Kx=I.forwardRef((r,e)=>{const{__scopeRadio:t,name:s,checked:o=!1,required:c,disabled:u,value:d="on",onCheck:p,form:g,...v}=r,[E,T]=I.useState(null),C=gt(e,N=>T(N)),P=I.useRef(!1),R=E?g||!!E.closest("form"):!0;return _.jsxs(U3,{scope:t,checked:o,disabled:u,children:[_.jsx(nt.button,{type:"button",role:"radio","aria-checked":o,"data-state":Xx(o),"data-disabled":u?"":void 0,disabled:u,value:d,...v,ref:C,onClick:et(r.onClick,N=>{o||p==null||p(),R&&(P.current=N.isPropagationStopped(),P.current||N.stopPropagation())})}),R&&_.jsx($x,{control:E,bubbles:!P.current,name:s,value:d,checked:o,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});Kx.displayName=ev;var Qx="RadioIndicator",Yx=I.forwardRef((r,e)=>{const{__scopeRadio:t,forceMount:s,...o}=r,c=z3(Qx,t);return _.jsx(Fx,{present:s||c.checked,children:_.jsx(nt.span,{"data-state":Xx(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:e})})});Yx.displayName=Qx;var B3="RadioBubbleInput",$x=I.forwardRef(({__scopeRadio:r,control:e,checked:t,bubbles:s=!0,...o},c)=>{const u=I.useRef(null),d=gt(u,c),p=Zy(t),g=$y(e);return I.useEffect(()=>{const v=u.current;if(!v)return;const E=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(E,"checked").set;if(p!==t&&C){const P=new Event("click",{bubbles:s});C.call(v,t),v.dispatchEvent(P)}},[p,t,s]),_.jsx(nt.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:d,style:{...o.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});$x.displayName=B3;function Xx(r){return r?"checked":"unchecked"}var q3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_d="RadioGroup",[H3,d6]=Ba(_d,[Ux,Gx]),Wx=Ux(),Zx=Gx(),[F3,G3]=H3(_d),Jx=I.forwardRef((r,e)=>{const{__scopeRadioGroup:t,name:s,defaultValue:o,value:c,required:u=!1,disabled:d=!1,orientation:p,dir:g,loop:v=!0,onValueChange:E,...T}=r,C=Wx(t),P=By(g),[R,N]=eu({prop:c,defaultProp:o??null,onChange:E,caller:_d});return _.jsx(F3,{scope:t,name:s,required:u,disabled:d,value:R,onValueChange:N,children:_.jsx(M3,{asChild:!0,...C,orientation:p,dir:P,loop:v,children:_.jsx(nt.div,{role:"radiogroup","aria-required":u,"aria-orientation":p,"data-disabled":d?"":void 0,dir:P,...T,ref:e})})})});Jx.displayName=_d;var e1="RadioGroupItem",t1=I.forwardRef((r,e)=>{const{__scopeRadioGroup:t,disabled:s,...o}=r,c=G3(e1,t),u=c.disabled||s,d=Wx(t),p=Zx(t),g=I.useRef(null),v=gt(e,g),E=c.value===o.value,T=I.useRef(!1);return I.useEffect(()=>{const C=R=>{q3.includes(R.key)&&(T.current=!0)},P=()=>T.current=!1;return document.addEventListener("keydown",C),document.addEventListener("keyup",P),()=>{document.removeEventListener("keydown",C),document.removeEventListener("keyup",P)}},[]),_.jsx(P3,{asChild:!0,...d,focusable:!u,active:E,children:_.jsx(Kx,{disabled:u,required:c.required,checked:E,...p,...o,name:c.name,ref:v,onCheck:()=>c.onValueChange(o.value),onKeyDown:et(C=>{C.key==="Enter"&&C.preventDefault()}),onFocus:et(o.onFocus,()=>{var C;T.current&&((C=g.current)==null||C.click())})})})});t1.displayName=e1;var K3="RadioGroupIndicator",n1=I.forwardRef((r,e)=>{const{__scopeRadioGroup:t,...s}=r,o=Zx(t);return _.jsx(Yx,{...o,...s,ref:e})});n1.displayName=K3;var Q3=Jx,Y3=t1,$3=n1;function X3({className:r,...e}){return _.jsx(Q3,{"data-slot":"radio-group",className:Gt("grid gap-3",r),...e})}function Ow({className:r,...e}){return _.jsx(Y3,{"data-slot":"radio-group-item",className:Gt("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...e,children:_.jsx($3,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:_.jsx(FC,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function W3({user:r,onLogout:e}){const[t,s]=I.useState(null),[o,c]=I.useState(""),[u,d]=I.useState(""),[p,g]=I.useState("idle"),[v,E]=I.useState([]),[T,C]=I.useState(null),[P,R]=I.useState(null),[N,F]=I.useState(""),[V,z]=I.useState(!1),[Z,ee]=I.useState([]),ce=["Rua Júlio de Castilhos (Rua da Ladeira)","Rua Andrade Neves","Rua General Osório","Rua Barão do Rio Branco","Rua Marechal Deodoro","Rua Coronel Vicente","Rua Voluntários da Pátria","Rua Tiradentes","Rua Benjamin Constant","Avenida Independência"];I.useEffect(()=>{(async()=>{r!=null&&r.id&&await userService.getById(r.id)})(),navigator.geolocation?navigator.geolocation.getCurrentPosition(q=>{s({lat:q.coords.latitude,lng:q.coords.longitude})},q=>{console.error("Erro ao obter localização:",q),s({lat:-29.9897,lng:-52.3789})}):s({lat:-29.9897,lng:-52.3789});let me=null;return r!=null&&r.id&&(me=mr.onUserRequestsChange(r.id,q=>{ee(q);const ne=q.find(X=>X.status==="priceProposed");ne&&p==="waitingPrice"&&(R(ne.proposedPrice),C(ne.driver),g("priceReceived"))})),()=>{me&&me()}},[r==null?void 0:r.id,p]);const D=async()=>{if(!o.trim()||!u.trim()){alert("Por favor, selecione a rua de origem e destino!");return}if(o===u){alert("A rua de origem e destino não podem ser iguais!");return}z(!0),g("requesting");try{const ue=await Di.getAvailable();if(console.log("Motoristas disponíveis encontrados:",ue.length),ue.length===0){alert("Nenhum motorista disponível no momento. Tente novamente em alguns minutos."),z(!1),g("idle");return}const me=ue.map(q=>({...q,distance:`${(Math.random()*5+.5).toFixed(1)} km`,eta:`${Math.floor(Math.random()*10+2)} min`,rating:q.rating||"4.8"}));E(me),z(!1)}catch(ue){console.error("Erro ao buscar motoristas:",ue),alert("Erro ao buscar motoristas. Tente novamente."),z(!1),g("idle")}},A=async ue=>{C(ue),g("waitingPrice");try{const me={userId:r.id,userName:r.name,userPhone:r.phone,driverId:ue.id,driver:ue,origin:o,destination:u,status:"waitingPrice"};await mr.create(me)}catch(me){console.error("Erro ao criar solicitação:",me),alert("Erro ao enviar solicitação. Tente novamente."),g("requesting")}},O=async()=>{if(!N){alert("Por favor, selecione uma forma de pagamento!");return}try{g("matched");const me=(await mr.getByUser(r.id)).find(q=>q.status==="priceProposed");me&&await mr.update(me.id,{status:"accepted",paymentMethod:N,acceptedPrice:P})}catch(ue){console.error("Erro ao aceitar preço:",ue),alert("Erro ao aceitar preço. Tente novamente."),g("priceReceived")}},j=async()=>{try{const me=(await mr.getByUser(r.id)).find(q=>q.status==="priceProposed");me&&await mr.update(me.id,{status:"rejected"}),g("requesting"),C(null),R(null),F("")}catch(ue){console.error("Erro ao rejeitar preço:",ue),alert("Erro ao rejeitar preço. Tente novamente.")}},U=()=>{g("inProgress");const me=JSON.parse(localStorage.getItem("rides")||"[]").map(q=>q.userId===r.id&&q.status==="accepted"?{...q,status:"inProgress"}:q);localStorage.setItem("rides",JSON.stringify(me))},B=()=>{const me=JSON.parse(localStorage.getItem("rideRequests")||"[]").map(q=>q.userId===r.id&&(q.status==="waitingPrice"||q.status==="priceProposed")?{...q,status:"cancelled"}:q);localStorage.setItem("rideRequests",JSON.stringify(me)),g("idle"),C(null),E([]),R(null),F(""),c(""),d("")},M=()=>{switch(p){case"requesting":return"Procurando motoristas...";case"waitingPrice":return`Aguardando proposta de preço de ${T==null?void 0:T.name}...`;case"priceReceived":return`${T==null?void 0:T.name} enviou uma proposta de preço`;case"matched":return`Corrida confirmada com ${T==null?void 0:T.name}`;case"inProgress":return"Corrida em andamento";default:return"Solicitar corrida"}};return _.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx("div",{className:"bg-white shadow-sm border-b",children:_.jsxs("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:_.jsx(tu,{className:"w-5 h-5 text-blue-600"})}),_.jsxs("div",{children:[_.jsxs("h1",{className:"font-semibold text-gray-900",children:["Olá, ",r.name]}),_.jsx("p",{className:"text-sm text-gray-500",children:"Rio Pardo-RS"})]})]}),_.jsx(kt,{variant:"ghost",size:"sm",onClick:e,children:_.jsx(nT,{className:"w-4 h-4"})})]})}),_.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-4",children:[_.jsxs(wt,{children:[_.jsx(en,{children:_.jsxs(tn,{className:"flex items-center space-x-2",children:[_.jsx(tg,{className:"w-5 h-5"}),_.jsx("span",{children:"Sua localização"})]})}),_.jsx(Pt,{children:_.jsxs("div",{className:"bg-gradient-to-br from-blue-100 to-green-100 rounded-lg h-48 flex items-center justify-center relative",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-4xl mb-2",children:"🗺️"}),_.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Rio Pardo - RS"}),t&&_.jsxs("div",{className:"mt-2",children:[_.jsx("p",{className:"text-xs text-green-600",children:"📍 GPS Ativo"}),_.jsxs("p",{className:"text-xs text-gray-500",children:[t.lat.toFixed(4),", ",t.lng.toFixed(4)]})]})]}),t&&_.jsx("div",{className:"absolute top-2 right-2 bg-white px-2 py-1 rounded text-xs shadow",children:"GPS ON"})]})})]}),_.jsxs(wt,{children:[_.jsx(en,{children:_.jsxs(tn,{className:"flex items-center space-x-2",children:[_.jsx(XC,{className:"w-5 h-5"}),_.jsx("span",{children:"Solicitar corrida"})]})}),_.jsxs(Pt,{className:"space-y-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx(On,{htmlFor:"origin",children:"De onde você está?"}),_.jsxs(Rw,{value:o,onValueChange:c,disabled:p!=="idle",children:[_.jsx(Iw,{children:_.jsx(Cw,{placeholder:"Selecione sua rua atual"})}),_.jsx(Nw,{children:ce.map((ue,me)=>_.jsx(Dw,{value:ue,children:ue},me))})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(On,{htmlFor:"destination",children:"Para onde você quer ir?"}),_.jsxs(Rw,{value:u,onValueChange:d,disabled:p!=="idle",children:[_.jsx(Iw,{children:_.jsx(Cw,{placeholder:"Selecione o destino"})}),_.jsx(Nw,{children:ce.filter(ue=>ue!==o).map((ue,me)=>_.jsx(Dw,{value:ue,children:ue},me))})]})]}),p==="idle"&&_.jsx(kt,{onClick:D,className:"w-full bg-blue-600 hover:bg-blue-700",disabled:V||!o.trim()||!u.trim(),children:V?"Procurando...":"Buscar Motoristas"}),p!=="idle"&&p!=="inProgress"&&_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[_.jsx(eT,{className:"w-4 h-4 text-blue-600"}),_.jsx("span",{children:M()})]}),_.jsx(kt,{onClick:B,variant:"outline",className:"w-full",children:"Cancelar corrida"})]})]})]}),p==="requesting"&&v.length>0&&_.jsxs(wt,{children:[_.jsxs(en,{children:[_.jsx(tn,{children:"Motoristas Disponíveis"}),_.jsx(Oi,{children:"Selecione um motorista para solicitar o preço da corrida"})]}),_.jsx(Pt,{className:"space-y-3",children:v.map(ue=>_.jsx("div",{onClick:()=>A(ue),className:"p-3 border border-gray-200 rounded-lg hover:bg-blue-50 cursor-pointer transition-colors",children:_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{className:"flex items-start space-x-3",children:[_.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:_.jsx(qr,{className:"w-5 h-5 text-gray-600"})}),_.jsxs("div",{children:[_.jsx("p",{className:"font-semibold text-gray-900",children:ue.name}),_.jsx("p",{className:"text-sm text-gray-600",children:ue.vehicle}),_.jsxs("p",{className:"text-sm text-gray-500",children:["Placa: ",ue.plate]}),_.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[_.jsx(eh,{className:"w-3 h-3 text-yellow-500 fill-current"}),_.jsx("span",{className:"text-xs text-gray-600",children:ue.rating})]})]})]}),_.jsxs("div",{className:"text-right",children:[_.jsx("p",{className:"text-sm font-semibold text-blue-600",children:ue.distance}),_.jsx("p",{className:"text-xs text-gray-500",children:ue.eta})]})]})},ue.id))})]}),p==="waitingPrice"&&T&&_.jsxs(wt,{className:"border-yellow-200 bg-yellow-50",children:[_.jsx(en,{children:_.jsx(tn,{className:"text-yellow-900",children:"Aguardando Proposta"})}),_.jsxs(Pt,{className:"space-y-3",children:[_.jsx("div",{className:"p-3 bg-white border border-yellow-200 rounded-lg",children:_.jsxs("div",{className:"flex items-start space-x-3",children:[_.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:_.jsx(qr,{className:"w-5 h-5 text-yellow-600"})}),_.jsxs("div",{children:[_.jsx("p",{className:"font-semibold text-yellow-900",children:T.name}),_.jsx("p",{className:"text-sm text-yellow-700",children:T.vehicle}),_.jsxs("p",{className:"text-sm text-yellow-600",children:["Placa: ",T.plate]})]})]})}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-2xl mb-2",children:"⏳"}),_.jsx("p",{className:"text-sm text-yellow-700",children:"O motorista está analisando sua solicitação e enviará o preço em breve"}),_.jsxs("p",{className:"text-xs text-yellow-600 mt-1",children:["De: ",o]}),_.jsxs("p",{className:"text-xs text-yellow-600",children:["Para: ",u]})]})]})]}),p==="priceReceived"&&T&&P&&_.jsxs(wt,{className:"border-green-200 bg-green-50",children:[_.jsx(en,{children:_.jsx(tn,{className:"text-green-900",children:"Proposta de Preço Recebida"})}),_.jsxs(Pt,{className:"space-y-4",children:[_.jsx("div",{className:"p-3 bg-white border border-green-200 rounded-lg",children:_.jsxs("div",{className:"flex items-start space-x-3",children:[_.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:_.jsx(qr,{className:"w-5 h-5 text-green-600"})}),_.jsxs("div",{className:"flex-1",children:[_.jsx("p",{className:"font-semibold text-green-900",children:T.name}),_.jsx("p",{className:"text-sm text-green-700",children:T.vehicle}),_.jsxs("p",{className:"text-sm text-green-600",children:["Placa: ",T.plate]}),_.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[_.jsx(eh,{className:"w-3 h-3 text-yellow-500 fill-current"}),_.jsx("span",{className:"text-xs text-green-600",children:T.rating})]})]})]})}),_.jsxs("div",{className:"p-4 bg-white border-2 border-green-300 rounded-lg text-center",children:[_.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[_.jsx(tT,{className:"w-6 h-6 text-green-600"}),_.jsxs("span",{className:"text-3xl font-bold text-green-900",children:["R$ ",P]})]}),_.jsx("p",{className:"text-sm text-green-700",children:"Preço proposto para a corrida"}),_.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["De: ",o]}),_.jsxs("p",{className:"text-xs text-green-600",children:["Para: ",u]})]}),_.jsxs("div",{className:"space-y-3",children:[_.jsx(On,{children:"Forma de Pagamento:"}),_.jsxs(X3,{value:N,onValueChange:F,children:[_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx(Ow,{value:"pix",id:"pix"}),_.jsx(On,{htmlFor:"pix",className:"flex-1",children:_.jsxs("div",{children:[_.jsx("p",{className:"font-medium",children:"PIX"}),_.jsx("p",{className:"text-sm text-gray-600",children:T.pixKey})]})})]}),_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx(Ow,{value:"dinheiro",id:"dinheiro"}),_.jsx(On,{htmlFor:"dinheiro",children:"Dinheiro"})]})]})]}),_.jsxs("div",{className:"flex space-x-2",children:[_.jsxs(kt,{onClick:O,disabled:!N,className:"flex-1 bg-green-600 hover:bg-green-700",children:[_.jsx(Jw,{className:"w-4 h-4 mr-2"}),"Aceitar R$ ",P]}),_.jsxs(kt,{onClick:j,variant:"outline",className:"flex-1 border-red-300 text-red-700 hover:bg-red-50",children:[_.jsx(qC,{className:"w-4 h-4 mr-2"}),"Recusar"]})]})]})]}),p==="matched"&&T&&_.jsxs(wt,{className:"border-blue-200 bg-blue-50",children:[_.jsx(en,{children:_.jsx(tn,{className:"text-blue-900",children:"Corrida Confirmada"})}),_.jsxs(Pt,{className:"space-y-4",children:[_.jsx("div",{className:"p-3 bg-white border border-blue-200 rounded-lg",children:_.jsxs("div",{className:"flex items-start space-x-3",children:[_.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:_.jsx(qr,{className:"w-5 h-5 text-blue-600"})}),_.jsxs("div",{children:[_.jsx("p",{className:"font-semibold text-blue-900",children:T.name}),_.jsx("p",{className:"text-sm text-blue-700",children:T.vehicle}),_.jsxs("p",{className:"text-sm text-blue-600",children:["Placa: ",T.plate]}),_.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[_.jsx(eh,{className:"w-3 h-3 text-yellow-500 fill-current"}),_.jsx("span",{className:"text-xs text-blue-600",children:T.rating})]})]})]})}),_.jsxs("div",{className:"p-3 bg-white border border-blue-200 rounded-lg",children:[_.jsxs("p",{className:"text-sm text-blue-700",children:[_.jsx("strong",{children:"Preço acordado:"})," R$ ",P]}),_.jsxs("p",{className:"text-sm text-blue-700",children:[_.jsx("strong",{children:"Pagamento:"})," ",N==="pix"?`PIX - ${T.pixKey}`:"Dinheiro"]}),_.jsxs("p",{className:"text-sm text-blue-700",children:[_.jsx("strong",{children:"De:"})," ",o]}),_.jsxs("p",{className:"text-sm text-blue-700",children:[_.jsx("strong",{children:"Para:"})," ",u]})]}),_.jsx(kt,{onClick:U,className:"w-full bg-blue-600 hover:bg-blue-700",children:"Iniciar Corrida"})]})]}),p==="inProgress"&&T&&_.jsxs(wt,{children:[_.jsx(en,{children:_.jsx(tn,{className:"text-green-700",children:"Corrida em Andamento"})}),_.jsxs(Pt,{className:"space-y-3",children:[_.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[_.jsxs("p",{className:"text-sm text-green-700",children:[_.jsx("strong",{children:"Preço:"})," R$ ",P]}),_.jsxs("p",{className:"text-sm text-green-700",children:[_.jsx("strong",{children:"Destino:"})," ",u]}),_.jsxs("p",{className:"text-sm text-green-700",children:[_.jsx("strong",{children:"Motorista:"})," ",T.name]}),_.jsxs("p",{className:"text-sm text-green-700",children:[_.jsx("strong",{children:"Pagamento:"})," ",N==="pix"?`PIX - ${T.pixKey}`:"Dinheiro"]})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-2xl mb-2",children:"🚗💨"}),_.jsx("p",{className:"text-sm text-gray-600",children:"O motorista está a caminho do destino"})]})]})]})]})]})}function Z3({onBack:r,onLogin:e,onRegister:t}){const[s,o]=I.useState(!1),[c,u]=I.useState(""),d=async()=>{o(!0),u("");try{const p=new gr,v=(await ty(zy,p)).user,E={id:v.uid,name:v.displayName,email:v.email,phone:"",vehicle:"",cnh:"",year:"",pixKey:"",provider:"google",type:"driver",available:!1,trips:0,rating:"5.0",createdAt:new Date().toISOString(),photoURL:v.photoURL||null};console.log("Checking for existing driver in Firestore...");const T=await Di.getById(v.uid);T?(console.log("Driver found in Firestore, updating data."),await Di.update(v.uid,E),Object.assign(E,T)):(console.log("Driver not found in Firestore, creating new entry."),await Di.create(E)),localStorage.setItem("currentDriverId",v.uid),e(E),console.log("Google login process completed.")}catch(p){console.error("Erro no login com Google:",p),u("Erro ao fazer login com Google. Tente novamente.")}finally{o(!1)}};return _.jsxs(wt,{className:"w-full max-w-md mx-auto",children:[_.jsxs(en,{className:"space-y-1 text-center",children:[_.jsx(kt,{variant:"ghost",onClick:r,className:"absolute top-4 left-4",children:_.jsx(Lh,{className:"h-5 w-5"})}),_.jsx(tn,{className:"text-2xl",children:"Login do Motorista"}),_.jsx(Oi,{children:"Faça login para continuar"})]}),_.jsxs(Pt,{children:[_.jsxs("div",{className:"grid gap-4",children:[_.jsx(kt,{variant:"outline",className:"w-full",onClick:d,disabled:s,children:s?"Carregando...":"Login com Google"}),c&&_.jsx("p",{className:"text-red-500 text-sm text-center",children:c})]}),_.jsxs("div",{className:"mt-4 text-center text-sm",children:["Não tem uma conta?"," ",_.jsx("a",{href:"#",className:"underline",onClick:t,children:"Cadastre-se"})]})]})]})}function J3({onBack:r,onRegister:e}){const[t,s]=I.useState(!1),[o,c]=I.useState(""),u=async()=>{s(!0),c("");try{const d=new gr,g=(await ty(zy,d)).user,v={id:g.uid,name:g.displayName,email:g.email,phone:"",vehicle:"",cnh:"",year:"",pixKey:"",provider:"google",type:"driver",available:!1,trips:0,rating:"5.0",createdAt:new Date().toISOString(),photoURL:g.photoURL||null};await Di.getById(g.uid)?await Di.update(g.uid,v):await Di.create(v),localStorage.setItem("currentDriverId",g.uid),e(v)}catch(d){console.error("Erro no registro com Google:",d);let p="Erro ao registrar com Google. Tente novamente.";switch(d.code){case"auth/popup-closed-by-user":p="Registro cancelado. Por favor, tente novamente.";break;case"auth/cancelled-popup-request":p="Registro cancelado. Por favor, tente novamente.";break;case"auth/operation-not-allowed":p="O método de registro não está ativado no Firebase.";break;case"auth/network-request-failed":p="Erro de conexão. Verifique sua internet e tente novamente.";break;default:p=d.message}c(p)}finally{s(!1)}};return _.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center p-4",children:_.jsxs("div",{className:"w-full max-w-md",children:[_.jsxs(kt,{variant:"ghost",onClick:r,className:"mb-4",children:[_.jsx(Lh,{className:"w-4 h-4 mr-2"}),"Voltar"]}),_.jsxs(wt,{children:[_.jsxs(en,{className:"text-center",children:[_.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:_.jsx(qr,{className:"w-8 h-8 text-green-600"})}),_.jsx(tn,{className:"text-2xl",children:"Cadastro do Motorista"}),_.jsx(Oi,{children:"Crie sua conta com Google para aceitar corridas"})]}),_.jsxs(Pt,{className:"space-y-4",children:[o&&_.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:_.jsx("p",{className:"text-sm text-red-700",children:o})}),_.jsx(kt,{onClick:u,disabled:t,className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"lg",children:t?_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),_.jsx("span",{children:"Registrando..."})]}):_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[_.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),_.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),_.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),_.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),_.jsx("span",{children:"Registrar com Google"})]})}),_.jsx("div",{className:"text-center",children:_.jsx("p",{className:"text-sm text-gray-600",children:"Ao continuar, você concorda com nossos termos de uso"})})]})]})]})})}const e6=zw("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function t6({className:r,variant:e,asChild:t=!1,...s}){const o=t?jw:"span";return _.jsx(o,{"data-slot":"badge",className:Gt(e6({variant:e}),r),...s})}var bd="Switch",[n6,m6]=Ba(bd),[r6,i6]=n6(bd),r1=I.forwardRef((r,e)=>{const{__scopeSwitch:t,name:s,checked:o,defaultChecked:c,required:u,disabled:d,value:p="on",onCheckedChange:g,form:v,...E}=r,[T,C]=I.useState(null),P=gt(e,z=>C(z)),R=I.useRef(!1),N=T?v||!!T.closest("form"):!0,[F,V]=eu({prop:o,defaultProp:c??!1,onChange:g,caller:bd});return _.jsxs(r6,{scope:t,checked:F,disabled:d,children:[_.jsx(nt.button,{type:"button",role:"switch","aria-checked":F,"aria-required":u,"data-state":o1(F),"data-disabled":d?"":void 0,disabled:d,value:p,...E,ref:P,onClick:et(r.onClick,z=>{V(Z=>!Z),N&&(R.current=z.isPropagationStopped(),R.current||z.stopPropagation())})}),N&&_.jsx(a1,{control:T,bubbles:!R.current,name:s,value:p,checked:F,required:u,disabled:d,form:v,style:{transform:"translateX(-100%)"}})]})});r1.displayName=bd;var i1="SwitchThumb",s1=I.forwardRef((r,e)=>{const{__scopeSwitch:t,...s}=r,o=i6(i1,t);return _.jsx(nt.span,{"data-state":o1(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e})});s1.displayName=i1;var s6="SwitchBubbleInput",a1=I.forwardRef(({__scopeSwitch:r,control:e,checked:t,bubbles:s=!0,...o},c)=>{const u=I.useRef(null),d=gt(u,c),p=Zy(t),g=$y(e);return I.useEffect(()=>{const v=u.current;if(!v)return;const E=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(E,"checked").set;if(p!==t&&C){const P=new Event("click",{bubbles:s});C.call(v,t),v.dispatchEvent(P)}},[p,t,s]),_.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:d,style:{...o.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});a1.displayName=s6;function o1(r){return r?"checked":"unchecked"}var a6=r1,o6=s1;function l6({className:r,...e}){return _.jsx(a6,{"data-slot":"switch",className:Gt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...e,children:_.jsx(o6,{"data-slot":"switch-thumb",className:Gt("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function c6({onLogout:r}){const[e,t]=I.useState(!1),[s,o]=I.useState([]),[c,u]=I.useState(null),[d,p]=I.useState(0),[g,v]=I.useState({}),[E,T]=I.useState(null);I.useEffect(()=>{const V=localStorage.getItem("currentDriverId");if(!V){r();return}(async()=>{const Z=await Di.getById(V);Z?(T(Z),t(Z.available||!1)):r()})()},[r]),I.useEffect(()=>{E&&E.id&&(async()=>{try{await Di.update(E.id,{available:e})}catch(z){console.error("Erro ao atualizar disponibilidade:",z)}})()},[e,E]),I.useEffect(()=>{let V=null;return e&&(E!=null&&E.id)&&(console.log("Escutando solicitações para motorista:",E.id),V=mr.onPendingRequestsChange(z=>{console.log("Solicitações recebidas:",z.length);const Z=z.filter(ce=>ce.status==="waitingPrice"&&ce.driverId===E.id);console.log("Solicitações aguardando preço:",Z.length),o(Z);const ee=z.filter(ce=>ce.status==="accepted"&&ce.driverId===E.id);ee.length>0&&!c&&u(ee[0])})),()=>{V&&V()}},[e,E,c]);const C=(V,z)=>{v(Z=>({...Z,[V]:z}))},P=async V=>{const z=g[V.id];if(!z||z<=0){alert("Por favor, insira um preço válido!");return}try{await mr.update(V.id,{status:"priceProposed",proposedPrice:parseFloat(z)}),v(Z=>{const ee={...Z};return delete ee[V.id],ee}),alert(`Proposta de R$ ${z} enviada para ${V.userName}!`)}catch(Z){console.error("Erro ao enviar proposta:",Z),alert("Erro ao enviar proposta. Tente novamente.")}},R=async V=>{try{await mr.update(V,{status:"rejected"})}catch(z){console.error("Erro ao rejeitar corrida:",z),alert("Erro ao rejeitar corrida. Tente novamente.")}},N=async()=>{if(c)try{await mr.update(c.id,{status:"inProgress"}),u(V=>({...V,status:"inProgress"}))}catch(V){console.error("Erro ao iniciar corrida:",V),alert("Erro ao iniciar corrida. Tente novamente.")}},F=async()=>{if(c)try{const V=c.acceptedPrice||c.proposedPrice||0;p(z=>z+V),await mr.update(c.id,{status:"completed"}),u(null),alert(`Corrida finalizada! Você ganhou R$ ${V.toFixed(2)}`)}catch(V){console.error("Erro ao finalizar corrida:",V),alert("Erro ao finalizar corrida. Tente novamente.")}};return _.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx("div",{className:"bg-white shadow-sm border-b",children:_.jsxs("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:_.jsx(qr,{className:"w-5 h-5 text-green-600"})}),_.jsxs("div",{children:[_.jsxs("h1",{className:"font-semibold text-gray-900",children:["Olá, ",E==null?void 0:E.name]}),_.jsxs("p",{className:"text-sm text-gray-500",children:[E==null?void 0:E.vehicle," - ",E==null?void 0:E.plate]})]})]}),_.jsx(kt,{variant:"ghost",size:"sm",onClick:r,children:_.jsx(nT,{className:"w-4 h-4"})})]})}),_.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-4",children:[_.jsxs(wt,{children:[_.jsx(en,{children:_.jsxs(tn,{className:"flex items-center justify-between",children:[_.jsx("span",{children:"Status"}),_.jsx(t6,{variant:e?"default":"secondary",children:e?"Disponível":"Indisponível"})]})}),_.jsx(Pt,{children:_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx(l6,{checked:e,onCheckedChange:t}),_.jsx("span",{className:"text-sm",children:e?"Você está online e pode receber corridas":"Você está offline"})]})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsx(wt,{children:_.jsx(Pt,{className:"pt-6",children:_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx(eh,{className:"w-4 h-4 text-yellow-500"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-2xl font-bold",children:(E==null?void 0:E.rating)||"4.8"}),_.jsx("p",{className:"text-xs text-gray-500",children:"Avaliação"})]})]})})}),_.jsx(wt,{children:_.jsx(Pt,{className:"pt-6",children:_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx(qr,{className:"w-4 h-4 text-blue-500"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-2xl font-bold",children:(E==null?void 0:E.trips)||0}),_.jsx("p",{className:"text-xs text-gray-500",children:"Corridas"})]})]})})})]}),_.jsxs(wt,{children:[_.jsx(en,{children:_.jsxs(tn,{className:"flex items-center space-x-2",children:[_.jsx(tT,{className:"w-5 h-5"}),_.jsx("span",{children:"Ganhos de hoje"})]})}),_.jsx(Pt,{children:_.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["R$ ",d.toFixed(2)]})})]}),c&&_.jsxs(wt,{className:"border-blue-200 bg-blue-50",children:[_.jsx(en,{children:_.jsx(tn,{className:"text-blue-900",children:c.status==="inProgress"?"Corrida em andamento":"Corrida aceita"})}),_.jsxs(Pt,{className:"space-y-3",children:[_.jsx("div",{className:"p-3 bg-white border border-blue-200 rounded-lg",children:_.jsxs("div",{className:"flex items-start space-x-2",children:[_.jsx(tg,{className:"w-4 h-4 text-blue-600 mt-1"}),_.jsxs("div",{className:"flex-1",children:[_.jsxs("p",{className:"font-medium text-blue-900",children:["Passageiro: ",c.userName]}),_.jsxs("p",{className:"text-sm text-blue-700",children:["Telefone: ",c.userPhone]}),_.jsxs("p",{className:"text-sm text-blue-700",children:["De: ",c.origin]}),_.jsxs("p",{className:"text-sm text-blue-700",children:["Para: ",c.destination]}),_.jsxs("p",{className:"text-sm font-semibold text-green-700",children:["Preço: R$ ",(c.acceptedPrice||c.proposedPrice||0).toFixed(2)]}),_.jsxs("p",{className:"text-sm text-blue-600",children:["Pagamento: ",c.paymentMethod==="pix"?"PIX":"Dinheiro"]})]})]})}),c.status==="accepted"&&_.jsx(kt,{onClick:N,className:"w-full bg-blue-600 hover:bg-blue-700",children:"Iniciar corrida"}),c.status==="inProgress"&&_.jsxs(kt,{onClick:F,className:"w-full bg-green-600 hover:bg-green-700",children:[_.jsx(Jw,{className:"w-4 h-4 mr-2"}),"Finalizar corrida"]})]})]}),e&&s.length>0&&_.jsxs(wt,{className:"border-orange-200 bg-orange-50",children:[_.jsxs(en,{children:[_.jsx(tn,{className:"text-orange-900",children:"Solicitações de Corrida"}),_.jsx(Oi,{className:"text-orange-700",children:"Analise as solicitações e envie sua proposta de preço"})]}),_.jsx(Pt,{className:"space-y-4",children:s.map(V=>_.jsxs("div",{className:"space-y-3 p-4 bg-white rounded-lg border border-orange-200",children:[_.jsxs("div",{className:"flex items-start space-x-2",children:[_.jsx(tg,{className:"w-4 h-4 text-orange-600 mt-1"}),_.jsxs("div",{className:"flex-1",children:[_.jsxs("p",{className:"font-medium text-orange-900",children:["Passageiro: ",V.userName]}),_.jsxs("p",{className:"text-sm text-orange-700",children:["Telefone: ",V.userPhone]}),_.jsxs("p",{className:"text-sm text-orange-700",children:[_.jsx("strong",{children:"De:"})," ",V.origin]}),_.jsxs("p",{className:"text-sm text-orange-700",children:[_.jsx("strong",{children:"Para:"})," ",V.destination]})]})]}),_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx(eT,{className:"w-4 h-4 text-orange-600"}),_.jsxs("p",{className:"text-sm text-orange-700",children:["Solicitado há ",Math.floor((Date.now()-new Date(V.createdAt).getTime())/6e4)," min"]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(On,{htmlFor:`price-${V.id}`,className:"text-orange-900",children:"Qual o preço da corrida?"}),_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("span",{className:"text-lg font-semibold text-orange-900",children:"R$"}),_.jsx(xi,{id:`price-${V.id}`,type:"number",step:"0.01",min:"1",placeholder:"0,00",value:g[V.id]||"",onChange:z=>C(V.id,z.target.value),className:"flex-1"})]})]}),_.jsxs("div",{className:"flex space-x-2",children:[_.jsxs(kt,{onClick:()=>P(V),disabled:!g[V.id]||g[V.id]<=0,className:"flex-1 bg-orange-600 hover:bg-orange-700",children:[_.jsx(eI,{className:"w-4 h-4 mr-2"}),"Enviar Proposta"]}),_.jsx(kt,{onClick:()=>R(V.id),variant:"outline",className:"flex-1 border-red-300 text-red-700 hover:bg-red-50",children:"Recusar"})]})]},V.id))})]}),e&&s.length===0&&!c&&_.jsx(wt,{children:_.jsx(Pt,{className:"pt-6",children:_.jsxs("div",{className:"text-center text-gray-500",children:[_.jsx(qr,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),_.jsx("p",{className:"text-sm",children:"Aguardando solicitações de corrida..."}),_.jsx("p",{className:"text-xs mt-1",children:"Mantenha-se próximo ao centro da cidade"})]})})}),!e&&_.jsx(wt,{children:_.jsx(Pt,{className:"pt-6",children:_.jsxs("div",{className:"text-center text-gray-500",children:[_.jsx(qr,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),_.jsx("p",{className:"text-sm",children:"Você está offline"}),_.jsx("p",{className:"text-xs mt-1",children:"Ative seu status para receber corridas"})]})})})]})]})}function u6(){const[r,e]=I.useState("profile-selection"),[t,s]=I.useState(null),[o,c]=I.useState(null);I.useEffect(()=>{const R=localStorage.getItem("currentUser"),N=localStorage.getItem("currentDriver");if(R){const F=JSON.parse(R);s(F),e("user-dashboard")}else if(N){const F=JSON.parse(N);c(F),e("driver-dashboard")}},[]);const u=R=>{e(R==="user"?"user-login":"driver-login")},d=R=>{s(R),R.provider==="google"&&!R.phone?e("user-profile"):e("user-dashboard")},p=R=>{c(R),e("driver-dashboard")},g=R=>{s(R),e("user-dashboard")},v=R=>{c(R),e("driver-dashboard")},E=R=>{s(R),e("user-dashboard")},T=()=>{localStorage.removeItem("currentUser"),s(null),e("profile-selection")},C=()=>{localStorage.removeItem("currentDriver"),c(null),e("profile-selection")},P=()=>{e("profile-selection")};switch(r){case"profile-selection":return _.jsx(Ib,{onProfileSelect:u});case"user-login":return _.jsx(ZP,{onBack:P,onLogin:d,onRegister:()=>e("user-register")});case"user-register":return _.jsx(ik,{onBack:()=>e("user-login"),onRegister:g});case"user-profile":return _.jsx(sk,{user:t,onProfileComplete:E});case"user-dashboard":return _.jsx(W3,{user:t,onLogout:T});case"driver-login":return _.jsx(Z3,{onBack:P,onLogin:p,onRegister:()=>e("driver-register")});case"driver-register":return _.jsx(J3,{onBack:()=>e("driver-login"),onRegister:v});case"driver-dashboard":return _.jsx(c6,{driver:o,onLogout:C});default:return _.jsx(Ib,{onProfileSelect:u})}}BR.createRoot(document.getElementById("root")).render(_.jsx(I.StrictMode,{children:_.jsx(u6,{})}));
