function ES(i,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in i)){const c=Object.getOwnPropertyDescriptor(s,o);c&&Object.defineProperty(i,o,c.get?c:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function TS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var xm={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function wS(){if(k_)return Xl;k_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Xl.Fragment=e,Xl.jsx=n,Xl.jsxs=n,Xl}var P_;function SS(){return P_||(P_=1,xm.exports=wS()),xm.exports}var v=SS(),Rm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function AS(){if(j_)return Ce;j_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function A(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,G={};function L(C,ie,le){this.props=C,this.context=ie,this.refs=G,this.updater=le||D}L.prototype.isReactComponent={},L.prototype.setState=function(C,ie){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,ie,"setState")},L.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ae(){}ae.prototype=L.prototype;function X(C,ie,le){this.props=C,this.context=ie,this.refs=G,this.updater=le||D}var ee=X.prototype=new ae;ee.constructor=X,k(ee,L.prototype),ee.isPureReactComponent=!0;var ue=Array.isArray,me={H:null,A:null,T:null,S:null,V:null},be=Object.prototype.hasOwnProperty;function M(C,ie,le,se,fe,Ne){return le=Ne.ref,{$$typeof:i,type:C,key:ie,ref:le!==void 0?le:null,props:Ne}}function x(C,ie){return M(C.type,ie,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function V(C){var ie={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(le){return ie[le]})}var P=/\/+/g;function j(C,ie){return typeof C=="object"&&C!==null&&C.key!=null?V(""+C.key):ie.toString(36)}function N(){}function lt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(N,N):(C.status="pending",C.then(function(ie){C.status==="pending"&&(C.status="fulfilled",C.value=ie)},function(ie){C.status==="pending"&&(C.status="rejected",C.reason=ie)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function oe(C,ie,le,se,fe){var Ne=typeof C;(Ne==="undefined"||Ne==="boolean")&&(C=null);var we=!1;if(C===null)we=!0;else switch(Ne){case"bigint":case"string":case"number":we=!0;break;case"object":switch(C.$$typeof){case i:case e:we=!0;break;case E:return we=C._init,oe(we(C._payload),ie,le,se,fe)}}if(we)return fe=fe(C),we=se===""?"."+j(C,0):se,ue(fe)?(le="",we!=null&&(le=we.replace(P,"$&/")+"/"),oe(fe,ie,le,"",function(dn){return dn})):fe!=null&&(R(fe)&&(fe=x(fe,le+(fe.key==null||C&&C.key===fe.key?"":(""+fe.key).replace(P,"$&/")+"/")+we)),ie.push(fe)),1;we=0;var ke=se===""?".":se+":";if(ue(C))for(var Xe=0;Xe<C.length;Xe++)se=C[Xe],Ne=ke+j(se,Xe),we+=oe(se,ie,le,Ne,fe);else if(Xe=A(C),typeof Xe=="function")for(C=Xe.call(C),Xe=0;!(se=C.next()).done;)se=se.value,Ne=ke+j(se,Xe++),we+=oe(se,ie,le,Ne,fe);else if(Ne==="object"){if(typeof C.then=="function")return oe(lt(C),ie,le,se,fe);throw ie=String(C),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return we}function z(C,ie,le){if(C==null)return C;var se=[],fe=0;return oe(C,se,"","",function(Ne){return ie.call(le,Ne,fe++)}),se}function re(C){if(C._status===-1){var ie=C._result;ie=ie(),ie.then(function(le){(C._status===0||C._status===-1)&&(C._status=1,C._result=le)},function(le){(C._status===0||C._status===-1)&&(C._status=2,C._result=le)}),C._status===-1&&(C._status=0,C._result=ie)}if(C._status===1)return C._result.default;throw C._result}var J=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Me(){}return Ce.Children={map:z,forEach:function(C,ie,le){z(C,function(){ie.apply(this,arguments)},le)},count:function(C){var ie=0;return z(C,function(){ie++}),ie},toArray:function(C){return z(C,function(ie){return ie})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ce.Component=L,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=X,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=me,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(C){return me.H.useMemoCache(C)}},Ce.cache=function(C){return function(){return C.apply(null,arguments)}},Ce.cloneElement=function(C,ie,le){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var se=k({},C.props),fe=C.key,Ne=void 0;if(ie!=null)for(we in ie.ref!==void 0&&(Ne=void 0),ie.key!==void 0&&(fe=""+ie.key),ie)!be.call(ie,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ie.ref===void 0||(se[we]=ie[we]);var we=arguments.length-2;if(we===1)se.children=le;else if(1<we){for(var ke=Array(we),Xe=0;Xe<we;Xe++)ke[Xe]=arguments[Xe+2];se.children=ke}return M(C.type,fe,void 0,void 0,Ne,se)},Ce.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},Ce.createElement=function(C,ie,le){var se,fe={},Ne=null;if(ie!=null)for(se in ie.key!==void 0&&(Ne=""+ie.key),ie)be.call(ie,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(fe[se]=ie[se]);var we=arguments.length-2;if(we===1)fe.children=le;else if(1<we){for(var ke=Array(we),Xe=0;Xe<we;Xe++)ke[Xe]=arguments[Xe+2];fe.children=ke}if(C&&C.defaultProps)for(se in we=C.defaultProps,we)fe[se]===void 0&&(fe[se]=we[se]);return M(C,Ne,void 0,void 0,null,fe)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(C){return{$$typeof:m,render:C}},Ce.isValidElement=R,Ce.lazy=function(C){return{$$typeof:E,_payload:{_status:-1,_result:C},_init:re}},Ce.memo=function(C,ie){return{$$typeof:y,type:C,compare:ie===void 0?null:ie}},Ce.startTransition=function(C){var ie=me.T,le={};me.T=le;try{var se=C(),fe=me.S;fe!==null&&fe(le,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Me,J)}catch(Ne){J(Ne)}finally{me.T=ie}},Ce.unstable_useCacheRefresh=function(){return me.H.useCacheRefresh()},Ce.use=function(C){return me.H.use(C)},Ce.useActionState=function(C,ie,le){return me.H.useActionState(C,ie,le)},Ce.useCallback=function(C,ie){return me.H.useCallback(C,ie)},Ce.useContext=function(C){return me.H.useContext(C)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(C,ie){return me.H.useDeferredValue(C,ie)},Ce.useEffect=function(C,ie,le){var se=me.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(C,ie)},Ce.useId=function(){return me.H.useId()},Ce.useImperativeHandle=function(C,ie,le){return me.H.useImperativeHandle(C,ie,le)},Ce.useInsertionEffect=function(C,ie){return me.H.useInsertionEffect(C,ie)},Ce.useLayoutEffect=function(C,ie){return me.H.useLayoutEffect(C,ie)},Ce.useMemo=function(C,ie){return me.H.useMemo(C,ie)},Ce.useOptimistic=function(C,ie){return me.H.useOptimistic(C,ie)},Ce.useReducer=function(C,ie,le){return me.H.useReducer(C,ie,le)},Ce.useRef=function(C){return me.H.useRef(C)},Ce.useState=function(C){return me.H.useState(C)},Ce.useSyncExternalStore=function(C,ie,le){return me.H.useSyncExternalStore(C,ie,le)},Ce.useTransition=function(){return me.H.useTransition()},Ce.version="19.1.0",Ce}var U_;function Sp(){return U_||(U_=1,Rm.exports=AS()),Rm.exports}var Y=Sp();const hi=TS(Y),Cb=ES({__proto__:null,default:hi},[Y]);var Im={exports:{}},$l={},Nm={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function xS(){return L_||(L_=1,function(i){function e(z,re){var J=z.length;z.push(re);e:for(;0<J;){var Me=J-1>>>1,C=z[Me];if(0<o(C,re))z[Me]=re,z[J]=C,J=Me;else break e}}function n(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var re=z[0],J=z.pop();if(J!==re){z[0]=J;e:for(var Me=0,C=z.length,ie=C>>>1;Me<ie;){var le=2*(Me+1)-1,se=z[le],fe=le+1,Ne=z[fe];if(0>o(se,J))fe<C&&0>o(Ne,se)?(z[Me]=Ne,z[fe]=J,Me=fe):(z[Me]=se,z[le]=J,Me=le);else if(fe<C&&0>o(Ne,J))z[Me]=Ne,z[fe]=J,Me=fe;else break e}}return re}function o(z,re){var J=z.sortIndex-re.sortIndex;return J!==0?J:z.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var p=[],y=[],E=1,w=null,A=3,D=!1,k=!1,G=!1,L=!1,ae=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function ue(z){for(var re=n(y);re!==null;){if(re.callback===null)s(y);else if(re.startTime<=z)s(y),re.sortIndex=re.expirationTime,e(p,re);else break;re=n(y)}}function me(z){if(G=!1,ue(z),!k)if(n(p)!==null)k=!0,be||(be=!0,j());else{var re=n(y);re!==null&&oe(me,re.startTime-z)}}var be=!1,M=-1,x=5,R=-1;function V(){return L?!0:!(i.unstable_now()-R<x)}function P(){if(L=!1,be){var z=i.unstable_now();R=z;var re=!0;try{e:{k=!1,G&&(G=!1,X(M),M=-1),D=!0;var J=A;try{t:{for(ue(z),w=n(p);w!==null&&!(w.expirationTime>z&&V());){var Me=w.callback;if(typeof Me=="function"){w.callback=null,A=w.priorityLevel;var C=Me(w.expirationTime<=z);if(z=i.unstable_now(),typeof C=="function"){w.callback=C,ue(z),re=!0;break t}w===n(p)&&s(p),ue(z)}else s(p);w=n(p)}if(w!==null)re=!0;else{var ie=n(y);ie!==null&&oe(me,ie.startTime-z),re=!1}}break e}finally{w=null,A=J,D=!1}re=void 0}}finally{re?j():be=!1}}}var j;if(typeof ee=="function")j=function(){ee(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,lt=N.port2;N.port1.onmessage=P,j=function(){lt.postMessage(null)}}else j=function(){ae(P,0)};function oe(z,re){M=ae(function(){z(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(z){switch(A){case 1:case 2:case 3:var re=3;break;default:re=A}var J=A;A=re;try{return z()}finally{A=J}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(z,re){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var J=A;A=z;try{return re()}finally{A=J}},i.unstable_scheduleCallback=function(z,re,J){var Me=i.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Me+J:Me):J=Me,z){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=J+C,z={id:E++,callback:re,priorityLevel:z,startTime:J,expirationTime:C,sortIndex:-1},J>Me?(z.sortIndex=J,e(y,z),n(p)===null&&z===n(y)&&(G?(X(M),M=-1):G=!0,oe(me,J-Me))):(z.sortIndex=C,e(p,z),k||D||(k=!0,be||(be=!0,j()))),z},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(z){var re=A;return function(){var J=A;A=re;try{return z.apply(this,arguments)}finally{A=J}}}}(Cm)),Cm}var z_;function RS(){return z_||(z_=1,Nm.exports=xS()),Nm.exports}var Dm={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function IS(){if(B_)return sn;B_=1;var i=Sp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:y,implementation:E}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},sn.flushSync=function(p){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=E,s.d.f()}},sn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},sn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},sn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:D}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},sn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},sn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},sn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},sn.requestFormReset=function(p){s.d.r(p)},sn.unstable_batchedUpdates=function(p,y){return p(y)},sn.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.1.0",sn}var q_;function Db(){if(q_)return Dm.exports;q_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Dm.exports=IS(),Dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function NS(){if(H_)return $l;H_=1;var i=RS(),e=Sp(),n=Db();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return m(h),t;if(f===l)return m(h),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var b=!1,T=h.child;T;){if(T===a){b=!0,a=h,l=f;break}if(T===l){b=!0,l=h,a=f;break}T=T.sibling}if(!b){for(T=f.child;T;){if(T===a){b=!0,a=f,l=h;break}if(T===l){b=!0,l=f,a=h;break}T=T.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function y(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=y(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case L:return"Profiler";case G:return"StrictMode";case me:return"Suspense";case be:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case ee:return(t.displayName||"Context")+".Provider";case X:return(t._context.displayName||"Context")+".Consumer";case ue:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return r=t.displayName||null,r!==null?r:lt(t.type)||"Memo";case x:r=t._payload,t=t._init;try{return lt(t(r))}catch{}}return null}var oe=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},Me=[],C=-1;function ie(t){return{current:t}}function le(t){0>C||(t.current=Me[C],Me[C]=null,C--)}function se(t,r){C++,Me[C]=t.current,t.current=r}var fe=ie(null),Ne=ie(null),we=ie(null),ke=ie(null);function Xe(t,r){switch(se(we,r),se(Ne,t),se(fe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?c_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=c_(r),t=u_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(fe),se(fe,t)}function dn(){le(fe),le(Ne),le(we)}function Sn(t){t.memoizedState!==null&&se(ke,t);var r=fe.current,a=u_(r,t.type);r!==a&&(se(Ne,t),se(fe,a))}function An(t){Ne.current===t&&(le(fe),le(Ne)),ke.current===t&&(le(ke),Gl._currentValue=J)}var jn=Object.prototype.hasOwnProperty,_s=i.unstable_scheduleCallback,bs=i.unstable_cancelCallback,Bo=i.unstable_shouldYield,Vc=i.unstable_requestPaint,Un=i.unstable_now,Ad=i.unstable_getCurrentPriorityLevel,qo=i.unstable_ImmediatePriority,va=i.unstable_UserBlockingPriority,Es=i.unstable_NormalPriority,xd=i.unstable_LowPriority,_a=i.unstable_IdlePriority,Ho=i.log,kc=i.unstable_setDisableYieldValue,mt=null,$e=null;function xn(t){if(typeof Ho=="function"&&kc(t),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(mt,t)}catch{}}var nn=Math.clz32?Math.clz32:Ts,Pc=Math.log,Rd=Math.LN2;function Ts(t){return t>>>=0,t===0?32:31-(Pc(t)/Rd|0)|0}var ws=256,Ss=4194304;function er(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ba(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=er(l):(b&=T,b!==0?h=er(b):a||(a=T&~t,a!==0&&(h=er(a))))):(T=l&~f,T!==0?h=er(T):b!==0?h=er(b):a||(a=l&~t,a!==0&&(h=er(a)))),h===0?0:r!==0&&r!==h&&(r&f)===0&&(f=h&-h,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:h}function As(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Go(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fo(){var t=ws;return ws<<=1,(ws&4194048)===0&&(ws=256),t}function Qo(){var t=Ss;return Ss<<=1,(Ss&62914560)===0&&(Ss=4194304),t}function Lr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function zr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ko(t,r,a,l,h,f){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,H=t.hiddenUpdates;for(a=b&~a;0<a;){var $=31-nn(a),te=1<<$;T[$]=0,I[$]=-1;var F=H[$];if(F!==null)for(H[$]=null,$=0;$<F.length;$++){var Q=F[$];Q!==null&&(Q.lane&=-536870913)}a&=~te}l!==0&&hr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(b&~r))}function hr(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-nn(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Yo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-nn(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function Si(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ea(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ai(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:N_(t.type))}function jc(t,r){var a=re.p;try{return re.p=t,r()}finally{re.p=a}}var ct=Math.random().toString(36).slice(2),Ct="__reactFiber$"+ct,wt="__reactProps$"+ct,Ln="__reactContainer$"+ct,Xo="__reactEvents$"+ct,Id="__reactListeners$"+ct,xi="__reactHandles$"+ct,Uc="__reactResources$"+ct,xs="__reactMarker$"+ct;function Ri(t){delete t[Ct],delete t[wt],delete t[Xo],delete t[Id],delete t[xi]}function Br(t){var r=t[Ct];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ln]||a[Ct]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=m_(t);t!==null;){if(a=t[Ct])return a;t=m_(t)}return r}t=a,a=t.parentNode}return null}function dr(t){if(t=t[Ct]||t[Ln]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function fr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function fn(t){var r=t[Uc];return r||(r=t[Uc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function vt(t){t[xs]=!0}var $o=new Set,Ta={};function tr(t,r){qr(t,r),qr(t+"Capture",r)}function qr(t,r){for(Ta[t]=r,t=0;t<r.length;t++)$o.add(r[t])}var Lc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zc={},Rs={};function Bc(t){return jn.call(Rs,t)?!0:jn.call(zc,t)?!1:Lc.test(t)?Rs[t]=!0:(zc[t]=!0,!1)}function Ii(t,r,a){if(Bc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function mr(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Kt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Is,qc;function Hr(t){if(Is===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Is=r&&r[1]||"",qc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Is+t+qc}var wa=!1;function Sa(t,r){if(!t||wa)return"";wa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var F=Q}Reflect.construct(t,[],te)}else{try{te.call()}catch(Q){F=Q}t.call(te.prototype)}}else{try{throw Error()}catch(Q){F=Q}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),b=f[0],T=f[1];if(b&&T){var I=b.split(`
`),H=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===H.length)for(l=I.length-1,h=H.length-1;1<=l&&0<=h&&I[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==H[h]){var $=`
`+I[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{wa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Hr(a):""}function Zo(t){switch(t.tag){case 26:case 27:case 5:return Hr(t.type);case 16:return Hr("Lazy");case 13:return Hr("Suspense");case 19:return Hr("SuspenseList");case 0:case 15:return Sa(t.type,!1);case 11:return Sa(t.type.render,!1);case 1:return Sa(t.type,!0);case 31:return Hr("Activity");default:return""}}function Aa(t){try{var r="";do r+=Zo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function mn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Nd(t){var r=Wo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(b){l=""+b,f.call(this,b)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function xa(t){t._valueTracker||(t._valueTracker=Nd(t))}function Jo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Wo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ns(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cd=/[\n"\\]/g;function St(t){return t.replace(Cd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Rn(t,r,a,l,h,f,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),r!=null?b==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+mn(r)):t.value!==""+mn(r)&&(t.value=""+mn(r)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),r!=null?Ni(t,b,mn(r)):a!=null?Ni(t,b,mn(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+mn(T):t.removeAttribute("name")}function Cs(t,r,a,l,h,f,b,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+mn(a):"",r=r!=null?""+mn(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function Ni(t,r,a){r==="number"&&Ns(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Gr(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+mn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Je(t,r,a){if(r!=null&&(r=""+mn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+mn(a):""}function Ds(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=mn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function zn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Os=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hc(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Os.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function el(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Hc(t,h,l)}else for(var f in r)r.hasOwnProperty(f)&&Hc(t,f,r[f])}function tl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Od=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(t){return Od.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Fr=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qr=null,Kr=null;function nl(t){var r=dr(t);if(r&&(t=r.stateNode)){var a=t[wt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Rn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+St(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[wt]||null;if(!h)throw Error(s(90));Rn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Jo(l)}break e;case"textarea":Je(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Gr(t,!!a.multiple,r,!1)}}}var pr=!1;function Gc(t,r,a){if(pr)return t(r,a);pr=!0;try{var l=t(r);return l}finally{if(pr=!1,(Qr!==null||Kr!==null)&&(ju(),Qr&&(r=Qr,t=Kr,Kr=Qr=null,nl(r),t)))for(r=0;r<t.length;r++)nl(t[r])}}function Ms(t,r){var a=t.stateNode;if(a===null)return null;var l=a[wt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(nr)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{qn=!1}var gr=null,Ci=null,Yr=null;function rl(){if(Yr)return Yr;var t,r=Ci,a=r.length,l,h="value"in gr?gr.value:gr.textContent,f=h.length;for(t=0;t<a&&r[t]===h[t];t++);var b=a-t;for(l=1;l<=b&&r[a-l]===h[f-l];l++);return Yr=h.slice(t,1<l?1-l:void 0)}function yr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function vr(){return!0}function il(){return!1}function Lt(t){function r(a,l,h,f,b){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?vr:il,this.isPropagationStopped=il,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=Lt(Ke),ks=E({},Ke,{view:0,detail:0}),Fc=Lt(ks),Na,Ca,_r,Ps=E({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_r&&(_r&&t.type==="mousemove"?(Na=t.screenX-_r.screenX,Ca=t.screenY-_r.screenY):Ca=Na=0,_r=t),Na)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),Hn=Lt(Ps),Qc=E({},Ps,{dataTransfer:0}),Md=Lt(Qc),js=E({},ks,{relatedTarget:0}),Da=Lt(js),sl=E({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=Lt(sl),Kc=E({},Ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ma=Lt(Kc),Vd=E({},Ke,{data:0}),al=Lt(Vd),Us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ol(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Xc[t])?!!r[t]:!1}function Ls(){return ol}var $c=E({},ks,{key:function(t){if(t.key){var r=Us[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=yr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(t){return t.type==="keypress"?yr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Va=Lt($c),Zc=E({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=Lt(Zc),Xr=E({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),Wc=Lt(Xr),Jc=E({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),eu=Lt(Jc),tu=E({},Ps,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ka=Lt(tu),pn=E({},Ke,{newState:0,oldState:0}),nu=Lt(pn),ru=[9,13,27,32],br=nr&&"CompositionEvent"in window,u=null;nr&&"documentMode"in document&&(u=document.documentMode);var g=nr&&"TextEvent"in window&&!u,_=nr&&(!br||u&&8<u&&11>=u),S=" ",B=!1;function K(t,r){switch(t){case"keyup":return ru.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Be=!1;function Dt(t,r){switch(t){case"compositionend":return ce(r);case"keypress":return r.which!==32?null:(B=!0,S);case"textInput":return t=r.data,t===S&&B?null:t;default:return null}}function qe(t,r){if(Be)return t==="compositionend"||!br&&K(t,r)?(t=rl(),Yr=Ci=gr=null,Be=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!zt[t.type]:r==="textarea"}function $r(t,r,a,l){Qr?Kr?Kr.push(l):Kr=[l]:Qr=l,r=Hu(r,"onChange"),0<r.length&&(a=new Ia("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Yt=null,Er=null;function cl(t){i_(t,0)}function iu(t){var r=fr(t);if(Jo(r))return t}function Ag(t,r){if(t==="change")return r}var xg=!1;if(nr){var kd;if(nr){var Pd="oninput"in document;if(!Pd){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Pd=typeof Rg.oninput=="function"}kd=Pd}else kd=!1;xg=kd&&(!document.documentMode||9<document.documentMode)}function Ig(){Yt&&(Yt.detachEvent("onpropertychange",Ng),Er=Yt=null)}function Ng(t){if(t.propertyName==="value"&&iu(Er)){var r=[];$r(r,Er,t,Bn(t)),Gc(cl,r)}}function Zw(t,r,a){t==="focusin"?(Ig(),Yt=r,Er=a,Yt.attachEvent("onpropertychange",Ng)):t==="focusout"&&Ig()}function Ww(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return iu(Er)}function Jw(t,r){if(t==="click")return iu(r)}function e1(t,r){if(t==="input"||t==="change")return iu(r)}function t1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var In=typeof Object.is=="function"?Object.is:t1;function ul(t,r){if(In(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!jn.call(r,h)||!In(t[h],r[h]))return!1}return!0}function Cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dg(t,r){var a=Cg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Cg(a)}}function Og(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Og(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Mg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ns(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ns(t.document)}return r}function jd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var n1=nr&&"documentMode"in document&&11>=document.documentMode,Pa=null,Ud=null,hl=null,Ld=!1;function Vg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ld||Pa==null||Pa!==Ns(l)||(l=Pa,"selectionStart"in l&&jd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&ul(hl,l)||(hl=l,l=Hu(Ud,"onSelect"),0<l.length&&(r=new Ia("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Pa)))}function zs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ja={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},zd={},kg={};nr&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Bs(t){if(zd[t])return zd[t];if(!ja[t])return t;var r=ja[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in kg)return zd[t]=r[a];return t}var Pg=Bs("animationend"),jg=Bs("animationiteration"),Ug=Bs("animationstart"),r1=Bs("transitionrun"),i1=Bs("transitionstart"),s1=Bs("transitioncancel"),Lg=Bs("transitionend"),zg=new Map,Bd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bd.push("scrollEnd");function rr(t,r){zg.set(t,r),tr(r,[t])}var Bg=new WeakMap;function Gn(t,r){if(typeof t=="object"&&t!==null){var a=Bg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Aa(r)},Bg.set(t,r),r)}return{value:t,source:r,stack:Aa(r)}}var Fn=[],Ua=0,qd=0;function su(){for(var t=Ua,r=qd=Ua=0;r<t;){var a=Fn[r];Fn[r++]=null;var l=Fn[r];Fn[r++]=null;var h=Fn[r];Fn[r++]=null;var f=Fn[r];if(Fn[r++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}f!==0&&qg(a,h,f)}}function au(t,r,a,l){Fn[Ua++]=t,Fn[Ua++]=r,Fn[Ua++]=a,Fn[Ua++]=l,qd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Hd(t,r,a,l){return au(t,r,a,l),ou(t)}function La(t,r){return au(t,null,null,r),ou(t)}function qg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&r!==null&&(h=31-nn(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),f):null}function ou(t){if(50<Pl)throw Pl=0,$f=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var za={};function a1(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,r,a,l){return new a1(t,r,a,l)}function Gd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zr(t,r){var a=t.alternate;return a===null?(a=Nn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Hg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function lu(t,r,a,l,h,f){var b=0;if(l=t,typeof t=="function")Gd(t)&&(b=1);else if(typeof t=="string")b=lS(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Nn(31,a,r,h),t.elementType=R,t.lanes=f,t;case k:return qs(a.children,h,f,r);case G:b=8,h|=24;break;case L:return t=Nn(12,a,r,h|2),t.elementType=L,t.lanes=f,t;case me:return t=Nn(13,a,r,h),t.elementType=me,t.lanes=f,t;case be:return t=Nn(19,a,r,h),t.elementType=be,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:case ee:b=10;break e;case X:b=9;break e;case ue:b=11;break e;case M:b=14;break e;case x:b=16,l=null;break e}b=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Nn(b,a,r,h),r.elementType=t,r.type=l,r.lanes=f,r}function qs(t,r,a,l){return t=Nn(7,t,l,r),t.lanes=a,t}function Fd(t,r,a){return t=Nn(6,t,null,r),t.lanes=a,t}function Qd(t,r,a){return r=Nn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ba=[],qa=0,cu=null,uu=0,Qn=[],Kn=0,Hs=null,Wr=1,Jr="";function Gs(t,r){Ba[qa++]=uu,Ba[qa++]=cu,cu=t,uu=r}function Gg(t,r,a){Qn[Kn++]=Wr,Qn[Kn++]=Jr,Qn[Kn++]=Hs,Hs=t;var l=Wr;t=Jr;var h=32-nn(l)-1;l&=~(1<<h),a+=1;var f=32-nn(r)+h;if(30<f){var b=h-h%5;f=(l&(1<<b)-1).toString(32),l>>=b,h-=b,Wr=1<<32-nn(r)+h|a<<h|l,Jr=f+t}else Wr=1<<f|a<<h|l,Jr=t}function Kd(t){t.return!==null&&(Gs(t,1),Gg(t,1,0))}function Yd(t){for(;t===cu;)cu=Ba[--qa],Ba[qa]=null,uu=Ba[--qa],Ba[qa]=null;for(;t===Hs;)Hs=Qn[--Kn],Qn[Kn]=null,Jr=Qn[--Kn],Qn[Kn]=null,Wr=Qn[--Kn],Qn[Kn]=null}var gn=null,pt=null,Qe=!1,Fs=null,Tr=!1,Xd=Error(s(519));function Qs(t){var r=Error(s(418,""));throw ml(Gn(r,t)),Xd}function Fg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Ct]=t,r[wt]=l,a){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(a=0;a<Ul.length;a++)je(Ul[a],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),Cs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),xa(r);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),Ds(r,l.value,l.defaultValue,l.children),xa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||l_(r.textContent,a)?(l.popover!=null&&(je("beforetoggle",r),je("toggle",r)),l.onScroll!=null&&je("scroll",r),l.onScrollEnd!=null&&je("scrollend",r),l.onClick!=null&&(r.onclick=Gu),r=!0):r=!1,r||Qs(t)}function Qg(t){for(gn=t.return;gn;)switch(gn.tag){case 5:case 13:Tr=!1;return;case 27:case 3:Tr=!0;return;default:gn=gn.return}}function dl(t){if(t!==gn)return!1;if(!Qe)return Qg(t),Qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||dm(t.type,t.memoizedProps)),a=!a),a&&pt&&Qs(t),Qg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){pt=sr(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}pt=null}}else r===27?(r=pt,Qi(t.type)?(t=gm,gm=null,pt=t):pt=r):pt=gn?sr(t.stateNode.nextSibling):null;return!0}function fl(){pt=gn=null,Qe=!1}function Kg(){var t=Fs;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),Fs=null),t}function ml(t){Fs===null?Fs=[t]:Fs.push(t)}var $d=ie(null),Ks=null,ei=null;function Di(t,r,a){se($d,r._currentValue),r._currentValue=a}function ti(t){t._currentValue=$d.current,le($d)}function Zd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Wd(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var b=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Zd(f.return,a,t),l||(b=null);break e}f=T.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(s(341));b.lanes|=a,f=b.alternate,f!==null&&(f.lanes|=a),Zd(b,a,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function pl(t,r,a,l){t=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var T=h.type;In(h.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(h===ke.current){if(b=h.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Gl):t=[Gl])}h=h.return}t!==null&&Wd(r,t,a,l),r.flags|=262144}function hu(t){for(t=t.firstContext;t!==null;){if(!In(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ys(t){Ks=t,ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return Yg(Ks,t)}function du(t,r){return Ks===null&&Ys(t),Yg(t,r)}function Yg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ei===null){if(t===null)throw Error(s(308));ei=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ei=ei.next=r;return a}var o1=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},l1=i.unstable_scheduleCallback,c1=i.unstable_NormalPriority,Mt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jd(){return{controller:new o1,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&l1(c1,function(){t.controller.abort()})}var yl=null,ef=0,Ha=0,Ga=null;function u1(t,r){if(yl===null){var a=yl=[];ef=0,Ha=rm(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ef++,r.then(Xg,Xg),r}function Xg(){if(--ef===0&&yl!==null){Ga!==null&&(Ga.status="fulfilled");var t=yl;yl=null,Ha=0,Ga=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function h1(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var $g=z.S;z.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&u1(t,r),$g!==null&&$g(t,r)};var Xs=ie(null);function tf(){var t=Xs.current;return t!==null?t:it.pooledCache}function fu(t,r){r===null?se(Xs,Xs.current):se(Xs,r.pool)}function Zg(){var t=tf();return t===null?null:{parent:Mt._currentValue,pool:t}}var vl=Error(s(460)),Wg=Error(s(474)),mu=Error(s(542)),nf={then:function(){}};function Jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pu(){}function ey(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(pu,pu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ny(t),t;default:if(typeof r.status=="string")r.then(pu,pu);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ny(t),t}throw _l=r,vl}}var _l=null;function ty(){if(_l===null)throw Error(s(459));var t=_l;return _l=null,t}function ny(t){if(t===vl||t===mu)throw Error(s(483))}var Oi=!1;function rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=ou(t),qg(t,null,a),r}return au(t,l,r,a),ou(t)}function bl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Yo(t,a)}}function af(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=b:f=f.next=b,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var of=!1;function El(){if(of){var t=Ga;if(t!==null)throw t}}function Tl(t,r,a,l){of=!1;var h=t.updateQueue;Oi=!1;var f=h.firstBaseUpdate,b=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,H=I.next;I.next=null,b===null?f=H:b.next=H,b=I;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==b&&(T===null?$.firstBaseUpdate=H:T.next=H,$.lastBaseUpdate=I))}if(f!==null){var te=h.baseState;b=0,$=H=I=null,T=f;do{var F=T.lane&-536870913,Q=F!==T.lane;if(Q?(He&F)===F:(l&F)===F){F!==0&&F===Ha&&(of=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ae=t,Ee=T;F=r;var nt=a;switch(Ee.tag){case 1:if(Ae=Ee.payload,typeof Ae=="function"){te=Ae.call(nt,te,F);break e}te=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ee.payload,F=typeof Ae=="function"?Ae.call(nt,te,F):Ae,F==null)break e;te=E({},te,F);break e;case 2:Oi=!0}}F=T.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(H=$=Q,I=te):$=$.next=Q,b|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);$===null&&(I=te),h.baseState=I,h.firstBaseUpdate=H,h.lastBaseUpdate=$,f===null&&(h.shared.lanes=0),qi|=b,t.lanes=b,t.memoizedState=te}}function ry(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function iy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ry(a[t],r)}var Fa=ie(null),gu=ie(0);function sy(t,r){t=li,se(gu,t),se(Fa,r),li=t|r.baseLanes}function lf(){se(gu,li),se(Fa,Fa.current)}function cf(){li=gu.current,le(Fa),le(gu)}var ki=0,De=null,et=null,At=null,yu=!1,Qa=!1,$s=!1,vu=0,wl=0,Ka=null,d1=0;function _t(){throw Error(s(321))}function uf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!In(t[a],r[a]))return!1;return!0}function hf(t,r,a,l,h,f){return ki=f,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,z.H=t===null||t.memoizedState===null?qy:Hy,$s=!1,f=a(l,h),$s=!1,Qa&&(f=oy(r,a,l,h)),ay(t),f}function ay(t){z.H=Su;var r=et!==null&&et.next!==null;if(ki=0,At=et=De=null,yu=!1,wl=0,Ka=null,r)throw Error(s(300));t===null||Bt||(t=t.dependencies,t!==null&&hu(t)&&(Bt=!0))}function oy(t,r,a,l){De=t;var h=0;do{if(Qa&&(Ka=null),wl=0,Qa=!1,25<=h)throw Error(s(301));if(h+=1,At=et=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=_1,f=r(a,l)}while(Qa);return f}function f1(){var t=z.H,r=t.useState()[0];return r=typeof r.then=="function"?Sl(r):r,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(De.flags|=1024),r}function df(){var t=vu!==0;return vu=0,t}function ff(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function mf(t){if(yu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}yu=!1}ki=0,At=et=De=null,Qa=!1,wl=vu=0,Ka=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?De.memoizedState=At=t:At=At.next=t,At}function xt(){if(et===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var r=At===null?De.memoizedState:At.next;if(r!==null)At=r,et=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},At===null?De.memoizedState=At=t:At=At.next=t}return At}function pf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(t){var r=wl;return wl+=1,Ka===null&&(Ka=[]),t=ey(Ka,t,r),r=De,(At===null?r.memoizedState:At.next)===null&&(r=r.alternate,z.H=r===null||r.memoizedState===null?qy:Hy),t}function _u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sl(t);if(t.$$typeof===ee)return rn(t)}throw Error(s(438,String(t)))}function gf(t){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=pf(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=V;return r.index++,a}function ni(t,r){return typeof r=="function"?r(t):r}function bu(t){var r=xt();return yf(r,et,t)}function yf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var b=h.next;h.next=f.next,f.next=b}r.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{r=h.next;var T=b=null,I=null,H=r,$=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(He&te)===te:(ki&te)===te){var F=H.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===Ha&&($=!0);else if((ki&F)===F){H=H.next,F===Ha&&($=!0);continue}else te={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=te,b=f):I=I.next=te,De.lanes|=F,qi|=F;te=H.action,$s&&a(f,te),f=H.hasEagerState?H.eagerState:a(f,te)}else F={lane:te,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=F,b=f):I=I.next=F,De.lanes|=te,qi|=te;H=H.next}while(H!==null&&H!==r);if(I===null?b=f:I.next=T,!In(f,t.memoizedState)&&(Bt=!0,$&&(a=Ga,a!==null)))throw a;t.memoizedState=f,t.baseState=b,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function vf(t){var r=xt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do f=t(f,b.action),b=b.next;while(b!==h);In(f,r.memoizedState)||(Bt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function ly(t,r,a){var l=De,h=xt(),f=Qe;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var b=!In((et||h).memoizedState,a);b&&(h.memoizedState=a,Bt=!0),h=h.queue;var T=hy.bind(null,l,h,t);if(Al(2048,8,T,[t]),h.getSnapshot!==r||b||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Ya(9,Eu(),uy.bind(null,l,h,a,r),null),it===null)throw Error(s(349));f||(ki&124)!==0||cy(l,r,a)}return a}function cy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=pf(),De.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function uy(t,r,a,l){r.value=a,r.getSnapshot=l,dy(r)&&fy(t)}function hy(t,r,a){return a(function(){dy(r)&&fy(t)})}function dy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!In(t,a)}catch{return!0}}function fy(t){var r=La(t,2);r!==null&&Vn(r,t,2)}function _f(t){var r=yn();if(typeof t=="function"){var a=t;if(t=a(),$s){xn(!0);try{a()}finally{xn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:t},r}function my(t,r,a,l){return t.baseState=a,yf(t,et,typeof l=="function"?l:ni)}function m1(t,r,a,l,h){if(wu(t))throw Error(s(485));if(t=r.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){f.listeners.push(b)}};z.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,py(r,f)):(f.next=a.next,r.pending=a.next=f)}}function py(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var f=z.T,b={};z.T=b;try{var T=a(h,l),I=z.S;I!==null&&I(b,T),gy(t,r,T)}catch(H){bf(t,r,H)}finally{z.T=f}}else try{f=a(h,l),gy(t,r,f)}catch(H){bf(t,r,H)}}function gy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){yy(t,r,l)},function(l){return bf(t,r,l)}):yy(t,r,a)}function yy(t,r,a){r.status="fulfilled",r.value=a,vy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,py(t,a)))}function bf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,vy(r),r=r.next;while(r!==l)}t.action=null}function vy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function _y(t,r){return r}function by(t,r){if(Qe){var a=it.formState;if(a!==null){e:{var l=De;if(Qe){if(pt){t:{for(var h=pt,f=Tr;h.nodeType!==8;){if(!f){h=null;break t}if(h=sr(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=sr(h.nextSibling),l=h.data==="F!";break e}}Qs(l)}l=!1}l&&(r=a[0])}}return a=yn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_y,lastRenderedState:r},a.queue=l,a=Ly.bind(null,De,l),l.dispatch=a,l=_f(!1),f=Af.bind(null,De,!1,l.queue),l=yn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=m1.bind(null,De,h,f,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Ey(t){var r=xt();return Ty(r,et,t)}function Ty(t,r,a){if(r=yf(t,r,_y)[0],t=bu(ni)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Sl(r)}catch(b){throw b===vl?mu:b}else l=r;r=xt();var h=r.queue,f=h.dispatch;return a!==r.memoizedState&&(De.flags|=2048,Ya(9,Eu(),p1.bind(null,h,a),null)),[l,f,t]}function p1(t,r){t.action=r}function wy(t){var r=xt(),a=et;if(a!==null)return Ty(r,a,t);xt(),r=r.memoizedState,a=xt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ya(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=pf(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Eu(){return{destroy:void 0,resource:void 0}}function Sy(){return xt().memoizedState}function Tu(t,r,a,l){var h=yn();l=l===void 0?null:l,De.flags|=t,h.memoizedState=Ya(1|r,Eu(),a,l)}function Al(t,r,a,l){var h=xt();l=l===void 0?null:l;var f=h.memoizedState.inst;et!==null&&l!==null&&uf(l,et.memoizedState.deps)?h.memoizedState=Ya(r,f,a,l):(De.flags|=t,h.memoizedState=Ya(1|r,f,a,l))}function Ay(t,r){Tu(8390656,8,t,r)}function xy(t,r){Al(2048,8,t,r)}function Ry(t,r){return Al(4,2,t,r)}function Iy(t,r){return Al(4,4,t,r)}function Ny(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Cy(t,r,a){a=a!=null?a.concat([t]):null,Al(4,4,Ny.bind(null,r,t),a)}function Ef(){}function Dy(t,r){var a=xt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&uf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Oy(t,r){var a=xt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&uf(r,l[1]))return l[0];if(l=t(),$s){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,r],l}function Tf(t,r,a){return a===void 0||(ki&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=kv(),De.lanes|=t,qi|=t,a)}function My(t,r,a,l){return In(a,r)?a:Fa.current!==null?(t=Tf(t,a,l),In(t,r)||(Bt=!0),t):(ki&42)===0?(Bt=!0,t.memoizedState=a):(t=kv(),De.lanes|=t,qi|=t,r)}function Vy(t,r,a,l,h){var f=re.p;re.p=f!==0&&8>f?f:8;var b=z.T,T={};z.T=T,Af(t,!1,r,a);try{var I=h(),H=z.S;if(H!==null&&H(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=h1(I,l);xl(t,r,$,Mn(t))}else xl(t,r,l,Mn(t))}catch(te){xl(t,r,{then:function(){},status:"rejected",reason:te},Mn())}finally{re.p=f,z.T=b}}function g1(){}function wf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=ky(t).queue;Vy(t,h,r,J,a===null?g1:function(){return Py(t),a(l)})}function ky(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:J},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Py(t){var r=ky(t).next.queue;xl(t,r,{},Mn())}function Sf(){return rn(Gl)}function jy(){return xt().memoizedState}function Uy(){return xt().memoizedState}function y1(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Mn();t=Mi(a);var l=Vi(r,t,a);l!==null&&(Vn(l,r,a),bl(l,r,a)),r={cache:Jd()},t.payload=r;return}r=r.return}}function v1(t,r,a){var l=Mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},wu(t)?zy(r,a):(a=Hd(t,r,a,l),a!==null&&(Vn(a,t,l),By(a,r,l)))}function Ly(t,r,a){var l=Mn();xl(t,r,a,l)}function xl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(wu(t))zy(r,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var b=r.lastRenderedState,T=f(b,a);if(h.hasEagerState=!0,h.eagerState=T,In(T,b))return au(t,r,h,0),it===null&&su(),!1}catch{}finally{}if(a=Hd(t,r,h,l),a!==null)return Vn(a,t,l),By(a,r,l),!0}return!1}function Af(t,r,a,l){if(l={lane:2,revertLane:rm(),action:l,hasEagerState:!1,eagerState:null,next:null},wu(t)){if(r)throw Error(s(479))}else r=Hd(t,a,l,2),r!==null&&Vn(r,t,2)}function wu(t){var r=t.alternate;return t===De||r!==null&&r===De}function zy(t,r){Qa=yu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function By(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Yo(t,a)}}var Su={readContext:rn,use:_u,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},qy={readContext:rn,use:_u,useCallback:function(t,r){return yn().memoizedState=[t,r===void 0?null:r],t},useContext:rn,useEffect:Ay,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Tu(4194308,4,Ny.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Tu(4194308,4,t,r)},useInsertionEffect:function(t,r){Tu(4,2,t,r)},useMemo:function(t,r){var a=yn();r=r===void 0?null:r;var l=t();if($s){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=yn();if(a!==void 0){var h=a(r);if($s){xn(!0);try{a(r)}finally{xn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=v1.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var r=yn();return t={current:t},r.memoizedState=t},useState:function(t){t=_f(t);var r=t.queue,a=Ly.bind(null,De,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Ef,useDeferredValue:function(t,r){var a=yn();return Tf(a,t,r)},useTransition:function(){var t=_f(!1);return t=Vy.bind(null,De,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=De,h=yn();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),it===null)throw Error(s(349));(He&124)!==0||cy(l,r,a)}h.memoizedState=a;var f={value:a,getSnapshot:r};return h.queue=f,Ay(hy.bind(null,l,f,t),[t]),l.flags|=2048,Ya(9,Eu(),uy.bind(null,l,f,a,r),null),a},useId:function(){var t=yn(),r=it.identifierPrefix;if(Qe){var a=Jr,l=Wr;a=(l&~(1<<32-nn(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=vu++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=d1++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:Sf,useFormState:by,useActionState:by,useOptimistic:function(t){var r=yn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Af.bind(null,De,!0,a),a.dispatch=r,[t,r]},useMemoCache:gf,useCacheRefresh:function(){return yn().memoizedState=y1.bind(null,De)}},Hy={readContext:rn,use:_u,useCallback:Dy,useContext:rn,useEffect:xy,useImperativeHandle:Cy,useInsertionEffect:Ry,useLayoutEffect:Iy,useMemo:Oy,useReducer:bu,useRef:Sy,useState:function(){return bu(ni)},useDebugValue:Ef,useDeferredValue:function(t,r){var a=xt();return My(a,et.memoizedState,t,r)},useTransition:function(){var t=bu(ni)[0],r=xt().memoizedState;return[typeof t=="boolean"?t:Sl(t),r]},useSyncExternalStore:ly,useId:jy,useHostTransitionStatus:Sf,useFormState:Ey,useActionState:Ey,useOptimistic:function(t,r){var a=xt();return my(a,et,t,r)},useMemoCache:gf,useCacheRefresh:Uy},_1={readContext:rn,use:_u,useCallback:Dy,useContext:rn,useEffect:xy,useImperativeHandle:Cy,useInsertionEffect:Ry,useLayoutEffect:Iy,useMemo:Oy,useReducer:vf,useRef:Sy,useState:function(){return vf(ni)},useDebugValue:Ef,useDeferredValue:function(t,r){var a=xt();return et===null?Tf(a,t,r):My(a,et.memoizedState,t,r)},useTransition:function(){var t=vf(ni)[0],r=xt().memoizedState;return[typeof t=="boolean"?t:Sl(t),r]},useSyncExternalStore:ly,useId:jy,useHostTransitionStatus:Sf,useFormState:wy,useActionState:wy,useOptimistic:function(t,r){var a=xt();return et!==null?my(a,et,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:gf,useCacheRefresh:Uy},Xa=null,Rl=0;function Au(t){var r=Rl;return Rl+=1,Xa===null&&(Xa=[]),ey(Xa,t,r)}function Il(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function xu(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Gy(t){var r=t._init;return r(t._payload)}function Fy(t){function r(U,O){if(t){var q=U.deletions;q===null?(U.deletions=[O],U.flags|=16):q.push(O)}}function a(U,O){if(!t)return null;for(;O!==null;)r(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=Zr(U,O),U.index=0,U.sibling=null,U}function f(U,O,q){return U.index=q,t?(q=U.alternate,q!==null?(q=q.index,q<O?(U.flags|=67108866,O):q):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function b(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,O,q,Z){return O===null||O.tag!==6?(O=Fd(q,U.mode,Z),O.return=U,O):(O=h(O,q),O.return=U,O)}function I(U,O,q,Z){var pe=q.type;return pe===k?$(U,O,q.props.children,Z,q.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&Gy(pe)===O.type)?(O=h(O,q.props),Il(O,q),O.return=U,O):(O=lu(q.type,q.key,q.props,null,U.mode,Z),Il(O,q),O.return=U,O)}function H(U,O,q,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=Qd(q,U.mode,Z),O.return=U,O):(O=h(O,q.children||[]),O.return=U,O)}function $(U,O,q,Z,pe){return O===null||O.tag!==7?(O=qs(q,U.mode,Z,pe),O.return=U,O):(O=h(O,q),O.return=U,O)}function te(U,O,q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Fd(""+O,U.mode,q),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return q=lu(O.type,O.key,O.props,null,U.mode,q),Il(q,O),q.return=U,q;case D:return O=Qd(O,U.mode,q),O.return=U,O;case x:var Z=O._init;return O=Z(O._payload),te(U,O,q)}if(oe(O)||j(O))return O=qs(O,U.mode,q,null),O.return=U,O;if(typeof O.then=="function")return te(U,Au(O),q);if(O.$$typeof===ee)return te(U,du(U,O),q);xu(U,O)}return null}function F(U,O,q,Z){var pe=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pe!==null?null:T(U,O,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===pe?I(U,O,q,Z):null;case D:return q.key===pe?H(U,O,q,Z):null;case x:return pe=q._init,q=pe(q._payload),F(U,O,q,Z)}if(oe(q)||j(q))return pe!==null?null:$(U,O,q,Z,null);if(typeof q.then=="function")return F(U,O,Au(q),Z);if(q.$$typeof===ee)return F(U,O,du(U,q),Z);xu(U,q)}return null}function Q(U,O,q,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(q)||null,T(O,U,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return U=U.get(Z.key===null?q:Z.key)||null,I(O,U,Z,pe);case D:return U=U.get(Z.key===null?q:Z.key)||null,H(O,U,Z,pe);case x:var Ve=Z._init;return Z=Ve(Z._payload),Q(U,O,q,Z,pe)}if(oe(Z)||j(Z))return U=U.get(q)||null,$(O,U,Z,pe,null);if(typeof Z.then=="function")return Q(U,O,q,Au(Z),pe);if(Z.$$typeof===ee)return Q(U,O,q,du(O,Z),pe);xu(O,Z)}return null}function Ae(U,O,q,Z){for(var pe=null,Ve=null,ve=O,Te=O=0,Ht=null;ve!==null&&Te<q.length;Te++){ve.index>Te?(Ht=ve,ve=null):Ht=ve.sibling;var Fe=F(U,ve,q[Te],Z);if(Fe===null){ve===null&&(ve=Ht);break}t&&ve&&Fe.alternate===null&&r(U,ve),O=f(Fe,O,Te),Ve===null?pe=Fe:Ve.sibling=Fe,Ve=Fe,ve=Ht}if(Te===q.length)return a(U,ve),Qe&&Gs(U,Te),pe;if(ve===null){for(;Te<q.length;Te++)ve=te(U,q[Te],Z),ve!==null&&(O=f(ve,O,Te),Ve===null?pe=ve:Ve.sibling=ve,Ve=ve);return Qe&&Gs(U,Te),pe}for(ve=l(ve);Te<q.length;Te++)Ht=Q(ve,U,Te,q[Te],Z),Ht!==null&&(t&&Ht.alternate!==null&&ve.delete(Ht.key===null?Te:Ht.key),O=f(Ht,O,Te),Ve===null?pe=Ht:Ve.sibling=Ht,Ve=Ht);return t&&ve.forEach(function(Zi){return r(U,Zi)}),Qe&&Gs(U,Te),pe}function Ee(U,O,q,Z){if(q==null)throw Error(s(151));for(var pe=null,Ve=null,ve=O,Te=O=0,Ht=null,Fe=q.next();ve!==null&&!Fe.done;Te++,Fe=q.next()){ve.index>Te?(Ht=ve,ve=null):Ht=ve.sibling;var Zi=F(U,ve,Fe.value,Z);if(Zi===null){ve===null&&(ve=Ht);break}t&&ve&&Zi.alternate===null&&r(U,ve),O=f(Zi,O,Te),Ve===null?pe=Zi:Ve.sibling=Zi,Ve=Zi,ve=Ht}if(Fe.done)return a(U,ve),Qe&&Gs(U,Te),pe;if(ve===null){for(;!Fe.done;Te++,Fe=q.next())Fe=te(U,Fe.value,Z),Fe!==null&&(O=f(Fe,O,Te),Ve===null?pe=Fe:Ve.sibling=Fe,Ve=Fe);return Qe&&Gs(U,Te),pe}for(ve=l(ve);!Fe.done;Te++,Fe=q.next())Fe=Q(ve,U,Te,Fe.value,Z),Fe!==null&&(t&&Fe.alternate!==null&&ve.delete(Fe.key===null?Te:Fe.key),O=f(Fe,O,Te),Ve===null?pe=Fe:Ve.sibling=Fe,Ve=Fe);return t&&ve.forEach(function(bS){return r(U,bS)}),Qe&&Gs(U,Te),pe}function nt(U,O,q,Z){if(typeof q=="object"&&q!==null&&q.type===k&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:e:{for(var pe=q.key;O!==null;){if(O.key===pe){if(pe=q.type,pe===k){if(O.tag===7){a(U,O.sibling),Z=h(O,q.props.children),Z.return=U,U=Z;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&Gy(pe)===O.type){a(U,O.sibling),Z=h(O,q.props),Il(Z,q),Z.return=U,U=Z;break e}a(U,O);break}else r(U,O);O=O.sibling}q.type===k?(Z=qs(q.props.children,U.mode,Z,q.key),Z.return=U,U=Z):(Z=lu(q.type,q.key,q.props,null,U.mode,Z),Il(Z,q),Z.return=U,U=Z)}return b(U);case D:e:{for(pe=q.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){a(U,O.sibling),Z=h(O,q.children||[]),Z.return=U,U=Z;break e}else{a(U,O);break}else r(U,O);O=O.sibling}Z=Qd(q,U.mode,Z),Z.return=U,U=Z}return b(U);case x:return pe=q._init,q=pe(q._payload),nt(U,O,q,Z)}if(oe(q))return Ae(U,O,q,Z);if(j(q)){if(pe=j(q),typeof pe!="function")throw Error(s(150));return q=pe.call(q),Ee(U,O,q,Z)}if(typeof q.then=="function")return nt(U,O,Au(q),Z);if(q.$$typeof===ee)return nt(U,O,du(U,q),Z);xu(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,O!==null&&O.tag===6?(a(U,O.sibling),Z=h(O,q),Z.return=U,U=Z):(a(U,O),Z=Fd(q,U.mode,Z),Z.return=U,U=Z),b(U)):a(U,O)}return function(U,O,q,Z){try{Rl=0;var pe=nt(U,O,q,Z);return Xa=null,pe}catch(ve){if(ve===vl||ve===mu)throw ve;var Ve=Nn(29,ve,null,U.mode);return Ve.lanes=Z,Ve.return=U,Ve}finally{}}}var $a=Fy(!0),Qy=Fy(!1),Yn=ie(null),wr=null;function Pi(t){var r=t.alternate;se(Vt,Vt.current&1),se(Yn,t),wr===null&&(r===null||Fa.current!==null||r.memoizedState!==null)&&(wr=t)}function Ky(t){if(t.tag===22){if(se(Vt,Vt.current),se(Yn,t),wr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(wr=t)}}else ji()}function ji(){se(Vt,Vt.current),se(Yn,Yn.current)}function ri(t){le(Yn),wr===t&&(wr=null),le(Vt)}var Vt=ie(0);function Ru(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||pm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function xf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Rf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Mn(),h=Mi(l);h.payload=r,a!=null&&(h.callback=a),r=Vi(t,h,l),r!==null&&(Vn(r,t,l),bl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Mn(),h=Mi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Vi(t,h,l),r!==null&&(Vn(r,t,l),bl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Mn(),l=Mi(a);l.tag=2,r!=null&&(l.callback=r),r=Vi(t,l,a),r!==null&&(Vn(r,t,a),bl(r,t,a))}};function Yy(t,r,a,l,h,f,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,b):r.prototype&&r.prototype.isPureReactComponent?!ul(a,l)||!ul(h,f):!0}function Xy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Rf.enqueueReplaceState(r,r.state,null)}function Zs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function $y(t){Iu(t)}function Zy(t){console.error(t)}function Wy(t){Iu(t)}function Nu(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Jy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function If(t,r,a){return a=Mi(a),a.tag=3,a.payload={element:null},a.callback=function(){Nu(t,r)},a}function ev(t){return t=Mi(t),t.tag=3,t}function tv(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Jy(r,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Jy(r,a,l),typeof h!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function b1(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&pl(r,a,h,!0),a=Yn.current,a!==null){switch(a.tag){case 13:return wr===null?Wf():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===nf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),em(t,l,h)),!1;case 22:return a.flags|=65536,l===nf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),em(t,l,h)),!1}throw Error(s(435,a.tag))}return em(t,l,h),Wf(),!1}if(Qe)return r=Yn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Xd&&(t=Error(s(422),{cause:l}),ml(Gn(t,a)))):(l!==Xd&&(r=Error(s(423),{cause:l}),ml(Gn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Gn(l,a),h=If(t.stateNode,l,h),af(t,h),gt!==4&&(gt=2)),!1;var f=Error(s(520),{cause:l});if(f=Gn(f,a),kl===null?kl=[f]:kl.push(f),gt!==4&&(gt=2),r===null)return!0;l=Gn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=If(a.stateNode,l,t),af(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hi===null||!Hi.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ev(h),tv(h,t,a,l),af(a,h),!1}a=a.return}while(a!==null);return!1}var nv=Error(s(461)),Bt=!1;function Xt(t,r,a,l){r.child=t===null?Qy(r,null,a,l):$a(r,t.child,a,l)}function rv(t,r,a,l,h){a=a.render;var f=r.ref;if("ref"in l){var b={};for(var T in l)T!=="ref"&&(b[T]=l[T])}else b=l;return Ys(r),l=hf(t,r,a,b,f,h),T=df(),t!==null&&!Bt?(ff(t,r,h),ii(t,r,h)):(Qe&&T&&Kd(r),r.flags|=1,Xt(t,r,l,h),r.child)}function iv(t,r,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Gd(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,sv(t,r,f,l,h)):(t=lu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!Pf(t,h)){var b=f.memoizedProps;if(a=a.compare,a=a!==null?a:ul,a(b,l)&&t.ref===r.ref)return ii(t,r,h)}return r.flags|=1,t=Zr(f,l),t.ref=r.ref,t.return=r,r.child=t}function sv(t,r,a,l,h){if(t!==null){var f=t.memoizedProps;if(ul(f,l)&&t.ref===r.ref)if(Bt=!1,r.pendingProps=l=f,Pf(t,h))(t.flags&131072)!==0&&(Bt=!0);else return r.lanes=t.lanes,ii(t,r,h)}return Nf(t,r,a,l,h)}function av(t,r,a){var l=r.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(h=r.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;r.childLanes=f&~l}else r.childLanes=0,r.child=null;return ov(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&fu(r,f!==null?f.cachePool:null),f!==null?sy(r,f):lf(),Ky(r);else return r.lanes=r.childLanes=536870912,ov(t,r,f!==null?f.baseLanes|a:a,a)}else f!==null?(fu(r,f.cachePool),sy(r,f),ji(),r.memoizedState=null):(t!==null&&fu(r,null),lf(),ji());return Xt(t,r,h,a),r.child}function ov(t,r,a,l){var h=tf();return h=h===null?null:{parent:Mt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&fu(r,null),lf(),Ky(r),t!==null&&pl(t,r,l,!0),null}function Cu(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Nf(t,r,a,l,h){return Ys(r),a=hf(t,r,a,l,void 0,h),l=df(),t!==null&&!Bt?(ff(t,r,h),ii(t,r,h)):(Qe&&l&&Kd(r),r.flags|=1,Xt(t,r,a,h),r.child)}function lv(t,r,a,l,h,f){return Ys(r),r.updateQueue=null,a=oy(r,l,a,h),ay(t),l=df(),t!==null&&!Bt?(ff(t,r,f),ii(t,r,f)):(Qe&&l&&Kd(r),r.flags|=1,Xt(t,r,a,f),r.child)}function cv(t,r,a,l,h){if(Ys(r),r.stateNode===null){var f=za,b=a.contextType;typeof b=="object"&&b!==null&&(f=rn(b)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},rf(r),b=a.contextType,f.context=typeof b=="object"&&b!==null?rn(b):za,f.state=r.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(xf(r,a,b,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(b=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),b!==f.state&&Rf.enqueueReplaceState(f,f.state,null),Tl(r,l,f,h),El(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var T=r.memoizedProps,I=Zs(a,T);f.props=I;var H=f.context,$=a.contextType;b=za,typeof $=="object"&&$!==null&&(b=rn($));var te=a.getDerivedStateFromProps;$=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||H!==b)&&Xy(r,f,l,b),Oi=!1;var F=r.memoizedState;f.state=F,Tl(r,l,f,h),El(),H=r.memoizedState,T||F!==H||Oi?(typeof te=="function"&&(xf(r,a,te,l),H=r.memoizedState),(I=Oi||Yy(r,a,I,l,F,H,b))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),f.props=l,f.state=H,f.context=b,l=I):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,sf(t,r),b=r.memoizedProps,$=Zs(a,b),f.props=$,te=r.pendingProps,F=f.context,H=a.contextType,I=za,typeof H=="object"&&H!==null&&(I=rn(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==te||F!==I)&&Xy(r,f,l,I),Oi=!1,F=r.memoizedState,f.state=F,Tl(r,l,f,h),El();var Q=r.memoizedState;b!==te||F!==Q||Oi||t!==null&&t.dependencies!==null&&hu(t.dependencies)?(typeof T=="function"&&(xf(r,a,T,l),Q=r.memoizedState),($=Oi||Yy(r,a,$,l,F,Q,I)||t!==null&&t.dependencies!==null&&hu(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Q,I)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),f.props=l,f.state=Q,f.context=I,l=$):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,Cu(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=$a(r,t.child,null,h),r.child=$a(r,null,a,h)):Xt(t,r,a,h),r.memoizedState=f.state,t=r.child):t=ii(t,r,h),t}function uv(t,r,a,l){return fl(),r.flags|=256,Xt(t,r,a,l),r.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(t){return{baseLanes:t,cachePool:Zg()}}function Of(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Xn),t}function hv(t,r,a){var l=r.pendingProps,h=!1,f=(r.flags&128)!==0,b;if((b=f)||(b=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),b&&(h=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,t===null){if(Qe){if(h?Pi(r):ji(),Qe){var T=pt,I;if(I=T){e:{for(I=T,T=Tr;I.nodeType!==8;){if(!T){T=null;break e}if(I=sr(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:Hs!==null?{id:Wr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},I=Nn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,gn=r,pt=null,I=!0):I=!1}I||Qs(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return pm(T)?r.lanes=32:r.lanes=536870912,null;ri(r)}return T=l.children,l=l.fallback,h?(ji(),h=r.mode,T=Du({mode:"hidden",children:T},h),l=qs(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=Df(a),h.childLanes=Of(t,b,a),r.memoizedState=Cf,l):(Pi(r),Mf(r,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(f)r.flags&256?(Pi(r),r.flags&=-257,r=Vf(t,r,a)):r.memoizedState!==null?(ji(),r.child=t.child,r.flags|=128,r=null):(ji(),h=l.fallback,T=r.mode,l=Du({mode:"visible",children:l.children},T),h=qs(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,$a(r,t.child,null,a),l=r.child,l.memoizedState=Df(a),l.childLanes=Of(t,b,a),r.memoizedState=Cf,r=h);else if(Pi(r),pm(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var H=b.dgst;b=H,l=Error(s(419)),l.stack="",l.digest=b,ml({value:l,source:null,stack:null}),r=Vf(t,r,a)}else if(Bt||pl(t,r,a,!1),b=(a&t.childLanes)!==0,Bt||b){if(b=it,b!==null&&(l=a&-a,l=(l&42)!==0?1:Si(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,La(t,l),Vn(b,t,l),nv;T.data==="$?"||Wf(),r=Vf(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,pt=sr(T.nextSibling),gn=r,Qe=!0,Fs=null,Tr=!1,t!==null&&(Qn[Kn++]=Wr,Qn[Kn++]=Jr,Qn[Kn++]=Hs,Wr=t.id,Jr=t.overflow,Hs=r),r=Mf(r,l.children),r.flags|=4096);return r}return h?(ji(),h=l.fallback,T=r.mode,I=t.child,H=I.sibling,l=Zr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?h=Zr(H,h):(h=qs(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=Df(a):(I=T.cachePool,I!==null?(H=Mt._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=Zg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Of(t,b,a),r.memoizedState=Cf,l):(Pi(r),a=t.child,t=a.sibling,a=Zr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(b=r.deletions,b===null?(r.deletions=[t],r.flags|=16):b.push(t)),r.child=a,r.memoizedState=null,a)}function Mf(t,r){return r=Du({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Du(t,r){return t=Nn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Vf(t,r,a){return $a(r,t.child,null,a),t=Mf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function dv(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Zd(t.return,r,a)}function kf(t,r,a,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function fv(t,r,a){var l=r.pendingProps,h=l.revealOrder,f=l.tail;if(Xt(t,r,l.children,a),l=Vt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dv(t,a,r);else if(t.tag===19)dv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Vt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&Ru(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),kf(r,!1,h,a,f);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Ru(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}kf(r,!0,a,null,f);break;case"together":kf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ii(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),qi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(pl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Zr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Zr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Pf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&hu(t)))}function E1(t,r,a){switch(r.tag){case 3:Xe(r,r.stateNode.containerInfo),Di(r,Mt,t.memoizedState.cache),fl();break;case 27:case 5:Sn(r);break;case 4:Xe(r,r.stateNode.containerInfo);break;case 10:Di(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Pi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?hv(t,r,a):(Pi(r),t=ii(t,r,a),t!==null?t.sibling:null);Pi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(pl(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return fv(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Vt,Vt.current),l)break;return null;case 22:case 23:return r.lanes=0,av(t,r,a);case 24:Di(r,Mt,t.memoizedState.cache)}return ii(t,r,a)}function mv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Bt=!0;else{if(!Pf(t,a)&&(r.flags&128)===0)return Bt=!1,E1(t,r,a);Bt=(t.flags&131072)!==0}else Bt=!1,Qe&&(r.flags&1048576)!==0&&Gg(r,uu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Gd(l)?(t=Zs(l,t),r.tag=1,r=cv(null,r,l,t,a)):(r.tag=0,r=Nf(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ue){r.tag=11,r=rv(null,r,l,t,a);break e}else if(h===M){r.tag=14,r=iv(null,r,l,t,a);break e}}throw r=lt(l)||l,Error(s(306,r,""))}}return r;case 0:return Nf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Zs(l,r.pendingProps),cv(t,r,l,h,a);case 3:e:{if(Xe(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;h=f.element,sf(t,r),Tl(r,l,null,a);var b=r.memoizedState;if(l=b.cache,Di(r,Mt,l),l!==f.cache&&Wd(r,[Mt],a,!0),El(),l=b.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=uv(t,r,l,a);break e}else if(l!==h){h=Gn(Error(s(424)),r),ml(h),r=uv(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=sr(t.firstChild),gn=r,Qe=!0,Fs=null,Tr=!0,a=Qy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fl(),l===h){r=ii(t,r,a);break e}Xt(t,r,l,a)}r=r.child}return r;case 26:return Cu(t,r),t===null?(a=v_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Qe||(a=r.type,t=r.pendingProps,l=Fu(we.current).createElement(a),l[Ct]=r,l[wt]=t,Zt(l,a,t),vt(l),r.stateNode=l):r.memoizedState=v_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Sn(r),t===null&&Qe&&(l=r.stateNode=p_(r.type,r.pendingProps,we.current),gn=r,Tr=!0,h=pt,Qi(r.type)?(gm=h,pt=sr(l.firstChild)):pt=h),Xt(t,r,r.pendingProps.children,a),Cu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Qe&&((h=l=pt)&&(l=X1(l,r.type,r.pendingProps,Tr),l!==null?(r.stateNode=l,gn=r,pt=sr(l.firstChild),Tr=!1,h=!0):h=!1),h||Qs(r)),Sn(r),h=r.type,f=r.pendingProps,b=t!==null?t.memoizedProps:null,l=f.children,dm(h,f)?l=null:b!==null&&dm(h,b)&&(r.flags|=32),r.memoizedState!==null&&(h=hf(t,r,f1,null,null,a),Gl._currentValue=h),Cu(t,r),Xt(t,r,l,a),r.child;case 6:return t===null&&Qe&&((t=a=pt)&&(a=$1(a,r.pendingProps,Tr),a!==null?(r.stateNode=a,gn=r,pt=null,t=!0):t=!1),t||Qs(r)),null;case 13:return hv(t,r,a);case 4:return Xe(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=$a(r,null,l,a):Xt(t,r,l,a),r.child;case 11:return rv(t,r,r.type,r.pendingProps,a);case 7:return Xt(t,r,r.pendingProps,a),r.child;case 8:return Xt(t,r,r.pendingProps.children,a),r.child;case 12:return Xt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Di(r,r.type,l.value),Xt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ys(r),h=rn(h),l=l(h),r.flags|=1,Xt(t,r,l,a),r.child;case 14:return iv(t,r,r.type,r.pendingProps,a);case 15:return sv(t,r,r.type,r.pendingProps,a);case 19:return fv(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Du(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Zr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return av(t,r,a);case 24:return Ys(r),l=rn(Mt),t===null?(h=tf(),h===null&&(h=it,f=Jd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:l,cache:h},rf(r),Di(r,Mt,h)):((t.lanes&a)!==0&&(sf(t,r),Tl(r,null,null,a),El()),h=t.memoizedState,f=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Di(r,Mt,l)):(l=f.cache,Di(r,Mt,l),l!==h.cache&&Wd(r,[Mt],a,!0))),Xt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function si(t){t.flags|=4}function pv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!w_(r)){if(r=Yn.current,r!==null&&((He&4194048)===He?wr!==null:(He&62914560)!==He&&(He&536870912)===0||r!==wr))throw _l=nf,Wg;t.flags|=8192}}function Ou(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Qo():536870912,t.lanes|=r,eo|=r)}function Nl(t,r){if(!Qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ht(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function T1(t,r,a){var l=r.pendingProps;switch(Yd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ti(Mt),dn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(dl(r)?si(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kg())),ht(r),null;case 26:return a=r.memoizedState,t===null?(si(r),a!==null?(ht(r),pv(r,a)):(ht(r),r.flags&=-16777217)):a?a!==t.memoizedState?(si(r),ht(r),pv(r,a)):(ht(r),r.flags&=-16777217):(t.memoizedProps!==l&&si(r),ht(r),r.flags&=-16777217),null;case 27:An(r),a=we.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&si(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ht(r),null}t=fe.current,dl(r)?Fg(r):(t=p_(h,l,a),r.stateNode=t,si(r))}return ht(r),null;case 5:if(An(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&si(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ht(r),null}if(t=fe.current,dl(r))Fg(r);else{switch(h=Fu(we.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Ct]=r,t[wt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&si(r)}}return ht(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&si(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=we.current,dl(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=gn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ct]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||l_(t.nodeValue,a)),t||Qs(r)}else t=Fu(t).createTextNode(l),t[Ct]=r,r.stateNode=t}return ht(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=dl(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ct]=r}else fl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),h=!1}else h=Kg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(ri(r),r):(ri(r),null)}if(ri(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Ou(r,r.updateQueue),ht(r),null;case 4:return dn(),t===null&&om(r.stateNode.containerInfo),ht(r),null;case 10:return ti(r.type),ht(r),null;case 19:if(le(Vt),h=r.memoizedState,h===null)return ht(r),null;if(l=(r.flags&128)!==0,f=h.rendering,f===null)if(l)Nl(h,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=Ru(t),f!==null){for(r.flags|=128,Nl(h,!1),t=f.updateQueue,r.updateQueue=t,Ou(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Hg(a,t),a=a.sibling;return se(Vt,Vt.current&1|2),r.child}t=t.sibling}h.tail!==null&&Un()>ku&&(r.flags|=128,l=!0,Nl(h,!1),r.lanes=4194304)}else{if(!l)if(t=Ru(f),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Ou(r,t),Nl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Qe)return ht(r),null}else 2*Un()-h.renderingStartTime>ku&&a!==536870912&&(r.flags|=128,l=!0,Nl(h,!1),r.lanes=4194304);h.isBackwards?(f.sibling=r.child,r.child=f):(t=h.last,t!==null?t.sibling=f:r.child=f,h.last=f)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Un(),r.sibling=null,t=Vt.current,se(Vt,l?t&1|2:t&1),r):(ht(r),null);case 22:case 23:return ri(r),cf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),a=r.updateQueue,a!==null&&Ou(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&le(Xs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ti(Mt),ht(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function w1(t,r){switch(Yd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ti(Mt),dn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return An(r),null;case 13:if(ri(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));fl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return le(Vt),null;case 4:return dn(),null;case 10:return ti(r.type),null;case 22:case 23:return ri(r),cf(),t!==null&&le(Xs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ti(Mt),null;case 25:return null;default:return null}}function gv(t,r){switch(Yd(r),r.tag){case 3:ti(Mt),dn();break;case 26:case 27:case 5:An(r);break;case 4:dn();break;case 13:ri(r);break;case 19:le(Vt);break;case 10:ti(r.type);break;case 22:case 23:ri(r),cf(),t!==null&&le(Xs);break;case 24:ti(Mt)}}function Cl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,b=a.inst;l=f(),b.destroy=l}a=a.next}while(a!==h)}}catch(T){rt(r,r.return,T)}}function Ui(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var b=l.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,h=r;var I=a,H=T;try{H()}catch($){rt(h,I,$)}}}l=l.next}while(l!==f)}}catch($){rt(r,r.return,$)}}function yv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{iy(r,a)}catch(l){rt(t,t.return,l)}}}function vv(t,r,a){a.props=Zs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){rt(t,r,l)}}function Dl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){rt(t,r,h)}}function Sr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){rt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){rt(t,r,h)}else a.current=null}function _v(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){rt(t,t.return,h)}}function jf(t,r,a){try{var l=t.stateNode;G1(l,t.type,a,r),l[wt]=r}catch(h){rt(t,t.return,h)}}function bv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qi(t.type)||t.tag===4}function Uf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Gu));else if(l!==4&&(l===27&&Qi(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Lf(t,r,a),t=t.sibling;t!==null;)Lf(t,r,a),t=t.sibling}function Mu(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Qi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Mu(t,r,a),t=t.sibling;t!==null;)Mu(t,r,a),t=t.sibling}function Ev(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Zt(r,l,a),r[Ct]=t,r[wt]=a}catch(f){rt(t,t.return,f)}}var ai=!1,bt=!1,zf=!1,Tv=typeof WeakSet=="function"?WeakSet:Set,qt=null;function S1(t,r){if(t=t.containerInfo,um=Zu,t=Mg(t),jd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var b=0,T=-1,I=-1,H=0,$=0,te=t,F=null;t:for(;;){for(var Q;te!==a||h!==0&&te.nodeType!==3||(T=b+h),te!==f||l!==0&&te.nodeType!==3||(I=b+l),te.nodeType===3&&(b+=te.nodeValue.length),(Q=te.firstChild)!==null;)F=te,te=Q;for(;;){if(te===t)break t;if(F===a&&++H===h&&(T=b),F===f&&++$===l&&(I=b),(Q=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=Q}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(hm={focusedElem:t,selectionRange:a},Zu=!1,qt=r;qt!==null;)if(r=qt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,qt=t;else for(;qt!==null;){switch(r=qt,f=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Ae=Zs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ae,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){rt(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)mm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":mm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,qt=t;break}qt=r.return}}function wv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Li(t,a),l&4&&Cl(5,a);break;case 1:if(Li(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(b){rt(a,a.return,b)}else{var h=Zs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(b){rt(a,a.return,b)}}l&64&&yv(a),l&512&&Dl(a,a.return);break;case 3:if(Li(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{iy(t,r)}catch(b){rt(a,a.return,b)}}break;case 27:r===null&&l&4&&Ev(a);case 26:case 5:Li(t,a),r===null&&l&4&&_v(a),l&512&&Dl(a,a.return);break;case 12:Li(t,a);break;case 13:Li(t,a),l&4&&xv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=M1.bind(null,a),Z1(t,a))));break;case 22:if(l=a.memoizedState!==null||ai,!l){r=r!==null&&r.memoizedState!==null||bt,h=ai;var f=bt;ai=l,(bt=r)&&!f?zi(t,a,(a.subtreeFlags&8772)!==0):Li(t,a),ai=h,bt=f}break;case 30:break;default:Li(t,a)}}function Sv(t){var r=t.alternate;r!==null&&(t.alternate=null,Sv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ri(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,vn=!1;function oi(t,r,a){for(a=a.child;a!==null;)Av(t,r,a),a=a.sibling}function Av(t,r,a){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(mt,a)}catch{}switch(a.tag){case 26:bt||Sr(a,r),oi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:bt||Sr(a,r);var l=ut,h=vn;Qi(a.type)&&(ut=a.stateNode,vn=!1),oi(t,r,a),zl(a.stateNode),ut=l,vn=h;break;case 5:bt||Sr(a,r);case 6:if(l=ut,h=vn,ut=null,oi(t,r,a),ut=l,vn=h,ut!==null)if(vn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(f){rt(a,r,f)}else try{ut.removeChild(a.stateNode)}catch(f){rt(a,r,f)}break;case 18:ut!==null&&(vn?(t=ut,f_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Yl(t)):f_(ut,a.stateNode));break;case 4:l=ut,h=vn,ut=a.stateNode.containerInfo,vn=!0,oi(t,r,a),ut=l,vn=h;break;case 0:case 11:case 14:case 15:bt||Ui(2,a,r),bt||Ui(4,a,r),oi(t,r,a);break;case 1:bt||(Sr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&vv(a,r,l)),oi(t,r,a);break;case 21:oi(t,r,a);break;case 22:bt=(l=bt)||a.memoizedState!==null,oi(t,r,a),bt=l;break;default:oi(t,r,a)}}function xv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Yl(t)}catch(a){rt(r,r.return,a)}}function A1(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Tv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Tv),r;default:throw Error(s(435,t.tag))}}function Bf(t,r){var a=A1(t);r.forEach(function(l){var h=V1.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Cn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,b=r,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(Qi(T.type)){ut=T.stateNode,vn=!1;break e}break;case 5:ut=T.stateNode,vn=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,vn=!0;break e}T=T.return}if(ut===null)throw Error(s(160));Av(f,b,h),ut=null,vn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Rv(r,t),r=r.sibling}var ir=null;function Rv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(r,t),Dn(t),l&4&&(Ui(3,t,t.return),Cl(3,t),Ui(5,t,t.return));break;case 1:Cn(r,t),Dn(t),l&512&&(bt||a===null||Sr(a,a.return)),l&64&&ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ir;if(Cn(r,t),Dn(t),l&512&&(bt||a===null||Sr(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[xs]||f[Ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Zt(f,l,a),f[Ct]=t,vt(f),l=f;break e;case"link":var b=E_("link","href",h).get(l+(a.href||""));if(b){for(var T=0;T<b.length;T++)if(f=b[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(T,1);break t}}f=h.createElement(l),Zt(f,l,a),h.head.appendChild(f);break;case"meta":if(b=E_("meta","content",h).get(l+(a.content||""))){for(T=0;T<b.length;T++)if(f=b[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(T,1);break t}}f=h.createElement(l),Zt(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ct]=t,vt(f),l=f}t.stateNode=l}else T_(h,t.type,t.stateNode);else t.stateNode=b_(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?T_(h,t.type,t.stateNode):b_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&jf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Cn(r,t),Dn(t),l&512&&(bt||a===null||Sr(a,a.return)),a!==null&&l&4&&jf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Cn(r,t),Dn(t),l&512&&(bt||a===null||Sr(a,a.return)),t.flags&32){h=t.stateNode;try{zn(h,"")}catch(Q){rt(t,t.return,Q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,jf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(zf=!0);break;case 6:if(Cn(r,t),Dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Q){rt(t,t.return,Q)}}break;case 3:if(Yu=null,h=ir,ir=Qu(r.containerInfo),Cn(r,t),ir=h,Dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Yl(r.containerInfo)}catch(Q){rt(t,t.return,Q)}zf&&(zf=!1,Iv(t));break;case 4:l=ir,ir=Qu(t.stateNode.containerInfo),Cn(r,t),Dn(t),ir=l;break;case 12:Cn(r,t),Dn(t);break;case 13:Cn(r,t),Dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kf=Un()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bf(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=ai,$=bt;if(ai=H||h,bt=$||I,Cn(r,t),bt=$,ai=H,Dn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||ai||bt||Ws(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(f=I.stateNode,h)b=f.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=I.stateNode;var te=I.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(Q){rt(I,I.return,Q)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(Q){rt(I,I.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bf(t,a))));break;case 19:Cn(r,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bf(t,l)));break;case 30:break;case 21:break;default:Cn(r,t),Dn(t)}}function Dn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(bv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Uf(t);Mu(t,f,h);break;case 5:var b=a.stateNode;a.flags&32&&(zn(b,""),a.flags&=-33);var T=Uf(t);Mu(t,T,b);break;case 3:case 4:var I=a.stateNode.containerInfo,H=Uf(t);Lf(t,H,I);break;default:throw Error(s(161))}}catch($){rt(t,t.return,$)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Iv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Iv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Li(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)wv(t,r.alternate,r),r=r.sibling}function Ws(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ui(4,r,r.return),Ws(r);break;case 1:Sr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&vv(r,r.return,a),Ws(r);break;case 27:zl(r.stateNode);case 26:case 5:Sr(r,r.return),Ws(r);break;case 22:r.memoizedState===null&&Ws(r);break;case 30:Ws(r);break;default:Ws(r)}t=t.sibling}}function zi(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,f=r,b=f.flags;switch(f.tag){case 0:case 11:case 15:zi(h,f,a),Cl(4,f);break;case 1:if(zi(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){rt(l,l.return,H)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ry(I[h],T)}catch(H){rt(l,l.return,H)}}a&&b&64&&yv(f),Dl(f,f.return);break;case 27:Ev(f);case 26:case 5:zi(h,f,a),a&&l===null&&b&4&&_v(f),Dl(f,f.return);break;case 12:zi(h,f,a);break;case 13:zi(h,f,a),a&&b&4&&xv(h,f);break;case 22:f.memoizedState===null&&zi(h,f,a),Dl(f,f.return);break;case 30:break;default:zi(h,f,a)}r=r.sibling}}function qf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&gl(a))}function Hf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&gl(t))}function Ar(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Nv(t,r,a,l),r=r.sibling}function Nv(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ar(t,r,a,l),h&2048&&Cl(9,r);break;case 1:Ar(t,r,a,l);break;case 3:Ar(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&gl(t)));break;case 12:if(h&2048){Ar(t,r,a,l),t=r.stateNode;try{var f=r.memoizedProps,b=f.id,T=f.onPostCommit;typeof T=="function"&&T(b,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){rt(r,r.return,I)}}else Ar(t,r,a,l);break;case 13:Ar(t,r,a,l);break;case 23:break;case 22:f=r.stateNode,b=r.alternate,r.memoizedState!==null?f._visibility&2?Ar(t,r,a,l):Ol(t,r):f._visibility&2?Ar(t,r,a,l):(f._visibility|=2,Za(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&qf(b,r);break;case 24:Ar(t,r,a,l),h&2048&&Hf(r.alternate,r);break;default:Ar(t,r,a,l)}}function Za(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=t,b=r,T=a,I=l,H=b.flags;switch(b.tag){case 0:case 11:case 15:Za(f,b,T,I,h),Cl(8,b);break;case 23:break;case 22:var $=b.stateNode;b.memoizedState!==null?$._visibility&2?Za(f,b,T,I,h):Ol(f,b):($._visibility|=2,Za(f,b,T,I,h)),h&&H&2048&&qf(b.alternate,b);break;case 24:Za(f,b,T,I,h),h&&H&2048&&Hf(b.alternate,b);break;default:Za(f,b,T,I,h)}r=r.sibling}}function Ol(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:Ol(a,l),h&2048&&qf(l.alternate,l);break;case 24:Ol(a,l),h&2048&&Hf(l.alternate,l);break;default:Ol(a,l)}r=r.sibling}}var Ml=8192;function Wa(t){if(t.subtreeFlags&Ml)for(t=t.child;t!==null;)Cv(t),t=t.sibling}function Cv(t){switch(t.tag){case 26:Wa(t),t.flags&Ml&&t.memoizedState!==null&&uS(ir,t.memoizedState,t.memoizedProps);break;case 5:Wa(t);break;case 3:case 4:var r=ir;ir=Qu(t.stateNode.containerInfo),Wa(t),ir=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Ml,Ml=16777216,Wa(t),Ml=r):Wa(t));break;default:Wa(t)}}function Dv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Vl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,Mv(l,t)}Dv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ov(t),t=t.sibling}function Ov(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&Ui(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Vu(t)):Vl(t);break;default:Vl(t)}}function Vu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,Mv(l,t)}Dv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ui(8,r,r.return),Vu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Vu(r));break;default:Vu(r)}t=t.sibling}}function Mv(t,r){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Ui(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=t;qt!==null;){l=qt;var h=l.sibling,f=l.return;if(Sv(l),l===a){qt=null;break e}if(h!==null){h.return=f,qt=h;break e}qt=f}}}var x1={getCacheForType:function(t){var r=rn(Mt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},R1=typeof WeakMap=="function"?WeakMap:Map,Ze=0,it=null,Pe=null,He=0,We=0,On=null,Bi=!1,Ja=!1,Gf=!1,li=0,gt=0,qi=0,Js=0,Ff=0,Xn=0,eo=0,kl=null,_n=null,Qf=!1,Kf=0,ku=1/0,Pu=null,Hi=null,$t=0,Gi=null,to=null,no=0,Yf=0,Xf=null,Vv=null,Pl=0,$f=null;function Mn(){if((Ze&2)!==0&&He!==0)return He&-He;if(z.T!==null){var t=Ha;return t!==0?t:rm()}return Ai()}function kv(){Xn===0&&(Xn=(He&536870912)===0||Qe?Fo():536870912);var t=Yn.current;return t!==null&&(t.flags|=32),Xn}function Vn(t,r,a){(t===it&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(ro(t,0),Fi(t,He,Xn,!1)),zr(t,a),((Ze&2)===0||t!==it)&&(t===it&&((Ze&2)===0&&(Js|=a),gt===4&&Fi(t,He,Xn,!1)),xr(t))}function Pv(t,r,a){if((Ze&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||As(t,r),h=l?C1(t,r):Jf(t,r,!0),f=l;do{if(h===0){Ja&&!l&&Fi(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!I1(a)){h=Jf(t,r,!1),f=!1;continue}if(h===2){if(f=r,t.errorRecoveryDisabledLanes&f)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var T=t;h=kl;var I=T.current.memoizedState.isDehydrated;if(I&&(ro(T,b).flags|=256),b=Jf(T,b,!1),b!==2){if(Gf&&!I){T.errorRecoveryDisabledLanes|=f,Js|=f,h=4;break e}f=_n,_n=h,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}h=b}if(f=!1,h!==2)continue}}if(h===1){ro(t,0),Fi(t,r,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Fi(l,r,Xn,!Bi);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Kf+300-Un(),10<h)){if(Fi(l,r,Xn,!Bi),ba(l,0,!0)!==0)break e;l.timeoutHandle=h_(jv.bind(null,l,a,_n,Pu,Qf,r,Xn,Js,eo,Bi,f,2,-0,0),h);break e}jv(l,a,_n,Pu,Qf,r,Xn,Js,eo,Bi,f,0,-0,0)}}break}while(!0);xr(t)}function jv(t,r,a,l,h,f,b,T,I,H,$,te,F,Q){if(t.timeoutHandle=-1,te=r.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Hl={stylesheets:null,count:0,unsuspend:cS},Cv(r),te=hS(),te!==null)){t.cancelPendingCommit=te(Gv.bind(null,t,r,f,a,l,h,b,T,I,$,1,F,Q)),Fi(t,f,b,!H);return}Gv(t,r,f,a,l,h,b,T,I)}function I1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!In(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fi(t,r,a,l){r&=~Ff,r&=~Js,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var f=31-nn(h),b=1<<f;l[f]=-1,h&=~b}a!==0&&hr(t,a,r)}function ju(){return(Ze&6)===0?(jl(0),!1):!0}function Zf(){if(Pe!==null){if(We===0)var t=Pe.return;else t=Pe,ei=Ks=null,mf(t),Xa=null,Rl=0,t=Pe;for(;t!==null;)gv(t.alternate,t),t=t.return;Pe=null}}function ro(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Q1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zf(),it=t,Pe=a=Zr(t.current,null),He=r,We=0,On=null,Bi=!1,Ja=As(t,r),Gf=!1,eo=Xn=Ff=Js=qi=gt=0,_n=kl=null,Qf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-nn(l),f=1<<h;r|=t[h],l&=~f}return li=r,su(),a}function Uv(t,r){De=null,z.H=Su,r===vl||r===mu?(r=ty(),We=3):r===Wg?(r=ty(),We=4):We=r===nv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,On=r,Pe===null&&(gt=1,Nu(t,Gn(r,t.current)))}function Lv(){var t=z.H;return z.H=Su,t===null?Su:t}function zv(){var t=z.A;return z.A=x1,t}function Wf(){gt=4,Bi||(He&4194048)!==He&&Yn.current!==null||(Ja=!0),(qi&134217727)===0&&(Js&134217727)===0||it===null||Fi(it,He,Xn,!1)}function Jf(t,r,a){var l=Ze;Ze|=2;var h=Lv(),f=zv();(it!==t||He!==r)&&(Pu=null,ro(t,r)),r=!1;var b=gt;e:do try{if(We!==0&&Pe!==null){var T=Pe,I=On;switch(We){case 8:Zf(),b=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(r=!0);var H=We;if(We=0,On=null,io(t,T,I,H),a&&Ja){b=0;break e}break;default:H=We,We=0,On=null,io(t,T,I,H)}}N1(),b=gt;break}catch($){Uv(t,$)}while(!0);return r&&t.shellSuspendCounter++,ei=Ks=null,Ze=l,z.H=h,z.A=f,Pe===null&&(it=null,He=0,su()),b}function N1(){for(;Pe!==null;)Bv(Pe)}function C1(t,r){var a=Ze;Ze|=2;var l=Lv(),h=zv();it!==t||He!==r?(Pu=null,ku=Un()+500,ro(t,r)):Ja=As(t,r);e:do try{if(We!==0&&Pe!==null){r=Pe;var f=On;t:switch(We){case 1:We=0,On=null,io(t,r,f,1);break;case 2:case 9:if(Jg(f)){We=0,On=null,qv(r);break}r=function(){We!==2&&We!==9||it!==t||(We=7),xr(t)},f.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Jg(f)?(We=0,On=null,qv(r)):(We=0,On=null,io(t,r,f,7));break;case 5:var b=null;switch(Pe.tag){case 26:b=Pe.memoizedState;case 5:case 27:var T=Pe;if(!b||w_(b)){We=0,On=null;var I=T.sibling;if(I!==null)Pe=I;else{var H=T.return;H!==null?(Pe=H,Uu(H)):Pe=null}break t}}We=0,On=null,io(t,r,f,5);break;case 6:We=0,On=null,io(t,r,f,6);break;case 8:Zf(),gt=6;break e;default:throw Error(s(462))}}D1();break}catch($){Uv(t,$)}while(!0);return ei=Ks=null,z.H=l,z.A=h,Ze=a,Pe!==null?0:(it=null,He=0,su(),gt)}function D1(){for(;Pe!==null&&!Bo();)Bv(Pe)}function Bv(t){var r=mv(t.alternate,t,li);t.memoizedProps=t.pendingProps,r===null?Uu(t):Pe=r}function qv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=lv(a,r,r.pendingProps,r.type,void 0,He);break;case 11:r=lv(a,r,r.pendingProps,r.type.render,r.ref,He);break;case 5:mf(r);default:gv(a,r),r=Pe=Hg(r,li),r=mv(a,r,li)}t.memoizedProps=t.pendingProps,r===null?Uu(t):Pe=r}function io(t,r,a,l){ei=Ks=null,mf(r),Xa=null,Rl=0;var h=r.return;try{if(b1(t,h,r,a,He)){gt=1,Nu(t,Gn(a,t.current)),Pe=null;return}}catch(f){if(h!==null)throw Pe=h,f;gt=1,Nu(t,Gn(a,t.current)),Pe=null;return}r.flags&32768?(Qe||l===1?t=!0:Ja||(He&536870912)!==0?t=!1:(Bi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hv(r,t)):Uu(r)}function Uu(t){var r=t;do{if((r.flags&32768)!==0){Hv(r,Bi);return}t=r.return;var a=T1(r.alternate,r,li);if(a!==null){Pe=a;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=t}while(r!==null);gt===0&&(gt=5)}function Hv(t,r){do{var a=w1(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);gt=6,Pe=null}function Gv(t,r,a,l,h,f,b,T,I){t.cancelPendingCommit=null;do Lu();while($t!==0);if((Ze&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=qd,Ko(t,a,f,b,T,I),t===it&&(Pe=it=null,He=0),to=r,Gi=t,no=a,Yf=f,Xf=h,Vv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,k1(Es,function(){return Xv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,h=re.p,re.p=2,b=Ze,Ze|=4;try{S1(t,r,a)}finally{Ze=b,re.p=h,z.T=l}}$t=1,Fv(),Qv(),Kv()}}function Fv(){if($t===1){$t=0;var t=Gi,r=to,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var l=re.p;re.p=2;var h=Ze;Ze|=4;try{Rv(r,t);var f=hm,b=Mg(t.containerInfo),T=f.focusedElem,I=f.selectionRange;if(b!==T&&T&&T.ownerDocument&&Og(T.ownerDocument.documentElement,T)){if(I!==null&&jd(T)){var H=I.start,$=I.end;if($===void 0&&($=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min($,T.value.length);else{var te=T.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var Q=F.getSelection(),Ae=T.textContent.length,Ee=Math.min(I.start,Ae),nt=I.end===void 0?Ee:Math.min(I.end,Ae);!Q.extend&&Ee>nt&&(b=nt,nt=Ee,Ee=b);var U=Dg(T,Ee),O=Dg(T,nt);if(U&&O&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==O.node||Q.focusOffset!==O.offset)){var q=te.createRange();q.setStart(U.node,U.offset),Q.removeAllRanges(),Ee>nt?(Q.addRange(q),Q.extend(O.node,O.offset)):(q.setEnd(O.node,O.offset),Q.addRange(q))}}}}for(te=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var Z=te[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Zu=!!um,hm=um=null}finally{Ze=h,re.p=l,z.T=a}}t.current=r,$t=2}}function Qv(){if($t===2){$t=0;var t=Gi,r=to,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var l=re.p;re.p=2;var h=Ze;Ze|=4;try{wv(t,r.alternate,r)}finally{Ze=h,re.p=l,z.T=a}}$t=3}}function Kv(){if($t===4||$t===3){$t=0,Vc();var t=Gi,r=to,a=no,l=Vv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$t=5:($t=0,to=Gi=null,Yv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Hi=null),Ea(a),r=r.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(mt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=z.T,h=re.p,re.p=2,z.T=null;try{for(var f=t.onRecoverableError,b=0;b<l.length;b++){var T=l[b];f(T.value,{componentStack:T.stack})}}finally{z.T=r,re.p=h}}(no&3)!==0&&Lu(),xr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===$f?Pl++:(Pl=0,$f=t):Pl=0,jl(0)}}function Yv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,gl(r)))}function Lu(t){return Fv(),Qv(),Kv(),Xv()}function Xv(){if($t!==5)return!1;var t=Gi,r=Yf;Yf=0;var a=Ea(no),l=z.T,h=re.p;try{re.p=32>a?32:a,z.T=null,a=Xf,Xf=null;var f=Gi,b=no;if($t=0,to=Gi=null,no=0,(Ze&6)!==0)throw Error(s(331));var T=Ze;if(Ze|=4,Ov(f.current),Nv(f,f.current,b,a),Ze=T,jl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(mt,f)}catch{}return!0}finally{re.p=h,z.T=l,Yv(t,r)}}function $v(t,r,a){r=Gn(a,r),r=If(t.stateNode,r,2),t=Vi(t,r,2),t!==null&&(zr(t,2),xr(t))}function rt(t,r,a){if(t.tag===3)$v(t,t,a);else for(;r!==null;){if(r.tag===3){$v(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hi===null||!Hi.has(l))){t=Gn(a,t),a=ev(2),l=Vi(r,a,2),l!==null&&(tv(a,l,r,t),zr(l,2),xr(l));break}}r=r.return}}function em(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new R1;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Gf=!0,h.add(a),t=O1.bind(null,t,r,a),r.then(t,t))}function O1(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(He&a)===a&&(gt===4||gt===3&&(He&62914560)===He&&300>Un()-Kf?(Ze&2)===0&&ro(t,0):Ff|=a,eo===He&&(eo=0)),xr(t)}function Zv(t,r){r===0&&(r=Qo()),t=La(t,r),t!==null&&(zr(t,r),xr(t))}function M1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Zv(t,a)}function V1(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Zv(t,a)}function k1(t,r){return _s(t,r)}var zu=null,so=null,tm=!1,Bu=!1,nm=!1,ea=0;function xr(t){t!==so&&t.next===null&&(so===null?zu=so=t:so=so.next=t),Bu=!0,tm||(tm=!0,j1())}function jl(t,r){if(!nm&&Bu){nm=!0;do for(var a=!1,l=zu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var b=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-nn(42|t)+1)-1,f&=h&~(b&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,t_(l,f))}else f=He,f=ba(l,l===it?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||As(l,f)||(a=!0,t_(l,f));l=l.next}while(a);nm=!1}}function P1(){Wv()}function Wv(){Bu=tm=!1;var t=0;ea!==0&&(F1()&&(t=ea),ea=0);for(var r=Un(),a=null,l=zu;l!==null;){var h=l.next,f=Jv(l,r);f===0?(l.next=null,a===null?zu=h:a.next=h,h===null&&(so=a)):(a=l,(t!==0||(f&3)!==0)&&(Bu=!0)),l=h}jl(t)}function Jv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var b=31-nn(f),T=1<<b,I=h[b];I===-1?((T&a)===0||(T&l)!==0)&&(h[b]=Go(T,r)):I<=r&&(t.expiredLanes|=T),f&=~T}if(r=it,a=He,a=ba(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&bs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||As(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&bs(l),Ea(a)){case 2:case 8:a=va;break;case 32:a=Es;break;case 268435456:a=_a;break;default:a=Es}return l=e_.bind(null,t),a=_s(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&bs(l),t.callbackPriority=2,t.callbackNode=null,2}function e_(t,r){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lu()&&t.callbackNode!==a)return null;var l=He;return l=ba(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Pv(t,l,r),Jv(t,Un()),t.callbackNode!=null&&t.callbackNode===a?e_.bind(null,t):null)}function t_(t,r){if(Lu())return null;Pv(t,r,!0)}function j1(){K1(function(){(Ze&6)!==0?_s(qo,P1):Wv()})}function rm(){return ea===0&&(ea=Fo()),ea}function n_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ra(""+t)}function r_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function U1(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var f=n_((h[wt]||null).action),b=l.submitter;b&&(r=(r=b[wt]||null)?n_(r.formAction):b.getAttribute("formAction"),r!==null&&(f=r,b=null));var T=new Ia("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ea!==0){var I=b?r_(h,b):new FormData(h);wf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=b?r_(h,b):new FormData(h),wf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var im=0;im<Bd.length;im++){var sm=Bd[im],L1=sm.toLowerCase(),z1=sm[0].toUpperCase()+sm.slice(1);rr(L1,"on"+z1)}rr(Pg,"onAnimationEnd"),rr(jg,"onAnimationIteration"),rr(Ug,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(r1,"onTransitionRun"),rr(i1,"onTransitionStart"),rr(s1,"onTransitionCancel"),rr(Lg,"onTransitionEnd"),qr("onMouseEnter",["mouseout","mouseover"]),qr("onMouseLeave",["mouseout","mouseover"]),qr("onPointerEnter",["pointerout","pointerover"]),qr("onPointerLeave",["pointerout","pointerover"]),tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function i_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var b=l.length-1;0<=b;b--){var T=l[b],I=T.instance,H=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=H;try{f(h)}catch($){Iu($)}h.currentTarget=null,f=I}else for(b=0;b<l.length;b++){if(T=l[b],I=T.instance,H=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=H;try{f(h)}catch($){Iu($)}h.currentTarget=null,f=I}}}}function je(t,r){var a=r[Xo];a===void 0&&(a=r[Xo]=new Set);var l=t+"__bubble";a.has(l)||(s_(r,t,2,!1),a.add(l))}function am(t,r,a){var l=0;r&&(l|=4),s_(a,t,l,r)}var qu="_reactListening"+Math.random().toString(36).slice(2);function om(t){if(!t[qu]){t[qu]=!0,$o.forEach(function(a){a!=="selectionchange"&&(B1.has(a)||am(a,!1,t),am(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[qu]||(r[qu]=!0,am("selectionchange",!1,r))}}function s_(t,r,a,l){switch(N_(r)){case 2:var h=mS;break;case 8:h=pS;break;default:h=Em}a=h.bind(null,r,a,t),h=void 0,!qn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function lm(t,r,a,l,h){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var T=l.stateNode.containerInfo;if(T===h)break;if(b===4)for(b=l.return;b!==null;){var I=b.tag;if((I===3||I===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;T!==null;){if(b=Br(T),b===null)return;if(I=b.tag,I===5||I===6||I===26||I===27){l=f=b;continue e}T=T.parentNode}}l=l.return}Gc(function(){var H=f,$=Bn(a),te=[];e:{var F=zg.get(t);if(F!==void 0){var Q=Ia,Ae=t;switch(t){case"keypress":if(yr(a)===0)break e;case"keydown":case"keyup":Q=Va;break;case"focusin":Ae="focus",Q=Da;break;case"focusout":Ae="blur",Q=Da;break;case"beforeblur":case"afterblur":Q=Da;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Md;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Wc;break;case Pg:case jg:case Ug:Q=Oa;break;case Lg:Q=eu;break;case"scroll":case"scrollend":Q=Fc;break;case"wheel":Q=ka;break;case"copy":case"cut":case"paste":Q=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ll;break;case"toggle":case"beforetoggle":Q=nu}var Ee=(r&4)!==0,nt=!Ee&&(t==="scroll"||t==="scrollend"),U=Ee?F!==null?F+"Capture":null:F;Ee=[];for(var O=H,q;O!==null;){var Z=O;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||U===null||(Z=Ms(O,U),Z!=null&&Ee.push(Ll(O,Z,q))),nt)break;O=O.return}0<Ee.length&&(F=new Q(F,Ae,null,a,$),te.push({event:F,listeners:Ee}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==Fr&&(Ae=a.relatedTarget||a.fromElement)&&(Br(Ae)||Ae[Ln]))break e;if((Q||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(Ae=a.relatedTarget||a.toElement,Q=H,Ae=Ae?Br(Ae):null,Ae!==null&&(nt=c(Ae),Ee=Ae.tag,Ae!==nt||Ee!==5&&Ee!==27&&Ee!==6)&&(Ae=null)):(Q=null,Ae=H),Q!==Ae)){if(Ee=Hn,Z="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=ll,Z="onPointerLeave",U="onPointerEnter",O="pointer"),nt=Q==null?F:fr(Q),q=Ae==null?F:fr(Ae),F=new Ee(Z,O+"leave",Q,a,$),F.target=nt,F.relatedTarget=q,Z=null,Br($)===H&&(Ee=new Ee(U,O+"enter",Ae,a,$),Ee.target=q,Ee.relatedTarget=nt,Z=Ee),nt=Z,Q&&Ae)t:{for(Ee=Q,U=Ae,O=0,q=Ee;q;q=ao(q))O++;for(q=0,Z=U;Z;Z=ao(Z))q++;for(;0<O-q;)Ee=ao(Ee),O--;for(;0<q-O;)U=ao(U),q--;for(;O--;){if(Ee===U||U!==null&&Ee===U.alternate)break t;Ee=ao(Ee),U=ao(U)}Ee=null}else Ee=null;Q!==null&&a_(te,F,Q,Ee,!1),Ae!==null&&nt!==null&&a_(te,nt,Ae,Ee,!0)}}e:{if(F=H?fr(H):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var pe=Ag;else if(Ot(F))if(xg)pe=e1;else{pe=Ww;var Ve=Zw}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&tl(H.elementType)&&(pe=Ag):pe=Jw;if(pe&&(pe=pe(t,H))){$r(te,pe,a,$);break e}Ve&&Ve(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Ni(F,"number",F.value)}switch(Ve=H?fr(H):window,t){case"focusin":(Ot(Ve)||Ve.contentEditable==="true")&&(Pa=Ve,Ud=H,hl=null);break;case"focusout":hl=Ud=Pa=null;break;case"mousedown":Ld=!0;break;case"contextmenu":case"mouseup":case"dragend":Ld=!1,Vg(te,a,$);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":Vg(te,a,$)}var ve;if(br)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Be?K(t,a)&&(Te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(_&&a.locale!=="ko"&&(Be||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Be&&(ve=rl()):(gr=$,Ci="value"in gr?gr.value:gr.textContent,Be=!0)),Ve=Hu(H,Te),0<Ve.length&&(Te=new al(Te,t,null,a,$),te.push({event:Te,listeners:Ve}),ve?Te.data=ve:(ve=ce(a),ve!==null&&(Te.data=ve)))),(ve=g?Dt(t,a):qe(t,a))&&(Te=Hu(H,"onBeforeInput"),0<Te.length&&(Ve=new al("onBeforeInput","beforeinput",null,a,$),te.push({event:Ve,listeners:Te}),Ve.data=ve)),U1(te,t,H,a,$)}i_(te,r)})}function Ll(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Hu(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Ms(t,a),h!=null&&l.unshift(Ll(t,h,f)),h=Ms(t,r),h!=null&&l.push(Ll(t,h,f))),t.tag===3)return l;t=t.return}return[]}function ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function a_(t,r,a,l,h){for(var f=r._reactName,b=[];a!==null&&a!==l;){var T=a,I=T.alternate,H=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||H===null||(I=H,h?(H=Ms(a,f),H!=null&&b.unshift(Ll(a,H,I))):h||(H=Ms(a,f),H!=null&&b.push(Ll(a,H,I)))),a=a.return}b.length!==0&&t.push({event:r,listeners:b})}var q1=/\r\n?/g,H1=/\u0000|\uFFFD/g;function o_(t){return(typeof t=="string"?t:""+t).replace(q1,`
`).replace(H1,"")}function l_(t,r){return r=o_(r),o_(t)===r}function Gu(){}function tt(t,r,a,l,h,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||zn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&zn(t,""+l);break;case"className":mr(t,"class",l);break;case"tabIndex":mr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mr(t,a,l);break;case"style":el(t,l,f);break;case"data":if(r!=="object"){mr(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&tt(t,r,"name",h.name,h,null),tt(t,r,"formEncType",h.formEncType,h,null),tt(t,r,"formMethod",h.formMethod,h,null),tt(t,r,"formTarget",h.formTarget,h,null)):(tt(t,r,"encType",h.encType,h,null),tt(t,r,"method",h.method,h,null),tt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Gu);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ra(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":je("beforetoggle",t),je("toggle",t),Ii(t,"popover",l);break;case"xlinkActuate":Kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ii(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Dd.get(a)||a,Ii(t,a,l))}}function cm(t,r,a,l,h,f){switch(a){case"style":el(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?zn(t,l):(typeof l=="number"||typeof l=="bigint")&&zn(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=t[wt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ii(t,a,l)}}}function Zt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var b=a[f];if(b!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(t,r,f,b,a,null)}}h&&tt(t,r,"srcSet",a.srcSet,a,null),l&&tt(t,r,"src",a.src,a,null);return;case"input":je("invalid",t);var T=f=b=h=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":b=$;break;case"checked":I=$;break;case"defaultChecked":H=$;break;case"value":f=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:tt(t,r,l,$,a,null)}}Cs(t,f,T,I,H,b,h,!1),xa(t);return;case"select":je("invalid",t),l=b=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":b=T;break;case"multiple":l=T;default:tt(t,r,h,T,a,null)}r=f,a=b,t.multiple=!!l,r!=null?Gr(t,!!l,r,!1):a!=null&&Gr(t,!!l,a,!0);return;case"textarea":je("invalid",t),f=h=l=null;for(b in a)if(a.hasOwnProperty(b)&&(T=a[b],T!=null))switch(b){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:tt(t,r,b,T,a,null)}Ds(t,l,h,f),xa(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(t,r,I,l,a,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<Ul.length;l++)je(Ul[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(t,r,H,l,a,null)}return;default:if(tl(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&cm(t,r,$,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&tt(t,r,T,l,a,null))}function G1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,b=null,T=null,I=null,H=null,$=null;for(Q in a){var te=a[Q];if(a.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=te;default:l.hasOwnProperty(Q)||tt(t,r,Q,null,l,te)}}for(var F in l){var Q=l[F];if(te=a[F],l.hasOwnProperty(F)&&(Q!=null||te!=null))switch(F){case"type":f=Q;break;case"name":h=Q;break;case"checked":H=Q;break;case"defaultChecked":$=Q;break;case"value":b=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==te&&tt(t,r,F,Q,l,te)}}Rn(t,b,T,I,H,$,f,h);return;case"select":Q=b=T=F=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(f)||tt(t,r,f,null,l,I)}for(h in l)if(f=l[h],I=a[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":F=f;break;case"defaultValue":T=f;break;case"multiple":b=f;default:f!==I&&tt(t,r,h,f,l,I)}r=T,a=b,l=Q,F!=null?Gr(t,!!a,F,!1):!!l!=!!a&&(r!=null?Gr(t,!!a,r,!0):Gr(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:tt(t,r,T,null,l,h)}for(b in l)if(h=l[b],f=a[b],l.hasOwnProperty(b)&&(h!=null||f!=null))switch(b){case"value":F=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&tt(t,r,b,h,l,f)}Je(t,F,Q);return;case"option":for(var Ae in a)if(F=a[Ae],a.hasOwnProperty(Ae)&&F!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":t.selected=!1;break;default:tt(t,r,Ae,null,l,F)}for(I in l)if(F=l[I],Q=a[I],l.hasOwnProperty(I)&&F!==Q&&(F!=null||Q!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:tt(t,r,I,F,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)F=a[Ee],a.hasOwnProperty(Ee)&&F!=null&&!l.hasOwnProperty(Ee)&&tt(t,r,Ee,null,l,F);for(H in l)if(F=l[H],Q=a[H],l.hasOwnProperty(H)&&F!==Q&&(F!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:tt(t,r,H,F,l,Q)}return;default:if(tl(r)){for(var nt in a)F=a[nt],a.hasOwnProperty(nt)&&F!==void 0&&!l.hasOwnProperty(nt)&&cm(t,r,nt,void 0,l,F);for($ in l)F=l[$],Q=a[$],!l.hasOwnProperty($)||F===Q||F===void 0&&Q===void 0||cm(t,r,$,F,l,Q);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&tt(t,r,U,null,l,F);for(te in l)F=l[te],Q=a[te],!l.hasOwnProperty(te)||F===Q||F==null&&Q==null||tt(t,r,te,F,l,Q)}var um=null,hm=null;function Fu(t){return t.nodeType===9?t:t.ownerDocument}function c_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function dm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var fm=null;function F1(){var t=window.event;return t&&t.type==="popstate"?t===fm?!1:(fm=t,!0):(fm=null,!1)}var h_=typeof setTimeout=="function"?setTimeout:void 0,Q1=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,K1=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(t){return d_.resolve(null).then(t).catch(Y1)}:h_;function Y1(t){setTimeout(function(){throw t})}function Qi(t){return t==="head"}function f_(t,r){var a=r,l=0,h=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var b=t.ownerDocument;if(a&1&&zl(b.documentElement),a&2&&zl(b.body),a&4)for(a=b.head,zl(a),b=a.firstChild;b;){var T=b.nextSibling,I=b.nodeName;b[xs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=T}}if(h===0){t.removeChild(f),Yl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Yl(r)}function mm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mm(a),Ri(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function X1(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=sr(t.nextSibling),t===null)break}return null}function $1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=sr(t.nextSibling),t===null))return null;return t}function pm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Z1(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function sr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var gm=null;function m_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function p_(t,r,a){switch(r=Fu(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function zl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ri(t)}var $n=new Map,g_=new Set;function Qu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ci=re.d;re.d={f:W1,r:J1,D:eS,C:tS,L:nS,m:rS,X:sS,S:iS,M:aS};function W1(){var t=ci.f(),r=ju();return t||r}function J1(t){var r=dr(t);r!==null&&r.tag===5&&r.type==="form"?Py(r):ci.r(t)}var oo=typeof document>"u"?null:document;function y_(t,r,a){var l=oo;if(l&&typeof r=="string"&&r){var h=St(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),g_.has(h)||(g_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Zt(r,"link",t),vt(r),l.head.appendChild(r)))}}function eS(t){ci.D(t),y_("dns-prefetch",t,null)}function tS(t,r){ci.C(t,r),y_("preconnect",t,r)}function nS(t,r,a){ci.L(t,r,a);var l=oo;if(l&&t&&r){var h='link[rel="preload"][as="'+St(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+St(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+St(a.imageSizes)+'"]')):h+='[href="'+St(t)+'"]';var f=h;switch(r){case"style":f=lo(t);break;case"script":f=co(t)}$n.has(f)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),$n.set(f,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Bl(f))||r==="script"&&l.querySelector(ql(f))||(r=l.createElement("link"),Zt(r,"link",t),vt(r),l.head.appendChild(r)))}}function rS(t,r){ci.m(t,r);var a=oo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+St(l)+'"][href="'+St(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=co(t)}if(!$n.has(f)&&(t=E({rel:"modulepreload",href:t},r),$n.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ql(f)))return}l=a.createElement("link"),Zt(l,"link",t),vt(l),a.head.appendChild(l)}}}function iS(t,r,a){ci.S(t,r,a);var l=oo;if(l&&t){var h=fn(l).hoistableStyles,f=lo(t);r=r||"default";var b=h.get(f);if(!b){var T={loading:0,preload:null};if(b=l.querySelector(Bl(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=$n.get(f))&&ym(t,a);var I=b=l.createElement("link");vt(I),Zt(I,"link",t),I._p=new Promise(function(H,$){I.onload=H,I.onerror=$}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ku(b,r,l)}b={type:"stylesheet",instance:b,count:1,state:T},h.set(f,b)}}}function sS(t,r){ci.X(t,r);var a=oo;if(a&&t){var l=fn(a).hoistableScripts,h=co(t),f=l.get(h);f||(f=a.querySelector(ql(h)),f||(t=E({src:t,async:!0},r),(r=$n.get(h))&&vm(t,r),f=a.createElement("script"),vt(f),Zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function aS(t,r){ci.M(t,r);var a=oo;if(a&&t){var l=fn(a).hoistableScripts,h=co(t),f=l.get(h);f||(f=a.querySelector(ql(h)),f||(t=E({src:t,async:!0,type:"module"},r),(r=$n.get(h))&&vm(t,r),f=a.createElement("script"),vt(f),Zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function v_(t,r,a,l){var h=(h=we.current)?Qu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=lo(a.href),a=fn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=lo(a.href);var f=fn(h).hoistableStyles,b=f.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,b),(f=h.querySelector(Bl(t)))&&!f._p&&(b.instance=f,b.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),f||oS(h,t,a,b.state))),r&&l===null)throw Error(s(528,""));return b}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=co(a),a=fn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function lo(t){return'href="'+St(t)+'"'}function Bl(t){return'link[rel="stylesheet"]['+t+"]"}function __(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function oS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Zt(r,"link",a),vt(r),t.head.appendChild(r))}function co(t){return'[src="'+St(t)+'"]'}function ql(t){return"script[async]"+t}function b_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+St(a.href)+'"]');if(l)return r.instance=l,vt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),vt(l),Zt(l,"style",h),Ku(l,a.precedence,t),r.instance=l;case"stylesheet":h=lo(a.href);var f=t.querySelector(Bl(h));if(f)return r.state.loading|=4,r.instance=f,vt(f),f;l=__(a),(h=$n.get(h))&&ym(l,h),f=(t.ownerDocument||t).createElement("link"),vt(f);var b=f;return b._p=new Promise(function(T,I){b.onload=T,b.onerror=I}),Zt(f,"link",l),r.state.loading|=4,Ku(f,a.precedence,t),r.instance=f;case"script":return f=co(a.src),(h=t.querySelector(ql(f)))?(r.instance=h,vt(h),h):(l=a,(h=$n.get(f))&&(l=E({},a),vm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),vt(h),Zt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Ku(l,a.precedence,t));return r.instance}function Ku(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,b=0;b<l.length;b++){var T=l[b];if(T.dataset.precedence===r)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function ym(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function vm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Yu=null;function E_(t,r,a){if(Yu===null){var l=new Map,h=Yu=new Map;h.set(a,l)}else h=Yu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[xs]||f[Ct]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var b=f.getAttribute(r)||"";b=t+b;var T=l.get(b);T?T.push(f):l.set(b,[f])}}return l}function T_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function lS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function w_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Hl=null;function cS(){}function uS(t,r,a){if(Hl===null)throw Error(s(475));var l=Hl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=lo(a.href),f=t.querySelector(Bl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Xu.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=f,vt(f);return}f=t.ownerDocument||t,a=__(a),(h=$n.get(h))&&ym(a,h),f=f.createElement("link"),vt(f);var b=f;b._p=new Promise(function(T,I){b.onload=T,b.onerror=I}),Zt(f,"link",a),r.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Xu.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function hS(){if(Hl===null)throw Error(s(475));var t=Hl;return t.stylesheets&&t.count===0&&_m(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&_m(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Xu(){if(this.count--,this.count===0){if(this.stylesheets)_m(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var $u=null;function _m(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,$u=new Map,r.forEach(dS,t),$u=null,Xu.call(t))}function dS(t,r){if(!(r.state.loading&4)){var a=$u.get(t);if(a)var l=a.get(null);else{a=new Map,$u.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var b=h[f];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}h=r.instance,b=h.getAttribute("data-precedence"),f=a.get(b)||l,f===l&&a.set(null,h),a.set(b,h),this.count++,l=Xu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Gl={$$typeof:ee,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function fS(t,r,a,l,h,f,b,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.hiddenUpdates=Lr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function S_(t,r,a,l,h,f,b,T,I,H,$,te){return t=new fS(t,r,a,b,T,I,H,te),r=1,f===!0&&(r|=24),f=Nn(3,null,null,r),t.current=f,f.stateNode=t,r=Jd(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},rf(f),t}function A_(t){return t?(t=za,t):za}function x_(t,r,a,l,h,f){h=A_(h),l.context===null?l.context=h:l.pendingContext=h,l=Mi(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Vi(t,l,r),a!==null&&(Vn(a,t,r),bl(a,t,r))}function R_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function bm(t,r){R_(t,r),(t=t.alternate)&&R_(t,r)}function I_(t){if(t.tag===13){var r=La(t,67108864);r!==null&&Vn(r,t,67108864),bm(t,67108864)}}var Zu=!0;function mS(t,r,a,l){var h=z.T;z.T=null;var f=re.p;try{re.p=2,Em(t,r,a,l)}finally{re.p=f,z.T=h}}function pS(t,r,a,l){var h=z.T;z.T=null;var f=re.p;try{re.p=8,Em(t,r,a,l)}finally{re.p=f,z.T=h}}function Em(t,r,a,l){if(Zu){var h=Tm(l);if(h===null)lm(t,r,l,Wu,a),C_(t,l);else if(yS(h,t,r,a,l))l.stopPropagation();else if(C_(t,l),r&4&&-1<gS.indexOf(t)){for(;h!==null;){var f=dr(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var b=er(f.pendingLanes);if(b!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var I=1<<31-nn(b);T.entanglements[1]|=I,b&=~I}xr(f),(Ze&6)===0&&(ku=Un()+500,jl(0))}}break;case 13:T=La(f,2),T!==null&&Vn(T,f,2),ju(),bm(f,2)}if(f=Tm(l),f===null&&lm(t,r,l,Wu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else lm(t,r,l,null,a)}}function Tm(t){return t=Bn(t),wm(t)}var Wu=null;function wm(t){if(Wu=null,t=Br(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=d(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Wu=t,null}function N_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ad()){case qo:return 2;case va:return 8;case Es:case xd:return 32;case _a:return 268435456;default:return 32}default:return 32}}var Sm=!1,Ki=null,Yi=null,Xi=null,Fl=new Map,Ql=new Map,$i=[],gS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(t,r){switch(t){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":Fl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(r.pointerId)}}function Kl(t,r,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},r!==null&&(r=dr(r),r!==null&&I_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function yS(t,r,a,l,h){switch(r){case"focusin":return Ki=Kl(Ki,t,r,a,l,h),!0;case"dragenter":return Yi=Kl(Yi,t,r,a,l,h),!0;case"mouseover":return Xi=Kl(Xi,t,r,a,l,h),!0;case"pointerover":var f=h.pointerId;return Fl.set(f,Kl(Fl.get(f)||null,t,r,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Ql.set(f,Kl(Ql.get(f)||null,t,r,a,l,h)),!0}return!1}function D_(t){var r=Br(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){t.blockedOn=r,jc(t.priority,function(){if(a.tag===13){var l=Mn();l=Si(l);var h=La(a,l);h!==null&&Vn(h,a,l),bm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ju(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Tm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Fr=l,a.target.dispatchEvent(l),Fr=null}else return r=dr(a),r!==null&&I_(r),t.blockedOn=a,!1;r.shift()}return!0}function O_(t,r,a){Ju(t)&&a.delete(r)}function vS(){Sm=!1,Ki!==null&&Ju(Ki)&&(Ki=null),Yi!==null&&Ju(Yi)&&(Yi=null),Xi!==null&&Ju(Xi)&&(Xi=null),Fl.forEach(O_),Ql.forEach(O_)}function eh(t,r){t.blockedOn===r&&(t.blockedOn=null,Sm||(Sm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,vS)))}var th=null;function M_(t){th!==t&&(th=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){th===t&&(th=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(wm(l||a)===null)continue;break}var f=dr(a);f!==null&&(t.splice(r,3),r-=3,wf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Yl(t){function r(I){return eh(I,t)}Ki!==null&&eh(Ki,t),Yi!==null&&eh(Yi,t),Xi!==null&&eh(Xi,t),Fl.forEach(r),Ql.forEach(r);for(var a=0;a<$i.length;a++){var l=$i[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<$i.length&&(a=$i[0],a.blockedOn===null);)D_(a),a.blockedOn===null&&$i.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],b=h[wt]||null;if(typeof f=="function")b||M_(a);else if(b){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,b=f[wt]||null)T=b.formAction;else if(wm(h)!==null)continue}else T=b.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),M_(a)}}}function Am(t){this._internalRoot=t}nh.prototype.render=Am.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Mn();x_(a,l,t,r,null,null)},nh.prototype.unmount=Am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;x_(t.current,2,null,t,null,null),ju(),r[Ln]=null}};function nh(t){this._internalRoot=t}nh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ai();t={blockedOn:null,target:t,priority:r};for(var a=0;a<$i.length&&r!==0&&r<$i[a].priority;a++);$i.splice(a,0,t),a===0&&D_(t)}};var V_=e.version;if(V_!=="19.1.0")throw Error(s(527,V_,"19.1.0"));re.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var _S={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{mt=rh.inject(_S),$e=rh}catch{}}return $l.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=$y,f=Zy,b=Wy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=S_(t,1,!1,null,null,a,l,h,f,b,T,null),t[Ln]=r.current,om(t),new Am(r)},$l.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=$y,b=Zy,T=Wy,I=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),r=S_(t,1,!0,r,a??null,l,h,f,b,T,I,H),r.context=A_(null),a=r.current,l=Mn(),l=Si(l),h=Mi(l),h.callback=null,Vi(a,h,l),a=l,r.current.lanes=a,zr(r,a),xr(r),t[Ln]=r.current,om(t),new nh(r)},$l.version="19.1.0",$l}var G_;function CS(){if(G_)return Im.exports;G_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Im.exports=NS(),Im.exports}var DS=CS();function F_(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function OS(...i){return e=>{let n=!1;const s=i.map(o=>{const c=F_(o,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let o=0;o<s.length;o++){const c=s[o];typeof c=="function"?c():F_(i[o],null)}}}}function Pr(...i){return Y.useCallback(OS(...i),i)}function Ih(i){const e=MS(i),n=Y.forwardRef((s,o)=>{const{children:c,...d}=s,m=Y.Children.toArray(c),p=m.find(kS);if(p){const y=p.props.children,E=m.map(w=>w===p?Y.Children.count(y)>1?Y.Children.only(null):Y.isValidElement(y)?y.props.children:null:w);return v.jsx(e,{...d,ref:o,children:Y.isValidElement(y)?Y.cloneElement(y,void 0,E):null})}return v.jsx(e,{...d,ref:o,children:c})});return n.displayName=`${i}.Slot`,n}var Ob=Ih("Slot");function MS(i){const e=Y.forwardRef((n,s)=>{const{children:o,...c}=n,d=Y.isValidElement(o)?jS(o):void 0,m=Pr(d,s);if(Y.isValidElement(o)){const p=PS(c,o.props);return o.type!==Y.Fragment&&(p.ref=m),Y.cloneElement(o,p)}return Y.Children.count(o)>1?Y.Children.only(null):null});return e.displayName=`${i}.SlotClone`,e}var VS=Symbol("radix.slottable");function kS(i){return Y.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===VS}function PS(i,e){const n={...e};for(const s in e){const o=i[s],c=e[s];/^on[A-Z]/.test(s)?o&&c?n[s]=(...m)=>{const p=c(...m);return o(...m),p}:o&&(n[s]=o):s==="style"?n[s]={...o,...c}:s==="className"&&(n[s]=[o,c].filter(Boolean).join(" "))}return{...i,...n}}function jS(i){var s,o;let e=(s=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?i.ref:(e=(o=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?i.props.ref:i.props.ref||i.ref)}function Mb(i){var e,n,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(e=0;e<o;e++)i[e]&&(n=Mb(i[e]))&&(s&&(s+=" "),s+=n)}else for(n in i)i[n]&&(s&&(s+=" "),s+=n);return s}function Vb(){for(var i,e,n=0,s="",o=arguments.length;n<o;n++)(i=arguments[n])&&(e=Mb(i))&&(s&&(s+=" "),s+=e);return s}const Q_=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,K_=Vb,kb=(i,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return K_(i,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:c}=e,d=Object.keys(o).map(y=>{const E=n==null?void 0:n[y],w=c==null?void 0:c[y];if(E===null)return null;const A=Q_(E)||Q_(w);return o[y][A]}),m=n&&Object.entries(n).reduce((y,E)=>{let[w,A]=E;return A===void 0||(y[w]=A),y},{}),p=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((y,E)=>{let{class:w,className:A,...D}=E;return Object.entries(D).every(k=>{let[G,L]=k;return Array.isArray(L)?L.includes({...c,...m}[G]):{...c,...m}[G]===L})?[...y,w,A]:y},[]);return K_(i,d,p,n==null?void 0:n.class,n==null?void 0:n.className)},Ap="-",US=i=>{const e=zS(i),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=i;return{getClassGroupId:d=>{const m=d.split(Ap);return m[0]===""&&m.length!==1&&m.shift(),Pb(m,e)||LS(d)},getConflictingClassGroupIds:(d,m)=>{const p=n[d]||[];return m&&s[d]?[...p,...s[d]]:p}}},Pb=(i,e)=>{var d;if(i.length===0)return e.classGroupId;const n=i[0],s=e.nextPart.get(n),o=s?Pb(i.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const c=i.join(Ap);return(d=e.validators.find(({validator:m})=>m(c)))==null?void 0:d.classGroupId},Y_=/^\[(.+)\]$/,LS=i=>{if(Y_.test(i)){const e=Y_.exec(i)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},zS=i=>{const{theme:e,classGroups:n}=i,s={nextPart:new Map,validators:[]};for(const o in n)Km(n[o],s,o,e);return s},Km=(i,e,n,s)=>{i.forEach(o=>{if(typeof o=="string"){const c=o===""?e:X_(e,o);c.classGroupId=n;return}if(typeof o=="function"){if(BS(o)){Km(o(s),e,n,s);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([c,d])=>{Km(d,X_(e,c),n,s)})})},X_=(i,e)=>{let n=i;return e.split(Ap).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},BS=i=>i.isThemeGetter,qS=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const o=(c,d)=>{n.set(c,d),e++,e>i&&(e=0,s=n,n=new Map)};return{get(c){let d=n.get(c);if(d!==void 0)return d;if((d=s.get(c))!==void 0)return o(c,d),d},set(c,d){n.has(c)?n.set(c,d):o(c,d)}}},Ym="!",Xm=":",HS=Xm.length,GS=i=>{const{prefix:e,experimentalParseClassName:n}=i;let s=o=>{const c=[];let d=0,m=0,p=0,y;for(let k=0;k<o.length;k++){let G=o[k];if(d===0&&m===0){if(G===Xm){c.push(o.slice(p,k)),p=k+HS;continue}if(G==="/"){y=k;continue}}G==="["?d++:G==="]"?d--:G==="("?m++:G===")"&&m--}const E=c.length===0?o:o.substring(p),w=FS(E),A=w!==E,D=y&&y>p?y-p:void 0;return{modifiers:c,hasImportantModifier:A,baseClassName:w,maybePostfixModifierPosition:D}};if(e){const o=e+Xm,c=s;s=d=>d.startsWith(o)?c(d.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(n){const o=s;s=c=>n({className:c,parseClassName:o})}return s},FS=i=>i.endsWith(Ym)?i.substring(0,i.length-1):i.startsWith(Ym)?i.substring(1):i,QS=i=>{const e=Object.fromEntries(i.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let c=[];return s.forEach(d=>{d[0]==="["||e[d]?(o.push(...c.sort(),d),c=[]):c.push(d)}),o.push(...c.sort()),o}},KS=i=>({cache:qS(i.cacheSize),parseClassName:GS(i),sortModifiers:QS(i),...US(i)}),YS=/\s+/,XS=(i,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:c}=e,d=[],m=i.trim().split(YS);let p="";for(let y=m.length-1;y>=0;y-=1){const E=m[y],{isExternal:w,modifiers:A,hasImportantModifier:D,baseClassName:k,maybePostfixModifierPosition:G}=n(E);if(w){p=E+(p.length>0?" "+p:p);continue}let L=!!G,ae=s(L?k.substring(0,G):k);if(!ae){if(!L){p=E+(p.length>0?" "+p:p);continue}if(ae=s(k),!ae){p=E+(p.length>0?" "+p:p);continue}L=!1}const X=c(A).join(":"),ee=D?X+Ym:X,ue=ee+ae;if(d.includes(ue))continue;d.push(ue);const me=o(ae,L);for(let be=0;be<me.length;++be){const M=me[be];d.push(ee+M)}p=E+(p.length>0?" "+p:p)}return p};function $S(){let i=0,e,n,s="";for(;i<arguments.length;)(e=arguments[i++])&&(n=jb(e))&&(s&&(s+=" "),s+=n);return s}const jb=i=>{if(typeof i=="string")return i;let e,n="";for(let s=0;s<i.length;s++)i[s]&&(e=jb(i[s]))&&(n&&(n+=" "),n+=e);return n};function ZS(i,...e){let n,s,o,c=d;function d(p){const y=e.reduce((E,w)=>w(E),i());return n=KS(y),s=n.cache.get,o=n.cache.set,c=m,m(p)}function m(p){const y=s(p);if(y)return y;const E=XS(p,n);return o(p,E),E}return function(){return c($S.apply(null,arguments))}}const kt=i=>{const e=n=>n[i]||[];return e.isThemeGetter=!0,e},Ub=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Lb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,WS=/^\d+\/\d+$/,JS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,uo=i=>WS.test(i),Oe=i=>!!i&&!Number.isNaN(Number(i)),Wi=i=>!!i&&Number.isInteger(Number(i)),Om=i=>i.endsWith("%")&&Oe(i.slice(0,-1)),ui=i=>JS.test(i),iA=()=>!0,sA=i=>eA.test(i)&&!tA.test(i),zb=()=>!1,aA=i=>nA.test(i),oA=i=>rA.test(i),lA=i=>!ge(i)&&!ye(i),cA=i=>Do(i,Hb,zb),ge=i=>Ub.test(i),ta=i=>Do(i,Gb,sA),Mm=i=>Do(i,mA,Oe),$_=i=>Do(i,Bb,zb),uA=i=>Do(i,qb,oA),ih=i=>Do(i,Fb,aA),ye=i=>Lb.test(i),Zl=i=>Oo(i,Gb),hA=i=>Oo(i,pA),Z_=i=>Oo(i,Bb),dA=i=>Oo(i,Hb),fA=i=>Oo(i,qb),sh=i=>Oo(i,Fb,!0),Do=(i,e,n)=>{const s=Ub.exec(i);return s?s[1]?e(s[1]):n(s[2]):!1},Oo=(i,e,n=!1)=>{const s=Lb.exec(i);return s?s[1]?e(s[1]):n:!1},Bb=i=>i==="position"||i==="percentage",qb=i=>i==="image"||i==="url",Hb=i=>i==="length"||i==="size"||i==="bg-size",Gb=i=>i==="length",mA=i=>i==="number",pA=i=>i==="family-name",Fb=i=>i==="shadow",gA=()=>{const i=kt("color"),e=kt("font"),n=kt("text"),s=kt("font-weight"),o=kt("tracking"),c=kt("leading"),d=kt("breakpoint"),m=kt("container"),p=kt("spacing"),y=kt("radius"),E=kt("shadow"),w=kt("inset-shadow"),A=kt("text-shadow"),D=kt("drop-shadow"),k=kt("blur"),G=kt("perspective"),L=kt("aspect"),ae=kt("ease"),X=kt("animate"),ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],me=()=>[...ue(),ye,ge],be=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],x=()=>[ye,ge,p],R=()=>[uo,"full","auto",...x()],V=()=>[Wi,"none","subgrid",ye,ge],P=()=>["auto",{span:["full",Wi,ye,ge]},Wi,ye,ge],j=()=>[Wi,"auto",ye,ge],N=()=>["auto","min","max","fr",ye,ge],lt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],oe=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...x()],re=()=>[uo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],J=()=>[i,ye,ge],Me=()=>[...ue(),Z_,$_,{position:[ye,ge]}],C=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ie=()=>["auto","cover","contain",dA,cA,{size:[ye,ge]}],le=()=>[Om,Zl,ta],se=()=>["","none","full",y,ye,ge],fe=()=>["",Oe,Zl,ta],Ne=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>[Oe,Om,Z_,$_],Xe=()=>["","none",k,ye,ge],dn=()=>["none",Oe,ye,ge],Sn=()=>["none",Oe,ye,ge],An=()=>[Oe,ye,ge],jn=()=>[uo,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ui],breakpoint:[ui],color:[iA],container:[ui],"drop-shadow":[ui],ease:["in","out","in-out"],font:[lA],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ui],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ui],shadow:[ui],spacing:["px",Oe],text:[ui],"text-shadow":[ui],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",uo,ge,ye,L]}],container:["container"],columns:[{columns:[Oe,ge,ye,m]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:me()}],overflow:[{overflow:be()}],"overflow-x":[{"overflow-x":be()}],"overflow-y":[{"overflow-y":be()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Wi,"auto",ye,ge]}],basis:[{basis:[uo,"full","auto",m,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Oe,uo,"auto","initial","none",ge]}],grow:[{grow:["",Oe,ye,ge]}],shrink:[{shrink:["",Oe,ye,ge]}],order:[{order:[Wi,"first","last","none",ye,ge]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:[...lt(),"normal"]}],"justify-items":[{"justify-items":[...oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...oe()]}],"align-content":[{content:["normal",...lt()]}],"align-items":[{items:[...oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":lt()}],"place-items":[{"place-items":[...oe(),"baseline"]}],"place-self":[{"place-self":["auto",...oe()]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[m,"screen",...re()]}],"min-w":[{"min-w":[m,"screen","none",...re()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[d]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",n,Zl,ta]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ye,Mm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Om,ge]}],"font-family":[{font:[hA,ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ye,ge]}],"line-clamp":[{"line-clamp":[Oe,"none",ye,Mm]}],leading:[{leading:[c,...x()]}],"list-image":[{"list-image":["none",ye,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:J()}],"text-color":[{text:J()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Oe,"from-font","auto",ye,ta]}],"text-decoration-color":[{decoration:J()}],"underline-offset":[{"underline-offset":[Oe,"auto",ye,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Me()}],"bg-repeat":[{bg:C()}],"bg-size":[{bg:ie()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Wi,ye,ge],radial:["",ye,ge],conic:[Wi,ye,ge]},fA,uA]}],"bg-color":[{bg:J()}],"gradient-from-pos":[{from:le()}],"gradient-via-pos":[{via:le()}],"gradient-to-pos":[{to:le()}],"gradient-from":[{from:J()}],"gradient-via":[{via:J()}],"gradient-to":[{to:J()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ne(),"hidden","none"]}],"divide-style":[{divide:[...Ne(),"hidden","none"]}],"border-color":[{border:J()}],"border-color-x":[{"border-x":J()}],"border-color-y":[{"border-y":J()}],"border-color-s":[{"border-s":J()}],"border-color-e":[{"border-e":J()}],"border-color-t":[{"border-t":J()}],"border-color-r":[{"border-r":J()}],"border-color-b":[{"border-b":J()}],"border-color-l":[{"border-l":J()}],"divide-color":[{divide:J()}],"outline-style":[{outline:[...Ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Oe,ye,ge]}],"outline-w":[{outline:["",Oe,Zl,ta]}],"outline-color":[{outline:J()}],shadow:[{shadow:["","none",E,sh,ih]}],"shadow-color":[{shadow:J()}],"inset-shadow":[{"inset-shadow":["none",w,sh,ih]}],"inset-shadow-color":[{"inset-shadow":J()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:J()}],"ring-offset-w":[{"ring-offset":[Oe,ta]}],"ring-offset-color":[{"ring-offset":J()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":J()}],"text-shadow":[{"text-shadow":["none",A,sh,ih]}],"text-shadow-color":[{"text-shadow":J()}],opacity:[{opacity:[Oe,ye,ge]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Oe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":ke()}],"mask-image-linear-from-color":[{"mask-linear-from":J()}],"mask-image-linear-to-color":[{"mask-linear-to":J()}],"mask-image-t-from-pos":[{"mask-t-from":ke()}],"mask-image-t-to-pos":[{"mask-t-to":ke()}],"mask-image-t-from-color":[{"mask-t-from":J()}],"mask-image-t-to-color":[{"mask-t-to":J()}],"mask-image-r-from-pos":[{"mask-r-from":ke()}],"mask-image-r-to-pos":[{"mask-r-to":ke()}],"mask-image-r-from-color":[{"mask-r-from":J()}],"mask-image-r-to-color":[{"mask-r-to":J()}],"mask-image-b-from-pos":[{"mask-b-from":ke()}],"mask-image-b-to-pos":[{"mask-b-to":ke()}],"mask-image-b-from-color":[{"mask-b-from":J()}],"mask-image-b-to-color":[{"mask-b-to":J()}],"mask-image-l-from-pos":[{"mask-l-from":ke()}],"mask-image-l-to-pos":[{"mask-l-to":ke()}],"mask-image-l-from-color":[{"mask-l-from":J()}],"mask-image-l-to-color":[{"mask-l-to":J()}],"mask-image-x-from-pos":[{"mask-x-from":ke()}],"mask-image-x-to-pos":[{"mask-x-to":ke()}],"mask-image-x-from-color":[{"mask-x-from":J()}],"mask-image-x-to-color":[{"mask-x-to":J()}],"mask-image-y-from-pos":[{"mask-y-from":ke()}],"mask-image-y-to-pos":[{"mask-y-to":ke()}],"mask-image-y-from-color":[{"mask-y-from":J()}],"mask-image-y-to-color":[{"mask-y-to":J()}],"mask-image-radial":[{"mask-radial":[ye,ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":ke()}],"mask-image-radial-from-color":[{"mask-radial-from":J()}],"mask-image-radial-to-color":[{"mask-radial-to":J()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ue()}],"mask-image-conic-pos":[{"mask-conic":[Oe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":ke()}],"mask-image-conic-from-color":[{"mask-conic-from":J()}],"mask-image-conic-to-color":[{"mask-conic-to":J()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Me()}],"mask-repeat":[{mask:C()}],"mask-size":[{mask:ie()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ye,ge]}],filter:[{filter:["","none",ye,ge]}],blur:[{blur:Xe()}],brightness:[{brightness:[Oe,ye,ge]}],contrast:[{contrast:[Oe,ye,ge]}],"drop-shadow":[{"drop-shadow":["","none",D,sh,ih]}],"drop-shadow-color":[{"drop-shadow":J()}],grayscale:[{grayscale:["",Oe,ye,ge]}],"hue-rotate":[{"hue-rotate":[Oe,ye,ge]}],invert:[{invert:["",Oe,ye,ge]}],saturate:[{saturate:[Oe,ye,ge]}],sepia:[{sepia:["",Oe,ye,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,ge]}],"backdrop-blur":[{"backdrop-blur":Xe()}],"backdrop-brightness":[{"backdrop-brightness":[Oe,ye,ge]}],"backdrop-contrast":[{"backdrop-contrast":[Oe,ye,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Oe,ye,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Oe,ye,ge]}],"backdrop-invert":[{"backdrop-invert":["",Oe,ye,ge]}],"backdrop-opacity":[{"backdrop-opacity":[Oe,ye,ge]}],"backdrop-saturate":[{"backdrop-saturate":[Oe,ye,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",Oe,ye,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Oe,"initial",ye,ge]}],ease:[{ease:["linear","initial",ae,ye,ge]}],delay:[{delay:[Oe,ye,ge]}],animate:[{animate:["none",X,ye,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[G,ye,ge]}],"perspective-origin":[{"perspective-origin":me()}],rotate:[{rotate:dn()}],"rotate-x":[{"rotate-x":dn()}],"rotate-y":[{"rotate-y":dn()}],"rotate-z":[{"rotate-z":dn()}],scale:[{scale:Sn()}],"scale-x":[{"scale-x":Sn()}],"scale-y":[{"scale-y":Sn()}],"scale-z":[{"scale-z":Sn()}],"scale-3d":["scale-3d"],skew:[{skew:An()}],"skew-x":[{"skew-x":An()}],"skew-y":[{"skew-y":An()}],transform:[{transform:[ye,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:me()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:jn()}],"translate-x":[{"translate-x":jn()}],"translate-y":[{"translate-y":jn()}],"translate-z":[{"translate-z":jn()}],"translate-none":["translate-none"],accent:[{accent:J()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:J()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,ge]}],fill:[{fill:["none",...J()]}],"stroke-w":[{stroke:[Oe,Zl,ta,Mm]}],stroke:[{stroke:["none",...J()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},yA=ZS(gA);function vA(i,e,n,s){function o(E){return E*Math.PI/180}const c=6371,d=o(n-i),m=o(s-e),p=Math.sin(d/2)*Math.sin(d/2)+Math.cos(o(i))*Math.cos(o(n))*Math.sin(m/2)*Math.sin(m/2),y=2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p));return c*y}function Pn(...i){return yA(Vb(i))}const _A=kb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function at({className:i,variant:e,size:n,asChild:s=!1,...o}){const c=s?Ob:"button";return v.jsx(c,{"data-slot":"button",className:Pn(_A({variant:e,size:n,className:i})),...o})}function dt({className:i,...e}){return v.jsx("div",{"data-slot":"card",className:Pn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",i),...e})}function Pt({className:i,...e}){return v.jsx("div",{"data-slot":"card-header",className:Pn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",i),...e})}function jt({className:i,...e}){return v.jsx("div",{"data-slot":"card-title",className:Pn("leading-none font-semibold",i),...e})}function gi({className:i,...e}){return v.jsx("div",{"data-slot":"card-description",className:Pn("text-muted-foreground text-sm",i),...e})}function Et({className:i,...e}){return v.jsx("div",{"data-slot":"card-content",className:Pn("px-6",i),...e})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EA=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),W_=i=>{const e=EA(i);return e.charAt(0).toUpperCase()+e.slice(1)},Qb=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),TA=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=Y.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:d,...m},p)=>Y.createElement("svg",{ref:p,...wA,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:Qb("lucide",o),...!c&&!TA(m)&&{"aria-hidden":"true"},...m},[...d.map(([y,E])=>Y.createElement(y,E)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=(i,e)=>{const n=Y.forwardRef(({className:s,...o},c)=>Y.createElement(SA,{ref:c,iconNode:e,className:Qb(`lucide-${bA(W_(i))}`,`lucide-${i}`,s),...o}));return n.displayName=W_(i),n};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Xh=wn("arrow-left",AA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Nr=wn("car",xA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kb=wn("circle-check-big",RA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],NA=wn("circle-x",IA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],DA=wn("circle",CA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Yb=wn("clock",OA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Xb=wn("dollar-sign",MA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],$b=wn("log-out",VA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ph=wn("map-pin",kA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],jA=wn("navigation",PA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],LA=wn("phone",UA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],BA=wn("send",zA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],gh=wn("star",qA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sa=wn("user",HA);function J_({onProfileSelect:i}){return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-md space-y-6",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Uber Rio Pardo"}),v.jsx("p",{className:"text-gray-600",children:"Escolha seu perfil para continuar"})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx(dt,{className:"cursor-pointer transition-all hover:shadow-lg hover:scale-105 border-2 hover:border-blue-500",onClick:()=>i("user"),children:v.jsxs(Pt,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(sa,{className:"w-8 h-8 text-blue-600"})}),v.jsx(jt,{className:"text-xl",children:"Passageiro"}),v.jsx(gi,{children:"Solicite uma corrida e chegue ao seu destino com segurança"})]})}),v.jsx(dt,{className:"cursor-pointer transition-all hover:shadow-lg hover:scale-105 border-2 hover:border-green-500",onClick:()=>i("driver"),children:v.jsxs(Pt,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(Nr,{className:"w-8 h-8 text-green-600"})}),v.jsx(jt,{className:"text-xl",children:"Motorista"}),v.jsx(gi,{children:"Aceite corridas e ganhe dinheiro dirigindo pela cidade"})]})})]}),v.jsx("div",{className:"text-center text-sm text-gray-500",children:v.jsx("p",{children:"Serviço disponível apenas em Rio Pardo-RS"})})]})})}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=()=>{};var e0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},FA=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],d=i[n++],m=i[n++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=i[n++],d=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Wb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],d=o+1<i.length,m=d?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,E=c>>2,w=(c&3)<<4|m>>4;let A=(m&15)<<2|y>>6,D=y&63;p||(D=64,d||(A=64)),s.push(n[E],n[w],n[A],n[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Zb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):FA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||m==null||y==null||w==null)throw new QA;const A=c<<2|m>>4;if(s.push(A),y!==64){const D=m<<4&240|y>>2;if(s.push(D),w!==64){const k=y<<6&192|w;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class QA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KA=function(i){const e=Zb(i);return Wb.encodeByteArray(e,!0)},Nh=function(i){return KA(i).replace(/\./g,"")},Jb=function(i){try{return Wb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=()=>YA().__FIREBASE_DEFAULTS__,$A=()=>{if(typeof process>"u"||typeof e0>"u")return;const i=e0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},ZA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Jb(i[1]);return e&&JSON.parse(e)},$h=()=>{try{return GA()||XA()||$A()||ZA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},eE=i=>{var e,n;return(n=(e=$h())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},WA=i=>{const e=eE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},tE=()=>{var i;return(i=$h())==null?void 0:i.config},nE=i=>{var e;return(e=$h())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Nh(JSON.stringify(n)),Nh(JSON.stringify(d)),""].join(".")}const rc={};function tx(){const i={prod:[],emulator:[]};for(const e of Object.keys(rc))rc[e]?i.emulator.push(e):i.prod.push(e);return i}function nx(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let t0=!1;function iE(i,e){if(typeof window>"u"||typeof document>"u"||!Mo(window.location.host)||rc[i]===e||rc[i]||t0)return;rc[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",c=tx().prod.length>0;function d(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,D){A.setAttribute("width","24"),A.setAttribute("id",D),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{t0=!0,d()},A}function E(A,D){A.setAttribute("id",D),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=nx(s),D=n("text"),k=document.getElementById(D)||document.createElement("span"),G=n("learnmore"),L=document.getElementById(G)||document.createElement("a"),ae=n("preprendIcon"),X=document.getElementById(ae)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ee=A.element;m(ee),E(L,G);const ue=y();p(X,ae),ee.append(X,k,L,ue),document.body.appendChild(ee)}c?(k.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function ix(){var e;const i=(e=$h())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ax(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function ox(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lx(){const i=un();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function cx(){return!ix()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ux(){try{return typeof indexedDB=="object"}catch{return!1}}function hx(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="FirebaseError";class Ti extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=dx,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ec.prototype.create)}}class Ec{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?fx(c,s):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Ti(o,m,s)}}function fx(i,e){return i.replace(mx,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const mx=/\{\$([^}]+)}/g;function px(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ha(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=i[o],d=e[o];if(n0(c)&&n0(d)){if(!ha(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function n0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function gx(i,e){const n=new yx(i,e);return n.subscribe.bind(n)}class yx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");vx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Vm),o.error===void 0&&(o.error=Vm),o.complete===void 0&&(o.complete=Vm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vx(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(i){return i&&i._delegate?i._delegate:i}class da{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new JA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ex(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&d.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:bx(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bx(i){return i===na?void 0:i}function Ex(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _x(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ue||(Ue={}));const wx={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},Sx=Ue.INFO,Ax={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},xx=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=Ax[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xp{constructor(e){this.name=e,this._logLevel=Sx,this._logHandler=xx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const Rx=(i,e)=>e.some(n=>i instanceof n);let r0,i0;function Ix(){return r0||(r0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nx(){return i0||(i0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sE=new WeakMap,$m=new WeakMap,aE=new WeakMap,km=new WeakMap,Rp=new WeakMap;function Cx(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(ss(i.result)),o()},d=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&sE.set(n,i)}).catch(()=>{}),Rp.set(e,i),e}function Dx(i){if($m.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});$m.set(i,e)}let Zm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return $m.get(i);if(e==="objectStoreNames")return i.objectStoreNames||aE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Ox(i){Zm=i(Zm)}function Mx(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Pm(this),e,...n);return aE.set(s,e.sort?e.sort():[e]),ss(s)}:Nx().includes(i)?function(...e){return i.apply(Pm(this),e),ss(sE.get(this))}:function(...e){return ss(i.apply(Pm(this),e))}}function Vx(i){return typeof i=="function"?Mx(i):(i instanceof IDBTransaction&&Dx(i),Rx(i,Ix())?new Proxy(i,Zm):i)}function ss(i){if(i instanceof IDBRequest)return Cx(i);if(km.has(i))return km.get(i);const e=Vx(i);return e!==i&&(km.set(i,e),Rp.set(e,i)),e}const Pm=i=>Rp.get(i);function kx(i,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(i,e),m=ss(d);return s&&d.addEventListener("upgradeneeded",p=>{s(ss(d.result),p.oldVersion,p.newVersion,ss(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Px=["get","getKey","getAll","getAllKeys","count"],jx=["put","add","delete","clear"],jm=new Map;function s0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(jm.get(e))return jm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=jx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Px.includes(n)))return;const c=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return jm.set(e,c),c}Ox(i=>({...i,get:(e,n,s)=>s0(e,n)||i.get(e,n,s),has:(e,n)=>!!s0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Lx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Lx(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wm="@firebase/app",a0="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new xp("@firebase/app"),zx="@firebase/app-compat",Bx="@firebase/analytics-compat",qx="@firebase/analytics",Hx="@firebase/app-check-compat",Gx="@firebase/app-check",Fx="@firebase/auth",Qx="@firebase/auth-compat",Kx="@firebase/database",Yx="@firebase/data-connect",Xx="@firebase/database-compat",$x="@firebase/functions",Zx="@firebase/functions-compat",Wx="@firebase/installations",Jx="@firebase/installations-compat",eR="@firebase/messaging",tR="@firebase/messaging-compat",nR="@firebase/performance",rR="@firebase/performance-compat",iR="@firebase/remote-config",sR="@firebase/remote-config-compat",aR="@firebase/storage",oR="@firebase/storage-compat",lR="@firebase/firestore",cR="@firebase/ai",uR="@firebase/firestore-compat",hR="firebase",dR="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="[DEFAULT]",fR={[Wm]:"fire-core",[zx]:"fire-core-compat",[qx]:"fire-analytics",[Bx]:"fire-analytics-compat",[Gx]:"fire-app-check",[Hx]:"fire-app-check-compat",[Fx]:"fire-auth",[Qx]:"fire-auth-compat",[Kx]:"fire-rtdb",[Yx]:"fire-data-connect",[Xx]:"fire-rtdb-compat",[$x]:"fire-fn",[Zx]:"fire-fn-compat",[Wx]:"fire-iid",[Jx]:"fire-iid-compat",[eR]:"fire-fcm",[tR]:"fire-fcm-compat",[nR]:"fire-perf",[rR]:"fire-perf-compat",[iR]:"fire-rc",[sR]:"fire-rc-compat",[aR]:"fire-gcs",[oR]:"fire-gcs-compat",[lR]:"fire-fst",[uR]:"fire-fst-compat",[cR]:"fire-vertex","fire-js":"fire-js",[hR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,mR=new Map,ep=new Map;function o0(i,e){try{i.container.addComponent(e)}catch(n){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function wo(i){const e=i.name;if(ep.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,i);for(const n of Ch.values())o0(n,i);for(const n of mR.values())o0(n,i);return!0}function Ip(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function or(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new Ec("app","Firebase",pR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=dR;function oE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Jm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(n||(n=tE()),!n)throw as.create("no-options");const c=Ch.get(o);if(c){if(ha(n,c.options)&&ha(s,c.config))return c;throw as.create("duplicate-app",{appName:o})}const d=new Tx(o);for(const p of ep.values())d.addComponent(p);const m=new gR(n,s,d);return Ch.set(o,m),m}function lE(i=Jm){const e=Ch.get(i);if(!e&&i===Jm&&tE())return oE();if(!e)throw as.create("no-app",{appName:i});return e}function os(i,e,n){let s=fR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(d.join(" "));return}wo(new da(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="firebase-heartbeat-database",vR=1,cc="firebase-heartbeat-store";let Um=null;function cE(){return Um||(Um=kx(yR,vR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(cc)}catch(n){console.warn(n)}}}}).catch(i=>{throw as.create("idb-open",{originalErrorMessage:i.message})})),Um}async function _R(i){try{const n=(await cE()).transaction(cc),s=await n.objectStore(cc).get(uE(i));return await n.done,s}catch(e){if(e instanceof Ti)yi.warn(e.message);else{const n=as.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yi.warn(n.message)}}}async function l0(i,e){try{const s=(await cE()).transaction(cc,"readwrite");await s.objectStore(cc).put(e,uE(i)),await s.done}catch(n){if(n instanceof Ti)yi.warn(n.message);else{const s=as.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yi.warn(s.message)}}}function uE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=1024,ER=30;class TR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=c0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>ER){const d=AR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){yi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=c0(),{heartbeatsToSend:s,unsentEntries:o}=wR(this._heartbeatsCache.heartbeats),c=Nh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return yi.warn(n),""}}}function c0(){return new Date().toISOString().substring(0,10)}function wR(i,e=bR){const n=[];let s=i.slice();for(const o of i){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),u0(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),u0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class SR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ux()?hx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _R(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return l0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return l0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function u0(i){return Nh(JSON.stringify({version:2,heartbeats:i})).length}function AR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(i){wo(new da("platform-logger",e=>new Ux(e),"PRIVATE")),wo(new da("heartbeat",e=>new TR(e),"PRIVATE")),os(Wm,a0,i),os(Wm,a0,"esm2020"),os("fire-js","")}xR("");function hE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RR=hE,dE=new Ec("auth","Firebase",hE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new xp("@firebase/auth");function IR(i,...e){Dh.logLevel<=Ue.WARN&&Dh.warn(`Auth (${Vo}): ${i}`,...e)}function yh(i,...e){Dh.logLevel<=Ue.ERROR&&Dh.error(`Auth (${Vo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(i,...e){throw Cp(i,...e)}function cr(i,...e){return Cp(i,...e)}function Np(i,e,n){const s={...RR(),[e]:n};return new Ec("auth","Firebase",s).create(e,{appName:i.name})}function aa(i){return Np(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NR(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&jr(i,"argument-error"),Np(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return dE.create(i,...e)}function xe(i,e,...n){if(!i)throw Cp(e,...n)}function di(i){const e="INTERNAL ASSERTION FAILED: "+i;throw yh(e),new Error(e)}function vi(i,e){i||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function CR(){return h0()==="http:"||h0()==="https:"}function h0(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CR()||ax()||"connection"in navigator)?navigator.onLine:!0}function OR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,vi(n>e,"Short delay should be less than long delay!"),this.isMobile=rx()||ox()}get(){return DR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(i,e){vi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kR=new wc(3e4,6e4);function Op(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ko(i,e,n,s,o={}){return mE(i,o,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const m=Tc({key:i.config.apiKey,...d}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:p,...c};return sx()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Mo(i.emulatorConfig.host)&&(y.credentials="include"),fE.fetch()(await pE(i,i.config.apiHost,n,m),y)})}async function mE(i,e,n){i._canInitEmulator=!1;const s={...MR,...e};try{const o=new jR(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw ah(i,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(i,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw ah(i,"email-already-in-use",d);if(p==="USER_DISABLED")throw ah(i,"user-disabled",d);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Np(i,E,y);jr(i,E)}}catch(o){if(o instanceof Ti)throw o;jr(i,"network-request-failed",{message:String(o)})}}async function PR(i,e,n,s,o={}){const c=await ko(i,e,n,s,o);return"mfaPendingCredential"in c&&jr(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function pE(i,e,n,s){const o=`${e}${n}?${s}`,c=i,d=c.config.emulator?Dp(i.config,o):`${i.config.apiScheme}://${o}`;return VR.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class jR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(cr(this.auth,"network-request-failed")),kR.get())})}}function ah(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=cr(i,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(i,e){return ko(i,"POST","/v1/accounts:delete",e)}async function Oh(i,e){return ko(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LR(i,e=!1){const n=hn(i),s=await n.getIdToken(e),o=Mp(s);xe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:o,token:s,authTime:ic(Lm(o.auth_time)),issuedAtTime:ic(Lm(o.iat)),expirationTime:ic(Lm(o.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Lm(i){return Number(i)*1e3}function Mp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Jb(n);return o?JSON.parse(o):(yh("Failed to decode base64 JWT payload"),null)}catch(o){return yh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function d0(i){const e=Mp(i);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ti&&zR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function zR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(i){var w;const e=i.auth,n=await i.getIdToken(),s=await uc(i,Oh(e,{idToken:n}));xe(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const c=(w=o.providerUserInfo)!=null&&w.length?gE(o.providerUserInfo):[],d=HR(i.providerData,c),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!(d!=null&&d.length),y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,E)}async function qR(i){const e=hn(i);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function gE(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(i,e){const n=await mE(i,{},async()=>{const s=Tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,d=await pE(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Mo(i.emulatorConfig.host)&&(p.credentials="include"),fE.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FR(i,e){return ko(i,"POST","/v2/accounts:revokeToken",Op(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=d0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await GR(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,d=new _o;return s&&(xe(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(xe(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(xe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(i,e){xe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class lr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new BR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new np(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await uc(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LR(this,e)}reload(){return qR(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new lr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(aa(this.auth));const e=await this.getIdToken();return await uc(this,UR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:w,emailVerified:A,isAnonymous:D,providerData:k,stsTokenManager:G}=n;xe(w&&G,e,"internal-error");const L=_o.fromJSON(this.name,G);xe(typeof w=="string",e,"internal-error"),Ji(s,e.name),Ji(o,e.name),xe(typeof A=="boolean",e,"internal-error"),xe(typeof D=="boolean",e,"internal-error"),Ji(c,e.name),Ji(d,e.name),Ji(m,e.name),Ji(p,e.name),Ji(y,e.name),Ji(E,e.name);const ae=new lr({uid:w,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:D,photoURL:d,phoneNumber:c,tenantId:m,stsTokenManager:L,createdAt:y,lastLoginAt:E});return k&&Array.isArray(k)&&(ae.providerData=k.map(X=>({...X}))),p&&(ae._redirectEventId=p),ae}static async _fromIdTokenResponse(e,n,s=!1){const o=new _o;o.updateFromServerResponse(n);const c=new lr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Mh(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];xe(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?gE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),m=new _o;m.updateFromIdToken(s);const p=new lr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new Map;function fi(i){vi(i instanceof Function,"Expected a class definition");let e=f0.get(i);return e?(vi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,f0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yE.type="NONE";const m0=yE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(i,e,n){return`firebase:${i}:${e}:${n}`}class bo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=vh(this.userKey,o.apiKey,c),this.fullPersistenceKey=vh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Oh(this.auth,{idToken:e}).catch(()=>{});return n?lr._fromGetAccountInfoResponse(this.auth,n,e):null}return lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new bo(fi(m0),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||fi(m0);const d=vh(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(d);if(E){let w;if(typeof E=="string"){const A=await Oh(e,{idToken:E}).catch(()=>{});if(!A)break;w=await lr._fromGetAccountInfoResponse(e,A,E)}else w=lr._fromJSON(e,E);y!==c&&(m=w),c=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new bo(c,e,s):(c=p[0],m&&await c._set(d,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new bo(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wE(e))return"Blackberry";if(SE(e))return"Webos";if(_E(e))return"Safari";if((e.includes("chrome/")||bE(e))&&!e.includes("edge/"))return"Chrome";if(TE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function vE(i=un()){return/firefox\//i.test(i)}function _E(i=un()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bE(i=un()){return/crios\//i.test(i)}function EE(i=un()){return/iemobile/i.test(i)}function TE(i=un()){return/android/i.test(i)}function wE(i=un()){return/blackberry/i.test(i)}function SE(i=un()){return/webos/i.test(i)}function Vp(i=un()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function QR(i=un()){var e;return Vp(i)&&!!((e=window.navigator)!=null&&e.standalone)}function KR(){return lx()&&document.documentMode===10}function AE(i=un()){return Vp(i)||TE(i)||SE(i)||wE(i)||/windows phone/i.test(i)||EE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(i,e=[]){let n;switch(i){case"Browser":n=p0(un());break;case"Worker":n=`${p0(un())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((d,m)=>{try{const p=e(c);d(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(i,e={}){return ko(i,"GET","/v2/passwordPolicy",Op(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=6;class ZR{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$R,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g0(this),this.idTokenSubscription=new g0(this),this.beforeStateQueue=new YR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(async()=>{var s,o,c;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Oh(this,{idToken:e}),s=await lr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(or(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===m)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(d){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(aa(this));const n=e?hn(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XR(this),n=new ZR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ec("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await FR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fi(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(m,this,"internal-error"),m.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{d=!0,p()}}else{const p=e.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&IR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Zh(i){return hn(i)}class g0{constructor(e){this.auth=e,this.observer=null,this.addObserver=gx(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JR(i){kp=i}function e2(i){return kp.loadJS(i)}function t2(){return kp.gapiScript}function n2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(i,e){const n=Ip(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(ha(c,e??{}))return o;jr(o,"already-initialized")}return n.initialize({options:e})}function i2(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(fi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function s2(i,e,n){const s=Zh(i);xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=RE(e),{host:d,port:m}=a2(e),p=m===null?"":`:${m}`,y={url:`${c}//${d}${p}/`},E=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){xe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xe(ha(y,s.config.emulator)&&ha(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Mo(d)?(rE(`${c}//${d}${p}`),iE("Auth",!0)):o2()}function RE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function a2(i){const e=RE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:y0(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:y0(d)}}}function y0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function o2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(i,e){return PR(i,"POST","/v1/accounts:signInWithIdp",Op(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="http://localhost";class fa extends IE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const d=new fa(s,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Eo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Eo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eo(e,n)}buildRequest(){const e={requestUri:l2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends Pp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Sc{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends Sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fa._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zn.credentialFromTaggedObject(e)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Zn.credential(n,s)}catch{return null}}}Zn.GOOGLE_SIGN_IN_METHOD="google.com";Zn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Sc{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Sc{constructor(){super("twitter.com")}static credential(e,n){return fa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await lr._fromIdTokenResponse(e,s,o),d=v0(s);return new So({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=v0(s);return new So({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function v0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends Ti{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Vh(e,n,s,o)}}function NE(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(i,c,e,s):c})}async function c2(i,e,n=!1){const s=await uc(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return So._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(i,e,n=!1){const{auth:s}=i;if(or(s.app))return Promise.reject(aa(s));const o="reauthenticate";try{const c=await uc(i,NE(s,o,e,i),n);xe(c.idToken,s,"internal-error");const d=Mp(c.idToken);xe(d,s,"internal-error");const{sub:m}=d;return xe(i.uid===m,s,"user-mismatch"),So._forOperation(i,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&jr(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(i,e,n=!1){if(or(i.app))return Promise.reject(aa(i));const s="signIn",o=await NE(i,s,e),c=await So._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(c.user),c}function d2(i,e,n,s){return hn(i).onIdTokenChanged(e,n,s)}function f2(i,e,n){return hn(i).beforeAuthStateChanged(e,n)}const kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=1e3,p2=10;class DE extends CE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);KR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,p2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},m2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}DE.type="LOCAL";const g2=DE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE extends CE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OE.type="SESSION";const ME=OE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Wh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(d).map(async y=>y(n.origin,c)),p=await y2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((m,p)=>{const y=jp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(A.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function _2(i){Cr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function b2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E2(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function T2(){return VE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="firebaseLocalStorageDb",w2=1,Ph="firebaseLocalStorage",PE="fbase_key";class Ac{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(i,e){return i.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function S2(){const i=indexedDB.deleteDatabase(kE);return new Ac(i).toPromise()}function rp(){const i=indexedDB.open(kE,w2);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ph,{keyPath:PE})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ph)?e(s):(s.close(),await S2(),e(await rp()))})})}async function _0(i,e,n){const s=Jh(i,!0).put({[PE]:e,value:n});return new Ac(s).toPromise()}async function A2(i,e){const n=Jh(i,!1).get(e),s=await new Ac(n).toPromise();return s===void 0?null:s.value}function b0(i,e){const n=Jh(i,!0).delete(e);return new Ac(n).toPromise()}const x2=800,R2=3;class jE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>R2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(T2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await b2(),!this.activeServiceWorker)return;this.sender=new v2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rp();return await _0(e,kh,"1"),await b0(e,kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>_0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>A2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>b0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Jh(o,!1).getAll();return new Ac(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jE.type="LOCAL";const I2=jE;new wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(i,e){return e?fi(e):(xe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends IE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function N2(i){return h2(i.auth,new Up(i),i.bypassAuthState)}function C2(i){const{auth:e,user:n}=i;return xe(n,e,"internal-error"),u2(n,new Up(i),i.bypassAuthState)}async function D2(i){const{auth:e,user:n}=i;return xe(n,e,"internal-error"),c2(n,new Up(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:d,type:m}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N2;case"linkViaPopup":case"linkViaRedirect":return D2;case"reauthViaPopup":case"reauthViaRedirect":return C2;default:jr(this.auth,"internal-error")}}resolve(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=new wc(2e3,1e4);async function ed(i,e,n){if(or(i.app))return Promise.reject(cr(i,"operation-not-supported-in-this-environment"));const s=Zh(i);NR(i,e,Pp);const o=UE(s,n);return new ra(s,"signInViaPopup",e,o).executeNotNull()}class ra extends LE{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){vi(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,O2.get())};e()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="pendingRedirect",_h=new Map;class V2 extends LE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const s=await k2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k2(i,e){const n=U2(e),s=j2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function P2(i,e){_h.set(i._key(),e)}function j2(i){return fi(i._redirectPersistence)}function U2(i){return vh(M2,i.config.apiKey,i.name)}async function L2(i,e,n=!1){if(or(i.app))return Promise.reject(aa(i));const s=Zh(i),o=UE(s,e),d=await new V2(s,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=10*60*1e3;class B2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!zE(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(cr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=z2&&this.cachedEventUids.clear(),this.cachedEventUids.has(E0(e))}saveEventToCache(e){this.cachedEventUids.add(E0(e)),this.lastProcessedEventTime=Date.now()}}function E0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function zE({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function q2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zE(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(i,e={}){return ko(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,F2=/^https?/;async function Q2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await H2(i);for(const n of e)try{if(K2(n))return}catch{}jr(i,"unauthorized-domain")}function K2(i){const e=tp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!F2.test(n))return!1;if(G2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new wc(3e4,6e4);function T0(){const i=Cr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function X2(i){return new Promise((e,n)=>{var o,c,d;function s(){T0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T0(),n(cr(i,"network-request-failed"))},timeout:Y2.get()})}if((c=(o=Cr().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((d=Cr().gapi)!=null&&d.load)s();else{const m=n2("iframefcb");return Cr()[m]=()=>{gapi.load?s():n(cr(i,"network-request-failed"))},e2(`${t2()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw bh=null,e})}let bh=null;function $2(i){return bh=bh||X2(i),bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new wc(5e3,15e3),W2="__/auth/iframe",J2="emulator/auth/iframe",eI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nI(i){const e=i.config;xe(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Dp(e,J2):`https://${i.config.authDomain}/${W2}`,s={apiKey:e.apiKey,appName:i.name,v:Vo},o=tI.get(i.config.apiHost);o&&(s.eid=o);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Tc(s).slice(1)}`}async function rI(i){const e=await $2(i),n=Cr().gapi;return xe(n,i,"internal-error"),e.open({where:document.body,url:nI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eI,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const d=cr(i,"network-request-failed"),m=Cr().setTimeout(()=>{c(d)},Z2.get());function p(){Cr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sI=500,aI=600,oI="_blank",lI="http://localhost";class w0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cI(i,e,n,s=sI,o=aI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...iI,width:s.toString(),height:o.toString(),top:c,left:d},y=un().toLowerCase();n&&(m=bE(y)?oI:n),vE(y)&&(e=e||lI,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[D,k])=>`${A}${D}=${k},`,"");if(QR(y)&&m!=="_self")return uI(e||"",m),new w0(null);const w=window.open(e||"",m,E);xe(w,i,"popup-blocked");try{w.focus()}catch{}return new w0(w)}function uI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="__/auth/handler",dI="emulator/auth/handler",fI=encodeURIComponent("fac");async function S0(i,e,n,s,o,c){xe(i.config.authDomain,i,"auth-domain-config-required"),xe(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Vo,eventId:o};if(e instanceof Pp){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",px(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))d[E]=w}if(e instanceof Sc){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(d.scopes=E.join(","))}i.tenantId&&(d.tid=i.tenantId);const m=d;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),y=p?`#${fI}=${encodeURIComponent(p)}`:"";return`${mI(i)}?${Tc(m).slice(1)}${y}`}function mI({config:i}){return i.emulator?Dp(i,dI):`https://${i.authDomain}/${hI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="webStorageSupport";class pI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ME,this._completeRedirectFn=L2,this._overrideRedirectResult=P2}async _openPopup(e,n,s,o){var d;vi((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await S0(e,n,s,tp(),o);return cI(e,c,jp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await S0(e,n,s,tp(),o);return _2(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(vi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await rI(e),s=new B2(e);return n.register("authEvent",o=>(xe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zm,{type:zm},o=>{var d;const c=(d=o==null?void 0:o[0])==null?void 0:d[zm];c!==void 0&&n(!!c),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Q2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AE()||_E()||Vp()}}const gI=pI;var A0="@firebase/auth",x0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _I(i){wo(new da("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=s.options;xe(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xE(i)},y=new WR(s,o,c,p);return i2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),wo(new da("auth-internal",e=>{const n=Zh(e.getProvider("auth").getImmediate());return(s=>new yI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),os(A0,x0,vI(i)),os(A0,x0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=5*60,EI=nE("authIdTokenMaxAge")||bI;let R0=null;const TI=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>EI)return;const o=n==null?void 0:n.token;R0!==o&&(R0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wI(i=lE()){const e=Ip(i,"auth");if(e.isInitialized())return e.getImmediate();const n=r2(i,{popupRedirectResolver:gI,persistence:[I2,g2,ME]}),s=nE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=TI(c.toString());f2(n,d,()=>d(n.currentUser)),d2(n,m=>d(m))}}const o=eE("auth");return o&&s2(n,`http://${o}`),n}function SI(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}JR({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const c=cr("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",SI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_I("Browser");var AI="firebase",xI="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(AI,xI,"app");var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,BE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,x){function R(){}R.prototype=x.prototype,M.D=x.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(V,P,j){for(var N=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)N[lt-2]=arguments[lt];return x.prototype[P].apply(V,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,x,R){R||(R=0);var V=Array(16);if(typeof x=="string")for(var P=0;16>P;++P)V[P]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(P=0;16>P;++P)V[P]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=M.g[0],R=M.g[1],P=M.g[2];var j=M.g[3],N=x+(j^R&(P^j))+V[0]+3614090360&4294967295;x=R+(N<<7&4294967295|N>>>25),N=j+(P^x&(R^P))+V[1]+3905402710&4294967295,j=x+(N<<12&4294967295|N>>>20),N=P+(R^j&(x^R))+V[2]+606105819&4294967295,P=j+(N<<17&4294967295|N>>>15),N=R+(x^P&(j^x))+V[3]+3250441966&4294967295,R=P+(N<<22&4294967295|N>>>10),N=x+(j^R&(P^j))+V[4]+4118548399&4294967295,x=R+(N<<7&4294967295|N>>>25),N=j+(P^x&(R^P))+V[5]+1200080426&4294967295,j=x+(N<<12&4294967295|N>>>20),N=P+(R^j&(x^R))+V[6]+2821735955&4294967295,P=j+(N<<17&4294967295|N>>>15),N=R+(x^P&(j^x))+V[7]+4249261313&4294967295,R=P+(N<<22&4294967295|N>>>10),N=x+(j^R&(P^j))+V[8]+1770035416&4294967295,x=R+(N<<7&4294967295|N>>>25),N=j+(P^x&(R^P))+V[9]+2336552879&4294967295,j=x+(N<<12&4294967295|N>>>20),N=P+(R^j&(x^R))+V[10]+4294925233&4294967295,P=j+(N<<17&4294967295|N>>>15),N=R+(x^P&(j^x))+V[11]+2304563134&4294967295,R=P+(N<<22&4294967295|N>>>10),N=x+(j^R&(P^j))+V[12]+1804603682&4294967295,x=R+(N<<7&4294967295|N>>>25),N=j+(P^x&(R^P))+V[13]+4254626195&4294967295,j=x+(N<<12&4294967295|N>>>20),N=P+(R^j&(x^R))+V[14]+2792965006&4294967295,P=j+(N<<17&4294967295|N>>>15),N=R+(x^P&(j^x))+V[15]+1236535329&4294967295,R=P+(N<<22&4294967295|N>>>10),N=x+(P^j&(R^P))+V[1]+4129170786&4294967295,x=R+(N<<5&4294967295|N>>>27),N=j+(R^P&(x^R))+V[6]+3225465664&4294967295,j=x+(N<<9&4294967295|N>>>23),N=P+(x^R&(j^x))+V[11]+643717713&4294967295,P=j+(N<<14&4294967295|N>>>18),N=R+(j^x&(P^j))+V[0]+3921069994&4294967295,R=P+(N<<20&4294967295|N>>>12),N=x+(P^j&(R^P))+V[5]+3593408605&4294967295,x=R+(N<<5&4294967295|N>>>27),N=j+(R^P&(x^R))+V[10]+38016083&4294967295,j=x+(N<<9&4294967295|N>>>23),N=P+(x^R&(j^x))+V[15]+3634488961&4294967295,P=j+(N<<14&4294967295|N>>>18),N=R+(j^x&(P^j))+V[4]+3889429448&4294967295,R=P+(N<<20&4294967295|N>>>12),N=x+(P^j&(R^P))+V[9]+568446438&4294967295,x=R+(N<<5&4294967295|N>>>27),N=j+(R^P&(x^R))+V[14]+3275163606&4294967295,j=x+(N<<9&4294967295|N>>>23),N=P+(x^R&(j^x))+V[3]+4107603335&4294967295,P=j+(N<<14&4294967295|N>>>18),N=R+(j^x&(P^j))+V[8]+1163531501&4294967295,R=P+(N<<20&4294967295|N>>>12),N=x+(P^j&(R^P))+V[13]+2850285829&4294967295,x=R+(N<<5&4294967295|N>>>27),N=j+(R^P&(x^R))+V[2]+4243563512&4294967295,j=x+(N<<9&4294967295|N>>>23),N=P+(x^R&(j^x))+V[7]+1735328473&4294967295,P=j+(N<<14&4294967295|N>>>18),N=R+(j^x&(P^j))+V[12]+2368359562&4294967295,R=P+(N<<20&4294967295|N>>>12),N=x+(R^P^j)+V[5]+4294588738&4294967295,x=R+(N<<4&4294967295|N>>>28),N=j+(x^R^P)+V[8]+2272392833&4294967295,j=x+(N<<11&4294967295|N>>>21),N=P+(j^x^R)+V[11]+1839030562&4294967295,P=j+(N<<16&4294967295|N>>>16),N=R+(P^j^x)+V[14]+4259657740&4294967295,R=P+(N<<23&4294967295|N>>>9),N=x+(R^P^j)+V[1]+2763975236&4294967295,x=R+(N<<4&4294967295|N>>>28),N=j+(x^R^P)+V[4]+1272893353&4294967295,j=x+(N<<11&4294967295|N>>>21),N=P+(j^x^R)+V[7]+4139469664&4294967295,P=j+(N<<16&4294967295|N>>>16),N=R+(P^j^x)+V[10]+3200236656&4294967295,R=P+(N<<23&4294967295|N>>>9),N=x+(R^P^j)+V[13]+681279174&4294967295,x=R+(N<<4&4294967295|N>>>28),N=j+(x^R^P)+V[0]+3936430074&4294967295,j=x+(N<<11&4294967295|N>>>21),N=P+(j^x^R)+V[3]+3572445317&4294967295,P=j+(N<<16&4294967295|N>>>16),N=R+(P^j^x)+V[6]+76029189&4294967295,R=P+(N<<23&4294967295|N>>>9),N=x+(R^P^j)+V[9]+3654602809&4294967295,x=R+(N<<4&4294967295|N>>>28),N=j+(x^R^P)+V[12]+3873151461&4294967295,j=x+(N<<11&4294967295|N>>>21),N=P+(j^x^R)+V[15]+530742520&4294967295,P=j+(N<<16&4294967295|N>>>16),N=R+(P^j^x)+V[2]+3299628645&4294967295,R=P+(N<<23&4294967295|N>>>9),N=x+(P^(R|~j))+V[0]+4096336452&4294967295,x=R+(N<<6&4294967295|N>>>26),N=j+(R^(x|~P))+V[7]+1126891415&4294967295,j=x+(N<<10&4294967295|N>>>22),N=P+(x^(j|~R))+V[14]+2878612391&4294967295,P=j+(N<<15&4294967295|N>>>17),N=R+(j^(P|~x))+V[5]+4237533241&4294967295,R=P+(N<<21&4294967295|N>>>11),N=x+(P^(R|~j))+V[12]+1700485571&4294967295,x=R+(N<<6&4294967295|N>>>26),N=j+(R^(x|~P))+V[3]+2399980690&4294967295,j=x+(N<<10&4294967295|N>>>22),N=P+(x^(j|~R))+V[10]+4293915773&4294967295,P=j+(N<<15&4294967295|N>>>17),N=R+(j^(P|~x))+V[1]+2240044497&4294967295,R=P+(N<<21&4294967295|N>>>11),N=x+(P^(R|~j))+V[8]+1873313359&4294967295,x=R+(N<<6&4294967295|N>>>26),N=j+(R^(x|~P))+V[15]+4264355552&4294967295,j=x+(N<<10&4294967295|N>>>22),N=P+(x^(j|~R))+V[6]+2734768916&4294967295,P=j+(N<<15&4294967295|N>>>17),N=R+(j^(P|~x))+V[13]+1309151649&4294967295,R=P+(N<<21&4294967295|N>>>11),N=x+(P^(R|~j))+V[4]+4149444226&4294967295,x=R+(N<<6&4294967295|N>>>26),N=j+(R^(x|~P))+V[11]+3174756917&4294967295,j=x+(N<<10&4294967295|N>>>22),N=P+(x^(j|~R))+V[2]+718787259&4294967295,P=j+(N<<15&4294967295|N>>>17),N=R+(j^(P|~x))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+x&4294967295,M.g[1]=M.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+j&4294967295}s.prototype.u=function(M,x){x===void 0&&(x=M.length);for(var R=x-this.blockSize,V=this.B,P=this.h,j=0;j<x;){if(P==0)for(;j<=R;)o(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<x;)if(V[P++]=M.charCodeAt(j++),P==this.blockSize){o(this,V),P=0;break}}else for(;j<x;)if(V[P++]=M[j++],P==this.blockSize){o(this,V),P=0;break}}this.h=P,this.o+=x},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var x=1;x<M.length-8;++x)M[x]=0;var R=8*this.o;for(x=M.length-8;x<M.length;++x)M[x]=R&255,R/=256;for(this.u(M),M=Array(16),x=R=0;4>x;++x)for(var V=0;32>V;V+=8)M[R++]=this.g[x]>>>V&255;return M};function c(M,x){var R=m;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=x(M)}function d(M,x){this.h=x;for(var R=[],V=!0,P=M.length-1;0<=P;P--){var j=M[P]|0;V&&j==x||(R[P]=j,V=!1)}this.g=R}var m={};function p(M){return-128<=M&&128>M?c(M,function(x){return new d([x|0],0>x?-1:0)}):new d([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return L(y(-M));for(var x=[],R=1,V=0;M>=R;V++)x[V]=M/R|0,R*=4294967296;return new d(x,0)}function E(M,x){if(M.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(M.charAt(0)=="-")return L(E(M.substring(1),x));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(x,8)),V=w,P=0;P<M.length;P+=8){var j=Math.min(8,M.length-P),N=parseInt(M.substring(P,P+j),x);8>j?(j=y(Math.pow(x,j)),V=V.j(j).add(y(N))):(V=V.j(R),V=V.add(y(N)))}return V}var w=p(0),A=p(1),D=p(16777216);i=d.prototype,i.m=function(){if(G(this))return-L(this).m();for(var M=0,x=1,R=0;R<this.g.length;R++){var V=this.i(R);M+=(0<=V?V:4294967296+V)*x,x*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(k(this))return"0";if(G(this))return"-"+L(this).toString(M);for(var x=y(Math.pow(M,6)),R=this,V="";;){var P=ue(R,x).g;R=ae(R,P.j(x));var j=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=P,k(R))return j+V;for(;6>j.length;)j="0"+j;V=j+V}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function k(M){if(M.h!=0)return!1;for(var x=0;x<M.g.length;x++)if(M.g[x]!=0)return!1;return!0}function G(M){return M.h==-1}i.l=function(M){return M=ae(this,M),G(M)?-1:k(M)?0:1};function L(M){for(var x=M.g.length,R=[],V=0;V<x;V++)R[V]=~M.g[V];return new d(R,~M.h).add(A)}i.abs=function(){return G(this)?L(this):this},i.add=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],V=0,P=0;P<=x;P++){var j=V+(this.i(P)&65535)+(M.i(P)&65535),N=(j>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);V=N>>>16,j&=65535,N&=65535,R[P]=N<<16|j}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ae(M,x){return M.add(L(x))}i.j=function(M){if(k(this)||k(M))return w;if(G(this))return G(M)?L(this).j(L(M)):L(L(this).j(M));if(G(M))return L(this.j(L(M)));if(0>this.l(D)&&0>M.l(D))return y(this.m()*M.m());for(var x=this.g.length+M.g.length,R=[],V=0;V<2*x;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var P=0;P<M.g.length;P++){var j=this.i(V)>>>16,N=this.i(V)&65535,lt=M.i(P)>>>16,oe=M.i(P)&65535;R[2*V+2*P]+=N*oe,X(R,2*V+2*P),R[2*V+2*P+1]+=j*oe,X(R,2*V+2*P+1),R[2*V+2*P+1]+=N*lt,X(R,2*V+2*P+1),R[2*V+2*P+2]+=j*lt,X(R,2*V+2*P+2)}for(V=0;V<x;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=x;V<2*x;V++)R[V]=0;return new d(R,0)};function X(M,x){for(;(M[x]&65535)!=M[x];)M[x+1]+=M[x]>>>16,M[x]&=65535,x++}function ee(M,x){this.g=M,this.h=x}function ue(M,x){if(k(x))throw Error("division by zero");if(k(M))return new ee(w,w);if(G(M))return x=ue(L(M),x),new ee(L(x.g),L(x.h));if(G(x))return x=ue(M,L(x)),new ee(L(x.g),x.h);if(30<M.g.length){if(G(M)||G(x))throw Error("slowDivide_ only works with positive integers.");for(var R=A,V=x;0>=V.l(M);)R=me(R),V=me(V);var P=be(R,1),j=be(V,1);for(V=be(V,2),R=be(R,2);!k(V);){var N=j.add(V);0>=N.l(M)&&(P=P.add(R),j=N),V=be(V,1),R=be(R,1)}return x=ae(M,P.j(x)),new ee(P,x)}for(P=w;0<=M.l(x);){for(R=Math.max(1,Math.floor(M.m()/x.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),j=y(R),N=j.j(x);G(N)||0<N.l(M);)R-=V,j=y(R),N=j.j(x);k(j)&&(j=A),P=P.add(j),M=ae(M,N)}return new ee(P,M)}i.A=function(M){return ue(this,M).h},i.and=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],V=0;V<x;V++)R[V]=this.i(V)&M.i(V);return new d(R,this.h&M.h)},i.or=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],V=0;V<x;V++)R[V]=this.i(V)|M.i(V);return new d(R,this.h|M.h)},i.xor=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],V=0;V<x;V++)R[V]=this.i(V)^M.i(V);return new d(R,this.h^M.h)};function me(M){for(var x=M.g.length+1,R=[],V=0;V<x;V++)R[V]=M.i(V)<<1|M.i(V-1)>>>31;return new d(R,M.h)}function be(M,x){var R=x>>5;x%=32;for(var V=M.g.length-R,P=[],j=0;j<V;j++)P[j]=0<x?M.i(j+R)>>>x|M.i(j+R+1)<<32-x:M.i(j+R);return new d(P,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,BE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,ls=d}).apply(typeof I0<"u"?I0:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qE,Wl,HE,Eh,ip,GE,FE,QE;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(u,g){if(g)e:{var _=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var B=u[S];if(!(B in _))break e;_=_[B]}u=u[u.length-1],S=_[u],g=g(S),g!=S&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var _=0,S=!1,B={next:function(){if(!S&&_<u.length){var K=_++;return{value:g(K,u[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function E(u,g,_){return u.call.apply(u.bind,arguments)}function w(u,g,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),u.apply(g,B)}}return function(){return u.apply(g,arguments)}}function A(u,g,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function D(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function k(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,B,K){for(var ce=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ce[Be-2]=arguments[Be];return g.prototype[B].apply(S,ce)}}function G(u){const g=u.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=u[S];return _}return[]}function L(u,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const B=u.length||0,K=S.length||0;u.length=B+K;for(let ce=0;ce<K;ce++)u[B+ce]=S[ce]}else u.push(S)}}class ae{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function X(u){return/^[\s\xa0]*$/.test(u)}function ee(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function ue(u){return ue[" "](u),u}ue[" "]=function(){};var me=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function be(u,g,_){for(const S in u)g.call(_,u[S],S,u)}function M(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function x(u){const g={};for(const _ in u)g[_]=u[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,g){let _,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(_ in S)u[_]=S[_];for(let K=0;K<R.length;K++)_=R[K],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function P(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function j(u){m.setTimeout(()=>{throw u},0)}function N(){var u=Me;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class lt{constructor(){this.h=this.g=null}add(g,_){const S=oe.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var oe=new ae(()=>new z,u=>u.reset());class z{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,J=!1,Me=new lt,C=()=>{const u=m.Promise.resolve(void 0);re=()=>{u.then(ie)}};var ie=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(_){j(_)}var g=oe;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}J=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return u}();function Ne(u,g){if(se.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(me){e:{try{ue(g.nodeName);var B=!0;break e}catch{}B=!1}B||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:we[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ne.aa.h.call(this)}}k(Ne,se);var we={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function dn(u,g,_,S,B){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=B,this.key=++Xe,this.da=this.fa=!1}function Sn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function An(u){this.src=u,this.g={},this.h=0}An.prototype.add=function(u,g,_,S,B){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var ce=_s(u,g,S,B);return-1<ce?(g=u[ce],_||(g.fa=!1)):(g=new dn(g,this.src,K,!!S,B),g.fa=_,u.push(g)),g};function jn(u,g){var _=g.type;if(_ in u.g){var S=u.g[_],B=Array.prototype.indexOf.call(S,g,void 0),K;(K=0<=B)&&Array.prototype.splice.call(S,B,1),K&&(Sn(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function _s(u,g,_,S){for(var B=0;B<u.length;++B){var K=u[B];if(!K.da&&K.listener==g&&K.capture==!!_&&K.ha==S)return B}return-1}var bs="closure_lm_"+(1e6*Math.random()|0),Bo={};function Vc(u,g,_,S,B){if(Array.isArray(g)){for(var K=0;K<g.length;K++)Vc(u,g[K],_,S,B);return null}return _=kc(_),u&&u[ke]?u.K(g,_,y(S)?!!S.capture:!1,B):Un(u,g,_,!1,S,B)}function Un(u,g,_,S,B,K){if(!g)throw Error("Invalid event type");var ce=y(B)?!!B.capture:!!B,Be=_a(u);if(Be||(u[bs]=Be=new An(u)),_=Be.add(g,_,S,ce,K),_.proxy)return _;if(S=Ad(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)fe||(B=ce),B===void 0&&(B=!1),u.addEventListener(g.toString(),S,B);else if(u.attachEvent)u.attachEvent(Es(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ad(){function u(_){return g.call(u.src,u.listener,_)}const g=xd;return u}function qo(u,g,_,S,B){if(Array.isArray(g))for(var K=0;K<g.length;K++)qo(u,g[K],_,S,B);else S=y(S)?!!S.capture:!!S,_=kc(_),u&&u[ke]?(u=u.i,g=String(g).toString(),g in u.g&&(K=u.g[g],_=_s(K,_,S,B),-1<_&&(Sn(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete u.g[g],u.h--)))):u&&(u=_a(u))&&(g=u.g[g.toString()],u=-1,g&&(u=_s(g,_,S,B)),(_=-1<u?g[u]:null)&&va(_))}function va(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ke])jn(g.i,u);else{var _=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(_,S,u.capture):g.detachEvent?g.detachEvent(Es(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=_a(g))?(jn(_,u),_.h==0&&(_.src=null,g[bs]=null)):Sn(u)}}}function Es(u){return u in Bo?Bo[u]:Bo[u]="on"+u}function xd(u,g){if(u.da)u=!0;else{g=new Ne(g,this);var _=u.listener,S=u.ha||u.src;u.fa&&va(u),u=_.call(S,g)}return u}function _a(u){return u=u[bs],u instanceof An?u:null}var Ho="__closure_events_fn_"+(1e9*Math.random()>>>0);function kc(u){return typeof u=="function"?u:(u[Ho]||(u[Ho]=function(g){return u.handleEvent(g)}),u[Ho])}function mt(){le.call(this),this.i=new An(this),this.M=this,this.F=null}k(mt,le),mt.prototype[ke]=!0,mt.prototype.removeEventListener=function(u,g,_,S){qo(this,u,g,_,S)};function $e(u,g){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new se(g,u);else if(g instanceof se)g.target=g.target||u;else{var B=g;g=new se(S,u),V(g,B)}if(B=!0,_)for(var K=_.length-1;0<=K;K--){var ce=g.g=_[K];B=xn(ce,S,!0,g)&&B}if(ce=g.g=u,B=xn(ce,S,!0,g)&&B,B=xn(ce,S,!1,g)&&B,_)for(K=0;K<_.length;K++)ce=g.g=_[K],B=xn(ce,S,!1,g)&&B}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],S=0;S<_.length;S++)Sn(_[S]);delete u.g[g],u.h--}}this.F=null},mt.prototype.K=function(u,g,_,S){return this.i.add(String(u),g,!1,_,S)},mt.prototype.L=function(u,g,_,S){return this.i.add(String(u),g,!0,_,S)};function xn(u,g,_,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var B=!0,K=0;K<g.length;++K){var ce=g[K];if(ce&&!ce.da&&ce.capture==_){var Be=ce.listener,Dt=ce.ha||ce.src;ce.fa&&jn(u.i,ce),B=Be.call(Dt,S)!==!1&&B}}return B&&!S.defaultPrevented}function nn(u,g,_){if(typeof u=="function")_&&(u=A(u,_));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function Pc(u){u.g=nn(()=>{u.g=null,u.i&&(u.i=!1,Pc(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Rd extends le{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Pc(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(u){le.call(this),this.h=u,this.g={}}k(Ts,le);var ws=[];function Ss(u){be(u.g,function(g,_){this.g.hasOwnProperty(_)&&va(g)},u),u.g={}}Ts.prototype.N=function(){Ts.aa.N.call(this),Ss(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var er=m.JSON.stringify,ba=m.JSON.parse,As=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function Go(){}Go.prototype.h=null;function Fo(u){return u.h||(u.h=u.i())}function Qo(){}var Lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zr(){se.call(this,"d")}k(zr,se);function Ko(){se.call(this,"c")}k(Ko,se);var hr={},Yo=null;function Si(){return Yo=Yo||new mt}hr.La="serverreachability";function Ea(u){se.call(this,hr.La,u)}k(Ea,se);function Ai(u){const g=Si();$e(g,new Ea(g))}hr.STAT_EVENT="statevent";function jc(u,g){se.call(this,hr.STAT_EVENT,u),this.stat=g}k(jc,se);function ct(u){const g=Si();$e(g,new jc(g,u))}hr.Ma="timingevent";function Ct(u,g){se.call(this,hr.Ma,u),this.size=g}k(Ct,se);function wt(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function Ln(){this.g=!0}Ln.prototype.xa=function(){this.g=!1};function Xo(u,g,_,S,B,K){u.info(function(){if(u.g)if(K)for(var ce="",Be=K.split("&"),Dt=0;Dt<Be.length;Dt++){var qe=Be[Dt].split("=");if(1<qe.length){var zt=qe[0];qe=qe[1];var Ot=zt.split("_");ce=2<=Ot.length&&Ot[1]=="type"?ce+(zt+"="+qe+"&"):ce+(zt+"=redacted&")}}else ce=null;else ce=K;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+g+`
`+_+`
`+ce})}function Id(u,g,_,S,B,K,ce){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+g+`
`+_+`
`+K+" "+ce})}function xi(u,g,_,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+xs(u,_)+(S?" "+S:"")})}function Uc(u,g){u.info(function(){return"TIMEOUT: "+g})}Ln.prototype.info=function(){};function xs(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ce=1;ce<B.length;ce++)B[ce]=""}}}}return er(_)}catch{return g}}var Ri={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Br={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dr;function fr(){}k(fr,Go),fr.prototype.g=function(){return new XMLHttpRequest},fr.prototype.i=function(){return{}},dr=new fr;function fn(u,g,_,S){this.j=u,this.i=g,this.l=_,this.R=S||1,this.U=new Ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vt}function vt(){this.i=null,this.g="",this.h=!1}var $o={},Ta={};function tr(u,g,_){u.L=1,u.v=Ds(Rn(g)),u.m=_,u.P=!0,qr(u,null)}function qr(u,g){u.F=Date.now(),Rs(u),u.A=Rn(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),nl(_.i,"t",S),u.C=0,_=u.j.J,u.h=new vt,u.g=eu(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Rd(A(u.Y,u,u.g),u.O)),g=u.U,_=u.g,S=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(ws[0]=B.toString()),B=ws);for(var K=0;K<B.length;K++){var ce=Vc(_,B[K],S||g.handleEvent,!1,g.h||g);if(!ce)break;g.g[ce.key]=ce}g=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Ai(),Xo(u.i,u.u,u.A,u.l,u.R,u.m)}fn.prototype.ca=function(u){u=u.target;const g=this.M;g&&Hn(u)==3?g.j():this.Y(u)},fn.prototype.Y=function(u){try{if(u==this.g)e:{const Ot=Hn(this.g);var g=this.g.Ba();const $r=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||Qc(this.g)))){this.J||Ot!=4||g==7||(g==8||0>=$r?Ai(3):Ai(2)),Ii(this);var _=this.g.Z();this.X=_;t:if(Lc(this)){var S=Qc(this.g);u="";var B=S.length,K=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),mr(this);var ce="";break t}this.h.i=new m.TextDecoder}for(g=0;g<B;g++)this.h.h=!0,u+=this.h.i.decode(S[g],{stream:!(K&&g==B-1)});S.length=0,this.h.g+=u,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,Id(this.i,this.u,this.A,this.l,this.R,Ot,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Dt=this.g;if((Be=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Be)){var qe=Be;break t}}qe=null}if(_=qe)xi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Is(this,_);else{this.o=!1,this.s=3,ct(12),Kt(this),mr(this);break e}}if(this.P){_=!0;let Yt;for(;!this.J&&this.C<ce.length;)if(Yt=zc(this,ce),Yt==Ta){Ot==4&&(this.s=4,ct(14),_=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==$o){this.s=4,ct(15),xi(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else xi(this.i,this.l,Yt,null),Is(this,Yt);if(Lc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||ce.length!=0||this.h.h||(this.s=1,ct(16),_=!1),this.o=this.o&&_,!_)xi(this.i,this.l,ce,"[Invalid Chunked Response]"),Kt(this),mr(this);else if(0<ce.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Ls(zt),zt.M=!0,ct(11))}}else xi(this.i,this.l,ce,null),Is(this,ce);Ot==4&&Kt(this),this.o&&!this.J&&(Ot==4?Zc(this.j,this):(this.o=!1,Rs(this)))}else Md(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Kt(this),mr(this)}}}catch{}finally{}};function Lc(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function zc(u,g){var _=u.C,S=g.indexOf(`
`,_);return S==-1?Ta:(_=Number(g.substring(_,S)),isNaN(_)?$o:(S+=1,S+_>g.length?Ta:(g=g.slice(S,S+_),u.C=S+_,g)))}fn.prototype.cancel=function(){this.J=!0,Kt(this)};function Rs(u){u.S=Date.now()+u.I,Bc(u,u.I)}function Bc(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=wt(A(u.ba,u),g)}function Ii(u){u.B&&(m.clearTimeout(u.B),u.B=null)}fn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Uc(this.i,this.A),this.L!=2&&(Ai(),ct(17)),Kt(this),this.s=2,mr(this)):Bc(this,this.S-u)};function mr(u){u.j.G==0||u.J||Zc(u.j,u)}function Kt(u){Ii(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Ss(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Is(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||Zo(_.h,u))){if(!u.K&&Zo(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Va(_),Oa(_);else break e;ol(_),ct(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=wt(A(_.Za,_),6e3));if(1>=Sa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Xr(_,11)}else if((u.K||_.g==u)&&Va(_),!X(g))for(B=_.Da.g.parse(g),g=0;g<B.length;g++){let qe=B[g];if(_.T=qe[0],qe=qe[1],_.G==2)if(qe[0]=="c"){_.K=qe[1],_.ia=qe[2];const zt=qe[3];zt!=null&&(_.la=zt,_.j.info("VER="+_.la));const Ot=qe[4];Ot!=null&&(_.Aa=Ot,_.j.info("SVER="+_.Aa));const $r=qe[5];$r!=null&&typeof $r=="number"&&0<$r&&(S=1.5*$r,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Yt=u.g;if(Yt){const Er=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var K=S.h;K.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Aa(K,K.h),K.h=null))}if(S.D){const cl=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;cl&&(S.ya=cl,Je(S.I,S.D,cl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ce=u;if(S.qa=Jc(S,S.J?S.ia:null,S.W),ce.K){mn(S.h,ce);var Be=ce,Dt=S.L;Dt&&(Be.I=Dt),Be.B&&(Ii(Be),Rs(Be)),S.g=ce}else Xc(S);0<_.i.length&&Ma(_)}else qe[0]!="stop"&&qe[0]!="close"||Xr(_,7);else _.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Xr(_,7):sl(_):qe[0]!="noop"&&_.l&&_.l.ta(qe),_.v=0)}}Ai(4)}catch{}}var qc=class{constructor(u,g){this.g=u,this.map=g}};function Hr(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Sa(u){return u.h?1:u.g?u.g.size:0}function Zo(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Aa(u,g){u.g?u.g.add(g):u.h=g}function mn(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Hr.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Wo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return G(u.i)}function Nd(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],_=u.length,S=0;S<_;S++)g.push(u[S]);return g}g=[],_=0;for(S in u)g[_++]=u[S];return g}function xa(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const S in u)g[_++]=S;return g}}}function Jo(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=xa(u),S=Nd(u),B=S.length,K=0;K<B;K++)g.call(void 0,S[K],_&&_[K],u)}var Ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cd(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),B=null;if(0<=S){var K=u[_].substring(0,S);B=u[_].substring(S+1)}else K=u[_];g(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function St(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof St){this.h=u.h,Cs(this,u.j),this.o=u.o,this.g=u.g,Ni(this,u.s),this.l=u.l;var g=u.i,_=new Fr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Gr(this,_),this.m=u.m}else u&&(g=String(u).match(Ns))?(this.h=!1,Cs(this,g[1]||"",!0),this.o=zn(g[2]||""),this.g=zn(g[3]||"",!0),Ni(this,g[4]),this.l=zn(g[5]||"",!0),Gr(this,g[6]||"",!0),this.m=zn(g[7]||"")):(this.h=!1,this.i=new Fr(null,this.h))}St.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Os(g,el,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Os(g,el,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Os(_,_.charAt(0)=="/"?Dd:tl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Os(_,Ra)),u.join("")};function Rn(u){return new St(u)}function Cs(u,g,_){u.j=_?zn(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Ni(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Gr(u,g,_){g instanceof Fr?(u.i=g,Gc(u.i,u.h)):(_||(g=Os(g,Od)),u.i=new Fr(g,u.h))}function Je(u,g,_){u.i.set(g,_)}function Ds(u){return Je(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function zn(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Os(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Hc),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Hc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var el=/[#\/\?@]/g,tl=/[#\?:]/g,Dd=/[#\?]/g,Od=/[#\?@]/g,Ra=/#/g;function Fr(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Bn(u){u.g||(u.g=new Map,u.h=0,u.i&&Cd(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}i=Fr.prototype,i.add=function(u,g){Bn(this),this.i=null,u=pr(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Qr(u,g){Bn(u),g=pr(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Kr(u,g){return Bn(u),g=pr(u,g),u.g.has(g)}i.forEach=function(u,g){Bn(this),this.g.forEach(function(_,S){_.forEach(function(B){u.call(g,B,S,this)},this)},this)},i.na=function(){Bn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const B=u[S];for(let K=0;K<B.length;K++)_.push(g[S])}return _},i.V=function(u){Bn(this);let g=[];if(typeof u=="string")Kr(this,u)&&(g=g.concat(this.g.get(pr(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},i.set=function(u,g){return Bn(this),this.i=null,u=pr(this,u),Kr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},i.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function nl(u,g,_){Qr(u,g),0<_.length&&(u.i=null,u.g.set(pr(u,g),G(_)),u.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const K=encodeURIComponent(String(S)),ce=this.V(S);for(S=0;S<ce.length;S++){var B=K;ce[S]!==""&&(B+="="+encodeURIComponent(String(ce[S]))),u.push(B)}}return this.i=u.join("&")};function pr(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Gc(u,g){g&&!u.j&&(Bn(u),u.i=null,u.g.forEach(function(_,S){var B=S.toLowerCase();S!=B&&(Qr(this,S),nl(this,B,_))},u)),u.j=g}function Ms(u,g){const _=new Ln;if(m.Image){const S=new Image;S.onload=D(qn,_,"TestLoadImage: loaded",!0,g,S),S.onerror=D(qn,_,"TestLoadImage: error",!1,g,S),S.onabort=D(qn,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=D(qn,_,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function nr(u,g){const _=new Ln,S=new AbortController,B=setTimeout(()=>{S.abort(),qn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(K=>{clearTimeout(B),K.ok?qn(_,"TestPingServer: ok",!0,g):qn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),qn(_,"TestPingServer: error",!1,g)})}function qn(u,g,_,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(_)}catch{}}function Vs(){this.g=new As}function gr(u,g,_){const S=_||"";try{Jo(u,function(B,K){let ce=B;y(B)&&(ce=er(B)),g.push(S+K+"="+encodeURIComponent(ce))})}catch(B){throw g.push(S+"type="+encodeURIComponent("_badmap")),B}}function Ci(u){this.l=u.Ub||null,this.j=u.eb||!1}k(Ci,Go),Ci.prototype.g=function(){return new Yr(this.l,this.j)},Ci.prototype.i=function(u){return function(){return u}}({});function Yr(u,g){mt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Yr,mt),i=Yr.prototype,i.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,vr(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},i.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,vr(this)),this.g&&(this.readyState=3,vr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function rl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}i.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?yr(this):vr(this),this.readyState==3&&rl(this)}},i.Ra=function(u){this.g&&(this.response=this.responseText=u,yr(this))},i.Qa=function(u){this.g&&(this.response=u,yr(this))},i.ga=function(){this.g&&yr(this)};function yr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,vr(u)}i.setRequestHeader=function(u,g){this.u.append(u,g)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function vr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function il(u){let g="";return be(u,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function Lt(u,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=il(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Je(u,g,_))}function Ke(u){mt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ke,mt);var Ia=/^https?$/i,ks=["POST","PUT"];i=Ke.prototype,i.Ha=function(u){this.J=u},i.ea=function(u,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dr.g(),this.v=this.o?Fo(this.o):Fo(dr),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(K){Fc(this,K);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)_.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),B=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ks,g,void 0))||S||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ce]of _)this.g.setRequestHeader(K,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ps(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){Fc(this,K)}};function Fc(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Na(u),_r(u)}function Na(u){u.A||(u.A=!0,$e(u,"complete"),$e(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,$e(this,"complete"),$e(this,"abort"),_r(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ca(this):this.bb())},i.bb=function(){Ca(this)};function Ca(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Hn(u)!=4||u.Z()!=2)){if(u.u&&Hn(u)==4)nn(u.Ea,0,u);else if($e(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const ce=u.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=ce===0){var B=String(u.D).match(Ns)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),S=!Ia.test(B?B.toLowerCase():"")}_=S}if(_)$e(u,"complete"),$e(u,"success");else{u.m=6;try{var K=2<Hn(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",Na(u)}}finally{_r(u)}}}}function _r(u,g){if(u.g){Ps(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||$e(u,"ready");try{_.onreadystatechange=S}catch{}}}function Ps(u){u.I&&(m.clearTimeout(u.I),u.I=null)}i.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}i.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),ba(g)}};function Qc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Md(u){const g={};u=(u.g&&2<=Hn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(X(u[S]))continue;var _=P(u[S]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=g[B]||[];g[B]=K,K.push(_)}M(g,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function js(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Da(u){this.Aa=0,this.i=[],this.j=new Ln,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=js("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=js("baseRetryDelayMs",5e3,u),this.cb=js("retryDelaySeedMs",1e4,u),this.Wa=js("forwardChannelMaxRetries",2,u),this.wa=js("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Hr(u&&u.concurrentRequestLimit),this.Da=new Vs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Da.prototype,i.la=8,i.G=1,i.connect=function(u,g,_,S){ct(0),this.W=u,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Jc(this,null,this.W),Ma(this)};function sl(u){if(Kc(u),u.G==3){var g=u.U++,_=Rn(u.I);if(Je(_,"SID",u.K),Je(_,"RID",g),Je(_,"TYPE","terminate"),Us(u,_),g=new fn(u,u.j,g),g.L=2,g.v=Ds(Rn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=eu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Rs(g)}Wc(u)}function Oa(u){u.g&&(Ls(u),u.g.cancel(),u.g=null)}function Kc(u){Oa(u),u.u&&(m.clearTimeout(u.u),u.u=null),Va(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function Ma(u){if(!wa(u.h)&&!u.s){u.s=!0;var g=u.Ga;re||C(),J||(re(),J=!0),Me.add(g,u),u.B=0}}function Vd(u,g){return Sa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=wt(A(u.Ga,u,g),ll(u,u.B)),u.B++,!0)}i.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new fn(this,this.j,u);let K=this.o;if(this.S&&(K?(K=x(K),V(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Yc(this,B,g),_=Rn(this.I),Je(_,"RID",u),Je(_,"CVER",22),this.D&&Je(_,"X-HTTP-Session-Id",this.D),Us(this,_),K&&(this.O?g="headers="+encodeURIComponent(String(il(K)))+"&"+g:this.m&&Lt(_,this.m,K)),Aa(this.h,B),this.Ua&&Je(_,"TYPE","init"),this.P?(Je(_,"$req",g),Je(_,"SID","null"),B.T=!0,tr(B,_,null)):tr(B,_,g),this.G=2}}else this.G==3&&(u?al(this,u):this.i.length==0||wa(this.h)||al(this))};function al(u,g){var _;g?_=g.l:_=u.U++;const S=Rn(u.I);Je(S,"SID",u.K),Je(S,"RID",_),Je(S,"AID",u.T),Us(u,S),u.m&&u.o&&Lt(S,u.m,u.o),_=new fn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Yc(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Aa(u.h,_),tr(_,S,g)}function Us(u,g){u.H&&be(u.H,function(_,S){Je(g,S,_)}),u.l&&Jo({},function(_,S){Je(g,S,_)})}function Yc(u,g,_){_=Math.min(u.i.length,_);var S=u.l?A(u.l.Na,u.l,u):null;e:{var B=u.i;let K=-1;for(;;){const ce=["count="+_];K==-1?0<_?(K=B[0].g,ce.push("ofs="+K)):K=0:ce.push("ofs="+K);let Be=!0;for(let Dt=0;Dt<_;Dt++){let qe=B[Dt].g;const zt=B[Dt].map;if(qe-=K,0>qe)K=Math.max(0,B[Dt].g-100),Be=!1;else try{gr(zt,ce,"req"+qe+"_")}catch{S&&S(zt)}}if(Be){S=ce.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,S}function Xc(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;re||C(),J||(re(),J=!0),Me.add(g,u),u.v=0}}function ol(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=wt(A(u.Fa,u),ll(u,u.v)),u.v++,!0)}i.Fa=function(){if(this.u=null,$c(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=wt(A(this.ab,this),u)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Oa(this),$c(this))};function Ls(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function $c(u){u.g=new fn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Rn(u.qa);Je(g,"RID","rpc"),Je(g,"SID",u.K),Je(g,"AID",u.T),Je(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Je(g,"TO",u.ja),Je(g,"TYPE","xmlhttp"),Us(u,g),u.m&&u.o&&Lt(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Ds(Rn(g)),_.m=null,_.P=!0,qr(_,u)}i.Za=function(){this.C!=null&&(this.C=null,Oa(this),ol(this),ct(19))};function Va(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Zc(u,g){var _=null;if(u.g==g){Va(u),Ls(u),u.g=null;var S=2}else if(Zo(u.h,g))_=g.D,mn(u.h,g),S=1;else return;if(u.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var B=u.B;S=Si(),$e(S,new Ct(S,_)),Ma(u)}else Xc(u);else if(B=g.s,B==3||B==0&&0<g.X||!(S==1&&Vd(u,g)||S==2&&ol(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),B){case 1:Xr(u,5);break;case 4:Xr(u,10);break;case 3:Xr(u,6);break;default:Xr(u,2)}}}function ll(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Xr(u,g){if(u.j.info("Error code "+g),g==2){var _=A(u.fb,u),S=u.Xa;const B=!S;S=new St(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Cs(S,"https"),Ds(S),B?Ms(S.toString(),_):nr(S.toString(),_)}else ct(2);u.G=0,u.l&&u.l.sa(g),Wc(u),Kc(u)}i.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Wc(u){if(u.G=0,u.ka=[],u.l){const g=Wo(u.h);(g.length!=0||u.i.length!=0)&&(L(u.ka,g),L(u.ka,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.ra()}}function Jc(u,g,_){var S=_ instanceof St?Rn(_):new St(_);if(S.g!="")g&&(S.g=g+"."+S.g),Ni(S,S.s);else{var B=m.location;S=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;var K=new St(null);S&&Cs(K,S),g&&(K.g=g),B&&Ni(K,B),_&&(K.l=_),S=K}return _=u.D,g=u.ya,_&&g&&Je(S,_,g),Je(S,"VER",u.la),Us(u,S),S}function eu(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Ke(new Ci({eb:_})):new Ke(u.pa),g.Ha(u.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}i=tu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ka(){}ka.prototype.g=function(u,g){return new pn(u,g)};function pn(u,g){mt.call(this),this.g=new Da(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!X(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!X(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new br(this)}k(pn,mt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){sl(this.g)},pn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=er(u),u=_);g.i.push(new qc(g.Ya++,u)),g.G==3&&Ma(g)},pn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,pn.aa.N.call(this)};function nu(u){zr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}k(nu,zr);function ru(){Ko.call(this),this.status=1}k(ru,Ko);function br(u){this.g=u}k(br,tu),br.prototype.ua=function(){$e(this.g,"a")},br.prototype.ta=function(u){$e(this.g,new nu(u))},br.prototype.sa=function(u){$e(this.g,new ru)},br.prototype.ra=function(){$e(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,QE=function(){return new ka},FE=function(){return Si()},GE=hr,ip={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ri.NO_ERROR=0,Ri.TIMEOUT=8,Ri.HTTP_ERROR=6,Eh=Ri,Br.COMPLETE="complete",HE=Br,Qo.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Wl=Qo,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,qE=Ke}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const N0="@firebase/firestore",C0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new xp("@firebase/firestore");function ho(){return ma.logLevel}function de(i,...e){if(ma.logLevel<=Ue.DEBUG){const n=e.map(Lp);ma.debug(`Firestore (${Po}): ${i}`,...n)}}function _i(i,...e){if(ma.logLevel<=Ue.ERROR){const n=e.map(Lp);ma.error(`Firestore (${Po}): ${i}`,...n)}}function Ao(i,...e){if(ma.logLevel<=Ue.WARN){const n=e.map(Lp);ma.warn(`Firestore (${Po}): ${i}`,...n)}}function Lp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,KE(i,s,n)}function KE(i,e,n){let s=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _i(s),new Error(s)}function Ye(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||KE(e,o,s)}function Ie(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(on.UNAUTHENTICATED))}shutdown(){}}class II{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class NI{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new mi,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new mi)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new YE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class CI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new CI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new D0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new D0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=MI(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Le(i,e){return i<e?-1:i>e?1:0}function sp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),c=e.charAt(s);if(o!==c)return Bm(o)===Bm(c)?Le(o,c):Bm(o)?1:-1}return Le(i.length,e.length)}const VI=55296,kI=57343;function Bm(i){const e=i.charCodeAt(0);return e>=VI&&e<=kI}function xo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="__name__";class Rr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=Rr.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Le(e.length,n.length)}static compareSegments(e,n){const s=Rr.isNumericId(e),o=Rr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Rr.extractNumericId(e).compare(Rr.extractNumericId(n)):sp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class st extends Rr{construct(e,n,s){return new st(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new st(n)}static emptyPath(){return new st([])}}const PI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Rr{construct(e,n,s){return new en(e,n,s)}static isValidIdentifier(e){return PI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O0}static keyField(){return new en([O0])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new he(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(s+=m,o++):(c(),o++)}if(c(),d)throw new he(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(st.fromString(e))}static fromName(e){return new _e(st.fromString(e).popFirst(5))}static empty(){return new _e(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(i,e,n){if(!n)throw new he(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function jI(i,e,n,s){if(e===!0&&s===!0)throw new he(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function M0(i){if(!_e.isDocumentKey(i))throw new he(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function V0(i){if(_e.isDocumentKey(i))throw new he(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function $E(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function td(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function Tn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=td(i);throw new he(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(i,e){const n={typeString:i};return e&&(n.value=e),n}function xc(i,e){if(!$E(i))throw new he(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const d=i[s];if(o&&typeof d!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new he(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=-62135596800,P0=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*P0);return new ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<k0)throw new he(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P0}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xc(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-k0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Nt("string",ot._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ot(0,0))}static max(){return new Re(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function UI(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new ot(n+1,0):new ot(n,s));return new us(o,_e.empty(),e)}function LI(i){return new us(i.readTime,i.key,hc)}class us{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new us(Re.min(),_e.empty(),hc)}static max(){return new us(Re.max(),_e.empty(),hc)}}function zI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(i.documentKey,e.documentKey),n!==0?n:Le(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==BI)throw i;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,s)=>{n(e)})}static reject(e){return new ne((n,s)=>{s(e)})}static waitFor(e){return new ne((n,s)=>{let o=0,c=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++c,d&&c===o&&n()},p=>s(p))}),d=!0,c===o&&n()})}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next(o=>o?ne.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,c)=>{s.push(n.call(this,o,c))}),this.waitFor(s)}static mapArray(e,n){return new ne((s,o)=>{const c=e.length,d=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;n(e[y]).next(E=>{d[y]=E,++m,m===c&&s(d)},E=>o(E))}})}static doWhile(e,n){return new ne((s,o)=>{const c=()=>{e()===!0?n().next(()=>{c()},o):s()};c()})}}function HI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=-1;function rd(i){return i==null}function jh(i){return i===0&&1/i==-1/0}function GI(i){return typeof i=="number"&&Number.isInteger(i)&&!jh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="";function FI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=j0(e)),e=QI(i.get(n),e);return j0(e)}function QI(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case ZE:n+="";break;default:n+=c}}return n}function j0(i){return i+ZE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function gs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function WE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??Wt.RED,this.left=o??Wt.EMPTY,this.right=c??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new Wt(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L0(this.data.getIterator())}getIteratorFrom(e){return new L0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class L0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new kn([])}unionWith(e){let n=new Ut(en.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new JE("Invalid base64 string: "+c):c}}(e);return new tn(n)}static fromUint8Array(e){const n=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const KI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(i){if(Ye(!!i,39018),typeof i=="string"){let e=0;const n=KI.exec(i);if(Ye(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(i.seconds),nanos:Tt(i.nanos)}}function Tt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ds(i){return typeof i=="string"?tn.fromBase64String(i):tn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="server_timestamp",tT="__type__",nT="__previous_value__",rT="__local_write_time__";function qp(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[tT])==null?void 0:s.stringValue)===eT}function id(i){const e=i.mapValue.fields[nT];return qp(e)?id(e):e}function dc(i){const e=hs(i.mapValue.fields[rT].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n,s,o,c,d,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Uh="(default)";class fc{constructor(e,n){this.projectId=e,this.database=n||Uh}static empty(){return new fc("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="__type__",XI="__max__",ch={mapValue:{}},sT="__vector__",Lh="value";function fs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?qp(i)?4:ZI(i)?9007199254740991:$I(i)?10:11:Se(28295,{value:i})}function Ur(i,e){if(i===e)return!0;const n=fs(i);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return dc(i).isEqual(dc(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=hs(o.timestampValue),m=hs(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,c){return ds(o.bytesValue).isEqual(ds(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,c){return Tt(o.geoPointValue.latitude)===Tt(c.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(c.geoPointValue.longitude)}(i,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Tt(o.integerValue)===Tt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Tt(o.doubleValue),m=Tt(c.doubleValue);return d===m?jh(d)===jh(m):isNaN(d)&&isNaN(m)}return!1}(i,e);case 9:return xo(i.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(U0(d)!==U0(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!Ur(d[p],m[p])))return!1;return!0}(i,e);default:return Se(52216,{left:i})}}function mc(i,e){return(i.values||[]).find(n=>Ur(n,e))!==void 0}function Ro(i,e){if(i===e)return 0;const n=fs(i),s=fs(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(i.booleanValue,e.booleanValue);case 2:return function(c,d){const m=Tt(c.integerValue||c.doubleValue),p=Tt(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return z0(i.timestampValue,e.timestampValue);case 4:return z0(dc(i),dc(e));case 5:return sp(i.stringValue,e.stringValue);case 6:return function(c,d){const m=ds(c),p=ds(d);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(c,d){const m=c.split("/"),p=d.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Le(m[y],p[y]);if(E!==0)return E}return Le(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,d){const m=Le(Tt(c.latitude),Tt(d.latitude));return m!==0?m:Le(Tt(c.longitude),Tt(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return B0(i.arrayValue,e.arrayValue);case 10:return function(c,d){var A,D,k,G;const m=c.fields||{},p=d.fields||{},y=(A=m[Lh])==null?void 0:A.arrayValue,E=(D=p[Lh])==null?void 0:D.arrayValue,w=Le(((k=y==null?void 0:y.values)==null?void 0:k.length)||0,((G=E==null?void 0:E.values)==null?void 0:G.length)||0);return w!==0?w:B0(y,E)}(i.mapValue,e.mapValue);case 11:return function(c,d){if(c===ch.mapValue&&d===ch.mapValue)return 0;if(c===ch.mapValue)return 1;if(d===ch.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const A=sp(p[w],E[w]);if(A!==0)return A;const D=Ro(m[p[w]],y[E[w]]);if(D!==0)return D}return Le(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function z0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Le(i,e);const n=hs(i),s=hs(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function B0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=Ro(n[o],s[o]);if(c)return c}return Le(n.length,s.length)}function Io(i){return ap(i)}function ap(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=hs(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ds(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return _e.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=ap(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${ap(n.fields[d])}`;return o+"}"}(i.mapValue):Se(61005,{value:i})}function Th(i){switch(fs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=id(i);return e?16+Th(e):16;case 5:return 2*i.stringValue.length;case 6:return ds(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+Th(c),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return gs(s.fields,(c,d)=>{o+=c.length+Th(d)}),o}(i.mapValue);default:throw Se(13486,{value:i})}}function q0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function op(i){return!!i&&"integerValue"in i}function Hp(i){return!!i&&"arrayValue"in i}function H0(i){return!!i&&"nullValue"in i}function G0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function wh(i){return!!i&&"mapValue"in i}function $I(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[iT])==null?void 0:s.stringValue)===sT}function sc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return gs(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=sc(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sc(i.arrayValue.values[n]);return e}return{...i}}function ZI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===XI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sc(n)}setAll(e){let n=en.emptyPath(),s={},o=[];e.forEach((d,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}d?s[m.lastSegment()]=sc(d):o.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];wh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){gs(n,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new En(sc(this.value))}}function aT(i){const e=[];return gs(i.fields,(n,s)=>{const o=new en([n]);if(wh(s)){const c=aT(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,s,o,c,d,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new cn(e,0,Re.min(),Re.min(),Re.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new cn(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new cn(e,2,n,Re.min(),Re.min(),En.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Re.min(),Re.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.position=e,this.inclusive=n}}function F0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],d=i.position[o];if(c.field.isKeyField()?s=_e.comparator(_e.fromName(d.referenceValue),n.key):s=Ro(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Q0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ur(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function WI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{}class It extends oT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new eN(e,n,s):n==="array-contains"?new rN(e,s):n==="in"?new iN(e,s):n==="not-in"?new sN(e,s):n==="array-contains-any"?new aN(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new tN(e,s):new nN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ro(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends oT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ur(e,n)}matches(e){return lT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lT(i){return i.op==="and"}function cT(i){return JI(i)&&lT(i)}function JI(i){for(const e of i.filters)if(e instanceof ur)return!1;return!0}function lp(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+Io(i.value);if(cT(i))return i.filters.map(e=>lp(e)).join(",");{const e=i.filters.map(n=>lp(n)).join(",");return`${i.op}(${e})`}}function uT(i,e){return i instanceof It?function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Ur(s.value,o.value)}(i,e):i instanceof ur?function(s,o){return o instanceof ur&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,m)=>c&&uT(d,o.filters[m]),!0):!1}(i,e):void Se(19439)}function hT(i){return i instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${Io(n.value)}`}(i):i instanceof ur?function(n){return n.op.toString()+" {"+n.getFilters().map(hT).join(" ,")+"}"}(i):"Filter"}class eN extends It{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class tN extends It{constructor(e,n){super(e,"in",n),this.keys=dT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nN extends It{constructor(e,n){super(e,"not-in",n),this.keys=dT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dT(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>_e.fromName(s.referenceValue))}class rN extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hp(n)&&mc(n.arrayValue,this.value)}}class iN extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class sN extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}}class aN extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>mc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n=null,s=[],o=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.Te=null}}function K0(i,e=null,n=[],s=[],o=null,c=null,d=null){return new oN(i,e,n,s,o,c,d)}function Gp(i){const e=Ie(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>lp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Io(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Io(s)).join(",")),e.Te=n}return e.Te}function Fp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!WI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!uT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Q0(i.startAt,e.startAt)&&Q0(i.endAt,e.endAt)}function cp(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n=null,s=[],o=[],c=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lN(i,e,n,s,o,c,d,m){return new Lo(i,e,n,s,o,c,d,m)}function sd(i){return new Lo(i)}function Y0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function fT(i){return i.collectionGroup!==null}function ac(i){const e=Ie(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Ut(en.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new pc(c,s))}),n.has(en.keyField().canonicalString())||e.Ie.push(new pc(en.keyField(),s))}return e.Ie}function Dr(i){const e=Ie(i);return e.Ee||(e.Ee=cN(e,ac(i))),e.Ee}function cN(i,e){if(i.limitType==="F")return K0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new pc(o.field,c)});const n=i.endAt?new zh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new zh(i.startAt.position,i.startAt.inclusive):null;return K0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function up(i,e){const n=i.filters.concat([e]);return new Lo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function hp(i,e,n){return new Lo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ad(i,e){return Fp(Dr(i),Dr(e))&&i.limitType===e.limitType}function mT(i){return`${Gp(Dr(i))}|lt:${i.limitType}`}function fo(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>hT(o)).join(", ")}]`),rd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Io(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Io(o)).join(",")),`Target(${s})`}(Dr(i))}; limitType=${i.limitType})`}function od(i,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):_e.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,o){for(const c of ac(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(d,m,p){const y=F0(d,m,p);return d.inclusive?y<=0:y<0}(s.startAt,ac(s),o)||s.endAt&&!function(d,m,p){const y=F0(d,m,p);return d.inclusive?y>=0:y>0}(s.endAt,ac(s),o))}(i,e)}function uN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function pT(i){return(e,n)=>{let s=!1;for(const o of ac(i)){const c=hN(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function hN(i,e,n){const s=i.field.isKeyField()?_e.comparator(e.key,n.key):function(c,d,m){const p=d.data.field(c),y=m.data.field(c);return p!==null&&y!==null?Ro(p,y):Se(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,(n,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return WE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new ft(_e.comparator);function bi(){return dN}const gT=new ft(_e.comparator);function Jl(...i){let e=gT;for(const n of i)e=e.insert(n.key,n);return e}function yT(i){let e=gT;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ia(){return oc()}function vT(){return oc()}function oc(){return new ga(i=>i.toString(),(i,e)=>i.isEqual(e))}const fN=new ft(_e.comparator),mN=new Ut(_e.comparator);function ze(...i){let e=mN;for(const n of i)e=e.add(n);return e}const pN=new Ut(Le);function gN(){return pN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function _T(i){return{integerValue:""+i}}function yN(i,e){return GI(e)?_T(e):Qp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this._=void 0}}function vN(i,e,n){return i instanceof gc?function(o,c){const d={fields:{[tT]:{stringValue:eT},[rT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&qp(c)&&(c=id(c)),c&&(d.fields[nT]=c),{mapValue:d}}(n,e):i instanceof yc?ET(i,e):i instanceof vc?TT(i,e):function(o,c){const d=bT(o,c),m=X0(d)+X0(o.Ae);return op(d)&&op(o.Ae)?_T(m):Qp(o.serializer,m)}(i,e)}function _N(i,e,n){return i instanceof yc?ET(i,e):i instanceof vc?TT(i,e):n}function bT(i,e){return i instanceof Bh?function(s){return op(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class gc extends ld{}class yc extends ld{constructor(e){super(),this.elements=e}}function ET(i,e){const n=wT(e);for(const s of i.elements)n.some(o=>Ur(o,s))||n.push(s);return{arrayValue:{values:n}}}class vc extends ld{constructor(e){super(),this.elements=e}}function TT(i,e){let n=wT(e);for(const s of i.elements)n=n.filter(o=>!Ur(o,s));return{arrayValue:{values:n}}}class Bh extends ld{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function X0(i){return Tt(i.integerValue||i.doubleValue)}function wT(i){return Hp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n){this.field=e,this.transform=n}}function EN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof yc&&o instanceof yc||s instanceof vc&&o instanceof vc?xo(s.elements,o.elements,Ur):s instanceof Bh&&o instanceof Bh?Ur(s.Ae,o.Ae):s instanceof gc&&o instanceof gc}(i.transform,e.transform)}class TN{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class cd{}function ST(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Kp(i.key,Jn.none()):new Rc(i.key,i.data,Jn.none());{const n=i.data,s=En.empty();let o=new Ut(en.comparator);for(let c of e.fields)if(!o.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new ys(i.key,s,new kn(o.toArray()),Jn.none())}}function wN(i,e,n){i instanceof Rc?function(o,c,d){const m=o.value.clone(),p=Z0(o.fieldTransforms,c,d.transformResults);m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ys?function(o,c,d){if(!Sh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=Z0(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(AT(o)),p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(i,e,n):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function lc(i,e,n,s){return i instanceof Rc?function(c,d,m,p){if(!Sh(c.precondition,d))return m;const y=c.value.clone(),E=W0(c.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(i,e,n,s):i instanceof ys?function(c,d,m,p){if(!Sh(c.precondition,d))return m;const y=W0(c.fieldTransforms,p,d),E=d.data;return E.setAll(AT(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(i,e,n,s):function(c,d,m){return Sh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(i,e,n)}function SN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=bT(s.transform,o||null);c!=null&&(n===null&&(n=En.empty()),n.set(s.field,c))}return n||null}function $0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&xo(s,o,(c,d)=>EN(c,d))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Rc extends cd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ys extends cd{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function AT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Z0(i,e,n){const s=new Map;Ye(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],d=c.transform,m=e.data.field(c.field);s.set(c.field,_N(d,m,n[o]))}return s}function W0(i,e,n){const s=new Map;for(const o of i){const c=o.transform,d=n.data.field(o.field);s.set(o.field,vN(c,d,e))}return s}class Kp extends cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AN extends cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&wN(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=lc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=lc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=vT();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=n.has(o.key)?null:m;const p=ST(d,m);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(n,s)=>$0(n,s))&&xo(this.baseMutations,e.baseMutations,(n,s)=>$0(n,s))}}class Yp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return fN}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Yp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Ge;function NN(i){switch(i){case W.OK:return Se(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function xT(i){if(i===void 0)return _i("GRPC error has no .code"),W.UNKNOWN;switch(i){case Rt.OK:return W.OK;case Rt.CANCELLED:return W.CANCELLED;case Rt.UNKNOWN:return W.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return W.INTERNAL;case Rt.UNAVAILABLE:return W.UNAVAILABLE;case Rt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Rt.NOT_FOUND:return W.NOT_FOUND;case Rt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Rt.ABORTED:return W.ABORTED;case Rt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Rt.DATA_LOSS:return W.DATA_LOSS;default:return Se(39323,{code:i})}}(Ge=Rt||(Rt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=new ls([4294967295,4294967295],0);function J0(i){const e=CN().encode(i),n=new BE;return n.update(e),new Uint8Array(n.digest())}function eb(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ls([n,s],0),new ls([o,c],0)]}class Xp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ec(`Invalid padding: ${n}`);if(s<0)throw new ec(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ec(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ec(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ls.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ls.fromNumber(s)));return o.compare(DN)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=J0(e),[s,o]=eb(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Xp(c,o,n);return s.forEach(m=>d.insert(m)),d}insert(e){if(this.ge===0)return;const n=J0(e),[s,o]=eb(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ud(Re.min(),o,new ft(Le),bi(),ze())}}class Ic{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ic(s,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class RT{constructor(e,n){this.targetId=e,this.Ce=n}}class IT{constructor(e,n,s=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class tb{constructor(){this.ve=0,this.Fe=nb(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),s=ze();return this.Fe.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:c})}}),new Ic(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=nb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ON{constructor(e){this.Ge=e,this.ze=new Map,this.je=bi(),this.Je=uh(),this.He=uh(),this.Ye=new ft(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(cp(c))if(s===0){const d=new _e(c.path);this.et(n,d,cn.newNoDocument(d,Re.min()))}else Ye(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const m=this.ut(e),p=m?this.ct(m,e,d):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let d,m;try{d=ds(s).toUint8Array()}catch(p){if(p instanceof JE)return Ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Xp(d,o,c)}catch(p){return Ao(p instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(c=>{const d=this.Ge.ht(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((c,d)=>{const m=this.ot(d);if(m){if(c.current&&cp(m.target)){const p=new _e(m.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,cn.newNoDocument(p,e))}c.Be&&(n.set(d,c.ke()),c.qe())}});let s=ze();this.He.forEach((c,d)=>{let m=!0;d.forEachWhile(p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.je.forEach((c,d)=>d.setReadTime(e));const o=new ud(e,n,this.Ye,this.je,s);return this.je=bi(),this.Je=uh(),this.He=uh(),this.Ye=new ft(Le),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new tb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ut(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ut(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uh(){return new ft(_e.comparator)}function nb(){return new ft(_e.comparator)}const MN={asc:"ASCENDING",desc:"DESCENDING"},VN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kN={and:"AND",or:"OR"};class PN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dp(i,e){return i.useProto3Json||rd(e)?e:{value:e}}function qh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function jN(i,e){return qh(i,e.toTimestamp())}function Or(i){return Ye(!!i,49232),Re.fromTimestamp(function(n){const s=hs(n);return new ot(s.seconds,s.nanos)}(i))}function $p(i,e){return fp(i,e).canonicalString()}function fp(i,e){const n=function(o){return new st(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function CT(i){const e=st.fromString(i);return Ye(kT(e),10190,{key:e.toString()}),e}function mp(i,e){return $p(i.databaseId,e.path)}function qm(i,e){const n=CT(e);if(n.get(1)!==i.databaseId.projectId)throw new he(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _e(OT(n))}function DT(i,e){return $p(i.databaseId,e)}function UN(i){const e=CT(i);return e.length===4?st.emptyPath():OT(e)}function pp(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function OT(i){return Ye(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function rb(i,e,n){return{name:mp(i,e),fields:n.value.mapValue.fields}}function LN(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(Ye(E===void 0||typeof E=="string",58123),tn.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),tn.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(y){const E=y.code===void 0?W.UNKNOWN:xT(y.code);return new he(E,y.message||"")}(d);n=new IT(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=qm(i,s.document.name),c=Or(s.document.updateTime),d=s.document.createTime?Or(s.document.createTime):Re.min(),m=new En({mapValue:{fields:s.document.fields}}),p=cn.newFoundDocument(o,c,d,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Ah(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=qm(i,s.document),c=s.readTime?Or(s.readTime):Re.min(),d=cn.newNoDocument(o,c),m=s.removedTargetIds||[];n=new Ah([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=qm(i,s.document),c=s.removedTargetIds||[];n=new Ah([],c,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new IN(o,c),m=s.targetId;n=new RT(m,d)}}return n}function zN(i,e){let n;if(e instanceof Rc)n={update:rb(i,e.key,e.value)};else if(e instanceof Kp)n={delete:mp(i,e.key)};else if(e instanceof ys)n={update:rb(i,e.key,e.data),updateMask:XN(e.fieldMask)};else{if(!(e instanceof AN))return Se(16599,{Vt:e.type});n={verify:mp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const m=d.transform;if(m instanceof gc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof yc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Bh)return{fieldPath:d.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:jN(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)}(i,e.precondition)),n}function BN(i,e){return i&&i.length>0?(Ye(e!==void 0,14353),i.map(n=>function(o,c){let d=o.updateTime?Or(o.updateTime):Or(c);return d.isEqual(Re.min())&&(d=Or(c)),new TN(d,o.transformResults||[])}(n,e))):[]}function qN(i,e){return{documents:[DT(i,e.path)]}}function HN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=DT(i,o);const c=function(y){if(y.length!==0)return VT(ur.create(y,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(E=>function(A){return{field:mo(A.field),direction:QN(A.dir)}}(E))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=dp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:n,parent:o}}function GN(i){let e=UN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=function(w){const A=MT(w);return A instanceof ur&&cT(A)?A.getFilters():[A]}(n.where));let d=[];n.orderBy&&(d=function(w){return w.map(A=>function(k){return new pc(po(k.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(w){let A;return A=typeof w=="object"?w.value:w,rd(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(w){const A=!!w.before,D=w.values||[];return new zh(D,A)}(n.startAt));let y=null;return n.endAt&&(y=function(w){const A=!w.before,D=w.values||[];return new zh(D,A)}(n.endAt)),lN(e,o,d,c,m,"F",p,y)}function FN(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MT(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=po(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=po(n.unaryFilter.field);return It.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=po(n.unaryFilter.field);return It.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(i):i.fieldFilter!==void 0?function(n){return It.create(po(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return ur.create(n.compositeFilter.filters.map(s=>MT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(n.compositeFilter.op))}(i):Se(30097,{filter:i})}function QN(i){return MN[i]}function KN(i){return VN[i]}function YN(i){return kN[i]}function mo(i){return{fieldPath:i.canonicalString()}}function po(i){return en.fromServerFormat(i.fieldPath)}function VT(i){return i instanceof It?function(n){if(n.op==="=="){if(G0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(H0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(H0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:KN(n.op),value:n.value}}}(i):i instanceof ur?function(n){const s=n.getFilters().map(o=>VT(o));return s.length===1?s[0]:{compositeFilter:{op:YN(n.op),filters:s}}}(i):Se(54877,{filter:i})}function XN(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,s,o,c=Re.min(),d=Re.min(),m=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.yt=e}}function ZN(i){const e=GN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.Cn=new JN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(us.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class JN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(st.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PT=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(PT,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new No(0)}static cr(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="LruGarbageCollector",eC=1048576;function ab([i,e],[n,s]){const o=Le(i,n);return o===0?Le(e,s):o}class tC{constructor(e){this.Ir=e,this.buffer=new Ut(ab),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ab(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(sb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uo(n)?de(sb,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Vr(3e5)})}}class rC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(nd.ce);const s=new tC(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(ib)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ib):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,c,d,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(y=Date.now(),ho()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w})))}}function iC(i,e){return new rC(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.changes=new ga(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&lc(s.mutation,o,kn.empty(),ot.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ze()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ze()){const o=ia();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(c=>{let d=Jl();return c.forEach((m,p)=>{d=d.insert(m,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const s=ia();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ze()))}populateOverlays(e,n,s){const o=[];return s.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,m)=>{n.set(d,m)})})}computeViews(e,n,s,o){let c=bi();const d=oc(),m=function(){return oc()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ys)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),lc(E.mutation,y,E.mutation.getFieldMask(),ot.now())):d.set(y.key,kn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,E)=>d.set(y,E)),n.forEach((y,E)=>m.set(y,new aC(E,d.get(y)??null))),m))}recalculateAndSaveOverlays(e,n){const s=oc();let o=new ft((d,m)=>d-m),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const m of d)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||kn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const w=(o.get(m.batchId)||ze()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,w=vT();E.forEach(A=>{if(!c.has(A)){const D=ST(n.get(A),s.get(A));D!==null&&w.set(A,D),c=c.add(A)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ne.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):ne.resolve(ia());let m=hc,p=c;return d.next(y=>ne.forEach(y,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),c.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,ze())).next(E=>({batchId:m,changes:yT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let d=Jl();return this.indexManager.getCollectionParents(e,c).next(m=>ne.forEach(m,p=>{const y=function(w,A){return new Lo(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((w,A)=>{d=d.insert(w,A)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o))).next(d=>{c.forEach((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,cn.newInvalidDocument(E)))});let m=Jl();return d.forEach((p,y)=>{const E=c.get(p);E!==void 0&&lc(E.mutation,y,kn.empty(),ot.now()),od(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Or(o.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:ZN(o.bundledQuery),readTime:Or(o.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.overlays=new ft(_e.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ia();return ne.forEach(n,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,c)=>{this.St(e,n,c)}),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=ia(),c=n.length+1,d=new _e(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new ft((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=ia(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ia(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new RN(n,s));let c=this.qr.get(n);c===void 0&&(c=ze(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.Qr=new Ut(Gt.$r),this.Ur=new Ut(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Gt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Gt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new _e(new st([])),s=new Gt(n,e),o=new Gt(n,e+1),c=[];return this.Ur.forEachInRange([s,o],d=>{this.Gr(d),c.push(d.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new st([])),s=new Gt(n,e),o=new Gt(n,e+1);let c=ze();return this.Ur.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new Gt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Gt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(Gt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new xN(c,n,s,o);this.mutationQueue.push(d);for(const m of o)this.Zr=this.Zr.add(new Gt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(d)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Bp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Gt(n,0),o=new Gt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],d=>{const m=this.Xr(d.Yr);c.push(m)}),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(Le);return n.forEach(o=>{const c=new Gt(o,0),d=new Gt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],m=>{s=s.add(m.Yr)})}),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;_e.isDocumentKey(c)||(c=c.child(""));const d=new Gt(new _e(c),0);let m=new Ut(Le);return this.Zr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)},d),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,o=>{const c=new Gt(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Gt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.ri=e,this.docs=function(){return new ft(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let s=bi();return n.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():cn.newInvalidDocument(o))}),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=bi();const d=n.path,m=new _e(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||zI(LI(E),s)<=0||(o.has(E.key)||od(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(e,n,s,o){Se(9500)}ii(e,n){return ne.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new fC(this)}getSize(e){return ne.resolve(this.size)}}class fC extends sC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.persistence=e,this.si=new ga(n=>Gp(n),Fp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Zp,this.targetCount=0,this.ai=No.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new No(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.si.forEach((d,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ne.waitFor(c).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),ne.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n){this.ui={},this.overlays={},this.ci=new nd(0),this.li=!1,this.li=!0,this.hi=new uC,this.referenceDelegate=e(this),this.Pi=new mC(this),this.indexManager=new WN,this.remoteDocumentCache=function(o){return new dC(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new $N(n),this.Ii=new lC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new hC(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const o=new pC(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(e,n){return ne.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class pC extends qI{constructor(e){super(),this.currentSequenceNumber=e}}class Wp{constructor(e){this.persistence=e,this.Ri=new Zp,this.Vi=null}static mi(e){return new Wp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,s=>{const o=_e.fromPath(s);return this.gi(e,o).next(c=>{c||n.removeEntry(o,Re.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Hh{constructor(e,n){this.persistence=e,this.pi=new ga(s=>FI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=iC(this,n)}static mi(e,n){return new Hh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return ne.forEach(this.pi,(s,o)=>this.br(e,s,o).next(c=>c?ne.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,n).next(m=>{m||(s++,c.removeEntry(d,Re.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Th(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ze(),o=ze();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Jp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return cx()?8:HI(un())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.ys(e,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ws(e,n,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new gC;return this.Ss(e,n,d).next(m=>{if(c.result=m,this.Vs)return this.bs(e,n,d,m.size)})}).next(()=>c.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(ho()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(ho()<=Ue.DEBUG&&de("QueryEngine","Query:",fo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ho()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(n))):ne.resolve())}ys(e,n){if(Y0(n))return ne.resolve(null);let s=Dr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=hp(n,null,"F"),s=Dr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=ze(...c);return this.ps.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.Ds(n,m);return this.Cs(n,y,d,p.readTime)?this.ys(e,hp(n,null,"F")):this.vs(e,y,n,p)}))})))}ws(e,n,s,o){return Y0(n)||o.isEqual(Re.min())?ne.resolve(null):this.ps.getDocuments(e,s).next(c=>{const d=this.Ds(n,c);return this.Cs(n,d,s,o)?ne.resolve(null):(ho()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(n)),this.vs(e,d,n,UI(o,hc)).next(m=>m))})}Ds(e,n){let s=new Ut(pT(e));return n.forEach((o,c)=>{od(e,c)&&(s=s.add(c))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,s){return ho()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",fo(n)),this.ps.getDocumentsMatchingQuery(e,n,us.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="LocalStore",vC=3e8;class _C{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(Le),this.xs=new ga(c=>Gp(c),Fp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function bC(i,e,n,s){return new _C(i,e,n,s)}async function UT(i,e){const n=Ie(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],m=[];let p=ze();for(const y of o){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Ls:y,removedBatchIds:d,addedBatchIds:m}))})})}function EC(i,e){const n=Ie(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const w=y.batch,A=w.keys();let D=ne.resolve();return A.forEach(k=>{D=D.next(()=>E.getEntry(p,k)).next(G=>{const L=y.docVersions.get(k);Ye(L!==null,48541),G.version.compareTo(L)<0&&(w.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),E.addEntry(G)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ze();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function LT(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function TC(i,e){const n=Ie(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.Pi.removeMatchingKeys(c,E.removedDocuments,w).next(()=>n.Pi.addMatchingKeys(c,E.addedDocuments,w)));let D=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?D=D.withResumeToken(tn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(w,D),function(G,L,ae){return G.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=vC?!0:ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0}(A,D,E)&&m.push(n.Pi.updateTargetData(c,D))});let p=bi(),y=ze();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(wC(c,d,e.documentUpdates).next(E=>{p=E.ks,y=E.qs})),!s.isEqual(Re.min())){const E=n.Pi.getLastRemoteSnapshotVersion(c).next(w=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(E)}return ne.waitFor(m).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(n.Ms=o,c))}function wC(i,e,n){let s=ze(),o=ze();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let d=bi();return n.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):de(eg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{ks:d,qs:o}})}function SC(i,e){const n=Ie(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Bp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function AC(i,e){const n=Ie(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(c=>c?(o=c,ne.resolve(o)):n.Pi.allocateTargetId(s).next(d=>(o=new is(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function gp(i,e,n){const s=Ie(i),o=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Uo(d))throw d;de(eg,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function ob(i,e,n){const s=Ie(i);let o=Re.min(),c=ze();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,E){const w=Ie(p),A=w.xs.get(E);return A!==void 0?ne.resolve(w.Ms.get(A)):w.Pi.getTargetData(y,E)}(s,d,Dr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,m.targetId).next(p=>{c=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(d,e,n?o:Re.min(),n?c:ze())).next(m=>(xC(s,uN(e),m),{documents:m,Qs:c})))}function xC(i,e,n){let s=i.Os.get(e)||Re.min();n.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.Os.set(e,s)}class lb{constructor(){this.activeTargetIds=gN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RC{constructor(){this.Mo=new lb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="ConnectivityMonitor";class ub{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(cb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(cb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function yp(){return hh===null?hh=function(){return 268435456+Math.round(2147483648*Math.random())}():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="RestConnection",NC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Uh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,c){const d=yp(),m=this.zo(e,n.toUriEncodedString());de(Hm,`Sending RPC '${e}' ${d}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:y}=new URL(m),E=Mo(y);return this.Jo(e,m,p,s,E).then(w=>(de(Hm,`Received RPC '${e}' ${d}: `,w),w),w=>{throw Ao(Hm,`RPC '${e}' ${d} failed with error: `,w,"url: ",m,"request:",s),w})}Ho(e,n,s,o,c,d){return this.Go(e,n,s,o,c)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Po}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}zo(e,n){const s=NC[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class OC extends CC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,c){const d=yp();return new Promise((m,p)=>{const y=new qE;y.setWithCredentials(!0),y.listenOnce(HE.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Eh.NO_ERROR:const w=y.getResponseJson();de(an,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),m(w);break;case Eh.TIMEOUT:de(an,`RPC '${e}' ${d} timed out`),p(new he(W.DEADLINE_EXCEEDED,"Request time out"));break;case Eh.HTTP_ERROR:const A=y.getStatus();if(de(an,`RPC '${e}' ${d} failed with status:`,A,"response text:",y.getResponseText()),A>0){let D=y.getResponseJson();Array.isArray(D)&&(D=D[0]);const k=D==null?void 0:D.error;if(k&&k.status&&k.message){const G=function(ae){const X=ae.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(X)>=0?X:W.UNKNOWN}(k.status);p(new he(G,k.message))}else p(new he(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new he(W.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(an,`RPC '${e}' ${d} completed.`)}});const E=JSON.stringify(o);de(an,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",E,s,15)})}T_(e,n,s){const o=yp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=QE(),m=FE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=c.join("");de(an,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=d.createWebChannel(E,p);this.I_(w);let A=!1,D=!1;const k=new DC({Yo:L=>{D?de(an,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(de(an,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),de(an,`RPC '${e}' stream ${o} sending:`,L),w.send(L))},Zo:()=>w.close()}),G=(L,ae,X)=>{L.listen(ae,ee=>{try{X(ee)}catch(ue){setTimeout(()=>{throw ue},0)}})};return G(w,Wl.EventType.OPEN,()=>{D||(de(an,`RPC '${e}' stream ${o} transport opened.`),k.o_())}),G(w,Wl.EventType.CLOSE,()=>{D||(D=!0,de(an,`RPC '${e}' stream ${o} transport closed`),k.a_(),this.E_(w))}),G(w,Wl.EventType.ERROR,L=>{D||(D=!0,Ao(an,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),k.a_(new he(W.UNAVAILABLE,"The operation could not be completed")))}),G(w,Wl.EventType.MESSAGE,L=>{var ae;if(!D){const X=L.data[0];Ye(!!X,16349);const ee=X,ue=(ee==null?void 0:ee.error)||((ae=ee[0])==null?void 0:ae.error);if(ue){de(an,`RPC '${e}' stream ${o} received error:`,ue);const me=ue.status;let be=function(R){const V=Rt[R];if(V!==void 0)return xT(V)}(me),M=ue.message;be===void 0&&(be=W.INTERNAL,M="Unknown error status: "+me+" with message "+ue.message),D=!0,k.a_(new he(be,M)),w.close()}else de(an,`RPC '${e}' stream ${o} received:`,X),k.u_(X)}}),G(m,GE.STAT_EVENT,L=>{L.stat===ip.PROXY?de(an,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===ip.NOPROXY&&de(an,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.__()},0),k}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(i){return new PN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="PersistentStream";class BT{constructor(e,n,s,o,c,d,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(_i(n.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new he(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return de(hb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(de(hb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MC extends BT{constructor(e,n,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=LN(this.serializer,e),s=function(c){if(!("targetChange"in c))return Re.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?Or(d.readTime):Re.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=pp(this.serializer),n.addTarget=function(c,d){let m;const p=d.target;if(m=cp(p)?{documents:qN(c,p)}:{query:HN(c,p).ft},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=NT(c,d.resumeToken);const y=dp(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(Re.min())>0){m.readTime=qh(c,d.snapshotVersion.toTimestamp());const y=dp(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=FN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=pp(this.serializer),n.removeTarget=e,this.q_(n)}}class VC extends BT{constructor(e,n,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=BN(e.writeResults,e.commitTime),s=Or(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=pp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>zN(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{}class PC extends kC{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Go(e,fp(n,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(W.UNKNOWN,c.toString())})}Ho(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Ho(e,fp(n,s),o,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(W.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class jC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_i(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="RemoteStore";class UC{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(d=>{s.enqueueAndForget(async()=>{ya(this)&&(de(pa,"Restarting streams for network reachability change."),await async function(p){const y=Ie(p);y.Ea.add(4),await Nc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await dd(y)}(this))})}),this.Ra=new jC(s,o)}}async function dd(i){if(ya(i))for(const e of i.da)await e(!0)}async function Nc(i){for(const e of i.da)await e(!1)}function qT(i,e){const n=Ie(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ig(n)?rg(n):zo(n).O_()&&ng(n,e))}function tg(i,e){const n=Ie(i),s=zo(n);n.Ia.delete(e),s.O_()&&HT(n,e),n.Ia.size===0&&(s.O_()?s.L_():ya(n)&&n.Ra.set("Unknown"))}function ng(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zo(i).Y_(e)}function HT(i,e){i.Va.Ue(e),zo(i).Z_(e)}function rg(i){i.Va=new ON({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),zo(i).start(),i.Ra.ua()}function ig(i){return ya(i)&&!zo(i).x_()&&i.Ia.size>0}function ya(i){return Ie(i).Ea.size===0}function GT(i){i.Va=void 0}async function LC(i){i.Ra.set("Online")}async function zC(i){i.Ia.forEach((e,n)=>{ng(i,e)})}async function BC(i,e){GT(i),ig(i)?(i.Ra.ha(e),rg(i)):i.Ra.set("Unknown")}async function qC(i,e,n){if(i.Ra.set("Online"),e instanceof IT&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ia.delete(m),o.Va.removeTarget(m))}(i,e)}catch(s){de(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Gh(i,s)}else if(e instanceof Ah?i.Va.Ze(e):e instanceof RT?i.Va.st(e):i.Va.tt(e),!n.isEqual(Re.min()))try{const s=await LT(i.localStore);n.compareTo(s)>=0&&await function(c,d){const m=c.Va.Tt(d);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(p.resumeToken,d))}}),m.targetMismatches.forEach((p,y)=>{const E=c.Ia.get(p);if(!E)return;c.Ia.set(p,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),HT(c,p);const w=new is(E.target,p,y,E.sequenceNumber);ng(c,w)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){de(pa,"Failed to raise snapshot:",s),await Gh(i,s)}}async function Gh(i,e,n){if(!Uo(e))throw e;i.Ea.add(1),await Nc(i),i.Ra.set("Offline"),n||(n=()=>LT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{de(pa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await dd(i)})}function FT(i,e){return e().catch(n=>Gh(i,n,e))}async function fd(i){const e=Ie(i),n=ms(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bp;for(;HC(e);)try{const o=await SC(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,GC(e,o)}catch(o){await Gh(e,o)}QT(e)&&KT(e)}function HC(i){return ya(i)&&i.Ta.length<10}function GC(i,e){i.Ta.push(e);const n=ms(i);n.O_()&&n.X_&&n.ea(e.mutations)}function QT(i){return ya(i)&&!ms(i).x_()&&i.Ta.length>0}function KT(i){ms(i).start()}async function FC(i){ms(i).ra()}async function QC(i){const e=ms(i);for(const n of i.Ta)e.ea(n.mutations)}async function KC(i,e,n){const s=i.Ta.shift(),o=Yp.from(s,e,n);await FT(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await fd(i)}async function YC(i,e){e&&ms(i).X_&&await async function(s,o){if(function(d){return NN(d)&&d!==W.ABORTED}(o.code)){const c=s.Ta.shift();ms(s).B_(),await FT(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await fd(s)}}(i,e),QT(i)&&KT(i)}async function db(i,e){const n=Ie(i);n.asyncQueue.verifyOperationInProgress(),de(pa,"RemoteStore received new credentials");const s=ya(n);n.Ea.add(3),await Nc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await dd(n)}async function XC(i,e){const n=Ie(i);e?(n.Ea.delete(2),await dd(n)):e||(n.Ea.add(2),await Nc(n),n.Ra.set("Unknown"))}function zo(i){return i.ma||(i.ma=function(n,s,o){const c=Ie(n);return c.sa(),new MC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(i.datastore,i.asyncQueue,{Xo:LC.bind(null,i),t_:zC.bind(null,i),r_:BC.bind(null,i),H_:qC.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),ig(i)?rg(i):i.Ra.set("Unknown")):(await i.ma.stop(),GT(i))})),i.ma}function ms(i){return i.fa||(i.fa=function(n,s,o){const c=Ie(n);return c.sa(),new VC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:FC.bind(null,i),r_:YC.bind(null,i),ta:QC.bind(null,i),na:KC.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await fd(i)):(await i.fa.stop(),i.Ta.length>0&&(de(pa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const d=Date.now()+s,m=new sg(e,n,d,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(i,e){if(_i("AsyncQueue",`${e}: ${i}`),Uo(i))return new he(W.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Jl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new To;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.ga=new ft(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class Co{constructor(e,n,s,o,c,d,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,c){const d=[];return n.forEach(m=>{d.push({type:0,doc:m})}),new Co(e,n,To.emptySet(n),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class ZC{constructor(){this.queries=mb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ie(n),c=o.queries;o.queries=mb(),c.forEach((d,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new he(W.ABORTED,"Firestore shutting down"))}}function mb(){return new ga(i=>mT(i),ad)}async function og(i,e){const n=Ie(i);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new $C,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const m=ag(d,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&cg(n)}async function lg(i,e){const n=Ie(i),s=e.query;let o=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function WC(i,e){const n=Ie(i);let s=!1;for(const o of e){const c=o.query,d=n.queries.get(c);if(d){for(const m of d.Sa)m.Fa(o)&&(s=!0);d.wa=o}}s&&cg(n)}function JC(i,e,n){const s=Ie(i),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(e)}function cg(i){i.Ca.forEach(e=>{e.next()})}var vp,pb;(pb=vp||(vp={})).Ma="default",pb.Cache="cache";class ug{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Co(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.key=e}}class XT{constructor(e){this.key=e}}class eD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=pT(e),this.tu=new To(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new fb,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const A=o.get(E),D=od(this.query,w)?w:null,k=!!A&&this.mutatedKeys.has(A.key),G=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let L=!1;A&&D?A.data.isEqual(D.data)?k!==G&&(s.track({type:3,doc:D}),L=!0):this.su(A,D)||(s.track({type:2,doc:D}),L=!0,(p&&this.eu(D,p)>0||y&&this.eu(D,y)<0)&&(m=!0)):!A&&D?(s.track({type:0,doc:D}),L=!0):A&&!D&&(s.track({type:1,doc:A}),L=!0,(p||y)&&(m=!0)),L&&(D?(d=d.add(D),c=G?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((E,w)=>function(D,k){const G=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:L})}};return G(D)-G(k)}(E.type,w.type)||this.eu(E.doc,w.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,d.length!==0||y?{snapshot:new Co(this.query,e.tu,c,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new XT(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new YT(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hg="SyncEngine";class tD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class nD{constructor(e){this.key=e,this.hu=!1}}class rD{constructor(e,n,s,o,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ga(m=>mT(m),ad),this.Iu=new Map,this.Eu=new Set,this.du=new ft(_e.comparator),this.Au=new Map,this.Ru=new Zp,this.Vu={},this.mu=new Map,this.fu=No.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iD(i,e,n=!0){const s=tw(i);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await $T(s,e,n,!0),o}async function sD(i,e){const n=tw(i);await $T(n,e,!0,!1)}async function $T(i,e,n,s){const o=await AC(i.localStore,Dr(e)),c=o.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await aD(i,e,c,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&qT(i.remoteStore,o),m}async function aD(i,e,n,s,o){i.pu=(w,A,D)=>async function(G,L,ae,X){let ee=L.view.ru(ae);ee.Cs&&(ee=await ob(G.localStore,L.query,!1).then(({documents:M})=>L.view.ru(M,ee)));const ue=X&&X.targetChanges.get(L.targetId),me=X&&X.targetMismatches.get(L.targetId)!=null,be=L.view.applyChanges(ee,G.isPrimaryClient,ue,me);return yb(G,L.targetId,be.au),be.snapshot}(i,w,A,D);const c=await ob(i.localStore,e,!0),d=new eD(e,c.Qs),m=d.ru(c.documents),p=Ic.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=d.applyChanges(m,i.isPrimaryClient,p);yb(i,n,y.au);const E=new tD(e,n,d);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function oD(i,e,n){const s=Ie(i),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter(d=>!ad(d,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&tg(s.remoteStore,o.targetId),_p(s,o.targetId)}).catch(jo)):(_p(s,o.targetId),await gp(s.localStore,o.targetId,!0))}async function lD(i,e){const n=Ie(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),tg(n.remoteStore,s.targetId))}async function cD(i,e,n){const s=gD(i);try{const o=await function(d,m){const p=Ie(d),y=ot.now(),E=m.reduce((D,k)=>D.add(k.key),ze());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let k=bi(),G=ze();return p.Ns.getEntries(D,E).next(L=>{k=L,k.forEach((ae,X)=>{X.isValidDocument()||(G=G.add(ae))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,k)).next(L=>{w=L;const ae=[];for(const X of m){const ee=SN(X,w.get(X.key).overlayedDocument);ee!=null&&ae.push(new ys(X.key,ee,aT(ee.value.mapValue),Jn.exists(!0)))}return p.mutationQueue.addMutationBatch(D,y,ae,m)}).next(L=>{A=L;const ae=L.applyToLocalDocumentSet(w,G);return p.documentOverlayCache.saveOverlays(D,L.batchId,ae)})}).then(()=>({batchId:A.batchId,changes:yT(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,m,p){let y=d.Vu[d.currentUser.toKey()];y||(y=new ft(Le)),y=y.insert(m,p),d.Vu[d.currentUser.toKey()]=y}(s,o.batchId,n),await Cc(s,o.changes),await fd(s.remoteStore)}catch(o){const c=ag(o,"Failed to persist write");n.reject(c)}}async function ZT(i,e){const n=Ie(i);try{const s=await TC(n.localStore,e);e.targetChanges.forEach((o,c)=>{const d=n.Au.get(c);d&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ye(d.hu,14607):o.removedDocuments.size>0&&(Ye(d.hu,42227),d.hu=!1))}),await Cc(n,s,e)}catch(s){await jo(s)}}function gb(i,e,n){const s=Ie(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((c,d)=>{const m=d.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const p=Ie(d);p.onlineState=m;let y=!1;p.queries.forEach((E,w)=>{for(const A of w.Sa)A.va(m)&&(y=!0)}),y&&cg(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function uD(i,e,n){const s=Ie(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new ft(_e.comparator);d=d.insert(c,cn.newNoDocument(c,Re.min()));const m=ze().add(c),p=new ud(Re.min(),new Map,new ft(Le),d,m);await ZT(s,p),s.du=s.du.remove(c),s.Au.delete(e),dg(s)}else await gp(s.localStore,e,!1).then(()=>_p(s,e,n)).catch(jo)}async function hD(i,e){const n=Ie(i),s=e.batch.batchId;try{const o=await EC(n.localStore,e);JT(n,s,null),WT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cc(n,o)}catch(o){await jo(o)}}async function dD(i,e,n){const s=Ie(i);try{const o=await function(d,m){const p=Ie(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(w=>(Ye(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);JT(s,e,n),WT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Cc(s,o)}catch(o){await jo(o)}}function WT(i,e){(i.mu.get(e)||[]).forEach(n=>{n.resolve()}),i.mu.delete(e)}function JT(i,e,n){const s=Ie(i);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function _p(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(s=>{i.Ru.containsKey(s)||ew(i,s)})}function ew(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(tg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),dg(i))}function yb(i,e,n){for(const s of n)s instanceof YT?(i.Ru.addReference(s.key,e),fD(i,s)):s instanceof XT?(de(hg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||ew(i,s.key)):Se(19791,{wu:s})}function fD(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(de(hg,"New document in limbo: "+n),i.Eu.add(s),dg(i))}function dg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new _e(st.fromString(e)),s=i.fu.next();i.Au.set(s,new nD(n)),i.du=i.du.insert(n,s),qT(i.remoteStore,new is(Dr(sd(n.path)),s,"TargetPurposeLimboResolution",nd.ce))}}async function Cc(i,e,n){const s=Ie(i),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{d.push(s.pu(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const w=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Jp.As(p.targetId,y);c.push(w)}}))}),await Promise.all(d),s.Pu.H_(o),await async function(p,y){const E=Ie(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ne.forEach(y,A=>ne.forEach(A.Es,D=>E.persistence.referenceDelegate.addReference(w,A.targetId,D)).next(()=>ne.forEach(A.ds,D=>E.persistence.referenceDelegate.removeReference(w,A.targetId,D)))))}catch(w){if(!Uo(w))throw w;de(eg,"Failed to update sequence numbers: "+w)}for(const w of y){const A=w.targetId;if(!w.fromCache){const D=E.Ms.get(A),k=D.snapshotVersion,G=D.withLastLimboFreeSnapshotVersion(k);E.Ms=E.Ms.insert(A,G)}}}(s.localStore,c))}async function mD(i,e){const n=Ie(i);if(!n.currentUser.isEqual(e)){de(hg,"User change. New user:",e.toKey());const s=await UT(n.localStore,e);n.currentUser=e,function(c,d){c.mu.forEach(m=>{m.forEach(p=>{p.reject(new he(W.CANCELLED,d))})}),c.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Cc(n,s.Ls)}}function pD(i,e){const n=Ie(i),s=n.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let o=ze();const c=n.Iu.get(e);if(!c)return o;for(const d of c){const m=n.Tu.get(d);o=o.unionWith(m.view.nu)}return o}}function tw(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uD.bind(null,e),e.Pu.H_=WC.bind(null,e.eventManager),e.Pu.yu=JC.bind(null,e.eventManager),e}function gD(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dD.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return bC(this.persistence,new yC,e.initialUser,this.serializer)}Cu(e){return new jT(Wp.mi,this.serializer)}Du(e){return new RC}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class yD extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new nC(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new jT(s=>Hh.mi(s,n),this.serializer)}}class bp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>gb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mD.bind(null,this.syncEngine),await XC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZC}()}createDatastore(e){const n=hd(e.databaseInfo.databaseId),s=function(c){return new OC(c)}(e.databaseInfo);return function(c,d,m,p){return new PC(c,d,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,c,d,m){return new UC(s,o,c,d,m)}(this.localStore,this.datastore,e.asyncQueue,n=>gb(this.syncEngine,n,0),function(){return ub.v()?new ub:new IC}())}createSyncEngine(e,n){return function(o,c,d,m,p,y,E){const w=new rD(o,c,d,m,p,y);return E&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const c=Ie(o);de(pa,"RemoteStore shutting down."),c.Ea.add(5),await Nc(c),c.Aa.shutdown(),c.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}bp.provider={build:()=>new bp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="FirestoreClient";class vD{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{de(ps,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(de(ps,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ag(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Fm(i,e){i.asyncQueue.verifyOperationInProgress(),de(ps,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await UT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function vb(i,e){i.asyncQueue.verifyOperationInProgress();const n=await _D(i);de(ps,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>db(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>db(e.remoteStore,o)),i._onlineComponents=e}async function _D(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(ps,"Using user provided OfflineComponentProvider");try{await Fm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),await Fm(i,new Fh)}}else de(ps,"Using default OfflineComponentProvider"),await Fm(i,new yD(void 0));return i._offlineComponents}async function nw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(ps,"Using user provided OnlineComponentProvider"),await vb(i,i._uninitializedComponentsProvider._online)):(de(ps,"Using default OnlineComponentProvider"),await vb(i,new bp))),i._onlineComponents}function bD(i){return nw(i).then(e=>e.syncEngine)}async function Qh(i){const e=await nw(i),n=e.eventManager;return n.onListen=iD.bind(null,e.syncEngine),n.onUnlisten=oD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lD.bind(null,e.syncEngine),n}function ED(i,e,n={}){const s=new mi;return i.asyncQueue.enqueueAndForget(async()=>function(c,d,m,p,y){const E=new fg({next:A=>{E.Nu(),d.enqueueAndForget(()=>lg(c,w));const D=A.docs.has(m);!D&&A.fromCache?y.reject(new he(W.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&A.fromCache&&p&&p.source==="server"?y.reject(new he(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),w=new ug(sd(m.path),E,{includeMetadataChanges:!0,qa:!0});return og(c,w)}(await Qh(i),i.asyncQueue,e,n,s)),s.promise}function TD(i,e,n={}){const s=new mi;return i.asyncQueue.enqueueAndForget(async()=>function(c,d,m,p,y){const E=new fg({next:A=>{E.Nu(),d.enqueueAndForget(()=>lg(c,w)),A.fromCache&&p.source==="server"?y.reject(new he(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),w=new ug(m,E,{includeMetadataChanges:!0,qa:!0});return og(c,w)}(await Qh(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="firestore.googleapis.com",bb=!0;class Eb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iw,this.ssl=bb}else this.host=e.host,this.ssl=e.ssl??bb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eC)throw new he(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rw(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class md{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new RI;switch(s.type){case"firstParty":return new DI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=_b.get(n);s&&(de("ComponentProvider","Removing Datastore"),_b.delete(n),s.terminate())}(this),Promise.resolve()}}function wD(i,e,n,s={}){var y;i=Tn(i,md);const o=Mo(e),c=i._getSettings(),d={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(rE(`https://${m}`),iE("Firestore",!0)),c.host!==iw&&c.host!==m&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:o,emulatorOptions:s};if(!ha(p,d)&&(i._setSettings(p),s.mockUserToken)){let E,w;if(typeof s.mockUserToken=="string")E=s.mockUserToken,w=on.MOCK_USER;else{E=ex(s.mockUserToken,(y=i._app)==null?void 0:y.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new he(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new on(A)}i._authCredentials=new II(new YE(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new vs(this.firestore,e,this._query)}}class yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(xc(n,yt._jsonSchema))return new yt(e,s||null,new _e(st.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Nt("string",yt._jsonSchemaVersion),referencePath:Nt("string")};class cs extends vs{constructor(e,n,s){super(e,n,sd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new _e(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function Ir(i,e,...n){if(i=hn(i),XE("collection","path",e),i instanceof md){const s=st.fromString(e,...n);return V0(s),new cs(i,null,s)}{if(!(i instanceof yt||i instanceof cs))throw new he(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...n));return V0(s),new cs(i.firestore,null,s)}}function pi(i,e,...n){if(i=hn(i),arguments.length===1&&(e=zp.newId()),XE("doc","path",e),i instanceof md){const s=st.fromString(e,...n);return M0(s),new yt(i,null,new _e(s))}{if(!(i instanceof yt||i instanceof cs))throw new he(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...n));return M0(s),new yt(i.firestore,i instanceof cs?i.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="AsyncQueue";class wb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zT(this,"async_queue_retry"),this._c=()=>{const s=Gm();s&&de(Tb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new mi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Uo(e))throw e;de(Tb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,_i("INTERNAL UNHANDLED ERROR: ",Sb(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=sg.createAndSchedule(this,e,n,s,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:Sb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Sb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1}(i,["next","error","complete"])}class Ei extends md{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new wb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wb(e),this._firestoreClient=void 0,await e}}}function SD(i,e){const n=typeof i=="object"?i:lE(),s=typeof i=="string"?i:Uh,o=Ip(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=WA("firestore");c&&wD(o,...c)}return o}function pd(i){if(i._terminated)throw new he(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||AD(i),i._firestoreClient}function AD(i){var s,o,c;const e=i._freezeSettings(),n=function(m,p,y,E){return new YI(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,rw(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new vD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(tn.fromBase64String(e))}catch(n){throw new he(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xc(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Nt("string",Wn._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mr._jsonSchemaVersion}}static fromJSON(e){if(xc(e,Mr._jsonSchema))return new Mr(e.latitude,e.longitude)}}Mr._jsonSchemaVersion="firestore/geoPoint/1.0",Mr._jsonSchema={type:Nt("string",Mr._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xc(e,Vr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Vr(e.vectorValues);throw new he(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vr._jsonSchemaVersion="firestore/vectorValue/1.0",Vr._jsonSchema={type:Nt("string",Vr._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=/^__.*__$/;class RD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rc(e,this.data,n,this.fieldTransforms)}}class sw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:i})}}class mg{constructor(e,n,s,o,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Kh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aw(this.Ac)&&xD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ID{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||hd(e)}Cc(e,n,s,o=!1){return new mg({Ac:e,methodName:n,Dc:s,path:en.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vd(i){const e=i._freezeSettings(),n=hd(i._databaseId);return new ID(i._databaseId,!!e.ignoreUndefinedProperties,n)}function ow(i,e,n,s,o,c={}){const d=i.Cc(c.merge||c.mergeFields?2:0,e,n,o);gg("Data must be an object, but it was:",d,s);const m=lw(s,d);let p,y;if(c.merge)p=new kn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const A=Ep(e,w,n);if(!d.contains(A))throw new he(W.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);uw(E,A)||E.push(A)}p=new kn(E),y=d.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=d.fieldTransforms;return new RD(new En(m),p,y)}class _d extends yd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _d}}class pg extends yd{_toFieldTransform(e){return new bN(e.path,new gc)}isEqual(e){return e instanceof pg}}function ND(i,e,n,s){const o=i.Cc(1,e,n);gg("Data must be an object, but it was:",o,s);const c=[],d=En.empty();gs(s,(p,y)=>{const E=yg(e,p,n);y=hn(y);const w=o.yc(E);if(y instanceof _d)c.push(E);else{const A=Dc(y,w);A!=null&&(c.push(E),d.set(E,A))}});const m=new kn(c);return new sw(d,m,o.fieldTransforms)}function CD(i,e,n,s,o,c){const d=i.Cc(1,e,n),m=[Ep(e,s,n)],p=[o];if(c.length%2!=0)throw new he(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)m.push(Ep(e,c[A])),p.push(c[A+1]);const y=[],E=En.empty();for(let A=m.length-1;A>=0;--A)if(!uw(y,m[A])){const D=m[A];let k=p[A];k=hn(k);const G=d.yc(D);if(k instanceof _d)y.push(D);else{const L=Dc(k,G);L!=null&&(y.push(D),E.set(D,L))}}const w=new kn(y);return new sw(E,w,d.fieldTransforms)}function DD(i,e,n,s=!1){return Dc(n,i.Cc(s?4:3,e))}function Dc(i,e){if(cw(i=hn(i)))return gg("Unsupported field value:",e,i),lw(i,e);if(i instanceof yd)return function(s,o){if(!aw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const m of s){let p=Dc(m,o.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(i,e)}return function(s,o){if((s=hn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return yN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ot.fromDate(s);return{timestampValue:qh(o.serializer,c)}}if(s instanceof ot){const c=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:qh(o.serializer,c)}}if(s instanceof Mr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wn)return{bytesValue:NT(o.serializer,s._byteString)};if(s instanceof yt){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$p(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Vr)return function(d,m){return{mapValue:{fields:{[iT]:{stringValue:sT},[Lh]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Qp(m.serializer,y)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${td(s)}`)}(i,e)}function lw(i,e){const n={};return WE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(i,(s,o)=>{const c=Dc(o,e.mc(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function cw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ot||i instanceof Mr||i instanceof Wn||i instanceof yt||i instanceof yd||i instanceof Vr)}function gg(i,e,n){if(!cw(n)||!$E(n)){const s=td(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Ep(i,e,n){if((e=hn(e))instanceof gd)return e._internalPath;if(typeof e=="string")return yg(i,e);throw Kh("Field path arguments must be of type string or ",i,!1,void 0,n)}const OD=new RegExp("[~\\*/\\[\\]]");function yg(i,e,n){if(e.search(OD)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new gd(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Kh(i,e,n,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new he(W.INVALID_ARGUMENT,m+i+p)}function uw(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MD extends hw{data(){return super.data()}}function bd(i,e){return typeof e=="string"?yg(i,e):e instanceof gd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vg{}class fw extends vg{}function rs(i,e,...n){let s=[];e instanceof vg&&s.push(e),s=s.concat(n),function(c){const d=c.filter(p=>p instanceof _g).length,m=c.filter(p=>p instanceof Ed).length;if(d>1||d>0&&m>0)throw new he(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Ed extends fw{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ed(e,n,s)}_apply(e){const n=this._parse(e);return mw(e._query,n),new vs(e.firestore,e.converter,up(e._query,n))}_parse(e){const n=vd(e.firestore);return function(c,d,m,p,y,E,w){let A;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Rb(w,E);const k=[];for(const G of w)k.push(xb(p,c,G));A={arrayValue:{values:k}}}else A=xb(p,c,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Rb(w,E),A=DD(m,d,w,E==="in"||E==="not-in");return It.create(y,E,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function go(i,e,n){const s=e,o=bd("where",i);return Ed._create(o,s,n)}class _g extends vg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _g(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:ur.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,c){let d=o;const m=c.getFlattenedFilters();for(const p of m)mw(d,p),d=up(d,p)}(e._query,n),new vs(e.firestore,e.converter,up(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bg extends fw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new bg(e,n)}_apply(e){const n=function(o,c,d){if(o.startAt!==null)throw new he(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pc(c,d)}(e._query,this._field,this._direction);return new vs(e.firestore,e.converter,function(o,c){const d=o.explicitOrderBy.concat([c]);return new Lo(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function yo(i,e="asc"){const n=e,s=bd("orderBy",i);return bg._create(s,n)}function xb(i,e,n){if(typeof(n=hn(n))=="string"){if(n==="")throw new he(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fT(e)&&n.indexOf("/")!==-1)throw new he(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(st.fromString(n));if(!_e.isDocumentKey(s))throw new he(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return q0(i,new _e(s))}if(n instanceof yt)return q0(i,n._key);throw new he(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${td(n)}.`)}function Rb(i,e){if(!Array.isArray(i)||i.length===0)throw new he(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mw(i,e){const n=function(o,c){for(const d of o)for(const m of d.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class VD{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return gs(e,(o,c)=>{s[o]=this.convertValue(c,n)}),s}convertVectorValue(e){var s,o,c;const n=(c=(o=(s=e.fields)==null?void 0:s[Lh].arrayValue)==null?void 0:o.values)==null?void 0:c.map(d=>Tt(d.doubleValue));return new Vr(n)}convertGeoPoint(e){return new Mr(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=id(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=hs(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=st.fromString(e);Ye(kT(s),9688,{name:e});const o=new fc(s.get(1),s.get(3)),c=new _e(s.popFirst(5));return o.isEqual(n)||_i(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends hw{constructor(e,n,s,o,c,d){super(e,n,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(bd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:Nt("string",oa._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class xh extends oa{data(e={}){return super.data(e)}}class la{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new tc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new xh(this._firestore,this._userDataWriter,s.key,s,new tc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const p=new xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new tc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new tc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),E=d.indexOf(m.doc.key)),{type:kD(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=la._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(i){i=Tn(i,yt);const e=Tn(i.firestore,Ei);return ED(pd(e),i._key).then(n=>_w(e,i,n))}la._jsonSchemaVersion="firestore/querySnapshot/1.0",la._jsonSchema={type:Nt("string",la._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Eg extends VD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function Yh(i){i=Tn(i,vs);const e=Tn(i.firestore,Ei),n=pd(e),s=new Eg(e);return dw(i._query),TD(n,i._query).then(o=>new la(e,s,i,o))}function yw(i,e,n){i=Tn(i,yt);const s=Tn(i.firestore,Ei),o=pw(i.converter,e);return Td(s,[ow(vd(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Jn.none())])}function Tg(i,e,n,...s){i=Tn(i,yt);const o=Tn(i.firestore,Ei),c=vd(o);let d;return d=typeof(e=hn(e))=="string"||e instanceof gd?CD(c,"updateDoc",i._key,e,n,s):ND(c,"updateDoc",i._key,e),Td(o,[d.toMutation(i._key,Jn.exists(!0))])}function PD(i){return Td(Tn(i.firestore,Ei),[new Kp(i._key,Jn.none())])}function vw(i,e){const n=Tn(i.firestore,Ei),s=pi(i),o=pw(i.converter,e);return Td(n,[ow(vd(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Jn.exists(!1))]).then(()=>s)}function Rh(i,...e){var p,y,E;i=hn(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Ab(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Ab(e[s])){const w=e[s];e[s]=(p=w.next)==null?void 0:p.bind(w),e[s+1]=(y=w.error)==null?void 0:y.bind(w),e[s+2]=(E=w.complete)==null?void 0:E.bind(w)}let c,d,m;if(i instanceof yt)d=Tn(i.firestore,Ei),m=sd(i._key.path),c={next:w=>{e[s]&&e[s](_w(d,i,w))},error:e[s+1],complete:e[s+2]};else{const w=Tn(i,vs);d=Tn(w.firestore,Ei),m=w._query;const A=new Eg(d);c={next:D=>{e[s]&&e[s](new la(d,A,w,D))},error:e[s+1],complete:e[s+2]},dw(i._query)}return function(A,D,k,G){const L=new fg(G),ae=new ug(D,L,k);return A.asyncQueue.enqueueAndForget(async()=>og(await Qh(A),ae)),()=>{L.Nu(),A.asyncQueue.enqueueAndForget(async()=>lg(await Qh(A),ae))}}(pd(d),m,o,c)}function Td(i,e){return function(s,o){const c=new mi;return s.asyncQueue.enqueueAndForget(async()=>cD(await bD(s),o,c)),c.promise}(pd(i),e)}function _w(i,e,n){const s=n.docs.get(e._key),o=new Eg(i);return new oa(i,o,e._key,s,new tc(n.hasPendingWrites,n.fromCache),e.converter)}function ca(){return new pg("serverTimestamp")}(function(e,n=!0){(function(o){Po=o})(Vo),wo(new da("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),m=new Ei(new NI(s.getProvider("auth-internal")),new OI(d,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(y.options.projectId,E)}(d,o),d);return c={useFetchStreams:n,...c},m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),os(N0,C0,e),os(N0,C0,"esm2020")})();const jD={apiKey:"AIzaSyAmqQtTgvPSSzTGvO3kxhGcF7rqlZl4_L0",authDomain:"uber-rio-pardo.firebaseapp.com",projectId:"uber-rio-pardo",storageBucket:"uber-rio-pardo.firebasestorage.app",messagingSenderId:"128009984359",appId:"1:128009984359:web:ed2c6eee709ec47431f7c2",measurementId:"G-GGGEL6398M"},bw=oE(jD),_c=wI(bw),Ft=SD(bw),Qt={RIDE_REQUESTS:"rideRequests",USERS:"users",DRIVERS:"drivers",CHATS:"chats"},Ew={onMessages(i,e){const n=rs(Ir(Ft,Qt.CHATS,i,"messages"),yo("timestamp","asc"));return Rh(n,s=>{const o=s.docs.map(c=>({id:c.id,...c.data()}));e(o)})},async sendMessage(i,e){await vw(Ir(Ft,Qt.CHATS,i,"messages"),{...e,timestamp:new Date().toISOString()})}},ar={async create(i){try{if(!i.driverId)throw new Error("ID do motorista é obrigatório");const e=await vw(Ir(Ft,Qt.RIDE_REQUESTS),{...i,createdAt:ca(),updatedAt:ca()});return console.log("Solicitação criada com ID:",e.id),e.id}catch(e){throw console.error("Erro ao criar solicitação:",e),e}},async update(i,e){try{const n=pi(Ft,Qt.RIDE_REQUESTS,i);await Tg(n,{...e,updatedAt:ca()})}catch(n){throw console.error("Erro ao atualizar solicitação:",n),n}},async delete(i){try{await PD(pi(Ft,Qt.RIDE_REQUESTS,i))}catch(e){throw console.error("Erro ao deletar solicitação:",e),e}},async getByDriver(i){try{const e=rs(Ir(Ft,Qt.RIDE_REQUESTS),go("driverId","==",i),yo("createdAt","desc"));return(await Yh(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Erro ao buscar solicitações do motorista:",e),e}},async getByUser(i){try{const e=rs(Ir(Ft,Qt.RIDE_REQUESTS),go("userId","==",i),yo("createdAt","desc"));return(await Yh(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Erro ao buscar solicitações do usuário:",e),e}},onDriverRequestsChange(i,e){const n=rs(Ir(Ft,Qt.RIDE_REQUESTS),go("driverId","==",i),yo("createdAt","desc"));return Rh(n,s=>{const o=s.docs.map(c=>({id:c.id,...c.data()}));e(o)})},onUserRequestsChange(i,e){const n=rs(Ir(Ft,Qt.RIDE_REQUESTS),go("userId","==",i),yo("createdAt","desc"));return Rh(n,s=>{const o=s.docs.map(c=>({id:c.id,...c.data()}));e(o)})},onPendingRequestsChange(i){const e=rs(Ir(Ft,Qt.RIDE_REQUESTS),go("status","in",["waitingPrice","priceProposed","accepted","inProgress"]),yo("createdAt","desc"));return Rh(e,n=>{const s=n.docs.map(o=>{var c,d;return{id:o.id,...o.data(),createdAt:((d=(c=o.data().createdAt)==null?void 0:c.toDate)==null?void 0:d.call(c))||new Date}});console.log("Solicitações capturadas pelo listener:",s.length),i(s)})}},nc={async create(i){try{const e=pi(Ft,Qt.USERS,i.id);return await yw(e,{...i,createdAt:ca()}),console.log("Usuário criado com ID:",i.id),i.id}catch(e){throw console.error("Erro ao criar usuário:",e),e}},async update(i,e){try{const n=pi(Ft,Qt.USERS,i);await Tg(n,{...e,updatedAt:ca()})}catch(n){throw console.error("Erro ao atualizar usuário:",n),n}},async getById(i){try{const e=pi(Ft,Qt.USERS,i),n=await gw(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Erro ao buscar usuário por ID:",e),e}}},ua={async create(i){try{const e=pi(Ft,Qt.DRIVERS,i.id);return await yw(e,{...i,createdAt:ca()}),console.log("Motorista criado com ID:",i.id),i.id}catch(e){throw console.error("Erro ao criar motorista:",e),e}},async update(i,e){try{const n=pi(Ft,Qt.DRIVERS,i);await Tg(n,{...e,updatedAt:ca()})}catch(n){throw console.error("Erro ao atualizar motorista:",n),n}},async getById(i){try{const e=pi(Ft,Qt.DRIVERS,i),n=await gw(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Erro ao buscar motorista por ID:",e),e}},async getAll(){try{const i=rs(Ir(Ft,Qt.DRIVERS));return(await Yh(i)).docs.map(n=>({id:n.id,...n.data()}))}catch(i){throw console.error("Erro ao buscar motoristas:",i),i}},async getAvailable(){try{const i=rs(Ir(Ft,Qt.DRIVERS),go("available","==",!0));return(await Yh(i)).docs.map(n=>({id:n.id,...n.data()}))}catch(i){throw console.error("Erro ao buscar motoristas disponíveis:",i),i}}};function UD({onBack:i,onLogin:e,onRegister:n}){const[s,o]=Y.useState(!1),[c,d]=Y.useState(""),m=async()=>{o(!0),d("");try{const p=new Zn,E=(await ed(_c,p)).user,w={id:E.uid,name:E.displayName,email:E.email,phone:"",photoURL:E.photoURL,provider:"google",type:"user",createdAt:new Date().toISOString()},A=await nc.getById(E.uid);A&&A.phone?(localStorage.setItem("currentUserId",E.uid),e(A)):n({id:E.uid,name:E.displayName,email:E.email,phone:"",photoURL:E.photoURL,provider:"google",type:"user",createdAt:new Date().toISOString()})}catch(p){console.error("Erro no login do Google:",p);let y="Erro ao fazer login com Google. Tente novamente.";switch(p.code){case"auth/popup-closed-by-user":y="Login cancelado. Por favor, tente novamente.";break;case"auth/cancelled-popup-request":y="Login cancelado. Por favor, tente novamente.";break;case"auth/operation-not-allowed":y="O método de login não está ativado no Firebase.";break;case"auth/network-request-failed":y="Erro de conexão. Verifique sua internet e tente novamente.";break;default:y=p.message}d(y)}finally{o(!1)}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-md",children:[v.jsxs(at,{variant:"ghost",onClick:i,className:"mb-4",children:[v.jsx(Xh,{className:"w-4 h-4 mr-2"}),"Voltar"]}),v.jsxs(dt,{children:[v.jsxs(Pt,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(sa,{className:"w-8 h-8 text-blue-600"})}),v.jsx(jt,{className:"text-2xl",children:"Login do Passageiro"}),v.jsx(gi,{children:"Entre com sua conta Google para solicitar corridas"})]}),v.jsxs(Et,{className:"space-y-4",children:[c&&v.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:v.jsx("p",{className:"text-sm text-red-700",children:c})}),v.jsx(at,{onClick:m,disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",size:"lg",children:s?v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),v.jsx("span",{children:"Entrando..."})]}):v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[v.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),v.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),v.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),v.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),v.jsx("span",{children:"Entrar com Google"})]})}),v.jsx("div",{className:"text-center",children:v.jsx("p",{className:"text-sm text-gray-600",children:"Ao continuar, você concorda com nossos termos de uso"})})]})]})]})})}function ln({className:i,type:e,...n}){return v.jsx("input",{type:e,"data-slot":"input",className:Pn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",i),...n})}Db();var LD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wi=LD.reduce((i,e)=>{const n=Ih(`Primitive.${e}`),s=Y.forwardRef((o,c)=>{const{asChild:d,...m}=o,p=d?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(p,{...m,ref:c})});return s.displayName=`Primitive.${e}`,{...i,[e]:s}},{}),zD="Label",Tw=Y.forwardRef((i,e)=>v.jsx(wi.label,{...i,ref:e,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=i.onMouseDown)==null||o.call(i,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Tw.displayName=zD;var BD=Tw;function Jt({className:i,...e}){return v.jsx(BD,{"data-slot":"label",className:Pn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",i),...e})}function qD({onBack:i,onRegister:e}){const[n,s]=Y.useState({name:"",email:"",phone:"",password:"",confirmPassword:""});React.useEffect(()=>{typeof e=="object"&&e&&e.id&&(s({name:e.name||"",email:e.email||"",phone:e.phone||"",password:"",confirmPassword:""}),y(2),w({uid:e.id,photoURL:e.photoURL}))},[e]);const[o,c]=Y.useState(!1),[d,m]=Y.useState(""),[p,y]=Y.useState(1),[E,w]=Y.useState(null),A=L=>{s({...n,[L.target.name]:L.target.value})},D=async()=>{c(!0),m("");try{const L=new Zn,X=(await ed(_c,L)).user;w(X),s({name:X.displayName||"",email:X.email||"",phone:""}),y(2)}catch(L){let ae="Erro ao registrar com Google. Tente novamente.";switch(L.code){case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":ae="Registro cancelado. Por favor, tente novamente.";break;case"auth/operation-not-allowed":ae="O método de registro não está ativado no Firebase.";break;case"auth/network-request-failed":ae="Erro de conexão. Verifique sua internet e tente novamente.";break;default:ae=L.message}m(ae)}finally{c(!1)}},k=async L=>{if(L.preventDefault(),c(!0),m(""),!n.name||!n.phone){m("Preencha todos os campos obrigatórios."),c(!1);return}try{const ae={id:E.uid,name:n.name,email:n.email,phone:n.phone,photoURL:E.photoURL,provider:"google",type:"user",createdAt:new Date().toISOString()};await nc.getById(E.uid)?await nc.update(E.uid,ae):await nc.create(ae),localStorage.setItem("currentUserId",E.uid),alert("Cadastro realizado com sucesso!"),e(ae)}catch{m("Erro ao salvar cadastro. Tente novamente.")}finally{c(!1)}},G=async L=>{L.preventDefault(),c(!0),m("");try{const X=(await createUserWithEmailAndPassword(_c,n.email,n.password)).user;await updateProfile(X,{displayName:n.name});const ee={id:X.uid,name:n.name,email:n.email,phone:n.phone,type:"user",createdAt:new Date().toISOString()};await nc.create(ee),localStorage.setItem("currentUserId",X.uid),alert("Cadastro realizado com sucesso!"),e(ee)}catch(ae){let X="Erro ao criar conta. Tente novamente.";switch(ae.code){case"auth/email-already-in-use":X="Este e-mail já está em uso.";break;case"auth/invalid-email":X="E-mail inválido.";break;case"auth/weak-password":X="A senha é muito fraca.";break}m(X)}finally{c(!1)}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-md",children:[v.jsxs(at,{variant:"ghost",onClick:i,className:"mb-4",children:[v.jsx(Xh,{className:"w-4 h-4 mr-2"}),"Voltar"]}),v.jsxs(dt,{children:[v.jsxs(Pt,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(sa,{className:"w-8 h-8 text-blue-600"})}),v.jsx(jt,{className:"text-2xl",children:"Cadastro do Passageiro"}),v.jsx(gi,{children:p===1?"Escolha como deseja se cadastrar":"Complete seu cadastro para continuar"})]}),v.jsxs(Et,{children:[d&&v.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg mb-2",children:v.jsx("p",{className:"text-sm text-red-700",children:d})}),p===1&&v.jsxs("div",{className:"space-y-4",children:[v.jsx(at,{onClick:D,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:o,children:o?"Carregando...":"Cadastrar com Google"}),v.jsx("div",{className:"text-center text-sm text-gray-500",children:"ou"}),v.jsx(at,{onClick:()=>y(3),className:"w-full",variant:"outline",disabled:o,children:"Cadastrar com Email e Senha"})]}),p===2&&v.jsxs("form",{onSubmit:k,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Jt,{htmlFor:"name",children:"Nome completo"}),v.jsx(ln,{id:"name",name:"name",type:"text",placeholder:"Seu nome completo",value:n.name,onChange:A,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Jt,{htmlFor:"email",children:"Email"}),v.jsx(ln,{id:"email",name:"email",type:"email",value:n.email,disabled:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Jt,{htmlFor:"phone",children:"Telefone"}),v.jsx(ln,{id:"phone",name:"phone",type:"tel",placeholder:"(51) 99999-9999",value:n.phone,onChange:A,required:!0})]}),v.jsx(at,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:o,children:o?"Salvando...":"Finalizar Cadastro"})]}),p===3&&v.jsxs("form",{onSubmit:G,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Jt,{htmlFor:"name",children:"Nome completo"}),v.jsx(ln,{id:"name",name:"name",type:"text",placeholder:"Seu nome completo",value:n.name,onChange:A,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Jt,{htmlFor:"email",children:"Email"}),v.jsx(ln,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",value:n.email,onChange:A,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Jt,{htmlFor:"phone",children:"Telefone"}),v.jsx(ln,{id:"phone",name:"phone",type:"tel",placeholder:"(51) 99999-9999",value:n.phone,onChange:A,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Jt,{htmlFor:"password",children:"Senha"}),v.jsx(ln,{id:"password",name:"password",type:"password",placeholder:"Sua senha",value:n.password,onChange:A,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Jt,{htmlFor:"confirmPassword",children:"Confirmar senha"}),v.jsx(ln,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirme sua senha",value:n.confirmPassword,onChange:A,required:!0})]}),v.jsx(at,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:o,children:o?"Cadastrando...":"Cadastrar"})]})]})]})]})})}function HD({user:i,onProfileComplete:e}){const[n,s]=Y.useState(i.phone||""),[o,c]=Y.useState(!1),[d,m]=Y.useState(""),p=async y=>{if(y.preventDefault(),c(!0),m(""),!n.trim()){m("Por favor, informe seu telefone."),c(!1);return}try{const E={...i,phone:n.trim()},A=JSON.parse(localStorage.getItem("users")||"[]").map(D=>D.id===i.id?E:D);localStorage.setItem("users",JSON.stringify(A)),localStorage.setItem("currentUser",JSON.stringify(E)),e(E)}catch(E){console.error("Erro ao atualizar perfil:",E),m("Erro ao salvar perfil. Tente novamente.")}finally{c(!1)}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:v.jsx("div",{className:"w-full max-w-md",children:v.jsxs(dt,{children:[v.jsxs(Pt,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:i.photoURL?v.jsx("img",{src:i.photoURL,alt:i.name,className:"w-16 h-16 rounded-full object-cover"}):v.jsx(sa,{className:"w-8 h-8 text-blue-600"})}),v.jsx(jt,{className:"text-2xl",children:"Complete seu Perfil"}),v.jsxs(gi,{children:["Olá, ",i.name,"! Complete suas informações para continuar"]})]}),v.jsxs(Et,{children:[d&&v.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:v.jsx("p",{className:"text-sm text-red-700",children:d})}),v.jsxs("form",{onSubmit:p,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Jt,{htmlFor:"name",children:"Nome"}),v.jsx(ln,{id:"name",type:"text",value:i.name,disabled:!0,className:"bg-gray-50"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Nome obtido do Google"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Jt,{htmlFor:"email",children:"Email"}),v.jsx(ln,{id:"email",type:"email",value:i.email,disabled:!0,className:"bg-gray-50"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Email obtido do Google"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Jt,{htmlFor:"phone",children:"Telefone"}),v.jsxs("div",{className:"relative",children:[v.jsx(LA,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),v.jsx(ln,{id:"phone",type:"tel",placeholder:"(51) 99999-9999",value:n,onChange:y=>s(y.target.value),className:"pl-10",required:!0})]})]}),v.jsx(at,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:o,children:o?"Salvando...":"Continuar"})]}),v.jsx("div",{className:"mt-4 text-center",children:v.jsx("p",{className:"text-xs text-gray-500",children:"Suas informações são seguras e utilizadas apenas para melhorar sua experiência"})})]})]})})})}function kr(i,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(i==null||i(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function Oc(i,e=[]){let n=[];function s(c,d){const m=Y.createContext(d),p=n.length;n=[...n,d];const y=w=>{var ae;const{scope:A,children:D,...k}=w,G=((ae=A==null?void 0:A[i])==null?void 0:ae[p])||m,L=Y.useMemo(()=>k,Object.values(k));return v.jsx(G.Provider,{value:L,children:D})};y.displayName=c+"Provider";function E(w,A){var G;const D=((G=A==null?void 0:A[i])==null?void 0:G[p])||m,k=Y.useContext(D);if(k)return k;if(d!==void 0)return d;throw new Error(`\`${w}\` must be used within \`${c}\``)}return[y,E]}const o=()=>{const c=n.map(d=>Y.createContext(d));return function(m){const p=(m==null?void 0:m[i])||c;return Y.useMemo(()=>({[`__scope${i}`]:{...m,[i]:p}}),[m,p])}};return o.scopeName=i,[s,GD(o,...e)]}function GD(...i){const e=i[0];if(i.length===1)return e;const n=()=>{const s=i.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const d=s.reduce((m,{useScope:p,scopeName:y})=>{const w=p(c)[`__scope${y}`];return{...m,...w}},{});return Y.useMemo(()=>({[`__scope${e.scopeName}`]:d}),[d])}};return n.scopeName=e.scopeName,n}function FD(i){const e=i+"CollectionProvider",[n,s]=Oc(e),[o,c]=n(e,{collectionRef:{current:null},itemMap:new Map}),d=G=>{const{scope:L,children:ae}=G,X=hi.useRef(null),ee=hi.useRef(new Map).current;return v.jsx(o,{scope:L,itemMap:ee,collectionRef:X,children:ae})};d.displayName=e;const m=i+"CollectionSlot",p=Ih(m),y=hi.forwardRef((G,L)=>{const{scope:ae,children:X}=G,ee=c(m,ae),ue=Pr(L,ee.collectionRef);return v.jsx(p,{ref:ue,children:X})});y.displayName=m;const E=i+"CollectionItemSlot",w="data-radix-collection-item",A=Ih(E),D=hi.forwardRef((G,L)=>{const{scope:ae,children:X,...ee}=G,ue=hi.useRef(null),me=Pr(L,ue),be=c(E,ae);return hi.useEffect(()=>(be.itemMap.set(ue,{ref:ue,...ee}),()=>void be.itemMap.delete(ue))),v.jsx(A,{[w]:"",ref:me,children:X})});D.displayName=E;function k(G){const L=c(i+"CollectionConsumer",G);return hi.useCallback(()=>{const X=L.collectionRef.current;if(!X)return[];const ee=Array.from(X.querySelectorAll(`[${w}]`));return Array.from(L.itemMap.values()).sort((be,M)=>ee.indexOf(be.ref.current)-ee.indexOf(M.ref.current))},[L.collectionRef,L.itemMap])}return[{Provider:d,Slot:y,ItemSlot:D},k,s]}var QD=Y.createContext(void 0);function ww(i){const e=Y.useContext(QD);return i||e||"ltr"}function KD(i){const e=Y.useRef(i);return Y.useEffect(()=>{e.current=i}),Y.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}var bc=globalThis!=null&&globalThis.document?Y.useLayoutEffect:()=>{},YD=Cb[" useId ".trim().toString()]||(()=>{}),XD=0;function $D(i){const[e,n]=Y.useState(YD());return bc(()=>{n(s=>s??String(XD++))},[i]),e?`radix-${e}`:""}function Sw(i){const[e,n]=Y.useState(void 0);return bc(()=>{if(i){n({width:i.offsetWidth,height:i.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let d,m;if("borderBoxSize"in c){const p=c.borderBoxSize,y=Array.isArray(p)?p[0]:p;d=y.inlineSize,m=y.blockSize}else d=i.offsetWidth,m=i.offsetHeight;n({width:d,height:m})});return s.observe(i,{box:"border-box"}),()=>s.unobserve(i)}else n(void 0)},[i]),e}var ZD=Cb[" useInsertionEffect ".trim().toString()]||bc;function wg({prop:i,defaultProp:e,onChange:n=()=>{},caller:s}){const[o,c,d]=WD({defaultProp:e,onChange:n}),m=i!==void 0,p=m?i:o;{const E=Y.useRef(i!==void 0);Y.useEffect(()=>{const w=E.current;w!==m&&console.warn(`${s} is changing from ${w?"controlled":"uncontrolled"} to ${m?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),E.current=m},[m,s])}const y=Y.useCallback(E=>{var w;if(m){const A=JD(E)?E(i):E;A!==i&&((w=d.current)==null||w.call(d,A))}else c(E)},[m,i,c,d]);return[p,y]}function WD({defaultProp:i,onChange:e}){const[n,s]=Y.useState(i),o=Y.useRef(n),c=Y.useRef(e);return ZD(()=>{c.current=e},[e]),Y.useEffect(()=>{var d;o.current!==n&&((d=c.current)==null||d.call(c,n),o.current=n)},[n,o]),[n,s,c]}function JD(i){return typeof i=="function"}function Aw(i){const e=Y.useRef({value:i,previous:i});return Y.useMemo(()=>(e.current.value!==i&&(e.current.previous=e.current.value,e.current.value=i),e.current.previous),[i])}var Qm="rovingFocusGroup.onEntryFocus",e4={bubbles:!1,cancelable:!0},Mc="RovingFocusGroup",[Tp,xw,t4]=FD(Mc),[n4,Rw]=Oc(Mc,[t4]),[r4,i4]=n4(Mc),Iw=Y.forwardRef((i,e)=>v.jsx(Tp.Provider,{scope:i.__scopeRovingFocusGroup,children:v.jsx(Tp.Slot,{scope:i.__scopeRovingFocusGroup,children:v.jsx(s4,{...i,ref:e})})}));Iw.displayName=Mc;var s4=Y.forwardRef((i,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:o=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:p,onEntryFocus:y,preventScrollOnEntryFocus:E=!1,...w}=i,A=Y.useRef(null),D=Pr(e,A),k=ww(c),[G,L]=wg({prop:d,defaultProp:m??null,onChange:p,caller:Mc}),[ae,X]=Y.useState(!1),ee=KD(y),ue=xw(n),me=Y.useRef(!1),[be,M]=Y.useState(0);return Y.useEffect(()=>{const x=A.current;if(x)return x.addEventListener(Qm,ee),()=>x.removeEventListener(Qm,ee)},[ee]),v.jsx(r4,{scope:n,orientation:s,dir:k,loop:o,currentTabStopId:G,onItemFocus:Y.useCallback(x=>L(x),[L]),onItemShiftTab:Y.useCallback(()=>X(!0),[]),onFocusableItemAdd:Y.useCallback(()=>M(x=>x+1),[]),onFocusableItemRemove:Y.useCallback(()=>M(x=>x-1),[]),children:v.jsx(wi.div,{tabIndex:ae||be===0?-1:0,"data-orientation":s,...w,ref:D,style:{outline:"none",...i.style},onMouseDown:kr(i.onMouseDown,()=>{me.current=!0}),onFocus:kr(i.onFocus,x=>{const R=!me.current;if(x.target===x.currentTarget&&R&&!ae){const V=new CustomEvent(Qm,e4);if(x.currentTarget.dispatchEvent(V),!V.defaultPrevented){const P=ue().filter(z=>z.focusable),j=P.find(z=>z.active),N=P.find(z=>z.id===G),oe=[j,N,...P].filter(Boolean).map(z=>z.ref.current);Dw(oe,E)}}me.current=!1}),onBlur:kr(i.onBlur,()=>X(!1))})})}),Nw="RovingFocusGroupItem",Cw=Y.forwardRef((i,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:o=!1,tabStopId:c,children:d,...m}=i,p=$D(),y=c||p,E=i4(Nw,n),w=E.currentTabStopId===y,A=xw(n),{onFocusableItemAdd:D,onFocusableItemRemove:k,currentTabStopId:G}=E;return Y.useEffect(()=>{if(s)return D(),()=>k()},[s,D,k]),v.jsx(Tp.ItemSlot,{scope:n,id:y,focusable:s,active:o,children:v.jsx(wi.span,{tabIndex:w?0:-1,"data-orientation":E.orientation,...m,ref:e,onMouseDown:kr(i.onMouseDown,L=>{s?E.onItemFocus(y):L.preventDefault()}),onFocus:kr(i.onFocus,()=>E.onItemFocus(y)),onKeyDown:kr(i.onKeyDown,L=>{if(L.key==="Tab"&&L.shiftKey){E.onItemShiftTab();return}if(L.target!==L.currentTarget)return;const ae=l4(L,E.orientation,E.dir);if(ae!==void 0){if(L.metaKey||L.ctrlKey||L.altKey||L.shiftKey)return;L.preventDefault();let ee=A().filter(ue=>ue.focusable).map(ue=>ue.ref.current);if(ae==="last")ee.reverse();else if(ae==="prev"||ae==="next"){ae==="prev"&&ee.reverse();const ue=ee.indexOf(L.currentTarget);ee=E.loop?c4(ee,ue+1):ee.slice(ue+1)}setTimeout(()=>Dw(ee))}}),children:typeof d=="function"?d({isCurrentTabStop:w,hasTabStop:G!=null}):d})})});Cw.displayName=Nw;var a4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function o4(i,e){return e!=="rtl"?i:i==="ArrowLeft"?"ArrowRight":i==="ArrowRight"?"ArrowLeft":i}function l4(i,e,n){const s=o4(i.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return a4[s]}function Dw(i,e=!1){const n=document.activeElement;for(const s of i)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function c4(i,e){return i.map((n,s)=>i[(e+s)%i.length])}var u4=Iw,h4=Cw;function d4(i,e){return Y.useReducer((n,s)=>e[n][s]??n,i)}var Ow=i=>{const{present:e,children:n}=i,s=f4(e),o=typeof n=="function"?n({present:s.isPresent}):Y.Children.only(n),c=Pr(s.ref,m4(o));return typeof n=="function"||s.isPresent?Y.cloneElement(o,{ref:c}):null};Ow.displayName="Presence";function f4(i){const[e,n]=Y.useState(),s=Y.useRef(null),o=Y.useRef(i),c=Y.useRef("none"),d=i?"mounted":"unmounted",[m,p]=d4(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Y.useEffect(()=>{const y=dh(s.current);c.current=m==="mounted"?y:"none"},[m]),bc(()=>{const y=s.current,E=o.current;if(E!==i){const A=c.current,D=dh(y);i?p("MOUNT"):D==="none"||(y==null?void 0:y.display)==="none"?p("UNMOUNT"):p(E&&A!==D?"ANIMATION_OUT":"UNMOUNT"),o.current=i}},[i,p]),bc(()=>{if(e){let y;const E=e.ownerDocument.defaultView??window,w=D=>{const G=dh(s.current).includes(D.animationName);if(D.target===e&&G&&(p("ANIMATION_END"),!o.current)){const L=e.style.animationFillMode;e.style.animationFillMode="forwards",y=E.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=L)})}},A=D=>{D.target===e&&(c.current=dh(s.current))};return e.addEventListener("animationstart",A),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{E.clearTimeout(y),e.removeEventListener("animationstart",A),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:Y.useCallback(y=>{s.current=y?getComputedStyle(y):null,n(y)},[])}}function dh(i){return(i==null?void 0:i.animationName)||"none"}function m4(i){var s,o;let e=(s=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?i.ref:(e=(o=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?i.props.ref:i.props.ref||i.ref)}var Sg="Radio",[p4,Mw]=Oc(Sg),[g4,y4]=p4(Sg),Vw=Y.forwardRef((i,e)=>{const{__scopeRadio:n,name:s,checked:o=!1,required:c,disabled:d,value:m="on",onCheck:p,form:y,...E}=i,[w,A]=Y.useState(null),D=Pr(e,L=>A(L)),k=Y.useRef(!1),G=w?y||!!w.closest("form"):!0;return v.jsxs(g4,{scope:n,checked:o,disabled:d,children:[v.jsx(wi.button,{type:"button",role:"radio","aria-checked":o,"data-state":Uw(o),"data-disabled":d?"":void 0,disabled:d,value:m,...E,ref:D,onClick:kr(i.onClick,L=>{o||p==null||p(),G&&(k.current=L.isPropagationStopped(),k.current||L.stopPropagation())})}),G&&v.jsx(jw,{control:w,bubbles:!k.current,name:s,value:m,checked:o,required:c,disabled:d,form:y,style:{transform:"translateX(-100%)"}})]})});Vw.displayName=Sg;var kw="RadioIndicator",Pw=Y.forwardRef((i,e)=>{const{__scopeRadio:n,forceMount:s,...o}=i,c=y4(kw,n);return v.jsx(Ow,{present:s||c.checked,children:v.jsx(wi.span,{"data-state":Uw(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:e})})});Pw.displayName=kw;var v4="RadioBubbleInput",jw=Y.forwardRef(({__scopeRadio:i,control:e,checked:n,bubbles:s=!0,...o},c)=>{const d=Y.useRef(null),m=Pr(d,c),p=Aw(n),y=Sw(e);return Y.useEffect(()=>{const E=d.current;if(!E)return;const w=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(w,"checked").set;if(p!==n&&D){const k=new Event("click",{bubbles:s});D.call(E,n),E.dispatchEvent(k)}},[p,n,s]),v.jsx(wi.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:m,style:{...o.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});jw.displayName=v4;function Uw(i){return i?"checked":"unchecked"}var _4=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],wd="RadioGroup",[b4,G4]=Oc(wd,[Rw,Mw]),Lw=Rw(),zw=Mw(),[E4,T4]=b4(wd),Bw=Y.forwardRef((i,e)=>{const{__scopeRadioGroup:n,name:s,defaultValue:o,value:c,required:d=!1,disabled:m=!1,orientation:p,dir:y,loop:E=!0,onValueChange:w,...A}=i,D=Lw(n),k=ww(y),[G,L]=wg({prop:c,defaultProp:o??null,onChange:w,caller:wd});return v.jsx(E4,{scope:n,name:s,required:d,disabled:m,value:G,onValueChange:L,children:v.jsx(u4,{asChild:!0,...D,orientation:p,dir:k,loop:E,children:v.jsx(wi.div,{role:"radiogroup","aria-required":d,"aria-orientation":p,"data-disabled":m?"":void 0,dir:k,...A,ref:e})})})});Bw.displayName=wd;var qw="RadioGroupItem",Hw=Y.forwardRef((i,e)=>{const{__scopeRadioGroup:n,disabled:s,...o}=i,c=T4(qw,n),d=c.disabled||s,m=Lw(n),p=zw(n),y=Y.useRef(null),E=Pr(e,y),w=c.value===o.value,A=Y.useRef(!1);return Y.useEffect(()=>{const D=G=>{_4.includes(G.key)&&(A.current=!0)},k=()=>A.current=!1;return document.addEventListener("keydown",D),document.addEventListener("keyup",k),()=>{document.removeEventListener("keydown",D),document.removeEventListener("keyup",k)}},[]),v.jsx(h4,{asChild:!0,...m,focusable:!d,active:w,children:v.jsx(Vw,{disabled:d,required:c.required,checked:w,...p,...o,name:c.name,ref:E,onCheck:()=>c.onValueChange(o.value),onKeyDown:kr(D=>{D.key==="Enter"&&D.preventDefault()}),onFocus:kr(o.onFocus,()=>{var D;A.current&&((D=y.current)==null||D.click())})})})});Hw.displayName=qw;var w4="RadioGroupIndicator",Gw=Y.forwardRef((i,e)=>{const{__scopeRadioGroup:n,...s}=i,o=zw(n);return v.jsx(Pw,{...o,...s,ref:e})});Gw.displayName=w4;var S4=Bw,A4=Hw,x4=Gw;function R4({className:i,...e}){return v.jsx(S4,{"data-slot":"radio-group",className:Pn("grid gap-3",i),...e})}function Ib({className:i,...e}){return v.jsx(A4,{"data-slot":"radio-group-item",className:Pn("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",i),...e,children:v.jsx(x4,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:v.jsx(DA,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function Fw({center:i,markers:e=[]}){const n=Y.useRef(null),s=Y.useRef(null);return Y.useEffect(()=>{if(!window.L)return;s.current=window.L;let o;const d=i||[-14.235,-51.9253],m=i?14:4;return n.current._leaflet_id||(o=window.L.map(n.current).setView(d,m),window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(o),i&&window.L.marker(i).addTo(o).bindPopup("Você está aqui").openPopup(),e.forEach(p=>{window.L.marker([p.lat,p.lng]).addTo(o).bindPopup(p.label||"")})),()=>{n.current&&n.current._leaflet_id&&(n.current._leaflet_id=null)}},[i,e]),v.jsx("div",{style:{width:"100%",height:"350px",borderRadius:12,overflow:"hidden",boxShadow:"0 2px 8px #0001"},children:v.jsx("div",{ref:n,id:"leaflet-map",style:{width:"100%",height:"100%"}})})}const[fh,Nb]=Y.useState([]),[vo,wp]=Y.useState("");Y.useEffect(()=>{let i=null;if((rideStatus==="matched"||rideStatus==="inProgress")&&selectedDriver){const e=[user.id,selectedDriver.id].sort().join("_");i=Ew.onMessages(e,n=>Nb(n))}else Nb([]);return()=>{i&&i()}},[rideStatus,selectedDriver,user.id]);const mh=async()=>{if(!vo.trim()||!selectedDriver)return;const i=[user.id,selectedDriver.id].sort().join("_");await Ew.sendMessage(i,{senderId:user.id,senderName:user.name,text:vo,timestamp:new Date().toISOString(),type:"user"}),wp("")};function I4({user:i,onLogout:e}){const[n,s]=Y.useState(null),[o,c]=Y.useState(""),[d,m]=Y.useState(""),[p,y]=Y.useState("idle"),[E,w]=Y.useState([]),[A,D]=Y.useState([]),[k,G]=Y.useState(null),[L,ae]=Y.useState(null),[X,ee]=Y.useState(""),[ue,me]=Y.useState(!1),[be,M]=Y.useState([]);Y.useEffect(()=>{(async()=>{i!=null&&i.id&&await userService.getById(i.id)})(),navigator.geolocation?navigator.geolocation.getCurrentPosition(J=>{s({lat:J.coords.latitude,lng:J.coords.longitude})},J=>{s({lat:-29.9897,lng:-52.3789})}):s({lat:-29.9897,lng:-52.3789}),(async()=>{const J=await ua.getAll();D(J)})();let re=null;return i!=null&&i.id&&(re=ar.onUserRequestsChange(i.id,J=>{M(J);const Me=J.find(le=>le.status==="priceProposed"),C=J.find(le=>le.status==="accepted"),ie=J.find(le=>le.status==="inProgress");Me&&p==="waitingPrice"?(ae(Me.proposedPrice),G(Me.driver),y("priceReceived")):C&&(p==="priceReceived"||p==="waitingPrice")?y("matched"):ie&&(p==="matched"||p==="priceReceived")&&y("inProgress")})),()=>{re&&re()}},[i==null?void 0:i.id,p]);const x=async()=>{if(!o.trim()||!d.trim()){alert("Por favor, selecione a rua de origem e destino!");return}if(o===d){alert("A rua de origem e destino não podem ser iguais!");return}me(!0),y("requesting");try{let oe=A;n&&(oe=oe.map(z=>{if(z.location&&z.location.lat&&z.location.lng){const re=vA(n.lat,n.lng,z.location.lat,z.location.lng);return{...z,distance:`${re.toFixed(2)} km`}}return{...z,distance:"N/A"}}),oe=oe.sort((z,re)=>z.distance==="N/A"?1:re.distance==="N/A"?-1:parseFloat(z.distance)-parseFloat(re.distance))),w(oe),me(!1)}catch{me(!1),y("idle"),alert("Erro ao buscar motoristas. Tente novamente.")}},R=async oe=>{G(oe),y("waitingPrice");try{const z={userId:i.id,userName:i.name,userPhone:i.phone,driverId:oe.id,driver:oe,origin:o,destination:d,status:"waitingPrice"};await ar.create(z)}catch(z){console.error("Erro ao criar solicitação:",z),alert("Erro ao enviar solicitação. Tente novamente."),y("requesting")}},V=async()=>{if(!X){alert("Por favor, selecione uma forma de pagamento!");return}try{y("matched");const z=(await ar.getByUser(i.id)).find(re=>re.status==="priceProposed");z&&await ar.update(z.id,{status:"accepted",paymentMethod:X,acceptedPrice:L})}catch(oe){console.error("Erro ao aceitar preço:",oe),alert("Erro ao aceitar preço. Tente novamente."),y("priceReceived")}},P=async()=>{try{const z=(await ar.getByUser(i.id)).find(re=>re.status==="priceProposed");z&&await ar.update(z.id,{status:"rejected"}),y("requesting"),G(null),ae(null),ee("")}catch(oe){console.error("Erro ao rejeitar preço:",oe),alert("Erro ao rejeitar preço. Tente novamente.")}},j=()=>{y("inProgress");const z=JSON.parse(localStorage.getItem("rides")||"[]").map(re=>re.userId===i.id&&re.status==="accepted"?{...re,status:"inProgress"}:re);localStorage.setItem("rides",JSON.stringify(z))},N=()=>{const z=JSON.parse(localStorage.getItem("rideRequests")||"[]").map(re=>re.userId===i.id&&(re.status==="waitingPrice"||re.status==="priceProposed")?{...re,status:"cancelled"}:re);localStorage.setItem("rideRequests",JSON.stringify(z)),y("idle"),G(null),w([]),ae(null),ee(""),c(""),m("")},lt=()=>{switch(p){case"requesting":return"Procurando motoristas...";case"waitingPrice":return`Aguardando proposta de preço de ${k==null?void 0:k.name}...`;case"priceReceived":return`${k==null?void 0:k.name} enviou uma proposta de preço`;case"matched":return`Corrida confirmada com ${k==null?void 0:k.name}`;case"inProgress":return"Corrida em andamento";default:return"Solicitar corrida"}};return v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:[v.jsx("header",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur shadow-md border-b rounded-b-2xl",children:v.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-200 to-blue-400 rounded-full flex items-center justify-center shadow",children:v.jsx(sa,{className:"w-6 h-6 text-blue-700"})}),v.jsxs("div",{children:[v.jsxs("h1",{className:"font-bold text-lg text-gray-900",children:["Olá, ",i.name]}),v.jsx("p",{className:"text-xs text-gray-500",children:"Bem-vindo ao Uber Rio Pardo"})]})]}),v.jsx(at,{variant:"ghost",size:"icon",onClick:e,className:"hover:bg-red-50",children:v.jsx($b,{className:"w-5 h-5 text-red-500"})})]})}),v.jsxs("main",{className:"max-w-md mx-auto p-4 space-y-6",children:[v.jsxs(dt,{className:"shadow-lg border-0 bg-white/90 rounded-2xl",children:[v.jsx(Pt,{children:v.jsxs(jt,{className:"flex items-center gap-2 text-blue-700",children:[v.jsx(ph,{className:"w-5 h-5"}),v.jsx("span",{className:"font-semibold",children:"Mapa ao Vivo"})]})}),v.jsx(Et,{children:v.jsx(Fw,{center:n?[n.lat,n.lng]:void 0,markers:[...n?[{lat:n.lat,lng:n.lng,label:"Você"}]:[],...A.filter(oe=>oe.location).map(oe=>({lat:oe.location.lat,lng:oe.location.lng,label:oe.name}))]})})]}),v.jsxs(dt,{className:"shadow-lg border-0 bg-white/90 rounded-2xl",children:[v.jsx(Pt,{children:v.jsxs(jt,{className:"flex items-center gap-2 text-green-700",children:[v.jsx(jA,{className:"w-5 h-5"}),v.jsx("span",{className:"font-semibold",children:"Solicitar corrida"})]})}),v.jsxs(Et,{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Jt,{htmlFor:"origin",children:"Endereço de origem"}),v.jsx(ln,{id:"origin",type:"text",placeholder:"Digite o endereço de origem",value:o,onChange:oe=>c(oe.target.value),disabled:p!=="idle",required:!0,className:"rounded-xl shadow-sm"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Jt,{htmlFor:"destination",children:"Endereço de destino"}),v.jsx(ln,{id:"destination",type:"text",placeholder:"Digite o endereço de destino",value:d,onChange:oe=>m(oe.target.value),disabled:p!=="idle",required:!0,className:"rounded-xl shadow-sm"})]})]}),p==="idle"&&v.jsx(at,{onClick:x,className:"w-full bg-gradient-to-r from-blue-600 to-green-500 hover:from-blue-700 hover:to-green-600 text-white font-bold py-2 rounded-xl shadow",disabled:ue||!o.trim()||!d.trim(),children:ue?"Procurando...":"Buscar Motoristas"}),p!=="idle"&&p!=="inProgress"&&v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700",children:[v.jsx(Yb,{className:"w-4 h-4"}),v.jsx("span",{className:"font-semibold",children:lt()})]}),v.jsx(at,{onClick:N,variant:"outline",className:"w-full border-red-200 text-red-600 hover:bg-red-50 font-semibold rounded-xl",children:"Cancelar corrida"})]})]})]}),p==="requesting"&&E.length>0&&v.jsxs(dt,{className:"shadow-lg border-0 bg-white/90 rounded-2xl",children:[v.jsxs(Pt,{children:[v.jsx(jt,{className:"text-blue-700 font-semibold",children:"Motoristas Reais Cadastrados"}),v.jsx(gi,{className:"text-gray-500",children:"Selecione um motorista para solicitar o preço da corrida"})]}),v.jsx(Et,{className:"space-y-3",children:E.map(oe=>v.jsxs("div",{onClick:()=>R(oe),className:"p-3 border border-blue-100 bg-blue-50/60 rounded-xl hover:bg-blue-100 cursor-pointer transition-colors shadow-sm flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 bg-blue-200 rounded-full flex items-center justify-center",children:v.jsx(Nr,{className:"w-5 h-5 text-blue-700"})}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold text-gray-900",children:oe.name}),v.jsx("p",{className:"text-xs text-gray-600",children:oe.vehicle}),v.jsxs("p",{className:"text-xs text-gray-500",children:["Placa: ",oe.plate]}),v.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[v.jsx(gh,{className:"w-3 h-3 text-yellow-500 fill-current"}),v.jsx("span",{className:"text-xs text-gray-600",children:oe.rating})]})]})]}),v.jsx("div",{className:"text-right",children:v.jsx("p",{className:"text-sm font-bold text-blue-700",children:oe.distance})})]},oe.id))})]}),p==="waitingPrice"&&k&&v.jsxs(dt,{className:"border-yellow-200 bg-yellow-50",children:[v.jsx(Pt,{children:v.jsx(jt,{className:"text-yellow-900",children:"Aguardando Proposta"})}),v.jsxs(Et,{className:"space-y-3",children:[v.jsx("div",{className:"p-3 bg-white border border-yellow-200 rounded-lg",children:v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:v.jsx(Nr,{className:"w-5 h-5 text-yellow-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold text-yellow-900",children:k.name}),v.jsx("p",{className:"text-sm text-yellow-700",children:k.vehicle}),v.jsxs("p",{className:"text-sm text-yellow-600",children:["Placa: ",k.plate]})]})]})}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl mb-2",children:"⏳"}),v.jsx("p",{className:"text-sm text-yellow-700",children:"O motorista está analisando sua solicitação e enviará o preço em breve"}),v.jsxs("p",{className:"text-xs text-yellow-600 mt-1",children:["De: ",o]}),v.jsxs("p",{className:"text-xs text-yellow-600",children:["Para: ",d]})]})]})]}),p==="priceReceived"&&k&&L&&v.jsxs(dt,{className:"border-green-200 bg-green-50",children:[v.jsx(Pt,{children:v.jsx(jt,{className:"text-green-900",children:"Proposta de Preço Recebida"})}),v.jsxs(Et,{className:"space-y-4",children:[v.jsx("div",{className:"p-3 bg-white border border-green-200 rounded-lg",children:v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:v.jsx(Nr,{className:"w-5 h-5 text-green-600"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"font-semibold text-green-900",children:k.name}),v.jsx("p",{className:"text-sm text-green-700",children:k.vehicle}),v.jsxs("p",{className:"text-sm text-green-600",children:["Placa: ",k.plate]}),v.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[v.jsx(gh,{className:"w-3 h-3 text-yellow-500 fill-current"}),v.jsx("span",{className:"text-xs text-green-600",children:k.rating})]})]})]})}),v.jsxs("div",{className:"p-4 bg-white border-2 border-green-300 rounded-lg text-center",children:[v.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[v.jsx(Xb,{className:"w-6 h-6 text-green-600"}),v.jsxs("span",{className:"text-3xl font-bold text-green-900",children:["R$ ",L]})]}),v.jsx("p",{className:"text-sm text-green-700",children:"Preço proposto para a corrida"}),v.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["De: ",o]}),v.jsxs("p",{className:"text-xs text-green-600",children:["Para: ",d]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx(Jt,{children:"Forma de Pagamento:"}),v.jsxs(R4,{value:X,onValueChange:ee,children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Ib,{value:"pix",id:"pix"}),v.jsx(Jt,{htmlFor:"pix",className:"flex-1",children:v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:"PIX"}),v.jsx("p",{className:"text-sm text-gray-600",children:k.pixKey})]})})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Ib,{value:"dinheiro",id:"dinheiro"}),v.jsx(Jt,{htmlFor:"dinheiro",children:"Dinheiro"})]})]})]}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsxs(at,{onClick:V,disabled:!X,className:"flex-1 bg-green-600 hover:bg-green-700",children:[v.jsx(Kb,{className:"w-4 h-4 mr-2"}),"Aceitar R$ ",L]}),v.jsxs(at,{onClick:P,variant:"outline",className:"flex-1 border-red-300 text-red-700 hover:bg-red-50",children:[v.jsx(NA,{className:"w-4 h-4 mr-2"}),"Recusar"]})]})]})]}),p==="matched"&&k&&v.jsxs(dt,{className:"border-blue-200 bg-blue-50",children:[v.jsx(Pt,{children:v.jsx(jt,{className:"text-blue-900",children:"Corrida Confirmada"})}),v.jsxs(Et,{className:"space-y-4",children:[v.jsx("div",{className:"p-3 bg-white border border-blue-200 rounded-lg",children:v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:v.jsx(Nr,{className:"w-5 h-5 text-blue-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold text-blue-900",children:k.name}),v.jsx("p",{className:"text-sm text-blue-700",children:k.vehicle}),v.jsxs("p",{className:"text-sm text-blue-600",children:["Placa: ",k.plate]}),v.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[v.jsx(gh,{className:"w-3 h-3 text-yellow-500 fill-current"}),v.jsx("span",{className:"text-xs text-blue-600",children:k.rating})]})]})]})}),v.jsxs("div",{className:"p-3 bg-white border border-blue-200 rounded-lg",children:[v.jsxs("p",{className:"text-sm text-blue-700",children:[v.jsx("strong",{children:"Preço acordado:"})," R$ ",L]}),v.jsxs("p",{className:"text-sm text-blue-700",children:[v.jsx("strong",{children:"Pagamento:"})," ",X==="pix"?`PIX - ${k.pixKey}`:"Dinheiro"]}),v.jsxs("p",{className:"text-sm text-blue-700",children:[v.jsx("strong",{children:"De:"})," ",o]}),v.jsxs("p",{className:"text-sm text-blue-700",children:[v.jsx("strong",{children:"Para:"})," ",d]})]}),v.jsxs("div",{className:"p-3 bg-white border border-blue-200 rounded-2xl shadow-inner",children:[v.jsxs("div",{className:"mb-2 font-semibold text-blue-700 flex items-center gap-2",children:[v.jsx(sa,{className:"w-4 h-4"}),"Chat com o motorista"]}),v.jsxs("div",{style:{maxHeight:200,overflowY:"auto",marginBottom:8},children:[fh.length===0&&v.jsx("div",{className:"text-xs text-gray-400",children:"Nenhuma mensagem ainda."}),fh.map((oe,z)=>v.jsx("div",{className:oe.type==="user"?"flex justify-end":"flex justify-start",children:v.jsxs("span",{className:"inline-block px-3 py-2 rounded-2xl text-xs m-1 max-w-[70%] break-words "+(oe.type==="user"?"bg-blue-200 text-blue-900":"bg-green-100 text-green-900"),children:[v.jsxs("b",{children:[oe.senderName,":"]})," ",oe.text]})},z))]}),v.jsxs("div",{className:"flex gap-2 mt-2",children:[v.jsx(ln,{value:vo,onChange:oe=>wp(oe.target.value),placeholder:"Digite sua mensagem...",onKeyDown:oe=>{oe.key==="Enter"&&mh()},className:"rounded-full shadow-sm"}),v.jsx(at,{onClick:mh,disabled:!vo.trim(),className:"rounded-full bg-blue-600 hover:bg-blue-700 text-white font-bold px-4",children:"Enviar"})]})]}),v.jsx(at,{onClick:j,className:"w-full bg-blue-600 hover:bg-blue-700",children:"Iniciar Corrida"})]})]}),p==="inProgress"&&k&&v.jsxs(dt,{children:[v.jsx(Pt,{children:v.jsx(jt,{className:"text-green-700",children:"Corrida em Andamento"})}),v.jsxs(Et,{className:"space-y-3",children:[v.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[v.jsxs("p",{className:"text-sm text-green-700",children:[v.jsx("strong",{children:"Preço:"})," R$ ",L]}),v.jsxs("p",{className:"text-sm text-green-700",children:[v.jsx("strong",{children:"Destino:"})," ",d]}),v.jsxs("p",{className:"text-sm text-green-700",children:[v.jsx("strong",{children:"Motorista:"})," ",k.name]}),v.jsxs("p",{className:"text-sm text-green-700",children:[v.jsx("strong",{children:"Pagamento:"})," ",X==="pix"?`PIX - ${k.pixKey}`:"Dinheiro"]})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl mb-2",children:"🚗💨"}),v.jsx("p",{className:"text-sm text-gray-600",children:"O motorista está a caminho do destino"})]}),v.jsxs("div",{className:"p-3 bg-white border border-green-200 rounded-2xl shadow-inner mt-2",children:[v.jsxs("div",{className:"mb-2 font-semibold text-green-700 flex items-center gap-2",children:[v.jsx(sa,{className:"w-4 h-4"}),"Chat com o motorista"]}),v.jsxs("div",{style:{maxHeight:200,overflowY:"auto",marginBottom:8},children:[fh.length===0&&v.jsx("div",{className:"text-xs text-gray-400",children:"Nenhuma mensagem ainda."}),fh.map((oe,z)=>v.jsx("div",{className:oe.type==="user"?"flex justify-end":"flex justify-start",children:v.jsxs("span",{className:"inline-block px-3 py-2 rounded-2xl text-xs m-1 max-w-[70%] break-words "+(oe.type==="user"?"bg-blue-200 text-blue-900":"bg-green-100 text-green-900"),children:[v.jsxs("b",{children:[oe.senderName,":"]})," ",oe.text]})},z))]}),v.jsxs("div",{className:"flex gap-2 mt-2",children:[v.jsx(ln,{value:vo,onChange:oe=>wp(oe.target.value),placeholder:"Digite sua mensagem...",onKeyDown:oe=>{oe.key==="Enter"&&mh()},className:"rounded-full shadow-sm"}),v.jsx(at,{onClick:mh,disabled:!vo.trim(),className:"rounded-full bg-green-600 hover:bg-green-700 text-white font-bold px-4",children:"Enviar"})]})]})]})]})]})]})}function N4({onBack:i,onLogin:e,onRegister:n}){const[s,o]=Y.useState(!1),[c,d]=Y.useState(""),m=async()=>{o(!0),d("");try{const p=new Zn,E=(await ed(_c,p)).user,w={id:E.uid,name:E.displayName,email:E.email,phone:"",vehicle:"",cnh:"",year:"",pixKey:"",provider:"google",type:"driver",available:!1,trips:0,rating:"5.0",createdAt:new Date().toISOString(),photoURL:E.photoURL||null};console.log("Checking for existing driver in Firestore...");const A=await ua.getById(E.uid);A&&A.plate&&A.cnh&&A.vehicle&&A.year?(localStorage.setItem("currentDriverId",E.uid),e(A)):n({id:E.uid,name:E.displayName,email:E.email,phone:"",vehicle:"",plate:"",cnh:"",year:"",pixKey:"",provider:"google",type:"driver",available:!1,trips:0,rating:"5.0",createdAt:new Date().toISOString(),photoURL:E.photoURL||null})}catch(p){console.error("Erro no login com Google:",p),d("Erro ao fazer login com Google. Tente novamente.")}finally{o(!1)}};return v.jsxs(dt,{className:"w-full max-w-md mx-auto",children:[v.jsxs(Pt,{className:"space-y-1 text-center",children:[v.jsx(at,{variant:"ghost",onClick:i,className:"absolute top-4 left-4",children:v.jsx(Xh,{className:"h-5 w-5"})}),v.jsx(jt,{className:"text-2xl",children:"Login do Motorista"}),v.jsx(gi,{children:"Faça login para continuar"})]}),v.jsxs(Et,{children:[v.jsxs("div",{className:"grid gap-4",children:[v.jsx(at,{variant:"outline",className:"w-full",onClick:m,disabled:s,children:s?"Carregando...":"Login com Google"}),c&&v.jsx("p",{className:"text-red-500 text-sm text-center",children:c})]}),v.jsxs("div",{className:"mt-4 text-center text-sm",children:["Não tem uma conta?"," ",v.jsx("a",{href:"#",className:"underline",onClick:n,children:"Cadastre-se"})]})]})]})}function C4({onBack:i,onRegister:e}){const[n,s]=Y.useState(!1),[o,c]=Y.useState(""),[d,m]=Y.useState(1),[p,y]=Y.useState({id:"",name:"",email:"",phone:"",vehicle:"",plate:"",cnh:"",year:"",pixKey:"",provider:"google",type:"driver",available:!1,trips:0,rating:"5.0",createdAt:"",photoURL:null});hi.useEffect(()=>{typeof e=="object"&&e&&e.id&&(y({id:e.id,name:e.name||"",email:e.email||"",phone:e.phone||"",vehicle:e.vehicle||"",plate:e.plate||"",cnh:e.cnh||"",year:e.year||"",pixKey:e.pixKey||"",provider:e.provider||"google",type:"driver",available:!1,trips:0,rating:"5.0",createdAt:e.createdAt||"",photoURL:e.photoURL||null}),m(2))},[e]);const E=async()=>{s(!0),c("");try{const D=new Zn,G=(await ed(_c,D)).user;y(L=>({...L,id:G.uid,name:G.displayName||"",email:G.email||"",photoURL:G.photoURL||null})),m(2)}catch(D){let k="Erro ao registrar com Google. Tente novamente.";switch(D.code){case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":k="Registro cancelado. Por favor, tente novamente.";break;case"auth/operation-not-allowed":k="O método de registro não está ativado no Firebase.";break;case"auth/network-request-failed":k="Erro de conexão. Verifique sua internet e tente novamente.";break;default:k=D.message}c(k)}finally{s(!1)}},w=D=>{const{name:k,value:G}=D.target;y(L=>({...L,[k]:G}))},A=async D=>{if(D.preventDefault(),s(!0),c(""),!p.plate||!p.cnh||!p.vehicle||!p.year){c("Preencha todos os campos obrigatórios."),s(!1);return}try{await ua.getById(p.id)?await ua.update(p.id,p):await ua.create(p),localStorage.setItem("currentDriverId",p.id),e(p)}catch{c("Erro ao salvar cadastro. Tente novamente.")}finally{s(!1)}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-md",children:[v.jsxs(at,{variant:"ghost",onClick:i,className:"mb-4",children:[v.jsx(Xh,{className:"w-4 h-4 mr-2"}),"Voltar"]}),v.jsxs(dt,{children:[v.jsxs(Pt,{className:"text-center",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(Nr,{className:"w-8 h-8 text-green-600"})}),v.jsx(jt,{className:"text-2xl",children:"Cadastro do Motorista"}),v.jsx(gi,{children:d===1?"Crie sua conta com Google para aceitar corridas":"Complete seu cadastro para continuar"})]}),v.jsxs(Et,{className:"space-y-4",children:[o&&v.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:v.jsx("p",{className:"text-sm text-red-700",children:o})}),d===1&&v.jsx(at,{onClick:E,disabled:n,className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"lg",children:n?v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),v.jsx("span",{children:"Registrando..."})]}):v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[v.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),v.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),v.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),v.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),v.jsx("span",{children:"Registrar com Google"})]})}),d===2&&v.jsxs("form",{onSubmit:A,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome"}),v.jsx("input",{type:"text",name:"name",value:p.name,onChange:w,className:"mt-1 block w-full rounded border-gray-300",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Placa"}),v.jsx("input",{type:"text",name:"plate",value:p.plate,onChange:w,className:"mt-1 block w-full rounded border-gray-300",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CNH"}),v.jsx("input",{type:"text",name:"cnh",value:p.cnh,onChange:w,className:"mt-1 block w-full rounded border-gray-300",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Modelo do Veículo"}),v.jsx("input",{type:"text",name:"vehicle",value:p.vehicle,onChange:w,className:"mt-1 block w-full rounded border-gray-300",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ano"}),v.jsx("input",{type:"number",name:"year",value:p.year,onChange:w,className:"mt-1 block w-full rounded border-gray-300",required:!0})]}),v.jsx("button",{type:"submit",disabled:n,className:"w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded",children:n?"Salvando...":"Finalizar Cadastro"})]}),v.jsx("div",{className:"text-center",children:v.jsx("p",{className:"text-sm text-gray-600",children:"Ao continuar, você concorda com nossos termos de uso"})})]})]})]})})}const D4=kb("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function O4({className:i,variant:e,asChild:n=!1,...s}){const o=n?Ob:"span";return v.jsx(o,{"data-slot":"badge",className:Pn(D4({variant:e}),i),...s})}var Sd="Switch",[M4,F4]=Oc(Sd),[V4,k4]=M4(Sd),Qw=Y.forwardRef((i,e)=>{const{__scopeSwitch:n,name:s,checked:o,defaultChecked:c,required:d,disabled:m,value:p="on",onCheckedChange:y,form:E,...w}=i,[A,D]=Y.useState(null),k=Pr(e,ee=>D(ee)),G=Y.useRef(!1),L=A?E||!!A.closest("form"):!0,[ae,X]=wg({prop:o,defaultProp:c??!1,onChange:y,caller:Sd});return v.jsxs(V4,{scope:n,checked:ae,disabled:m,children:[v.jsx(wi.button,{type:"button",role:"switch","aria-checked":ae,"aria-required":d,"data-state":$w(ae),"data-disabled":m?"":void 0,disabled:m,value:p,...w,ref:k,onClick:kr(i.onClick,ee=>{X(ue=>!ue),L&&(G.current=ee.isPropagationStopped(),G.current||ee.stopPropagation())})}),L&&v.jsx(Xw,{control:A,bubbles:!G.current,name:s,value:p,checked:ae,required:d,disabled:m,form:E,style:{transform:"translateX(-100%)"}})]})});Qw.displayName=Sd;var Kw="SwitchThumb",Yw=Y.forwardRef((i,e)=>{const{__scopeSwitch:n,...s}=i,o=k4(Kw,n);return v.jsx(wi.span,{"data-state":$w(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e})});Yw.displayName=Kw;var P4="SwitchBubbleInput",Xw=Y.forwardRef(({__scopeSwitch:i,control:e,checked:n,bubbles:s=!0,...o},c)=>{const d=Y.useRef(null),m=Pr(d,c),p=Aw(n),y=Sw(e);return Y.useEffect(()=>{const E=d.current;if(!E)return;const w=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(w,"checked").set;if(p!==n&&D){const k=new Event("click",{bubbles:s});D.call(E,n),E.dispatchEvent(k)}},[p,n,s]),v.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:m,style:{...o.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Xw.displayName=P4;function $w(i){return i?"checked":"unchecked"}var j4=Qw,U4=Yw;function L4({className:i,...e}){return v.jsx(j4,{"data-slot":"switch",className:Pn("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",i),...e,children:v.jsx(U4,{"data-slot":"switch-thumb",className:Pn("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}async function z4(){return new Promise((i,e)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(n=>i({lat:n.coords.latitude,lng:n.coords.longitude}),n=>i(null)):i(null)})}function B4({onLogout:i}){const[e,n]=Y.useState(!1),[s,o]=Y.useState([]),[c,d]=Y.useState(null),[m,p]=Y.useState(0),[y,E]=Y.useState({}),[w,A]=Y.useState(null);Y.useEffect(()=>{const X=localStorage.getItem("currentDriverId");if(!X){i();return}(async()=>{const ue=await ua.getById(X);ue?(A(ue),n(ue.available||!1)):i()})()},[i]),Y.useEffect(()=>{w&&w.id&&(async()=>{try{let ee={available:e};if(e){const ue=await z4();ue&&(ee.location=ue)}await ua.update(w.id,ee)}catch(ee){console.error("Erro ao atualizar disponibilidade:",ee)}})()},[e,w]),Y.useEffect(()=>{let X=null;return e&&(w!=null&&w.id)&&(console.log("Escutando solicitações para motorista:",w.id),X=ar.onPendingRequestsChange(ee=>{console.log("Solicitações recebidas:",ee.length);const ue=ee.filter(be=>be.status==="waitingPrice"&&be.driverId===w.id);console.log("Solicitações aguardando preço:",ue.length),o(ue);const me=ee.filter(be=>be.status==="accepted"&&be.driverId===w.id);me.length>0&&!c&&d(me[0])})),()=>{X&&X()}},[e,w,c]);const D=(X,ee)=>{E(ue=>({...ue,[X]:ee}))},k=async X=>{const ee=y[X.id];if(!ee||ee<=0){alert("Por favor, insira um preço válido!");return}try{await ar.update(X.id,{status:"priceProposed",proposedPrice:parseFloat(ee)}),E(ue=>{const me={...ue};return delete me[X.id],me}),alert(`Proposta de R$ ${ee} enviada para ${X.userName}!`)}catch(ue){console.error("Erro ao enviar proposta:",ue),alert("Erro ao enviar proposta. Tente novamente.")}},G=async X=>{try{await ar.update(X,{status:"rejected"})}catch(ee){console.error("Erro ao rejeitar corrida:",ee),alert("Erro ao rejeitar corrida. Tente novamente.")}},L=async()=>{if(c)try{await ar.update(c.id,{status:"inProgress"}),d(X=>({...X,status:"inProgress"}))}catch(X){console.error("Erro ao iniciar corrida:",X),alert("Erro ao iniciar corrida. Tente novamente.")}},ae=async()=>{if(c)try{const X=c.acceptedPrice||c.proposedPrice||0;p(ee=>ee+X),await ar.update(c.id,{status:"completed"}),d(null),alert(`Corrida finalizada! Você ganhou R$ ${X.toFixed(2)}`)}catch(X){console.error("Erro ao finalizar corrida:",X),alert("Erro ao finalizar corrida. Tente novamente.")}};return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("div",{className:"bg-white shadow-sm border-b",children:v.jsxs("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:v.jsx(Nr,{className:"w-5 h-5 text-green-600"})}),v.jsxs("div",{children:[v.jsxs("h1",{className:"font-semibold text-gray-900",children:["Olá, ",w==null?void 0:w.name]}),v.jsxs("p",{className:"text-sm text-gray-500",children:[w==null?void 0:w.vehicle," - ",w==null?void 0:w.plate]})]})]}),v.jsx(at,{variant:"ghost",size:"sm",onClick:i,children:v.jsx($b,{className:"w-4 h-4"})})]})}),v.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-4",children:[v.jsxs(dt,{children:[v.jsx(Pt,{children:v.jsxs(jt,{className:"flex items-center space-x-2",children:[v.jsx(ph,{className:"w-5 h-5"}),v.jsx("span",{children:"Mapa ao Vivo"})]})}),v.jsx(Et,{children:v.jsx(Fw,{center:w!=null&&w.location?[w.location.lat,w.location.lng]:void 0,markers:w!=null&&w.location?[{lat:w.location.lat,lng:w.location.lng,label:"Você (Motorista)"}]:[]})})]}),v.jsxs(dt,{children:[v.jsx(Pt,{children:v.jsxs(jt,{className:"flex items-center justify-between",children:[v.jsx("span",{children:"Status"}),v.jsx(O4,{variant:e?"default":"secondary",children:e?"Disponível":"Indisponível"})]})}),v.jsx(Et,{children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(L4,{checked:e,onCheckedChange:n}),v.jsx("span",{className:"text-sm",children:e?"Você está online e pode receber corridas":"Você está offline"})]})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx(dt,{children:v.jsx(Et,{className:"pt-6",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(gh,{className:"w-4 h-4 text-yellow-500"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-2xl font-bold",children:(w==null?void 0:w.rating)||"4.8"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Avaliação"})]})]})})}),v.jsx(dt,{children:v.jsx(Et,{className:"pt-6",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Nr,{className:"w-4 h-4 text-blue-500"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-2xl font-bold",children:(w==null?void 0:w.trips)||0}),v.jsx("p",{className:"text-xs text-gray-500",children:"Corridas"})]})]})})})]}),v.jsxs(dt,{children:[v.jsx(Pt,{children:v.jsxs(jt,{className:"flex items-center space-x-2",children:[v.jsx(Xb,{className:"w-5 h-5"}),v.jsx("span",{children:"Ganhos de hoje"})]})}),v.jsx(Et,{children:v.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["R$ ",m.toFixed(2)]})})]}),c&&v.jsxs(dt,{className:"border-blue-200 bg-blue-50",children:[v.jsx(Pt,{children:v.jsx(jt,{className:"text-blue-900",children:c.status==="inProgress"?"Corrida em andamento":"Corrida aceita"})}),v.jsxs(Et,{className:"space-y-3",children:[v.jsx("div",{className:"p-3 bg-white border border-blue-200 rounded-lg",children:v.jsxs("div",{className:"flex items-start space-x-2",children:[v.jsx(ph,{className:"w-4 h-4 text-blue-600 mt-1"}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("p",{className:"font-medium text-blue-900",children:["Passageiro: ",c.userName]}),v.jsxs("p",{className:"text-sm text-blue-700",children:["Telefone: ",c.userPhone]}),v.jsxs("p",{className:"text-sm text-blue-700",children:["De: ",c.origin]}),v.jsxs("p",{className:"text-sm text-blue-700",children:["Para: ",c.destination]}),v.jsxs("p",{className:"text-sm font-semibold text-green-700",children:["Preço: R$ ",(c.acceptedPrice||c.proposedPrice||0).toFixed(2)]}),v.jsxs("p",{className:"text-sm text-blue-600",children:["Pagamento: ",c.paymentMethod==="pix"?"PIX":"Dinheiro"]})]})]})}),c.status==="accepted"&&v.jsx(at,{onClick:L,className:"w-full bg-blue-600 hover:bg-blue-700",children:"Iniciar corrida"}),c.status==="inProgress"&&v.jsxs(at,{onClick:ae,className:"w-full bg-green-600 hover:bg-green-700",children:[v.jsx(Kb,{className:"w-4 h-4 mr-2"}),"Finalizar corrida"]})]})]}),e&&s.length>0&&v.jsxs(dt,{className:"border-orange-200 bg-orange-50",children:[v.jsxs(Pt,{children:[v.jsx(jt,{className:"text-orange-900",children:"Solicitações de Corrida"}),v.jsx(gi,{className:"text-orange-700",children:"Analise as solicitações e envie sua proposta de preço"})]}),v.jsx(Et,{className:"space-y-4",children:s.map(X=>v.jsxs("div",{className:"space-y-3 p-4 bg-white rounded-lg border border-orange-200",children:[v.jsxs("div",{className:"flex items-start space-x-2",children:[v.jsx(ph,{className:"w-4 h-4 text-orange-600 mt-1"}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("p",{className:"font-medium text-orange-900",children:["Passageiro: ",X.userName]}),v.jsxs("p",{className:"text-sm text-orange-700",children:["Telefone: ",X.userPhone]}),v.jsxs("p",{className:"text-sm text-orange-700",children:[v.jsx("strong",{children:"De:"})," ",X.origin]}),v.jsxs("p",{className:"text-sm text-orange-700",children:[v.jsx("strong",{children:"Para:"})," ",X.destination]})]})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Yb,{className:"w-4 h-4 text-orange-600"}),v.jsxs("p",{className:"text-sm text-orange-700",children:["Solicitado há ",Math.floor((Date.now()-new Date(X.createdAt).getTime())/6e4)," min"]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Jt,{htmlFor:`price-${X.id}`,className:"text-orange-900",children:"Qual o preço da corrida?"}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("span",{className:"text-lg font-semibold text-orange-900",children:"R$"}),v.jsx(ln,{id:`price-${X.id}`,type:"number",step:"0.01",min:"1",placeholder:"0,00",value:y[X.id]||"",onChange:ee=>D(X.id,ee.target.value),className:"flex-1"})]})]}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsxs(at,{onClick:()=>k(X),disabled:!y[X.id]||y[X.id]<=0,className:"flex-1 bg-orange-600 hover:bg-orange-700",children:[v.jsx(BA,{className:"w-4 h-4 mr-2"}),"Enviar Proposta"]}),v.jsx(at,{onClick:()=>G(X.id),variant:"outline",className:"flex-1 border-red-300 text-red-700 hover:bg-red-50",children:"Recusar"})]})]},X.id))})]}),e&&s.length===0&&!c&&v.jsx(dt,{children:v.jsx(Et,{className:"pt-6",children:v.jsxs("div",{className:"text-center text-gray-500",children:[v.jsx(Nr,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),v.jsx("p",{className:"text-sm",children:"Aguardando solicitações de corrida..."}),v.jsx("p",{className:"text-xs mt-1",children:"Mantenha-se próximo ao centro da cidade"})]})})}),!e&&v.jsx(dt,{children:v.jsx(Et,{className:"pt-6",children:v.jsxs("div",{className:"text-center text-gray-500",children:[v.jsx(Nr,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),v.jsx("p",{className:"text-sm",children:"Você está offline"}),v.jsx("p",{className:"text-xs mt-1",children:"Ative seu status para receber corridas"})]})})})]})]})}function q4(){const[i,e]=Y.useState("profile-selection"),[n,s]=Y.useState(null),[o,c]=Y.useState(null);Y.useEffect(()=>{const G=localStorage.getItem("currentUser"),L=localStorage.getItem("currentDriver");if(G){const ae=JSON.parse(G);s(ae),e("user-dashboard")}else if(L){const ae=JSON.parse(L);c(ae),e("driver-dashboard")}},[]);const d=G=>{e(G==="user"?"user-login":"driver-login")},m=G=>{s(G),e("user-dashboard")},p=G=>{c(G),e("driver-dashboard")},y=G=>{s(G),e("user-dashboard")},E=G=>{c(G),e("driver-dashboard")},w=G=>{s(G),e("user-dashboard")},A=()=>{localStorage.removeItem("currentUser"),s(null),e("profile-selection")},D=()=>{localStorage.removeItem("currentDriver"),c(null),e("profile-selection")},k=()=>{e("profile-selection")};switch(i){case"profile-selection":return v.jsx(J_,{onProfileSelect:d});case"user-login":return v.jsx(UD,{onBack:k,onLogin:m,onRegister:()=>e("user-register")});case"user-register":return v.jsx(qD,{onBack:()=>e("user-login"),onRegister:y});case"user-profile":return v.jsx(HD,{user:n,onProfileComplete:w});case"user-dashboard":return v.jsx(I4,{user:n,onLogout:A});case"driver-login":return v.jsx(N4,{onBack:k,onLogin:p,onRegister:()=>e("driver-register")});case"driver-register":return v.jsx(C4,{onBack:()=>e("driver-login"),onRegister:E});case"driver-dashboard":return v.jsx(B4,{driver:o,onLogout:D});default:return v.jsx(J_,{onProfileSelect:d})}}DS.createRoot(document.getElementById("root")).render(v.jsx(Y.StrictMode,{children:v.jsx(q4,{})}));
